(function(){var be,Ae,Sn,ve,at,ce,ge,Q,Z,q,j,J,ee,O,B,K,de,me,he,De,Ne,Ye,P,We,xe,ke,Ve,ue,Re,je,Je,ht,dt,Nt,bt,on,Tt,Pt,un,vn,zt,cn,Mn,Zt,Nn,sn,On,ni,Jn=[].slice,xi={}.hasOwnProperty,oi=function(Jt,qt){function gn(){this.constructor=Jt}for(var Ln in qt)xi.call(qt,Ln)&&(Jt[Ln]=qt[Ln]);return gn.prototype=qt.prototype,Jt.prototype=new gn,Jt.__super__=qt.prototype,Jt},Ni=[].indexOf||function(Jt){for(var qt=0,gn=this.length;gn>qt;qt++)if(qt in this&&this[qt]===Jt)return qt;return-1};for(Ne={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},Re=function(){var Jt;return null!=(Jt=typeof performance<"u"&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?Jt:+new Date},Je=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,De=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==Je&&(Je=function(Jt){return setTimeout(Jt,50)},De=function(Jt){return clearTimeout(Jt)}),dt=function(Jt){var qt,gn;return qt=Re(),(gn=function(){var Ln;return(Ln=Re()-qt)>=33?(qt=Re(),Jt(Ln,function(){return Je(gn)})):setTimeout(gn,33-Ln)})()},ht=function(){var Jt,qt,gn;return gn=arguments[0],qt=arguments[1],Jt=3<=arguments.length?Jn.call(arguments,2):[],"function"==typeof gn[qt]?gn[qt].apply(gn,Jt):gn[qt]},Ye=function(){var Jt,qt,gn,Ln,dn,an,Wn;for(qt=arguments[0],an=0,Wn=(Ln=2<=arguments.length?Jn.call(arguments,1):[]).length;Wn>an;an++)if(gn=Ln[an])for(Jt in gn)xi.call(gn,Jt)&&(dn=gn[Jt],null!=qt[Jt]&&"object"==typeof qt[Jt]&&null!=dn&&"object"==typeof dn?Ye(qt[Jt],dn):qt[Jt]=dn);return qt},de=function(Jt){var qt,gn,dn,an;for(gn=qt=0,dn=0,an=Jt.length;an>dn;dn++)gn+=Math.abs(Jt[dn]),qt++;return gn/qt},We=function(Jt,qt){var gn,dn;if(null==Jt&&(Jt="options"),null==qt&&(qt=!0),dn=document.querySelector("[data-pace-"+Jt+"]")){if(gn=dn.getAttribute("data-pace-"+Jt),!qt)return gn;try{return JSON.parse(gn)}catch(an){return typeof console<"u"&&null!==console?console.error("Error parsing inline pace options",an):void 0}}},ge=function(){function Jt(){}return Jt.prototype.on=function(qt,gn,Ln,dn){var an;return null==dn&&(dn=!1),null==this.bindings&&(this.bindings={}),null==(an=this.bindings)[qt]&&(an[qt]=[]),this.bindings[qt].push({handler:gn,ctx:Ln,once:dn})},Jt.prototype.once=function(qt,gn,Ln){return this.on(qt,gn,Ln,!0)},Jt.prototype.off=function(qt,gn){var Ln,dn,an;if(null!=(null!=(dn=this.bindings)?dn[qt]:void 0)){if(null==gn)return delete this.bindings[qt];for(Ln=0,an=[];Ln<this.bindings[qt].length;)an.push(this.bindings[qt][Ln].handler===gn?this.bindings[qt].splice(Ln,1):Ln++);return an}},Jt.prototype.trigger=function(){var qt,Ln,an,Wn,ui,Ii,ri;if(Ln=arguments[0],qt=2<=arguments.length?Jn.call(arguments,1):[],null!=(ui=this.bindings)?ui[Ln]:void 0){for(an=0,ri=[];an<this.bindings[Ln].length;)Wn=(Ii=this.bindings[Ln][an]).once,Ii.handler.apply(Ii.ctx??this,qt),ri.push(Wn?this.bindings[Ln].splice(an,1):an++);return ri}},Jt}(),q=window.Pace||{},window.Pace=q,Ye(q,ge.prototype),je=q.options=Ye({},Ne,window.paceOptions,We()),Mn=0,Nn=(On=["ajax","document","eventLag","elements"]).length;Nn>Mn;Mn++)!0===je[Tt=On[Mn]]&&(je[Tt]=Ne[Tt]);Z=function(Jt){function qt(){return qt.__super__.constructor.apply(this,arguments)}return oi(qt,Jt),qt}(Error),Ae=function(){function Jt(){this.progress=0}return Jt.prototype.getElement=function(){var qt;if(null==this.el){if(!(qt=document.querySelector(je.target)))throw new Z;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=qt.firstChild?qt.insertBefore(this.el,qt.firstChild):qt.appendChild(this.el)}return this.el},Jt.prototype.finish=function(){var qt;return(qt=this.getElement()).className=qt.className.replace("pace-active",""),qt.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},Jt.prototype.update=function(qt){return this.progress=qt,this.render()},Jt.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(qt){Z=qt}return this.el=void 0},Jt.prototype.render=function(){var qt,Ln,dn,an,Wn,ui;if(null==document.querySelector(je.target))return!1;for(qt=this.getElement(),dn="translate3d("+this.progress+"%, 0, 0)",an=0,Wn=(ui=["webkitTransform","msTransform","transform"]).length;Wn>an;an++)qt.children[0].style[ui[an]]=dn;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(qt.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?Ln="99":(Ln=this.progress<10?"0":"",Ln+=0|this.progress),qt.children[0].setAttribute("data-progress",""+Ln)),this.lastRenderedProgress=this.progress},Jt.prototype.done=function(){return this.progress>=100},Jt}(),Q=function(){function Jt(){this.bindings={}}return Jt.prototype.trigger=function(qt,gn){var dn,an,Wn,ui;if(null!=this.bindings[qt]){for(ui=[],dn=0,an=(Wn=this.bindings[qt]).length;an>dn;dn++)ui.push(Wn[dn].call(this,gn));return ui}},Jt.prototype.on=function(qt,gn){var Ln;return null==(Ln=this.bindings)[qt]&&(Ln[qt]=[]),this.bindings[qt].push(gn)},Jt}(),cn=window.XMLHttpRequest,zt=window.XDomainRequest,vn=window.WebSocket,P=function(Jt,qt){var Ln,dn;for(Ln in dn=[],qt.prototype)try{dn.push(null==Jt[Ln]&&"function"!=typeof qt[Ln]?"function"==typeof Object.defineProperty?Object.defineProperty(Jt,Ln,{get:function(){return qt.prototype[Ln]},configurable:!0,enumerable:!0}):Jt[Ln]=qt.prototype[Ln]:void 0)}catch(an){}return dn},Ve=[],q.ignore=function(){var Jt,qt,gn;return qt=arguments[0],Jt=2<=arguments.length?Jn.call(arguments,1):[],Ve.unshift("ignore"),gn=qt.apply(null,Jt),Ve.shift(),gn},q.track=function(){var Jt,qt,gn;return qt=arguments[0],Jt=2<=arguments.length?Jn.call(arguments,1):[],Ve.unshift("track"),gn=qt.apply(null,Jt),Ve.shift(),gn},on=function(Jt){var qt;return null==Jt&&(Jt="GET"),"track"===Ve[0]?"force":!(Ve.length||!je.ajax||!("socket"===Jt&&je.ajax.trackWebSockets||(qt=Jt.toUpperCase(),Ni.call(je.ajax.trackMethods,qt)>=0)))},j=function(Jt){function qt(){var gn,Ln=this;qt.__super__.constructor.apply(this,arguments),gn=function(dn){var an;return an=dn.open,dn.open=function(Wn,ui,Ii){return on(Wn)&&Ln.trigger("request",{type:Wn,url:ui,request:dn}),an.apply(dn,arguments)}},window.XMLHttpRequest=function(dn){var an;return an=new cn(dn),gn(an),an};try{P(window.XMLHttpRequest,cn)}catch{}if(null!=zt){window.XDomainRequest=function(){var dn;return dn=new zt,gn(dn),dn};try{P(window.XDomainRequest,zt)}catch{}}if(null!=vn&&je.ajax.trackWebSockets){window.WebSocket=function(dn,an){var Wn;return Wn=null!=an?new vn(dn,an):new vn(dn),on("socket")&&Ln.trigger("request",{type:"socket",url:dn,protocols:an,request:Wn}),Wn};try{P(window.WebSocket,vn)}catch{}}}return oi(qt,Jt),qt}(Q),Zt=null,bt=function(Jt){var qt,gn,Ln,dn;for(gn=0,Ln=(dn=je.ajax.ignoreURLs).length;Ln>gn;gn++)if("string"==typeof(qt=dn[gn])){if(-1!==Jt.indexOf(qt))return!0}else if(qt.test(Jt))return!0;return!1},(xe=function(){return null==Zt&&(Zt=new j),Zt})().on("request",function(Jt){var qt,gn,Ln,dn;return dn=Jt.type,Ln=Jt.request,bt(Jt.url)||q.running||!1===je.restartOnRequestAfter&&"force"!==on(dn)?void 0:(gn=arguments,"boolean"==typeof(qt=je.restartOnRequestAfter||0)&&(qt=0),setTimeout(function(){var ui,Ii,ri,Yt,fn;if("socket"===dn?Ln.readyState<2:0<(ri=Ln.readyState)&&4>ri){for(q.restart(),fn=[],ui=0,Ii=(Yt=q.sources).length;Ii>ui;ui++){if((Tt=Yt[ui])instanceof be){Tt.watch.apply(Tt,gn);break}fn.push(void 0)}return fn}},qt))}),be=function(){function Jt(){var qt=this;this.elements=[],xe().on("request",function(){return qt.watch.apply(qt,arguments)})}return Jt.prototype.watch=function(qt){var gn,Ln,dn;return dn=qt.type,gn=qt.request,bt(qt.url)?void 0:(Ln="socket"===dn?new O(gn):new B(gn),this.elements.push(Ln))},Jt}(),B=function Jt(qt){var dn,an,Wn,ui,Ii=this;if(this.progress=0,null!=window.ProgressEvent)for(qt.addEventListener("progress",function(ri){return Ii.progress=ri.lengthComputable?100*ri.loaded/ri.total:Ii.progress+(100-Ii.progress)/2},!1),dn=0,an=(ui=["load","abort","timeout","error"]).length;an>dn;dn++)qt.addEventListener(ui[dn],function(){return Ii.progress=100},!1);else Wn=qt.onreadystatechange,qt.onreadystatechange=function(){var ri;return 0===(ri=qt.readyState)||4===ri?Ii.progress=100:3===qt.readyState&&(Ii.progress=50),"function"==typeof Wn?Wn.apply(null,arguments):void 0}},O=function Jt(qt){var Ln,dn,an,Wn=this;for(this.progress=0,Ln=0,dn=(an=["error","open"]).length;dn>Ln;Ln++)qt.addEventListener(an[Ln],function(){return Wn.progress=100},!1)},ve=function Jt(qt){var Ln,dn,an;for(null==qt&&(qt={}),this.elements=[],null==qt.selectors&&(qt.selectors=[]),Ln=0,dn=(an=qt.selectors).length;dn>Ln;Ln++)this.elements.push(new at(an[Ln]))},at=function(){function Jt(qt){this.selector=qt,this.progress=0,this.check()}return Jt.prototype.check=function(){var qt=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return qt.check()},je.elements.checkInterval)},Jt.prototype.done=function(){return this.progress=100},Jt}(),Sn=function(){function Jt(){var qt,gn,Ln=this;this.progress=null!=(gn=this.states[document.readyState])?gn:100,qt=document.onreadystatechange,document.onreadystatechange=function(){return null!=Ln.states[document.readyState]&&(Ln.progress=Ln.states[document.readyState]),"function"==typeof qt?qt.apply(null,arguments):void 0}}return Jt.prototype.states={loading:0,interactive:50,complete:100},Jt}(),ce=function Jt(){var qt,gn,Ln,dn,an,Wn=this;this.progress=0,qt=0,an=[],dn=0,Ln=Re(),gn=setInterval(function(){var ui;return ui=Re()-Ln-50,Ln=Re(),an.push(ui),an.length>je.eventLag.sampleCount&&an.shift(),qt=de(an),++dn>=je.eventLag.minSamples&&qt<je.eventLag.lagThreshold?(Wn.progress=100,clearInterval(gn)):Wn.progress=3/(qt+3)*100},50)},ee=function(){function Jt(qt){this.source=qt,this.last=this.sinceLastUpdate=0,this.rate=je.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=ht(this.source,"progress"))}return Jt.prototype.tick=function(qt,gn){var Ln;return null==gn&&(gn=ht(this.source,"progress")),gn>=100&&(this.done=!0),gn===this.last?this.sinceLastUpdate+=qt:(this.sinceLastUpdate&&(this.rate=(gn-this.last)/this.sinceLastUpdate),this.catchup=(gn-this.progress)/je.catchupTime,this.sinceLastUpdate=0,this.last=gn),gn>this.progress&&(this.progress+=this.catchup*qt),Ln=1-Math.pow(this.progress/100,je.easeFactor),this.progress+=Ln*this.rate*qt,this.progress=Math.min(this.lastProgress+je.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},Jt}(),Pt=null,Nt=null,me=null,un=null,K=null,he=null,q.running=!1,ke=function(){return je.restartOnPushState?q.restart():void 0},null!=window.history.pushState&&(sn=window.history.pushState,window.history.pushState=function(){return ke(),sn.apply(window.history,arguments)}),null!=window.history.replaceState&&(ni=window.history.replaceState,window.history.replaceState=function(){return ke(),ni.apply(window.history,arguments)}),J={ajax:be,elements:ve,document:Sn,eventLag:ce},(ue=function(){var Jt,qt,gn,Ln,dn,an,Wn,ui;for(q.sources=Pt=[],qt=0,Ln=(an=["ajax","elements","document","eventLag"]).length;Ln>qt;qt++)!1!==je[Jt=an[qt]]&&Pt.push(new J[Jt](je[Jt]));for(gn=0,dn=(ui=null!=(Wn=je.extraSources)?Wn:[]).length;dn>gn;gn++)Pt.push(new(Tt=ui[gn])(je));return q.bar=me=new Ae,Nt=[],un=new ee})(),q.stop=function(){return q.trigger("stop"),q.running=!1,me.destroy(),he=!0,null!=K&&("function"==typeof De&&De(K),K=null),ue()},q.restart=function(){return q.trigger("restart"),q.stop(),q.start()},q.go=function(){var Jt;return q.running=!0,me.render(),Jt=Re(),he=!1,K=dt(function(qt,gn){var dn,an,ui,Ii,ri,fn,Tn,jn,Pn,In,qn,$n,ai;for(dn=jn=0,an=!0,Ii=Pn=0,qn=Pt.length;qn>Pn;Ii=++Pn)for(Tt=Pt[Ii],Tn=null!=Nt[Ii]?Nt[Ii]:Nt[Ii]=[],ri=In=0,$n=(ui=null!=(ai=Tt.elements)?ai:[Tt]).length;$n>In;ri=++In)an&=(fn=null!=Tn[ri]?Tn[ri]:Tn[ri]=new ee(ui[ri])).done,fn.done||(dn++,jn+=fn.tick(qt));return me.update(un.tick(qt,jn/dn)),me.done()||an||he?(me.update(100),q.trigger("done"),setTimeout(function(){return me.finish(),q.running=!1,q.trigger("hide")},Math.max(je.ghostTime,Math.max(je.minTime-(Re()-Jt),0)))):gn()})},q.start=function(Jt){Ye(je,Jt),q.running=!0;try{me.render()}catch(qt){Z=qt}return document.querySelector(".pace")?(q.trigger("start"),q.go()):setTimeout(q.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return q}):"object"==typeof exports?module.exports=q:je.startOnPageLoad&&q.start()}).call(this),function(be,Ae){"use strict";function ve(L,M,x){if("string"!=typeof L)throw"invalid module definition, module id must be defined and be a string";if(M===Ae)throw"invalid module definition, dependencies must be specified";if(x===Ae)throw"invalid module definition, definition function must be specified";!function Sn(L,M){for(var x,w=[],v=0;v<L.length;++v){if(!(x=Q[L[v]]||ce(L[v])))throw"module definition dependecy not found: "+L[v];w.push(x)}M.apply(null,w)}(M,function(){Q[L]=x.apply(null,arguments)})}function ce(L){for(var M=be,x=L.split(/[.\/]/),w=0;w<x.length;++w){if(!M[x[w]])return;M=M[x[w]]}return M}var Q={},Z="tinymce/geom/Rect",q="tinymce/util/Promise",j="tinymce/util/Delay",J="tinymce/Env",ee="tinymce/dom/EventUtils",O="tinymce/dom/Sizzle",B="tinymce/util/Arr",K="tinymce/util/Tools",de="tinymce/dom/DomQuery",me="tinymce/html/Styles",he="tinymce/dom/TreeWalker",De="tinymce/dom/Range",Ne="tinymce/html/Entities",Ye="tinymce/dom/StyleSheetLoader",P="tinymce/dom/DOMUtils",We="tinymce/dom/ScriptLoader",xe="tinymce/AddOnManager",ke="tinymce/dom/NodeType",Ve="tinymce/text/Zwsp",ue="tinymce/caret/CaretContainer",Re="tinymce/dom/RangeUtils",je="tinymce/NodeChange",Je="tinymce/html/Node",ht="tinymce/html/Schema",dt="tinymce/html/SaxParser",Nt="tinymce/html/DomParser",bt="tinymce/html/Writer",on="tinymce/html/Serializer",Tt="tinymce/dom/Serializer",Pt="tinymce/dom/TridentSelection",un="tinymce/util/VK",vn="tinymce/dom/ControlSelection",zt="tinymce/util/Fun",cn="tinymce/caret/CaretCandidate",Mn="tinymce/geom/ClientRect",Zt="tinymce/text/ExtendingChar",Nn="tinymce/caret/CaretPosition",sn="tinymce/caret/CaretBookmark",On="tinymce/dom/BookmarkManager",yi="tinymce/dom/Selection",ni="tinymce/dom/ElementUtils",Jn="tinymce/fmt/Preview",xi="tinymce/fmt/Hooks",oi="tinymce/Formatter",Ni="tinymce/undo/Diff",Jt="tinymce/undo/Fragments",qt="tinymce/undo/Levels",gn="tinymce/UndoManager",Ln="tinymce/EnterKey",dn="tinymce/ForceBlocks",an="tinymce/caret/CaretUtils",Wn="tinymce/caret/CaretWalker",ui="tinymce/InsertList",Ii="tinymce/InsertContent",ri="tinymce/EditorCommands",Yt="tinymce/util/URI",fn="tinymce/util/Class",Tn="tinymce/util/EventDispatcher",jn="tinymce/data/Binding",Pn="tinymce/util/Observable",In="tinymce/data/ObservableObject",qn="tinymce/ui/Selector",$n="tinymce/ui/Collection",ai="tinymce/ui/DomUtils",di="tinymce/ui/BoxUtils",_i="tinymce/ui/ClassList",Zi="tinymce/ui/ReflowQueue",nr="tinymce/ui/Control",Mi="tinymce/ui/Factory",gr="tinymce/ui/KeyboardNavigation",Fi="tinymce/ui/Container",Ui="tinymce/ui/DragHelper",Vi="tinymce/ui/Scrollable",ki="tinymce/ui/Panel",pr="tinymce/ui/Movable",Wi="tinymce/ui/Resizable",wr="tinymce/ui/FloatPanel",io="tinymce/ui/Window",Qt="tinymce/ui/MessageBox",hn="tinymce/WindowManager",Un="tinymce/ui/Tooltip",Bn="tinymce/ui/Widget",Qn="tinymce/ui/Progress",bi="tinymce/ui/Notification",wi="tinymce/NotificationManager",Ai="tinymce/dom/NodePath",hi="tinymce/util/Quirks",Ci="tinymce/EditorObservable",gi="tinymce/Mode",mi="tinymce/Shortcuts",Li="tinymce/file/Uploader",Ki="tinymce/file/Conversions",ar="tinymce/file/ImageScanner",Fr="tinymce/file/BlobCache",Sr="tinymce/file/UploadStatus",Ur="tinymce/ErrorReporter",zi="tinymce/EditorUpload",Xr="tinymce/caret/FakeCaret",ro="tinymce/dom/Dimensions",oo="tinymce/caret/LineWalker",So="tinymce/caret/LineUtils",Ho="tinymce/dom/MousePosition",Er="tinymce/DragDropOverrides",ra="tinymce/SelectionOverrides",vo="tinymce/util/Uuid",Dr="tinymce/ui/Sidebar",yr="tinymce/Editor",Hr="tinymce/util/I18n",hr="tinymce/FocusManager",Ji="tinymce/EditorManager",Co="tinymce/util/XHR",Qi="tinymce/util/JSON",Bi="tinymce/util/JSONRequest",Gr="tinymce/util/JSONP",Vr="tinymce/util/LocalStorage",$i="tinymce/Compat",sr="tinymce/ui/Layout",br="tinymce/ui/AbsoluteLayout",or="tinymce/ui/Button",To="tinymce/ui/ButtonGroup",Eo="tinymce/ui/Checkbox",Zr="tinymce/ui/ComboBox",lo="tinymce/ui/ColorBox",Vo="tinymce/ui/PanelButton",No="tinymce/ui/ColorButton",ir="tinymce/util/Color",Oi="tinymce/ui/ColorPicker",Kr="tinymce/ui/Path",uo="tinymce/ui/ElementPath",Nr="tinymce/ui/FormItem",qr="tinymce/ui/Form",co="tinymce/ui/FieldSet",Wo="tinymce/content/LinkTargets",oa="tinymce/ui/FilePicker",Lr="tinymce/ui/FitLayout",Wr="tinymce/ui/FlexLayout",Do="tinymce/ui/FlowLayout",Jr="tinymce/fmt/FontInfo",Ar="tinymce/ui/FormatControls",yo="tinymce/ui/GridLayout",mr="tinymce/ui/Iframe",ho="tinymce/ui/InfoBox",qo="tinymce/ui/Label",bo="tinymce/ui/Toolbar",Mr="tinymce/ui/MenuBar",xo="tinymce/ui/MenuButton",Yo="tinymce/ui/MenuItem",D="tinymce/ui/Throbber",te="tinymce/ui/Menu",ye="tinymce/ui/ListBox",_e="tinymce/ui/Radio",Ee="tinymce/ui/ResizeHandle",Xe="tinymce/ui/SelectBox",He="tinymce/ui/Slider",Ge="tinymce/ui/Spacer",ft="tinymce/ui/SplitButton",S="tinymce/ui/StackLayout",k="tinymce/ui/TabPanel",re="tinymce/ui/TextBox";ve(Z,[],function(){function L(N,z,V){var Y,U,ne,X,le,G;return Y=z.x,U=z.y,ne=N.w,X=N.h,le=z.w,G=z.h,"b"===(V=(V||"").split(""))[0]&&(U+=G),"r"===V[1]&&(Y+=le),"c"===V[0]&&(U+=I(G/2)),"c"===V[1]&&(Y+=I(le/2)),"b"===V[3]&&(U-=X),"r"===V[4]&&(Y-=ne),"c"===V[3]&&(U-=I(X/2)),"c"===V[4]&&(Y-=I(ne/2)),f(Y,U,ne,X)}function f(N,z,V,Y){return{x:N,y:z,w:V,h:Y}}var _=Math.min,C=Math.max,I=Math.round;return{inflate:function x(N,z,V){return f(N.x-z,N.y-V,N.w+2*z,N.h+2*V)},relativePosition:L,findBestRelativePosition:function M(N,z,V,Y){var U,ne;for(ne=0;ne<Y.length;ne++)if((U=L(N,z,Y[ne])).x>=V.x&&U.x+U.w<=V.w+V.x&&U.y>=V.y&&U.y+U.h<=V.h+V.y)return Y[ne];return null},intersect:function w(N,z){var V,Y,U,ne;return V=C(N.x,z.x),Y=C(N.y,z.y),U=_(N.x+N.w,z.x+z.w),ne=_(N.y+N.h,z.y+z.h),U-V<0||ne-Y<0?null:f(V,Y,U-V,ne-Y)},clamp:function v(N,z,V){var Y,U,ne,X,le,G,W,F,A,E;return G=N.y,W=N.x+N.w,F=N.y+N.h,A=z.x+z.w,E=z.y+z.h,Y=C(0,z.x-(le=N.x)),U=C(0,z.y-G),ne=C(0,W-A),X=C(0,F-E),le+=Y,G+=U,V&&(W+=Y,F+=U,le-=ne,G-=X),f(le,G,(W-=ne)-le,(F-=X)-G)},create:f,fromClientRect:function p(N){return f(N.left,N.top,N.width,N.height)}}}),ve(q,[],function(){function L(N,z){return function(){N.apply(z,arguments)}}function M(N){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof N)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],_(N,L(w,this),L(v,this))}function x(N){var z=this;return null===this._state?void this._deferreds.push(N):void C(function(){var V=z._state?N.onFulfilled:N.onRejected;if(null!==V){var Y;try{Y=V(z._value)}catch(U){return void N.reject(U)}N.resolve(Y)}else(z._state?N.resolve:N.reject)(z._value)})}function w(N){try{if(N===this)throw new TypeError("A promise cannot be resolved with itself.");if(N&&("object"==typeof N||"function"==typeof N)){var z=N.then;if("function"==typeof z)return void _(L(z,N),L(w,this),L(v,this))}this._state=!0,this._value=N,f.call(this)}catch(V){v.call(this,V)}}function v(N){this._state=!1,this._value=N,f.call(this)}function f(){for(var N=0,z=this._deferreds.length;N<z;N++)x.call(this,this._deferreds[N]);this._deferreds=null}function p(N,z,V,Y){this.onFulfilled="function"==typeof N?N:null,this.onRejected="function"==typeof z?z:null,this.resolve=V,this.reject=Y}function _(N,z,V){var Y=!1;try{N(function(U){Y||(Y=!0,z(U))},function(U){Y||(Y=!0,V(U))})}catch(U){if(Y)return;Y=!0,V(U)}}if(window.Promise)return window.Promise;var C=M.immediateFn||"function"==typeof setImmediate&&setImmediate||function(N){setTimeout(N,1)},I=Array.isArray||function(N){return"[object Array]"===Object.prototype.toString.call(N)};return M.prototype.catch=function(N){return this.then(null,N)},M.prototype.then=function(N,z){var V=this;return new M(function(Y,U){x.call(V,new p(N,z,Y,U))})},M.all=function(){var N=Array.prototype.slice.call(1===arguments.length&&I(arguments[0])?arguments[0]:arguments);return new M(function(z,V){function Y(X,le){try{if(le&&("object"==typeof le||"function"==typeof le)){var G=le.then;if("function"==typeof G)return void G.call(le,function(W){Y(X,W)},V)}N[X]=le,0==--U&&z(N)}catch(W){V(W)}}if(0===N.length)return z([]);for(var U=N.length,ne=0;ne<N.length;ne++)Y(ne,N[ne])})},M.resolve=function(N){return N&&"object"==typeof N&&N.constructor===M?N:new M(function(z){z(N)})},M.reject=function(N){return new M(function(z,V){V(N)})},M.race=function(N){return new M(function(z,V){for(var Y=0,U=N.length;Y<U;Y++)N[Y].then(z,V)})},M}),ve(j,[q],function(L){function x(C,I){return"number"!=typeof I&&(I=0),setTimeout(C,I)}function w(C,I){return"number"!=typeof I&&(I=1),setInterval(C,I)}function p(C,I){var N,z;return z=function(){var V=arguments;clearTimeout(N),N=x(function(){C.apply(this,V)},I)},z.stop=function(){clearTimeout(N)},z}var _;return{requestAnimationFrame:function(C,I){return _?void _.then(C):void(_=new L(function(N){I||(I=document.body),function M(C,I){var z,V=window.requestAnimationFrame,Y=["ms","moz","webkit"];for(z=0;z<Y.length&&!V;z++)V=window[Y[z]+"RequestAnimationFrame"];V||(V=function N(U){window.setTimeout(U,0)}),V(C,I)}(N,I)}).then(C))},setTimeout:x,setInterval:w,setEditorTimeout:function(C,I,N){return x(function(){C.removed||I()},N)},setEditorInterval:function(C,I,N){var z;return z=w(function(){C.removed?clearInterval(z):I()},N)},debounce:p,throttle:p,clearInterval:function f(C){return clearInterval(C)},clearTimeout:function v(C){return clearTimeout(C)}}}),ve(J,[],function(){function L(le){return"matchMedia"in window&&matchMedia(le).matches}var w,v,f,p,_,C,I,N,z,V,Y,U,ne,M=navigator,x=M.userAgent;return w=window.opera&&window.opera.buildNumber,z=/Android/.test(x),f=(f=!(v=/WebKit/.test(x))&&!w&&/MSIE/gi.test(x)&&/Explorer/gi.test(M.appName))&&/MSIE (\w+)\./.exec(x)[1],p=-1!=x.indexOf("Trident/")&&(-1!=x.indexOf("rv:")||-1!=M.appName.indexOf("Netscape"))&&11,_=-1!=x.indexOf("Edge/")&&!f&&!p&&12,f=f||p||_,C=!v&&!p&&/Gecko/.test(x),I=-1!=x.indexOf("Mac"),N=/(iPad|iPhone)/.test(x),V="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Y=L("only screen and (max-device-width: 480px)")&&(z||N),U=L("only screen and (min-width: 800px)")&&(z||N),ne=-1!=x.indexOf("Windows Phone"),_&&(v=!1),{opera:w,webkit:v,ie:f,gecko:C,mac:I,iOS:N,android:z,contentEditable:!N||V||x.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=f,range:window.getSelection&&"Range"in window,documentMode:f&&!_?document.documentMode||7:10,fileApi:V,ceFalse:!1===f||f>8,canHaveCSP:!1===f||f>11,desktop:!Y&&!U,windowsPhone:ne}}),ve(ee,[j,J],function(L,M){function x(z,V,Y,U){z.addEventListener?z.addEventListener(V,Y,U||!1):z.attachEvent&&z.attachEvent("on"+V,Y)}function w(z,V,Y,U){z.removeEventListener?z.removeEventListener(V,Y,U||!1):z.detachEvent&&z.detachEvent("on"+V,Y)}function f(z,V){function Y(){return!1}function U(){return!0}var ne,X=V||{};for(ne in z)N[ne]||(X[ne]=z[ne]);if(X.target||(X.target=X.srcElement||document),M.experimentalShadowDom&&(X.target=function v(z,V){var Y,U=V;return(Y=z.path)&&Y.length>0&&(U=Y[0]),z.deepPath&&(Y=z.deepPath())&&Y.length>0&&(U=Y[0]),U}(z,X.target)),z&&I.test(z.type)&&void 0===z.pageX&&void 0!==z.clientX){var G=X.target.ownerDocument||document,W=G.documentElement,F=G.body;X.pageX=z.clientX+(W&&W.scrollLeft||F&&F.scrollLeft||0)-(W&&W.clientLeft||F&&F.clientLeft||0),X.pageY=z.clientY+(W&&W.scrollTop||F&&F.scrollTop||0)-(W&&W.clientTop||F&&F.clientTop||0)}return X.preventDefault=function(){X.isDefaultPrevented=U,z&&(z.preventDefault?z.preventDefault():z.returnValue=!1)},X.stopPropagation=function(){X.isPropagationStopped=U,z&&(z.stopPropagation?z.stopPropagation():z.cancelBubble=!0)},X.stopImmediatePropagation=function(){X.isImmediatePropagationStopped=U,X.stopPropagation()},X.isDefaultPrevented||(X.isDefaultPrevented=Y,X.isPropagationStopped=Y,X.isImmediatePropagationStopped=Y),typeof X.metaKey>"u"&&(X.metaKey=!1),X}function p(z,V,Y){function U(){Y.domLoaded||(Y.domLoaded=!0,V(G))}var le=z.document,G={type:"ready"};return Y.domLoaded?void V(G):(le.addEventListener?"complete"===le.readyState?U():x(z,"DOMContentLoaded",U):(x(le,"readystatechange",function ne(){("complete"===le.readyState||"interactive"===le.readyState&&le.body)&&(w(le,"readystatechange",ne),U())}),le.documentElement.doScroll&&z.self===z.top&&function X(){try{le.documentElement.doScroll("left")}catch{return void L.setTimeout(X)}U()}()),void x(z,"load",U))}function _(){function z(W,F){var A,E,ie,pe,ae=Y[F];if(A=ae&&ae[W.type])for(E=0,ie=A.length;E<ie;E++)if((pe=A[E])&&!1===pe.func.call(pe.scope,W)&&W.preventDefault(),W.isImmediatePropagationStopped())return}var U,ne,X,le,G,V=this,Y={};ne=C+(+new Date).toString(32),le="onmouseenter"in document.documentElement,X="onfocusin"in document.documentElement,G={mouseenter:"mouseover",mouseleave:"mouseout"},U=1,V.domLoaded=!1,V.events=Y,V.bind=function(W,F,A,E){function ie(Qe){z(f(Qe||$e.event),pe)}var pe,ae,Ce,Le,tt,Ze,qe,$e=window;if(W&&3!==W.nodeType&&8!==W.nodeType){for(W[ne]?pe=W[ne]:(pe=U++,W[ne]=pe,Y[pe]={}),E=E||W,Ce=(F=F.split(" ")).length;Ce--;)Ze=ie,tt=qe=!1,"DOMContentLoaded"===(Le=F[Ce])&&(Le="ready"),V.domLoaded&&"ready"===Le&&"complete"==W.readyState?A.call(E,f({type:Le})):(le||(tt=G[Le])&&(Ze=function(Qe){var st,nt;if(st=Qe.currentTarget,(nt=Qe.relatedTarget)&&st.contains)nt=st.contains(nt);else for(;nt&&nt!==st;)nt=nt.parentNode;nt||((Qe=f(Qe||$e.event)).type="mouseout"===Qe.type?"mouseleave":"mouseenter",Qe.target=st,z(Qe,pe))}),X||"focusin"!==Le&&"focusout"!==Le||(qe=!0,tt="focusin"===Le?"focus":"blur",Ze=function(Qe){(Qe=f(Qe||$e.event)).type="focus"===Qe.type?"focusin":"focusout",z(Qe,pe)}),(ae=Y[pe][Le])?"ready"===Le&&V.domLoaded?A({type:Le}):ae.push({func:A,scope:E}):(Y[pe][Le]=ae=[{func:A,scope:E}],ae.fakeName=tt,ae.capture=qe,ae.nativeHandler=Ze,"ready"===Le?p(W,Ze,V):x(W,tt||Le,Ze,qe)));return W=ae=0,A}},V.unbind=function(W,F,A){var E,ie,pe,ae,Ce,Le;if(!W||3===W.nodeType||8===W.nodeType)return V;if(E=W[ne]){if(Le=Y[E],F){for(pe=(F=F.split(" ")).length;pe--;)if(ie=Le[Ce=F[pe]]){if(A)for(ae=ie.length;ae--;)if(ie[ae].func===A){var tt=ie.nativeHandler,Ze=ie.fakeName,qe=ie.capture;(ie=ie.slice(0,ae).concat(ie.slice(ae+1))).nativeHandler=tt,ie.fakeName=Ze,ie.capture=qe,Le[Ce]=ie}A&&0!==ie.length||(delete Le[Ce],w(W,ie.fakeName||Ce,ie.nativeHandler,ie.capture))}}else{for(Ce in Le)w(W,(ie=Le[Ce]).fakeName||Ce,ie.nativeHandler,ie.capture);Le={}}for(Ce in Le)return V;delete Y[E];try{delete W[ne]}catch{W[ne]=null}}return V},V.fire=function(W,F,A){var E;if(!W||3===W.nodeType||8===W.nodeType)return V;(A=f(null,A)).type=F,A.target=W;do{(E=W[ne])&&z(A,E),W=W.parentNode||W.ownerDocument||W.defaultView||W.parentWindow}while(W&&!A.isPropagationStopped());return V},V.clean=function(W){var F,A,E=V.unbind;if(!W||3===W.nodeType||8===W.nodeType)return V;if(W[ne]&&E(W),W.getElementsByTagName||(W=W.document),W&&W.getElementsByTagName)for(E(W),F=(A=W.getElementsByTagName("*")).length;F--;)(W=A[F])[ne]&&E(W);return V},V.destroy=function(){Y={}},V.cancel=function(W){return W&&(W.preventDefault(),W.stopImmediatePropagation()),!1}}var C="mce-data-",I=/^(?:mouse|contextmenu)|click/,N={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(_.Event=new _).bind(window,"ready",function(){}),_}),ve(O,[],function(){function L(Be,rt,Ct,Bt){var nn,Vt,gt,Ut,Xt,kn,At,rn,Ht,yn;if((rt?rt.ownerDocument||rt:xt)!==$e&&qe(rt),Ct=Ct||[],!Be||"string"!=typeof Be)return Ct;if(1!==(Ut=(rt=rt||$e).nodeType)&&9!==Ut)return[];if(st&&!Bt){if(nn=Xn.exec(Be))if(gt=nn[1]){if(9===Ut){if(!(Vt=rt.getElementById(gt))||!Vt.parentNode)return Ct;if(Vt.id===gt)return Ct.push(Vt),Ct}else if(rt.ownerDocument&&(Vt=rt.ownerDocument.getElementById(gt))&&et(rt,Vt)&&Vt.id===gt)return Ct.push(Vt),Ct}else{if(nn[2])return Mt.apply(Ct,rt.getElementsByTagName(Be)),Ct;if((gt=nn[3])&&F.getElementsByClassName)return Mt.apply(Ct,rt.getElementsByClassName(gt)),Ct}if(F.qsa&&(!nt||!nt.test(Be))){if(rn=At=ct,Ht=rt,yn=9===Ut&&Be,1===Ut&&"object"!==rt.nodeName.toLowerCase()){for(kn=pe(Be),(At=rt.getAttribute("id"))?rn=At.replace(ti,"\\$&"):rt.setAttribute("id",rn),rn="[id='"+rn+"'] ",Xt=kn.length;Xt--;)kn[Xt]=rn+z(kn[Xt]);Ht=Fn.test(Be)&&I(rt.parentNode)||rt,yn=kn.join(",")}if(yn)try{return Mt.apply(Ct,Ht.querySelectorAll(yn)),Ct}catch{}finally{At||rt.removeAttribute("id")}}}return Ce(Be.replace(Gn,"$1"),rt,Ct,Bt)}function M(){var rt=[];return function Be(Ct,Bt){return rt.push(Ct+" ")>A.cacheLength&&delete Be[rt.shift()],Be[Ct+" "]=Bt}}function x(Be){return Be[ct]=!0,Be}function w(Be){var rt=$e.createElement("div");try{return!!Be(rt)}catch{return!1}finally{rt.parentNode&&rt.parentNode.removeChild(rt),rt=null}}function v(Be,rt){for(var Ct=Be.split("|"),Bt=Be.length;Bt--;)A.attrHandle[Ct[Bt]]=rt}function f(Be,rt){var Ct=rt&&Be,Bt=Ct&&1===Be.nodeType&&1===rt.nodeType&&(~rt.sourceIndex||Oe)-(~Be.sourceIndex||Oe);if(Bt)return Bt;if(Ct)for(;Ct=Ct.nextSibling;)if(Ct===rt)return-1;return Be?1:-1}function p(Be){return function(rt){return"input"===rt.nodeName.toLowerCase()&&rt.type===Be}}function _(Be){return function(rt){var Ct=rt.nodeName.toLowerCase();return("input"===Ct||"button"===Ct)&&rt.type===Be}}function C(Be){return x(function(rt){return rt=+rt,x(function(Ct,Bt){for(var nn,Vt=Be([],Ct.length,rt),gt=Vt.length;gt--;)Ct[nn=Vt[gt]]&&(Ct[nn]=!(Bt[nn]=Ct[nn]))})})}function I(Be){return Be&&typeof Be.getElementsByTagName!==ze&&Be}function N(){}function z(Be){for(var rt=0,Ct=Be.length,Bt="";rt<Ct;rt++)Bt+=Be[rt].value;return Bt}function V(Be,rt,Ct){var Bt=rt.dir,nn=Ct&&"parentNode"===Bt,Vt=ln++;return rt.first?function(gt,Ut,Xt){for(;gt=gt[Bt];)if(1===gt.nodeType||nn)return Be(gt,Ut,Xt)}:function(gt,Ut,Xt){var kn,At,rn=[Wt,Vt];if(Xt){for(;gt=gt[Bt];)if((1===gt.nodeType||nn)&&Be(gt,Ut,Xt))return!0}else for(;gt=gt[Bt];)if(1===gt.nodeType||nn){if((kn=(At=gt[ct]||(gt[ct]={}))[Bt])&&kn[0]===Wt&&kn[1]===Vt)return rn[2]=kn[2];if(At[Bt]=rn,rn[2]=Be(gt,Ut,Xt))return!0}}}function Y(Be){return Be.length>1?function(rt,Ct,Bt){for(var nn=Be.length;nn--;)if(!Be[nn](rt,Ct,Bt))return!1;return!0}:Be[0]}function ne(Be,rt,Ct,Bt,nn){for(var Vt,gt=[],Ut=0,Xt=Be.length,kn=null!=rt;Ut<Xt;Ut++)(Vt=Be[Ut])&&(Ct&&!Ct(Vt,Bt,nn)||(gt.push(Vt),kn&&rt.push(Ut)));return gt}function X(Be,rt,Ct,Bt,nn,Vt){return Bt&&!Bt[ct]&&(Bt=X(Bt)),nn&&!nn[ct]&&(nn=X(nn,Vt)),x(function(gt,Ut,Xt,kn){var At,rn,Ht,yn=[],Dn=[],_n=Ut.length,An=gt||function U(Be,rt,Ct){for(var Bt=0,nn=rt.length;Bt<nn;Bt++)L(Be,rt[Bt],Ct);return Ct}(rt||"*",Xt.nodeType?[Xt]:Xt,[]),Rn=!Be||!gt&&rt?An:ne(An,yn,Be,Xt,kn),ei=Ct?nn||(gt?Be:_n||Bt)?[]:Ut:Rn;if(Ct&&Ct(Rn,ei,Xt,kn),Bt)for(At=ne(ei,Dn),Bt(At,[],Xt,kn),rn=At.length;rn--;)(Ht=At[rn])&&(ei[Dn[rn]]=!(Rn[Dn[rn]]=Ht));if(gt){if(nn||Be){if(nn){for(At=[],rn=ei.length;rn--;)(Ht=ei[rn])&&At.push(Rn[rn]=Ht);nn(null,ei=[],At,kn)}for(rn=ei.length;rn--;)(Ht=ei[rn])&&(At=nn?Ue.call(gt,Ht):yn[rn])>-1&&(gt[At]=!(Ut[At]=Ht))}}else ei=ne(ei===Ut?ei.splice(_n,ei.length):ei),nn?nn(null,Ut,ei,kn):Mt.apply(Ut,ei)})}function le(Be){for(var rt,Ct,Bt,nn=Be.length,Vt=A.relative[Be[0].type],gt=Vt||A.relative[" "],Ut=Vt?1:0,Xt=V(function(rn){return rn===rt},gt,!0),kn=V(function(rn){return Ue.call(rt,rn)>-1},gt,!0),At=[function(rn,Ht,yn){return!Vt&&(yn||Ht!==Le)||((rt=Ht).nodeType?Xt(rn,Ht,yn):kn(rn,Ht,yn))}];Ut<nn;Ut++)if(Ct=A.relative[Be[Ut].type])At=[V(Y(At),Ct)];else{if((Ct=A.filter[Be[Ut].type].apply(null,Be[Ut].matches))[ct]){for(Bt=++Ut;Bt<nn&&!A.relative[Be[Bt].type];Bt++);return X(Ut>1&&Y(At),Ut>1&&z(Be.slice(0,Ut-1).concat({value:" "===Be[Ut-2].type?"*":""})).replace(Gn,"$1"),Ct,Ut<Bt&&le(Be.slice(Ut,Bt)),Bt<nn&&le(Be=Be.slice(Bt)),Bt<nn&&z(Be))}At.push(Ct)}return Y(At)}var W,F,A,E,ie,pe,ae,Ce,Le,tt,Ze,qe,$e,Qe,st,nt,Ie,Fe,et,ct="sizzle"+-new Date,xt=window.document,Wt=0,ln=0,mn=M(),wn=M(),xn=M(),yt=function(Be,rt){return Be===rt&&(Ze=!0),0},ze=typeof Ae,Oe=1<<31,ut={}.hasOwnProperty,St=[],Ot=St.pop,Ft=St.push,Mt=St.push,en=St.slice,Ue=St.indexOf||function(Be){for(var rt=0,Ct=this.length;rt<Ct;rt++)if(this[rt]===Be)return rt;return-1},ot="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",pt="[\\x20\\t\\r\\n\\f]",Lt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",tn="\\["+pt+"*("+Lt+")(?:"+pt+"*([*^$|!~]?=)"+pt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Lt+"))|)"+pt+"*\\]",Hn=":("+Lt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+tn+")*)|.*)\\)|)",Gn=new RegExp("^"+pt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+pt+"+$","g"),Yn=new RegExp("^"+pt+"*,"+pt+"*"),Vn=new RegExp("^"+pt+"*([>+~]|"+pt+")"+pt+"*"),vi=new RegExp("="+pt+"*([^\\]'\"]*?)"+pt+"*\\]","g"),ii=new RegExp(Hn),si=new RegExp("^"+Lt+"$"),Kt={ID:new RegExp("^#("+Lt+")"),CLASS:new RegExp("^\\.("+Lt+")"),TAG:new RegExp("^("+Lt+"|[*])"),ATTR:new RegExp("^"+tn),PSEUDO:new RegExp("^"+Hn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+pt+"*(even|odd|(([+-]|)(\\d*)n|)"+pt+"*(?:([+-]|)"+pt+"*(\\d+)|))"+pt+"*\\)|)","i"),bool:new RegExp("^(?:"+ot+")$","i"),needsContext:new RegExp("^"+pt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+pt+"*((?:-\\d)?\\d*)"+pt+"*\\)|)(?=[^-]|$)","i")},$t=/^(?:input|select|textarea|button)$/i,kt=/^h\d$/i,jt=/^[^{]+\{\s*\[native \w/,Xn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fn=/[+~]/,ti=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+pt+"?|("+pt+")|.)","ig"),Dt=function(Be,rt,Ct){var Bt="0x"+rt-65536;return Bt!=Bt||Ct?rt:Bt<0?String.fromCharCode(Bt+65536):String.fromCharCode(Bt>>10|55296,1023&Bt|56320)};try{Mt.apply(St=en.call(xt.childNodes),xt.childNodes)}catch{Mt={apply:St.length?function(rt,Ct){Ft.apply(rt,en.call(Ct))}:function(rt,Ct){for(var Bt=rt.length,nn=0;rt[Bt++]=Ct[nn++];);rt.length=Bt-1}}}for(W in F=L.support={},ie=L.isXML=function(Be){var rt=Be&&(Be.ownerDocument||Be).documentElement;return!!rt&&"HTML"!==rt.nodeName},qe=L.setDocument=function(Be){var Ct,Bt=Be?Be.ownerDocument||Be:xt,nn=Bt.defaultView;return Bt!==$e&&9===Bt.nodeType&&Bt.documentElement?($e=Bt,Qe=Bt.documentElement,st=!ie(Bt),nn&&nn!==function rt(Vt){try{return Vt.top}catch{}return null}(nn)&&(nn.addEventListener?nn.addEventListener("unload",function(){qe()},!1):nn.attachEvent&&nn.attachEvent("onunload",function(){qe()})),F.attributes=w(function(Vt){return Vt.className="i",!Vt.getAttribute("className")}),F.getElementsByTagName=w(function(Vt){return Vt.appendChild(Bt.createComment("")),!Vt.getElementsByTagName("*").length}),F.getElementsByClassName=jt.test(Bt.getElementsByClassName),F.getById=w(function(Vt){return Qe.appendChild(Vt).id=ct,!Bt.getElementsByName||!Bt.getElementsByName(ct).length}),F.getById?(A.find.ID=function(Vt,gt){if(typeof gt.getElementById!==ze&&st){var Ut=gt.getElementById(Vt);return Ut&&Ut.parentNode?[Ut]:[]}},A.filter.ID=function(Vt){var gt=Vt.replace(_t,Dt);return function(Ut){return Ut.getAttribute("id")===gt}}):(delete A.find.ID,A.filter.ID=function(Vt){var gt=Vt.replace(_t,Dt);return function(Ut){var Xt=typeof Ut.getAttributeNode!==ze&&Ut.getAttributeNode("id");return Xt&&Xt.value===gt}}),A.find.TAG=F.getElementsByTagName?function(Vt,gt){if(typeof gt.getElementsByTagName!==ze)return gt.getElementsByTagName(Vt)}:function(Vt,gt){var Ut,Xt=[],kn=0,At=gt.getElementsByTagName(Vt);if("*"===Vt){for(;Ut=At[kn++];)1===Ut.nodeType&&Xt.push(Ut);return Xt}return At},A.find.CLASS=F.getElementsByClassName&&function(Vt,gt){if(st)return gt.getElementsByClassName(Vt)},Ie=[],nt=[],(F.qsa=jt.test(Bt.querySelectorAll))&&(w(function(Vt){Vt.innerHTML="<select msallowcapture=''><option selected=''></option></select>",Vt.querySelectorAll("[msallowcapture^='']").length&&nt.push("[*^$]="+pt+"*(?:''|\"\")"),Vt.querySelectorAll("[selected]").length||nt.push("\\["+pt+"*(?:value|"+ot+")"),Vt.querySelectorAll(":checked").length||nt.push(":checked")}),w(function(Vt){var gt=Bt.createElement("input");gt.setAttribute("type","hidden"),Vt.appendChild(gt).setAttribute("name","D"),Vt.querySelectorAll("[name=d]").length&&nt.push("name"+pt+"*[*^$|!~]?="),Vt.querySelectorAll(":enabled").length||nt.push(":enabled",":disabled"),Vt.querySelectorAll("*,:x"),nt.push(",.*:")})),(F.matchesSelector=jt.test(Fe=Qe.matches||Qe.webkitMatchesSelector||Qe.mozMatchesSelector||Qe.oMatchesSelector||Qe.msMatchesSelector))&&w(function(Vt){F.disconnectedMatch=Fe.call(Vt,"div"),Fe.call(Vt,"[s!='']:x"),Ie.push("!=",Hn)}),nt=nt.length&&new RegExp(nt.join("|")),Ie=Ie.length&&new RegExp(Ie.join("|")),Ct=jt.test(Qe.compareDocumentPosition),et=Ct||jt.test(Qe.contains)?function(Vt,gt){var Ut=9===Vt.nodeType?Vt.documentElement:Vt,Xt=gt&&gt.parentNode;return Vt===Xt||!(!Xt||1!==Xt.nodeType||!(Ut.contains?Ut.contains(Xt):Vt.compareDocumentPosition&&16&Vt.compareDocumentPosition(Xt)))}:function(Vt,gt){if(gt)for(;gt=gt.parentNode;)if(gt===Vt)return!0;return!1},yt=Ct?function(Vt,gt){if(Vt===gt)return Ze=!0,0;var Ut=!Vt.compareDocumentPosition-!gt.compareDocumentPosition;return Ut||(1&(Ut=(Vt.ownerDocument||Vt)===(gt.ownerDocument||gt)?Vt.compareDocumentPosition(gt):1)||!F.sortDetached&&gt.compareDocumentPosition(Vt)===Ut?Vt===Bt||Vt.ownerDocument===xt&&et(xt,Vt)?-1:gt===Bt||gt.ownerDocument===xt&&et(xt,gt)?1:tt?Ue.call(tt,Vt)-Ue.call(tt,gt):0:4&Ut?-1:1)}:function(Vt,gt){if(Vt===gt)return Ze=!0,0;var Ut,Xt=0,kn=Vt.parentNode,At=gt.parentNode,rn=[Vt],Ht=[gt];if(!kn||!At)return Vt===Bt?-1:gt===Bt?1:kn?-1:At?1:tt?Ue.call(tt,Vt)-Ue.call(tt,gt):0;if(kn===At)return f(Vt,gt);for(Ut=Vt;Ut=Ut.parentNode;)rn.unshift(Ut);for(Ut=gt;Ut=Ut.parentNode;)Ht.unshift(Ut);for(;rn[Xt]===Ht[Xt];)Xt++;return Xt?f(rn[Xt],Ht[Xt]):rn[Xt]===xt?-1:Ht[Xt]===xt?1:0},Bt):$e},L.matches=function(Be,rt){return L(Be,null,null,rt)},L.matchesSelector=function(Be,rt){if((Be.ownerDocument||Be)!==$e&&qe(Be),rt=rt.replace(vi,"='$1']"),F.matchesSelector&&st&&(!Ie||!Ie.test(rt))&&(!nt||!nt.test(rt)))try{var Ct=Fe.call(Be,rt);if(Ct||F.disconnectedMatch||Be.document&&11!==Be.document.nodeType)return Ct}catch{}return L(rt,$e,null,[Be]).length>0},L.contains=function(Be,rt){return(Be.ownerDocument||Be)!==$e&&qe(Be),et(Be,rt)},L.attr=function(Be,rt){(Be.ownerDocument||Be)!==$e&&qe(Be);var Ct=A.attrHandle[rt.toLowerCase()],Bt=Ct&&ut.call(A.attrHandle,rt.toLowerCase())?Ct(Be,rt,!st):Ae;return Bt!==Ae?Bt:F.attributes||!st?Be.getAttribute(rt):(Bt=Be.getAttributeNode(rt))&&Bt.specified?Bt.value:null},L.error=function(Be){throw new Error("Syntax error, unrecognized expression: "+Be)},L.uniqueSort=function(Be){var rt,Ct=[],Bt=0,nn=0;if(Ze=!F.detectDuplicates,tt=!F.sortStable&&Be.slice(0),Be.sort(yt),Ze){for(;rt=Be[nn++];)rt===Be[nn]&&(Bt=Ct.push(nn));for(;Bt--;)Be.splice(Ct[Bt],1)}return tt=null,Be},E=L.getText=function(Be){var rt,Ct="",Bt=0,nn=Be.nodeType;if(nn){if(1===nn||9===nn||11===nn){if("string"==typeof Be.textContent)return Be.textContent;for(Be=Be.firstChild;Be;Be=Be.nextSibling)Ct+=E(Be)}else if(3===nn||4===nn)return Be.nodeValue}else for(;rt=Be[Bt++];)Ct+=E(rt);return Ct},(A=L.selectors={cacheLength:50,createPseudo:x,match:Kt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Be){return Be[1]=Be[1].replace(_t,Dt),Be[3]=(Be[3]||Be[4]||Be[5]||"").replace(_t,Dt),"~="===Be[2]&&(Be[3]=" "+Be[3]+" "),Be.slice(0,4)},CHILD:function(Be){return Be[1]=Be[1].toLowerCase(),"nth"===Be[1].slice(0,3)?(Be[3]||L.error(Be[0]),Be[4]=+(Be[4]?Be[5]+(Be[6]||1):2*("even"===Be[3]||"odd"===Be[3])),Be[5]=+(Be[7]+Be[8]||"odd"===Be[3])):Be[3]&&L.error(Be[0]),Be},PSEUDO:function(Be){var rt,Ct=!Be[6]&&Be[2];return Kt.CHILD.test(Be[0])?null:(Be[3]?Be[2]=Be[4]||Be[5]||"":Ct&&ii.test(Ct)&&(rt=pe(Ct,!0))&&(rt=Ct.indexOf(")",Ct.length-rt)-Ct.length)&&(Be[0]=Be[0].slice(0,rt),Be[2]=Ct.slice(0,rt)),Be.slice(0,3))}},filter:{TAG:function(Be){var rt=Be.replace(_t,Dt).toLowerCase();return"*"===Be?function(){return!0}:function(Ct){return Ct.nodeName&&Ct.nodeName.toLowerCase()===rt}},CLASS:function(Be){var rt=mn[Be+" "];return rt||(rt=new RegExp("(^|"+pt+")"+Be+"("+pt+"|$)"))&&mn(Be,function(Ct){return rt.test("string"==typeof Ct.className&&Ct.className||typeof Ct.getAttribute!==ze&&Ct.getAttribute("class")||"")})},ATTR:function(Be,rt,Ct){return function(Bt){var nn=L.attr(Bt,Be);return null==nn?"!="===rt:!rt||(nn+="","="===rt?nn===Ct:"!="===rt?nn!==Ct:"^="===rt?Ct&&0===nn.indexOf(Ct):"*="===rt?Ct&&nn.indexOf(Ct)>-1:"$="===rt?Ct&&nn.slice(-Ct.length)===Ct:"~="===rt?(" "+nn+" ").indexOf(Ct)>-1:"|="===rt&&(nn===Ct||nn.slice(0,Ct.length+1)===Ct+"-"))}},CHILD:function(Be,rt,Ct,Bt,nn){var Vt="nth"!==Be.slice(0,3),gt="last"!==Be.slice(-4),Ut="of-type"===rt;return 1===Bt&&0===nn?function(Xt){return!!Xt.parentNode}:function(Xt,kn,At){var rn,Ht,yn,Dn,_n,An,Rn=Vt!==gt?"nextSibling":"previousSibling",ei=Xt.parentNode,Ti=Ut&&Xt.nodeName.toLowerCase(),li=!At&&!Ut;if(ei){if(Vt){for(;Rn;){for(yn=Xt;yn=yn[Rn];)if(Ut?yn.nodeName.toLowerCase()===Ti:1===yn.nodeType)return!1;An=Rn="only"===Be&&!An&&"nextSibling"}return!0}if(An=[gt?ei.firstChild:ei.lastChild],gt&&li){for(Dn=(rn=(Ht=ei[ct]||(ei[ct]={}))[Be]||[])[0]===Wt&&rn[2],yn=(_n=rn[0]===Wt&&rn[1])&&ei.childNodes[_n];yn=++_n&&yn&&yn[Rn]||(Dn=_n=0)||An.pop();)if(1===yn.nodeType&&++Dn&&yn===Xt){Ht[Be]=[Wt,_n,Dn];break}}else if(li&&(rn=(Xt[ct]||(Xt[ct]={}))[Be])&&rn[0]===Wt)Dn=rn[1];else for(;(yn=++_n&&yn&&yn[Rn]||(Dn=_n=0)||An.pop())&&((Ut?yn.nodeName.toLowerCase()!==Ti:1!==yn.nodeType)||!++Dn||(li&&((yn[ct]||(yn[ct]={}))[Be]=[Wt,Dn]),yn!==Xt)););return(Dn-=nn)===Bt||Dn%Bt==0&&Dn/Bt>=0}}},PSEUDO:function(Be,rt){var Ct,Bt=A.pseudos[Be]||A.setFilters[Be.toLowerCase()]||L.error("unsupported pseudo: "+Be);return Bt[ct]?Bt(rt):Bt.length>1?(Ct=[Be,Be,"",rt],A.setFilters.hasOwnProperty(Be.toLowerCase())?x(function(nn,Vt){for(var gt,Ut=Bt(nn,rt),Xt=Ut.length;Xt--;)nn[gt=Ue.call(nn,Ut[Xt])]=!(Vt[gt]=Ut[Xt])}):function(nn){return Bt(nn,0,Ct)}):Bt}},pseudos:{not:x(function(Be){var rt=[],Ct=[],Bt=ae(Be.replace(Gn,"$1"));return Bt[ct]?x(function(nn,Vt,gt,Ut){for(var Xt,kn=Bt(nn,null,Ut,[]),At=nn.length;At--;)(Xt=kn[At])&&(nn[At]=!(Vt[At]=Xt))}):function(nn,Vt,gt){return rt[0]=nn,Bt(rt,null,gt,Ct),!Ct.pop()}}),has:x(function(Be){return function(rt){return L(Be,rt).length>0}}),contains:x(function(Be){return Be=Be.replace(_t,Dt),function(rt){return(rt.textContent||rt.innerText||E(rt)).indexOf(Be)>-1}}),lang:x(function(Be){return si.test(Be||"")||L.error("unsupported lang: "+Be),Be=Be.replace(_t,Dt).toLowerCase(),function(rt){var Ct;do{if(Ct=st?rt.lang:rt.getAttribute("xml:lang")||rt.getAttribute("lang"))return(Ct=Ct.toLowerCase())===Be||0===Ct.indexOf(Be+"-")}while((rt=rt.parentNode)&&1===rt.nodeType);return!1}}),target:function(Be){var rt=window.location&&window.location.hash;return rt&&rt.slice(1)===Be.id},root:function(Be){return Be===Qe},focus:function(Be){return Be===$e.activeElement&&(!$e.hasFocus||$e.hasFocus())&&!!(Be.type||Be.href||~Be.tabIndex)},enabled:function(Be){return!1===Be.disabled},disabled:function(Be){return!0===Be.disabled},checked:function(Be){var rt=Be.nodeName.toLowerCase();return"input"===rt&&!!Be.checked||"option"===rt&&!!Be.selected},selected:function(Be){return!0===Be.selected},empty:function(Be){for(Be=Be.firstChild;Be;Be=Be.nextSibling)if(Be.nodeType<6)return!1;return!0},parent:function(Be){return!A.pseudos.empty(Be)},header:function(Be){return kt.test(Be.nodeName)},input:function(Be){return $t.test(Be.nodeName)},button:function(Be){var rt=Be.nodeName.toLowerCase();return"input"===rt&&"button"===Be.type||"button"===rt},text:function(Be){var rt;return"input"===Be.nodeName.toLowerCase()&&"text"===Be.type&&(null==(rt=Be.getAttribute("type"))||"text"===rt.toLowerCase())},first:C(function(){return[0]}),last:C(function(Be,rt){return[rt-1]}),eq:C(function(Be,rt,Ct){return[Ct<0?Ct+rt:Ct]}),even:C(function(Be,rt){for(var Ct=0;Ct<rt;Ct+=2)Be.push(Ct);return Be}),odd:C(function(Be,rt){for(var Ct=1;Ct<rt;Ct+=2)Be.push(Ct);return Be}),lt:C(function(Be,rt,Ct){for(var Bt=Ct<0?Ct+rt:Ct;--Bt>=0;)Be.push(Bt);return Be}),gt:C(function(Be,rt,Ct){for(var Bt=Ct<0?Ct+rt:Ct;++Bt<rt;)Be.push(Bt);return Be})}}).pseudos.nth=A.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[W]=p(W);for(W in{submit:!0,reset:!0})A.pseudos[W]=_(W);return N.prototype=A.filters=A.pseudos,A.setFilters=new N,pe=L.tokenize=function(Be,rt){var Ct,Bt,nn,Vt,gt,Ut,Xt,kn=wn[Be+" "];if(kn)return rt?0:kn.slice(0);for(gt=Be,Ut=[],Xt=A.preFilter;gt;){for(Vt in Ct&&!(Bt=Yn.exec(gt))||(Bt&&(gt=gt.slice(Bt[0].length)||gt),Ut.push(nn=[])),Ct=!1,(Bt=Vn.exec(gt))&&(Ct=Bt.shift(),nn.push({value:Ct,type:Bt[0].replace(Gn," ")}),gt=gt.slice(Ct.length)),A.filter)!(Bt=Kt[Vt].exec(gt))||Xt[Vt]&&!(Bt=Xt[Vt](Bt))||(Ct=Bt.shift(),nn.push({value:Ct,type:Vt,matches:Bt}),gt=gt.slice(Ct.length));if(!Ct)break}return rt?gt.length:gt?L.error(Be):wn(Be,Ut).slice(0)},ae=L.compile=function(Be,rt){var Ct,Bt=[],nn=[],Vt=xn[Be+" "];if(!Vt){for(rt||(rt=pe(Be)),Ct=rt.length;Ct--;)(Vt=le(rt[Ct]))[ct]?Bt.push(Vt):nn.push(Vt);Vt=xn(Be,function G(Be,rt){var Ct=rt.length>0,Bt=Be.length>0,nn=function(Vt,gt,Ut,Xt,kn){var At,rn,Ht,yn=0,Dn="0",_n=Vt&&[],An=[],Rn=Le,ei=Vt||Bt&&A.find.TAG("*",kn),Ti=Wt+=null==Rn?1:Math.random()||.1,li=ei.length;for(kn&&(Le=gt!==$e&&gt);Dn!==li&&null!=(At=ei[Dn]);Dn++){if(Bt&&At){for(rn=0;Ht=Be[rn++];)if(Ht(At,gt,Ut)){Xt.push(At);break}kn&&(Wt=Ti)}Ct&&((At=!Ht&&At)&&yn--,Vt&&_n.push(At))}if(yn+=Dn,Ct&&Dn!==yn){for(rn=0;Ht=rt[rn++];)Ht(_n,An,gt,Ut);if(Vt){if(yn>0)for(;Dn--;)_n[Dn]||An[Dn]||(An[Dn]=Ot.call(Xt));An=ne(An)}Mt.apply(Xt,An),kn&&!Vt&&An.length>0&&yn+rt.length>1&&L.uniqueSort(Xt)}return kn&&(Wt=Ti,Le=Rn),_n};return Ct?x(nn):nn}(nn,Bt)),Vt.selector=Be}return Vt},Ce=L.select=function(Be,rt,Ct,Bt){var nn,Vt,gt,Ut,Xt,kn="function"==typeof Be&&Be,At=!Bt&&pe(Be=kn.selector||Be);if(Ct=Ct||[],1===At.length){if((Vt=At[0]=At[0].slice(0)).length>2&&"ID"===(gt=Vt[0]).type&&F.getById&&9===rt.nodeType&&st&&A.relative[Vt[1].type]){if(!(rt=(A.find.ID(gt.matches[0].replace(_t,Dt),rt)||[])[0]))return Ct;kn&&(rt=rt.parentNode),Be=Be.slice(Vt.shift().value.length)}for(nn=Kt.needsContext.test(Be)?0:Vt.length;nn--&&!A.relative[Ut=(gt=Vt[nn]).type];)if((Xt=A.find[Ut])&&(Bt=Xt(gt.matches[0].replace(_t,Dt),Fn.test(Vt[0].type)&&I(rt.parentNode)||rt))){if(Vt.splice(nn,1),!(Be=Bt.length&&z(Vt)))return Mt.apply(Ct,Bt),Ct;break}}return(kn||ae(Be,At))(Bt,rt,!st,Ct,Fn.test(Be)&&I(rt.parentNode)||rt),Ct},F.sortStable=ct.split("").sort(yt).join("")===ct,F.detectDuplicates=!!Ze,qe(),F.sortDetached=w(function(Be){return 1&Be.compareDocumentPosition($e.createElement("div"))}),w(function(Be){return Be.innerHTML="<a href='#'></a>","#"===Be.firstChild.getAttribute("href")})||v("type|href|height|width",function(Be,rt,Ct){if(!Ct)return Be.getAttribute(rt,"type"===rt.toLowerCase()?1:2)}),F.attributes&&w(function(Be){return Be.innerHTML="<input/>",Be.firstChild.setAttribute("value",""),""===Be.firstChild.getAttribute("value")})||v("value",function(Be,rt,Ct){if(!Ct&&"input"===Be.nodeName.toLowerCase())return Be.defaultValue}),w(function(Be){return null==Be.getAttribute("disabled")})||v(ot,function(Be,rt,Ct){var Bt;if(!Ct)return!0===Be[rt]?rt.toLowerCase():(Bt=Be.getAttributeNode(rt))&&Bt.specified?Bt.value:null}),L}),ve(B,[],function(){function M(N,z,V){var Y,U;if(!N)return 0;if(V=V||N,N.length!==Ae){for(Y=0,U=N.length;Y<U;Y++)if(!1===z.call(V,N[Y],Y,N))return 0}else for(Y in N)if(N.hasOwnProperty(Y)&&!1===z.call(V,N[Y],Y,N))return 0;return 1}function p(N,z,V){var Y,U;for(Y=0,U=N.length;Y<U;Y++)if(z.call(V,N[Y],Y,N))return Y;return-1}var I=Array.isArray||function(N){return"[object Array]"===Object.prototype.toString.call(N)};return{isArray:I,toArray:function L(N){var V,Y,z=N;if(!I(N))for(z=[],V=0,Y=N.length;V<Y;V++)z[V]=N[V];return z},each:M,map:function x(N,z){var V=[];return M(N,function(Y,U){V.push(z(Y,U,N))}),V},filter:function w(N,z){var V=[];return M(N,function(Y,U){z&&!z(Y,U,N)||V.push(Y)}),V},indexOf:function v(N,z){var V,Y;if(N)for(V=0,Y=N.length;V<Y;V++)if(N[V]===z)return V;return-1},reduce:function f(N,z,V,Y){var U=0;for(arguments.length<3&&(V=N[0]);U<N.length;U++)V=z.call(Y,V,N[U],U);return V},findIndex:p,find:function _(N,z,V){var Y=p(N,z,V);return-1!==Y?N[Y]:Ae},last:function C(N){return N[N.length-1]}}}),ve(K,[J,B],function(L,M){function x(U){return null===U||U===Ae?"":(""+U).replace(Y,"")}function w(U,ne){return ne?!("array"!=ne||!M.isArray(U))||typeof U==ne:U!==Ae}var Y=/^\s*|\s*$/g;return{trim:x,isArray:M.isArray,is:w,toArray:M.toArray,makeMap:function v(U,ne,X){var le;for(ne=ne||",","string"==typeof(U=U||[])&&(U=U.split(ne)),X=X||{},le=U.length;le--;)X[U[le]]={};return X},each:M.each,map:M.map,grep:M.filter,inArray:M.indexOf,hasOwn:function f(U,ne){return Object.prototype.hasOwnProperty.call(U,ne)},extend:function _(U,ne){var X,le,G,F,W=arguments;for(X=1,le=W.length;X<le;X++)for(G in ne=W[X])ne.hasOwnProperty(G)&&(F=ne[G])!==Ae&&(U[G]=F);return U},create:function p(U,ne,X){var G,W,F,A,E,le=this,ie=0;if(U=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(U),F=U[3].match(/(^|\.)(\w+)$/i)[2],!(W=le.createNS(U[3].replace(/\.\w+$/,""),X))[F]){if("static"==U[2])return W[F]=ne,void(this.onCreate&&this.onCreate(U[2],U[3],W[F]));ne[F]||(ne[F]=function(){},ie=1),W[F]=ne[F],le.extend(W[F].prototype,ne),U[5]&&(G=le.resolve(U[5]).prototype,A=U[5].match(/\.(\w+)$/i)[1],E=W[F],W[F]=ie?function(){return G[A].apply(this,arguments)}:function(){return this.parent=G[A],E.apply(this,arguments)},W[F].prototype[F]=W[F],le.each(G,function(pe,ae){W[F].prototype[ae]=G[ae]}),le.each(ne,function(pe,ae){G[ae]?W[F].prototype[ae]=function(){return this.parent=G[ae],pe.apply(this,arguments)}:ae!=F&&(W[F].prototype[ae]=pe)})),le.each(ne.static,function(pe,ae){W[F][ae]=pe})}},walk:function C(U,ne,X,le){le=le||this,U&&(X&&(U=U[X]),M.each(U,function(G,W){return!1!==ne.call(le,G,W,X)&&void C(G,ne,X,le)}))},createNS:function I(U,ne){var X,le;for(ne=ne||window,U=U.split("."),X=0;X<U.length;X++)ne[le=U[X]]||(ne[le]={}),ne=ne[le];return ne},resolve:function N(U,ne){var X,le;for(ne=ne||window,X=0,le=(U=U.split(".")).length;X<le&&(ne=ne[U[X]]);X++);return ne},explode:function z(U,ne){return!U||w(U,"array")?U:M.map(U.split(ne||","),x)},_addCacheSuffix:function V(U){var ne=L.cacheSuffix;return ne&&(U+=(-1===U.indexOf("?")?"?":"&")+ne),U}}}),ve(de,[ee,O,K,J],function(L,M,x,w){function v(Ie){return typeof Ie<"u"}function f(Ie){return"string"==typeof Ie}function _(Ie,Fe){var et,ct,xt;for(xt=(Fe=Fe||A).createElement("div"),et=Fe.createDocumentFragment(),xt.innerHTML=Ie;ct=xt.firstChild;)et.appendChild(ct);return et}function C(Ie,Fe,et,ct){var xt;if(f(Fe))Fe=_(Fe,X(Ie[0]));else if(Fe.length&&!Fe.nodeType){if(Fe=z.makeArray(Fe),ct)for(xt=Fe.length-1;xt>=0;xt--)C(Ie,Fe[xt],et,ct);else for(xt=0;xt<Fe.length;xt++)C(Ie,Fe[xt],et,ct);return Ie}if(Fe.nodeType)for(xt=Ie.length;xt--;)et.call(Ie[xt],Fe);return Ie}function I(Ie,Fe){return Ie&&Fe&&-1!==(" "+Ie.className+" ").indexOf(" "+Fe+" ")}function N(Ie,Fe,et){var ct,xt;return Fe=z(Fe)[0],Ie.each(function(){var Wt=this;et&&ct==Wt.parentNode||(ct=Wt.parentNode,xt=Fe.cloneNode(!1),Wt.parentNode.insertBefore(xt,Wt)),xt.appendChild(Wt)}),Ie}function z(Ie,Fe){return new z.fn.init(Ie,Fe)}function Y(Ie){return null===Ie||Ie===Ce?"":(""+Ie).replace(nt,"")}function U(Ie,Fe){var et,ct,xt,ln;if(Ie)if(void 0===(et=Ie.length)){for(ct in Ie)if(Ie.hasOwnProperty(ct)&&!1===Fe.call(ln=Ie[ct],ct,ln))break}else for(xt=0;xt<et&&!1!==Fe.call(ln=Ie[xt],xt,ln);xt++);return Ie}function ne(Ie,Fe){var et=[];return U(Ie,function(ct,xt){Fe(xt,ct)&&et.push(xt)}),et}function X(Ie){return Ie?9==Ie.nodeType?Ie:Ie.ownerDocument:A}function le(Ie,Fe,et){var ct=[],xt=Ie[Fe];for("string"!=typeof et&&et instanceof z&&(et=et[0]);xt&&9!==xt.nodeType&&(et===Ae||!(xt===et||"string"==typeof et&&z(xt).is(et)));)1===xt.nodeType&&ct.push(xt),xt=xt[Fe];return ct}function G(Ie,Fe,et,ct){var xt=[];for(ct instanceof z&&(ct=ct[0]);Ie;Ie=Ie[Fe])if(!et||Ie.nodeType===et){if(ct!==Ae&&(Ie===ct||"string"==typeof ct&&z(Ie).is(ct)))break;xt.push(Ie)}return xt}function W(Ie,Fe,et){for(Ie=Ie[Fe];Ie;Ie=Ie[Fe])if(Ie.nodeType==et)return Ie;return null}function F(Ie,Fe,et){U(et,function(ct,xt){Ie[ct]=Ie[ct]||{},Ie[ct][Fe]=xt})}var Ce,A=document,E=Array.prototype.push,ie=Array.prototype.slice,pe=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ae=L.Event,Le=x.makeMap("children,contents,next,prev"),tt=x.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ze=x.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),qe={for:"htmlFor",class:"className",readonly:"readOnly"},$e={float:"cssFloat"},Qe={},st={},nt=/^\s*|\s*$/g;return z.fn=z.prototype={constructor:z,selector:"",context:null,length:0,init:function(Ie,Fe){var ct,xt,et=this;if(!Ie)return et;if(Ie.nodeType)return et.context=et[0]=Ie,et.length=1,et;if(Fe&&Fe.nodeType)et.context=Fe;else{if(Fe)return z(Ie).attr(Fe);et.context=Fe=document}if(f(Ie)){if(et.selector=Ie,!(ct="<"===Ie.charAt(0)&&">"===Ie.charAt(Ie.length-1)&&Ie.length>=3?[null,Ie,null]:pe.exec(Ie)))return z(Fe).find(Ie);if(ct[1])for(xt=_(Ie,X(Fe)).firstChild;xt;)E.call(et,xt),xt=xt.nextSibling;else{if(!(xt=X(Fe).getElementById(ct[2])))return et;if(xt.id!==ct[2])return et.find(Ie);et.length=1,et[0]=xt}}else this.add(Ie,!1);return et},toArray:function(){return x.toArray(this)},add:function(Ie,Fe){var ct,xt,et=this;if(f(Ie))return et.add(z(Ie));if(!1!==Fe)for(ct=z.unique(et.toArray().concat(z.makeArray(Ie))),et.length=ct.length,xt=0;xt<ct.length;xt++)et[xt]=ct[xt];else E.apply(et,z.makeArray(Ie));return et},attr:function(Ie,Fe){var ct,et=this;if("object"==typeof Ie)U(Ie,function(xt,Wt){et.attr(xt,Wt)});else{if(!v(Fe)){if(et[0]&&1===et[0].nodeType){if((ct=Qe[Ie])&&ct.get)return ct.get(et[0],Ie);if(Ze[Ie])return et.prop(Ie)?Ie:Ce;null===(Fe=et[0].getAttribute(Ie,2))&&(Fe=Ce)}return Fe}this.each(function(){var xt;if(1===this.nodeType){if((xt=Qe[Ie])&&xt.set)return void xt.set(this,Fe);null===Fe?this.removeAttribute(Ie,2):this.setAttribute(Ie,Fe,2)}})}return et},removeAttr:function(Ie){return this.attr(Ie,null)},prop:function(Ie,Fe){var et=this;if("object"==typeof(Ie=qe[Ie]||Ie))U(Ie,function(ct,xt){et.prop(ct,xt)});else{if(!v(Fe))return et[0]&&et[0].nodeType&&Ie in et[0]?et[0][Ie]:Fe;this.each(function(){1==this.nodeType&&(this[Ie]=Fe)})}return et},css:function(Ie,Fe){function et(mn){return mn.replace(/-(\D)/g,function(wn,xn){return xn.toUpperCase()})}function ct(mn){return mn.replace(/[A-Z]/g,function(wn){return"-"+wn})}var Wt,ln,xt=this;if("object"==typeof Ie)U(Ie,function(mn,wn){xt.css(mn,wn)});else if(v(Fe))Ie=et(Ie),"number"!=typeof Fe||tt[Ie]||(Fe+="px"),xt.each(function(){var mn=this.style;if((ln=st[Ie])&&ln.set)ln.set(this,Fe);else{try{this.style[$e[Ie]||Ie]=Fe}catch{}null!==Fe&&""!==Fe||(mn.removeProperty?mn.removeProperty(ct(Ie)):mn.removeAttribute(Ie))}});else{if(Wt=xt[0],(ln=st[Ie])&&ln.get)return ln.get(Wt);if(Wt.ownerDocument.defaultView)try{return Wt.ownerDocument.defaultView.getComputedStyle(Wt,null).getPropertyValue(ct(Ie))}catch{return Ce}else if(Wt.currentStyle)return Wt.currentStyle[et(Ie)]}return xt},remove:function(){for(var Fe,et=this.length;et--;)ae.clean(Fe=this[et]),Fe.parentNode&&Fe.parentNode.removeChild(Fe);return this},empty:function(){for(var Fe,et=this.length;et--;)for(Fe=this[et];Fe.firstChild;)Fe.removeChild(Fe.firstChild);return this},html:function(Ie){var et,Fe=this;if(v(Ie)){et=Fe.length;try{for(;et--;)Fe[et].innerHTML=Ie}catch{z(Fe[et]).empty().append(Ie)}return Fe}return Fe[0]?Fe[0].innerHTML:""},text:function(Ie){var et,Fe=this;if(v(Ie)){for(et=Fe.length;et--;)"innerText"in Fe[et]?Fe[et].innerText=Ie:Fe[0].textContent=Ie;return Fe}return Fe[0]?Fe[0].innerText||Fe[0].textContent:""},append:function(){return C(this,arguments,function(Ie){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(Ie)})},prepend:function(){return C(this,arguments,function(Ie){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(Ie,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?C(this,arguments,function(Fe){this.parentNode.insertBefore(Fe,this)}):this},after:function(){return this[0]&&this[0].parentNode?C(this,arguments,function(Fe){this.parentNode.insertBefore(Fe,this.nextSibling)},!0):this},appendTo:function(Ie){return z(Ie).append(this),this},prependTo:function(Ie){return z(Ie).prepend(this),this},replaceWith:function(Ie){return this.before(Ie).remove()},wrap:function(Ie){return N(this,Ie)},wrapAll:function(Ie){return N(this,Ie,!0)},wrapInner:function(Ie){return this.each(function(){z(this).contents().wrapAll(Ie)}),this},unwrap:function(){return this.parent().each(function(){z(this).replaceWith(this.childNodes)})},clone:function(){var Ie=[];return this.each(function(){Ie.push(this.cloneNode(!0))}),z(Ie)},addClass:function(Ie){return this.toggleClass(Ie,!0)},removeClass:function(Ie){return this.toggleClass(Ie,!1)},toggleClass:function(Ie,Fe){var et=this;return"string"!=typeof Ie||(-1!==Ie.indexOf(" ")?U(Ie.split(" "),function(){et.toggleClass(this,Fe)}):et.each(function(ct,xt){var Wt,ln;(ln=I(xt,Ie))!==Fe&&(Wt=xt.className,ln?xt.className=Y((" "+Wt+" ").replace(" "+Ie+" "," ")):xt.className+=Wt?" "+Ie:Ie)})),et},hasClass:function(Ie){return I(this[0],Ie)},each:function(Ie){return U(this,Ie)},on:function(Ie,Fe){return this.each(function(){ae.bind(this,Ie,Fe)})},off:function(Ie,Fe){return this.each(function(){ae.unbind(this,Ie,Fe)})},trigger:function(Ie){return this.each(function(){"object"==typeof Ie?ae.fire(this,Ie.type,Ie):ae.fire(this,Ie)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new z(ie.apply(this,arguments))},eq:function(Ie){return-1===Ie?this.slice(Ie):this.slice(Ie,+Ie+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(Ie){var Fe,et,ct=[];for(Fe=0,et=this.length;Fe<et;Fe++)z.find(Ie,this[Fe],ct);return z(ct)},filter:function(Ie){return z("function"==typeof Ie?ne(this.toArray(),function(Fe,et){return Ie(et,Fe)}):z.filter(Ie,this.toArray()))},closest:function(Ie){var Fe=[];return Ie instanceof z&&(Ie=Ie[0]),this.each(function(et,ct){for(;ct;){if("string"==typeof Ie&&z(ct).is(Ie)){Fe.push(ct);break}if(ct==Ie){Fe.push(ct);break}ct=ct.parentNode}}),z(Fe)},offset:function(Ie){var Fe,et,ct,ln,xt=0,Wt=0;return Ie?this.css(Ie):((Fe=this[0])&&(ct=(et=Fe.ownerDocument).documentElement,Fe.getBoundingClientRect&&(xt=(ln=Fe.getBoundingClientRect()).left+(ct.scrollLeft||et.body.scrollLeft)-ct.clientLeft,Wt=ln.top+(ct.scrollTop||et.body.scrollTop)-ct.clientTop)),{left:xt,top:Wt})},push:E,sort:[].sort,splice:[].splice},x.extend(z,{extend:x.extend,makeArray:function(Ie){return function p(Ie){return Ie&&Ie==Ie.window}(Ie)||Ie.nodeType?[Ie]:x.toArray(Ie)},inArray:function V(Ie,Fe){var et;if(Fe.indexOf)return Fe.indexOf(Ie);for(et=Fe.length;et--;)if(Fe[et]===Ie)return et;return-1},isArray:x.isArray,each:U,trim:Y,grep:ne,find:M,expr:M.selectors,unique:M.uniqueSort,text:M.getText,contains:M.contains,filter:function(Ie,Fe,et){var ct=Fe.length;for(et&&(Ie=":not("+Ie+")");ct--;)1!=Fe[ct].nodeType&&Fe.splice(ct,1);return 1===Fe.length?z.find.matchesSelector(Fe[0],Ie)?[Fe[0]]:[]:z.find.matches(Ie,Fe)}}),U({parent:function(Ie){var Fe=Ie.parentNode;return Fe&&11!==Fe.nodeType?Fe:null},parents:function(Ie){return le(Ie,"parentNode")},next:function(Ie){return W(Ie,"nextSibling",1)},prev:function(Ie){return W(Ie,"previousSibling",1)},children:function(Ie){return G(Ie.firstChild,"nextSibling",1)},contents:function(Ie){return x.toArray(("iframe"===Ie.nodeName?Ie.contentDocument||Ie.contentWindow.document:Ie).childNodes)}},function(Ie,Fe){z.fn[Ie]=function(et){var xt=[];return this.each(function(){var Wt=Fe.call(xt,this,et,xt);Wt&&(z.isArray(Wt)?xt.push.apply(xt,Wt):xt.push(Wt))}),this.length>1&&(Le[Ie]||(xt=z.unique(xt)),0===Ie.indexOf("parents")&&(xt=xt.reverse())),xt=z(xt),et?xt.filter(et):xt}}),U({parentsUntil:function(Ie,Fe){return le(Ie,"parentNode",Fe)},nextUntil:function(Ie,Fe){return G(Ie,"nextSibling",1,Fe).slice(1)},prevUntil:function(Ie,Fe){return G(Ie,"previousSibling",1,Fe).slice(1)}},function(Ie,Fe){z.fn[Ie]=function(et,ct){var Wt=[];return this.each(function(){var ln=Fe.call(Wt,this,et,Wt);ln&&(z.isArray(ln)?Wt.push.apply(Wt,ln):Wt.push(ln))}),this.length>1&&(Wt=z.unique(Wt),0!==Ie.indexOf("parents")&&"prevUntil"!==Ie||(Wt=Wt.reverse())),Wt=z(Wt),ct?Wt.filter(ct):Wt}}),z.fn.is=function(Ie){return!!Ie&&this.filter(Ie).length>0},z.fn.init.prototype=z.fn,z.overrideDefaults=function(Ie){function Fe(ct,xt){return et=et||Ie(),0===arguments.length&&(ct=et.element),xt||(xt=et.context),new Fe.fn.init(ct,xt)}var et;return z.extend(Fe,this),Fe},w.ie&&w.ie<8&&(F(Qe,"get",{maxlength:function(Ie){var Fe=Ie.maxLength;return 2147483647===Fe?Ce:Fe},size:function(Ie){var Fe=Ie.size;return 20===Fe?Ce:Fe},class:function(Ie){return Ie.className},style:function(Ie){var Fe=Ie.style.cssText;return 0===Fe.length?Ce:Fe}}),F(Qe,"set",{class:function(Ie,Fe){Ie.className=Fe},style:function(Ie,Fe){Ie.style.cssText=Fe}})),w.ie&&w.ie<9&&($e.float="styleFloat",F(st,"set",{opacity:function(Ie,Fe){var et=Ie.style;null===Fe||""===Fe?et.removeAttribute("filter"):(et.zoom=1,et.filter="alpha(opacity="+100*Fe+")")}})),z.attrHooks=Qe,z.cssHooks=st,z}),ve(me,[],function(){return function(L,M){function x(Y,U,ne,X){function le(G){return(G=parseInt(G,10).toString(16)).length>1?G:"0"+G}return"#"+le(U)+le(ne)+le(X)}var _,I,N,z,w=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,v=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,C={};for(L=L||{},M&&(N=M.getValidStyles(),z=M.getInvalidStyles()),I="\\\" \\' \\; \\: ; : \ufeff".split(" "),_=0;_<I.length;_++)C[I[_]]="\ufeff"+_,C["\ufeff"+_]=I[_];return{toHex:function(Y){return Y.replace(w,x)},parse:function(Y){function U(Ze,qe,$e){var Qe,st,nt,Ie;if((Qe=E[Ze+"-top"+qe])&&(st=E[Ze+"-right"+qe])&&(nt=E[Ze+"-bottom"+qe])&&(Ie=E[Ze+"-left"+qe])){var Fe=[Qe,st,nt,Ie];for(_=Fe.length-1;_--&&Fe[_]===Fe[_+1];);_>-1&&$e||(E[Ze+qe]=-1==_?Fe[0]:Fe.join(" "),delete E[Ze+"-top"+qe],delete E[Ze+"-right"+qe],delete E[Ze+"-bottom"+qe],delete E[Ze+"-left"+qe])}}function ne(Ze){var $e,qe=E[Ze];if(qe){for($e=(qe=qe.split(" ")).length;$e--;)if(qe[$e]!==qe[0])return!1;return E[Ze]=qe[0],!0}}function le(Ze){return Ce=!0,C[Ze]}function G(Ze,qe){return Ce&&(Ze=Ze.replace(/\uFEFF[0-9]/g,function($e){return C[$e]})),qe||(Ze=Ze.replace(/\\([\'\";:])/g,"$1")),Ze}function W(Ze){return String.fromCharCode(parseInt(Ze.slice(1),16))}function F(Ze){return Ze.replace(/\\[0-9a-f]+/gi,W)}function A(Ze,qe,$e,Qe,st,nt){if(st=st||nt)return"'"+(st=G(st)).replace(/\'/g,"\\'")+"'";if(qe=G(qe||$e||Qe),!L.allow_script_urls){var Ie=qe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ie)||!L.allow_svg_data_urls&&/^data:image\/svg/i.test(Ie))return""}return Le&&(qe=Le.call(tt,qe,"style")),"url('"+qe.replace(/\'/g,"\\'")+"')"}var ie,pe,ae,Ce,E={},Le=L.url_converter,tt=L.url_converter_scope||this;if(Y){for(Y=(Y=Y.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,le).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ze){return Ze.replace(/[;:]/g,le)});ie=f.exec(Y);)if(f.lastIndex=ie.index+ie[0].length,pe=ie[1].replace(p,"").toLowerCase(),ae=ie[2].replace(p,""),pe&&ae){if(pe=F(pe),ae=F(ae),-1!==pe.indexOf("\ufeff")||-1!==pe.indexOf('"')||!L.allow_script_urls&&("behavior"==pe||/expression\s*\(|\/\*|\*\//.test(ae)))continue;"font-weight"===pe&&"700"===ae?ae="bold":"color"!==pe&&"background-color"!==pe||(ae=ae.toLowerCase()),ae=(ae=ae.replace(w,x)).replace(v,A),E[pe]=Ce?G(ae,!0):ae}U("border","",!0),U("border","-width"),U("border","-color"),U("border","-style"),U("padding",""),U("margin",""),function X(Ze,qe,$e,Qe){ne(qe)&&ne($e)&&ne(Qe)&&(E[Ze]=E[qe]+" "+E[$e]+" "+E[Qe],delete E[qe],delete E[$e],delete E[Qe])}("border","border-width","border-style","border-color"),"medium none"===E.border&&delete E.border,"none"===E["border-image"]&&delete E["border-image"]}return E},serialize:function(Y,U){function ne(F){var A,E,ie,pe;if(A=N[F])for(E=0,ie=A.length;E<ie;E++)(pe=Y[F=A[E]])&&(le+=(le.length>0?" ":"")+F+": "+pe+";")}var G,W,F,E,le="";if(U&&N)ne("*"),ne(U);else for(G in Y)!(W=Y[G])||z&&(F=G,E=void 0,(E=z["*"])&&E[F]||(E=z[U])&&E[F])||(le+=(le.length>0?" ":"")+G+": "+W+";");return le}}}}),ve(he,[],function(){return function(L,M){function x(f,p,_,C){var I,N;if(f){if(!C&&f[p])return f[p];if(f!=M){if(I=f[_])return I;for(N=f.parentNode;N&&N!=M;N=N.parentNode)if(I=N[_])return I}}}var v=L;this.current=function(){return v},this.next=function(f){return v=x(v,"firstChild","nextSibling",f)},this.prev=function(f){return v=x(v,"lastChild","previousSibling",f)},this.prev2=function(f){return v=function w(f,p,_,C){var I,N,z;if(f){if(I=f[_],M&&I===M)return;if(I){if(!C)for(z=I[p];z;z=z[p])if(!z[p])return z;return I}if((N=f.parentNode)&&N!==M)return N}}(v,"lastChild","previousSibling",f)}}}),ve(De,[K],function(L){function M(x){function w(){return Ie.createDocumentFragment()}function v(Oe,ut){ie(xt,Oe,ut)}function f(Oe,ut){ie(Wt,Oe,ut)}function p(Oe){v(Oe.parentNode,ze(Oe))}function I(Oe){f(Oe.parentNode,ze(Oe)+1)}function X(){return pe(et)}function F(Oe,ut){var St;if(3==Oe.nodeType||ut<0)return Oe;for(St=Oe.firstChild;St&&ut>0;)--ut,St=St.nextSibling;return St||Oe}function E(Oe,ut,St,Ot){var Ft,Mt,en,Ue,ot,pt;if(Oe==St)return ut==Ot?0:ut<Ot?-1:1;for(Ft=St;Ft&&Ft.parentNode!=Oe;)Ft=Ft.parentNode;if(Ft){for(Mt=0,en=Oe.firstChild;en!=Ft&&Mt<ut;)Mt++,en=en.nextSibling;return ut<=Mt?-1:1}for(Ft=Oe;Ft&&Ft.parentNode!=St;)Ft=Ft.parentNode;if(Ft){for(Mt=0,en=St.firstChild;en!=Ft&&Mt<Ot;)Mt++,en=en.nextSibling;return Mt<Ot?-1:1}for(Ue=x.findCommonAncestor(Oe,St),ot=Oe;ot&&ot.parentNode!=Ue;)ot=ot.parentNode;for(ot||(ot=Ue),pt=St;pt&&pt.parentNode!=Ue;)pt=pt.parentNode;if(pt||(pt=Ue),ot==pt)return 0;for(en=Ue.firstChild;en;){if(en==ot)return-1;if(en==pt)return 1;en=en.nextSibling}}function ie(Oe,ut,St){var Ot,Ft;for(Oe?(nt[mn]=ut,nt[ln]=St):(nt[wn]=ut,nt[xn]=St),Ot=nt[wn];Ot.parentNode;)Ot=Ot.parentNode;for(Ft=nt[mn];Ft.parentNode;)Ft=Ft.parentNode;Ft==Ot?E(nt[mn],nt[ln],nt[wn],nt[xn])>0&&nt.collapse(Oe):nt.collapse(Oe),nt.collapsed=function A(){return nt[mn]==nt[wn]&&nt[ln]==nt[xn]}(),nt.commonAncestorContainer=x.findCommonAncestor(nt[mn],nt[wn])}function pe(Oe){var ut,Ft,Mt,en,Ue,ot,pt,St=0,Ot=0;if(nt[mn]==nt[wn])return function ae(Oe){var ut,Ot,Ft,Mt,en,Ue,ot,pt;if(Oe!=ct&&(ut=w()),nt[ln]==nt[xn])return ut;if(3==nt[mn].nodeType)return Ot=nt[mn].nodeValue.substring(nt[ln],nt[xn]),Oe!=et&&(Ft=nt[mn],pt=nt[xn]-nt[ln],0===(ot=nt[ln])&&pt>=Ft.nodeValue.length-1?Ft.parentNode.removeChild(Ft):Ft.deleteData(ot,pt),nt.collapse(xt)),Oe==ct?void 0:(Ot.length>0&&ut.appendChild(Ie.createTextNode(Ot)),ut);for(Ft=F(nt[mn],nt[ln]),Mt=nt[xn]-nt[ln];Ft&&Mt>0;)en=Ft.nextSibling,Ue=Qe(Ft,Oe),ut&&ut.appendChild(Ue),--Mt,Ft=en;return Oe!=et&&nt.collapse(xt),ut}(Oe);for(Ft=(ut=nt[wn]).parentNode;Ft;ut=Ft,Ft=Ft.parentNode){if(Ft==nt[mn])return Ce(ut,Oe);++St}for(Ft=(ut=nt[mn]).parentNode;Ft;ut=Ft,Ft=Ft.parentNode){if(Ft==nt[wn])return Le(ut,Oe);++Ot}for(Mt=Ot-St,en=nt[mn];Mt>0;)en=en.parentNode,Mt--;for(Ue=nt[wn];Mt<0;)Ue=Ue.parentNode,Mt++;for(ot=en.parentNode,pt=Ue.parentNode;ot!=pt;ot=ot.parentNode,pt=pt.parentNode)en=ot,Ue=pt;return function tt(Oe,ut,St){var Ot,Ft,Mt,Ue,ot,pt;for(St!=ct&&(Ft=w()),Ot=qe(Oe,St),Ft&&Ft.appendChild(Ot),Mt=ze(Oe),Ue=ze(ut)-++Mt,ot=Oe.nextSibling;Ue>0;)pt=ot.nextSibling,Ot=Qe(ot,St),Ft&&Ft.appendChild(Ot),ot=pt,--Ue;return Ot=Ze(ut,St),Ft&&Ft.appendChild(Ot),St!=et&&(nt.setStartAfter(Oe),nt.collapse(xt)),Ft}(en,Ue,Oe)}function Ce(Oe,ut){var St,Ot,Mt,en,Ue;if(ut!=ct&&(St=w()),Ot=Ze(Oe,ut),St&&St.appendChild(Ot),(Mt=ze(Oe)-nt[ln])<=0)return ut!=et&&(nt.setEndBefore(Oe),nt.collapse(Wt)),St;for(Ot=Oe.previousSibling;Mt>0;)en=Ot.previousSibling,Ue=Qe(Ot,ut),St&&St.insertBefore(Ue,St.firstChild),--Mt,Ot=en;return ut!=et&&(nt.setEndBefore(Oe),nt.collapse(Wt)),St}function Le(Oe,ut){var St,Ot,Ft,Mt,en,Ue;for(ut!=ct&&(St=w()),Ft=qe(Oe,ut),St&&St.appendChild(Ft),Ot=ze(Oe),++Ot,Mt=nt[xn]-Ot,Ft=Oe.nextSibling;Ft&&Mt>0;)en=Ft.nextSibling,Ue=Qe(Ft,ut),St&&St.appendChild(Ue),--Mt,Ft=en;return ut!=et&&(nt.setStartAfter(Oe),nt.collapse(xt)),St}function Ze(Oe,ut){var Ot,Ft,Mt,en,Ue,St=F(nt[wn],nt[xn]-1),ot=St!=nt[wn];if(St==Oe)return $e(St,ot,Wt,ut);for(Ft=$e(Ot=St.parentNode,Wt,Wt,ut);Ot;){for(;St;)Mt=St.previousSibling,en=$e(St,ot,Wt,ut),ut!=ct&&Ft.insertBefore(en,Ft.firstChild),ot=xt,St=Mt;if(Ot==Oe)return Ft;St=Ot.previousSibling,Ue=$e(Ot=Ot.parentNode,Wt,Wt,ut),ut!=ct&&Ue.appendChild(Ft),Ft=Ue}}function qe(Oe,ut){var Ft,Mt,en,Ue,ot,St=F(nt[mn],nt[ln]),Ot=St!=nt[mn];if(St==Oe)return $e(St,Ot,xt,ut);for(Mt=$e(Ft=St.parentNode,Wt,xt,ut);Ft;){for(;St;)en=St.nextSibling,Ue=$e(St,Ot,xt,ut),ut!=ct&&Mt.appendChild(Ue),Ot=xt,St=en;if(Ft==Oe)return Mt;St=Ft.nextSibling,ot=$e(Ft=Ft.parentNode,Wt,xt,ut),ut!=ct&&ot.appendChild(Mt),Mt=ot}}function $e(Oe,ut,St,Ot){var Ft,Mt,en,Ue,ot;return ut?Qe(Oe,Ot):3==Oe.nodeType?(Ft=Oe.nodeValue,St?(Mt=Ft.substring(Ue=nt[ln]),en=Ft.substring(0,Ue)):(Mt=Ft.substring(0,Ue=nt[xn]),en=Ft.substring(Ue)),Ot!=et&&(Oe.nodeValue=en),Ot==ct?void 0:((ot=x.clone(Oe,Wt)).nodeValue=Mt,ot)):Ot!=ct?x.clone(Oe,Wt):void 0}function Qe(Oe,ut){return ut!=ct?ut==et?x.clone(Oe,xt):Oe:void Oe.parentNode.removeChild(Oe)}var nt=this,Ie=x.doc,et=1,ct=2,xt=!0,Wt=!1,ln="startOffset",mn="startContainer",wn="endContainer",xn="endOffset",yt=L.extend,ze=x.nodeIndex;return yt(nt,{startContainer:Ie,startOffset:0,endContainer:Ie,endOffset:0,collapsed:xt,commonAncestorContainer:Ie,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:v,setEnd:f,setStartBefore:p,setStartAfter:function _(Oe){v(Oe.parentNode,ze(Oe)+1)},setEndBefore:function C(Oe){f(Oe.parentNode,ze(Oe))},setEndAfter:I,collapse:function N(Oe){Oe?(nt[wn]=nt[mn],nt[xn]=nt[ln]):(nt[mn]=nt[wn],nt[ln]=nt[xn]),nt.collapsed=xt},selectNode:function z(Oe){p(Oe),I(Oe)},selectNodeContents:function V(Oe){v(Oe,0),f(Oe,1===Oe.nodeType?Oe.childNodes.length:Oe.nodeValue.length)},compareBoundaryPoints:function Y(Oe,ut){var St=nt[mn],Ot=nt[ln],Ft=nt[wn],Mt=nt[xn],en=ut.startContainer,Ue=ut.startOffset,ot=ut.endContainer,pt=ut.endOffset;return 0===Oe?E(St,Ot,en,Ue):1===Oe?E(Ft,Mt,en,Ue):2===Oe?E(Ft,Mt,ot,pt):3===Oe?E(St,Ot,ot,pt):void 0},deleteContents:function U(){pe(ct)},extractContents:function ne(){return pe(0)},cloneContents:X,insertNode:function le(Oe){var Ot,Ft,ut=this[mn],St=this[ln];3!==ut.nodeType&&4!==ut.nodeType||!ut.nodeValue?(ut.childNodes.length>0&&(Ft=ut.childNodes[St]),Ft?ut.insertBefore(Oe,Ft):3==ut.nodeType?x.insertAfter(Oe,ut):ut.appendChild(Oe)):St?St>=ut.nodeValue.length?x.insertAfter(Oe,ut):(Ot=ut.splitText(St),ut.parentNode.insertBefore(Oe,Ot)):ut.parentNode.insertBefore(Oe,ut)},surroundContents:function G(Oe){var ut=nt.extractContents();nt.insertNode(Oe),Oe.appendChild(ut),nt.selectNode(Oe)},cloneRange:function W(){return yt(new M(x),{startContainer:nt[mn],startOffset:nt[ln],endContainer:nt[wn],endOffset:nt[xn],collapsed:nt.collapsed,commonAncestorContainer:nt.commonAncestorContainer})},toStringIE:function st(){return x.create("body",null,X()).outerText}}),nt}return M.prototype.toString=function(){return this.toStringIE()},M}),ve(Ne,[K],function(L){function x(Y,U){var ne,X,le,G={};if(Y){for(Y=Y.split(","),U=U||10,ne=0;ne<Y.length;ne+=2)X=String.fromCharCode(parseInt(Y[ne],U)),f[X]||(G[X]=le="&"+Y[ne+1]+";",G[le]=X);return G}}var v,f,p,w=L.makeMap,_=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I=/[<>&\"\']/g,N=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,z={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};f={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},p={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},v=x("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var V={encodeRaw:function(Y,U){return Y.replace(U?_:C,function(ne){return f[ne]||ne})},encodeAllRaw:function(Y){return(""+Y).replace(I,function(U){return f[U]||U})},encodeNumeric:function(Y,U){return Y.replace(U?_:C,function(ne){return ne.length>1?"&#"+(1024*(ne.charCodeAt(0)-55296)+(ne.charCodeAt(1)-56320)+65536)+";":f[ne]||"&#"+ne.charCodeAt(0)+";"})},encodeNamed:function(Y,U,ne){return ne=ne||v,Y.replace(U?_:C,function(X){return f[X]||ne[X]||X})},getEncodeFunc:function(Y,U){return U=x(U)||v,(Y=w(Y.replace(/\+/g,","))).named&&Y.numeric?function ne(le,G){return le.replace(G?_:C,function(W){return f[W]||U[W]||"&#"+W.charCodeAt(0)+";"||W})}:Y.named?U?function X(le,G){return V.encodeNamed(le,G,U)}:V.encodeNamed:Y.numeric?V.encodeNumeric:V.encodeRaw},decode:function(Y){return Y.replace(N,function(U,ne){return ne?(ne="x"===ne.charAt(0).toLowerCase()?parseInt(ne.substr(1),16):parseInt(ne,10))>65535?(ne-=65536,String.fromCharCode(55296+(ne>>10),56320+(1023&ne))):z[ne]||String.fromCharCode(ne):p[U]||v[U]||function M(Y){var U;return(U=document.createElement("div")).innerHTML=Y,U.textContent||U.innerText||Y}(U)})}};return V}),ve(Ye,[K,j],function(L,M){return function(x,w){function v(I){x.getElementsByTagName("head")[0].appendChild(I)}var C,p=0,_={};C=(w=w||{}).maxLoadTime||5e3,this.load=function f(I,N,z){function V(){for(var E=A.passed,ie=E.length;ie--;)E[ie]();A.status=2,A.passed=[],A.failed=[]}function Y(){for(var E=A.failed,ie=E.length;ie--;)E[ie]();A.status=3,A.passed=[],A.failed=[]}function ne(E,ie){E()||((new Date).getTime()-F<C?M.setTimeout(ie):Y())}function X(){ne(function(){for(var ie,ae,E=x.styleSheets,pe=E.length;pe--;)if((ae=(ie=E[pe]).ownerNode?ie.ownerNode:ie.owningElement)&&ae.id===G.id)return V(),!0},X)}var G,W,F,A;if(I=L._addCacheSuffix(I),_[I]?A=_[I]:_[I]=A={passed:[],failed:[]},N&&A.passed.push(N),z&&A.failed.push(z),1!=A.status){if(2==A.status)return void V();if(3==A.status)return void Y();if(A.status=1,(G=x.createElement("link")).rel="stylesheet",G.type="text/css",G.id="u"+p++,G.async=!1,G.defer=!1,F=(new Date).getTime(),"onload"in G&&!function U(){var E=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(E&&E[1]<536)}())G.onload=X,G.onerror=Y;else{if(navigator.userAgent.indexOf("Firefox")>0)return(W=x.createElement("style")).textContent='@import "'+I+'"',function le(){ne(function(){try{var E=W.sheet.cssRules;return V(),!!E}catch{}},le)}(),void v(W);X()}v(G),G.href=I}}}}),ve(P,[O,de,me,ee,he,De,Ne,J,K,Ye],function(L,M,x,w,v,f,p,_,C,I){function z(A,E){var ie=E.attr("style");(ie=A.serializeStyle(A.parseStyle(ie),E[0].nodeName))||(ie=null),E.attr("data-mce-style",ie)}function V(A,E){var pe,ae,ie=0;if(A)for(pe=A.nodeType,A=A.previousSibling;A;A=A.previousSibling)ae=A.nodeType,(!E||3!=ae||ae!=pe&&A.nodeValue.length)&&(ie++,pe=ae);return ie}function Y(A,E){var pe,ie=this;ie.doc=A,ie.win=window,ie.files={},ie.counter=0,ie.stdMode=!G||A.documentMode>=8,ie.boxModel=!G||"CSS1Compat"==A.compatMode||ie.stdMode,ie.styleSheetLoader=new I(A),ie.boundEvents=[],ie.settings=E=E||{},ie.schema=E.schema,ie.styles=new x({url_converter:E.url_converter,url_converter_scope:E.url_converter_scope},E.schema),ie.fixDoc(A),ie.events=E.ownEvents?new w(E.proxy):w.Event,ie.attrHooks=function N(A,E){var ie={},pe=E.keep_values;return ie={style:{set:function(Ce,Le){return null!==Le&&"object"==typeof Le?void Ce.css(Le):(pe&&Ce.attr("data-mce-style",Le),void Ce.attr("style",Le))},get:function(Ce){var Le=Ce.attr("data-mce-style")||Ce.attr("style");return A.serializeStyle(A.parseStyle(Le),Ce[0].nodeName)}}},pe&&(ie.href=ie.src={set:function(Ce,Le,tt){E.url_converter&&(Le=E.url_converter.call(E.url_converter_scope||A,Le,tt,Ce[0])),Ce.attr("data-mce-"+tt,Le).attr(tt,Le)},get:function(Ce,Le){return Ce.attr("data-mce-"+Le)||Ce.attr(Le)}}),ie}(ie,E),pe=E.schema?E.schema.getBlockElements():{},ie.$=M.overrideDefaults(function(){return{context:A,element:ie.getRoot()}}),ie.isBlock=function(ae){if(!ae)return!1;var Ce=ae.nodeType;return Ce?!(1!==Ce||!pe[ae.nodeName]):!!pe[ae]}}var U=C.each,ne=C.is,X=C.grep,le=C.trim,G=_.ie,W=/^([a-z0-9],?)+$/i,F=/^[ \t\r\n]*$/;return Y.prototype={$$:function(A){return"string"==typeof A&&(A=this.get(A)),this.$(A)},root:null,fixDoc:function(A){var ie,E=this.settings;if(G&&E.schema)for(ie in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(pe){A.createElement(pe)}),E.schema.getCustomElements())A.createElement(ie)},clone:function(A,E){var pe,ie=this;return!G||1!==A.nodeType||E?A.cloneNode(E):E?pe.firstChild:(pe=ie.doc.createElement(A.nodeName),U(ie.getAttribs(A),function(Ce){ie.setAttrib(pe,Ce.nodeName,ie.getAttrib(A,Ce.nodeName))}),pe)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(A){var E,ie;return E=(A=A||this.win).document,ie=this.boxModel?E.documentElement:E.body,{x:A.pageXOffset||ie.scrollLeft,y:A.pageYOffset||ie.scrollTop,w:A.innerWidth||ie.clientWidth,h:A.innerHeight||ie.clientHeight}},getRect:function(A){var ie,pe,E=this;return A=E.get(A),ie=E.getPos(A),pe=E.getSize(A),{x:ie.x,y:ie.y,w:pe.w,h:pe.h}},getSize:function(A){var ie,pe,E=this;return A=E.get(A),ie=E.getStyle(A,"width"),pe=E.getStyle(A,"height"),-1===ie.indexOf("px")&&(ie=0),-1===pe.indexOf("px")&&(pe=0),{w:parseInt(ie,10)||A.offsetWidth||A.clientWidth,h:parseInt(pe,10)||A.offsetHeight||A.clientHeight}},getParent:function(A,E,ie){return this.getParents(A,E,ie,!1)},getParents:function(A,E,ie,pe){var Ce,ae=this,Le=[];for(A=ae.get(A),pe=pe===Ae,ie=ie||("BODY"!=ae.getRoot().nodeName?ae.getRoot().parentNode:null),ne(E,"string")&&(Ce=E,E="*"===E?function(tt){return 1==tt.nodeType}:function(tt){return ae.is(tt,Ce)});A&&A!=ie&&A.nodeType&&9!==A.nodeType;){if(!E||E(A)){if(!pe)return A;Le.push(A)}A=A.parentNode}return pe?Le:null},get:function(A){var E;return A&&this.doc&&"string"==typeof A&&(E=A,(A=this.doc.getElementById(A))&&A.id!==E)?this.doc.getElementsByName(E)[1]:A},getNext:function(A,E){return this._findSib(A,E,"nextSibling")},getPrev:function(A,E){return this._findSib(A,E,"previousSibling")},select:function(A,E){return L(A,this.get(E)||this.settings.root_element||this.doc,[])},is:function(A,E){var ie;if(A.length===Ae){if("*"===E)return 1==A.nodeType;if(W.test(E)){for(E=E.toLowerCase().split(/,/),A=A.nodeName.toLowerCase(),ie=E.length-1;ie>=0;ie--)if(E[ie]==A)return!0;return!1}}if(A.nodeType&&1!=A.nodeType)return!1;var pe=A.nodeType?[A]:A;return L(E,pe[0].ownerDocument||pe[0],null,pe).length>0},add:function(A,E,ie,pe,ae){var Ce=this;return this.run(A,function(Le){var tt;return tt=ne(E,"string")?Ce.doc.createElement(E):E,Ce.setAttribs(tt,ie),pe&&(pe.nodeType?tt.appendChild(pe):Ce.setHTML(tt,pe)),ae?tt:Le.appendChild(tt)})},create:function(A,E,ie){return this.add(this.doc.createElement(A),A,E,ie,1)},createHTML:function(A,E,ie){var ae,pe="";for(ae in pe+="<"+A,E)E.hasOwnProperty(ae)&&null!==E[ae]&&typeof E[ae]<"u"&&(pe+=" "+ae+'="'+this.encode(E[ae])+'"');return typeof ie<"u"?pe+">"+ie+"</"+A+">":pe+" />"},createFragment:function(A){var E,ie,ae,pe=this.doc;for(ae=pe.createElement("div"),E=pe.createDocumentFragment(),A&&(ae.innerHTML=A);ie=ae.firstChild;)E.appendChild(ie);return E},remove:function(A,E){return A=this.$$(A),E?A.each(function(){for(var ie;ie=this.firstChild;)3==ie.nodeType&&0===ie.data.length?this.removeChild(ie):this.parentNode.insertBefore(ie,this)}).remove():A.remove(),A.length>1?A.toArray():A[0]},setStyle:function(A,E,ie){A=this.$$(A).css(E,ie),this.settings.update_styles&&z(this,A)},getStyle:function(A,E,ie){return A=this.$$(A),ie?A.css(E):("float"==(E=E.replace(/-(\D)/g,function(pe,ae){return ae.toUpperCase()}))&&(E=_.ie&&_.ie<12?"styleFloat":"cssFloat"),A[0]&&A[0].style?A[0].style[E]:Ae)},setStyles:function(A,E){A=this.$$(A).css(E),this.settings.update_styles&&z(this,A)},removeAllAttribs:function(A){return this.run(A,function(E){var ie,pe=E.attributes;for(ie=pe.length-1;ie>=0;ie--)E.removeAttributeNode(pe.item(ie))})},setAttrib:function(A,E,ie){var ae,Ce,Le=this.settings;""===ie&&(ie=null),ae=(A=this.$$(A)).attr(E),A.length&&((Ce=this.attrHooks[E])&&Ce.set?Ce.set(A,ie,E):A.attr(E,ie),ae!=ie&&Le.onSetAttrib&&Le.onSetAttrib({attrElm:A,attrName:E,attrValue:ie}))},setAttribs:function(A,E){var ie=this;ie.$$(A).each(function(pe,ae){U(E,function(Ce,Le){ie.setAttrib(ae,Le,Ce)})})},getAttrib:function(A,E,ie){var ae,Ce;return(A=this.$$(A)).length&&(Ce=(ae=this.attrHooks[E])&&ae.get?ae.get(A,E):A.attr(E)),typeof Ce>"u"&&(Ce=ie||""),Ce},getPos:function(A,E){var Ce,Ze,pe=0,ae=0,Le=this.doc,tt=Le.body;if(E=E||tt,A=this.get(A)){if(E===tt&&A.getBoundingClientRect&&"static"===M(tt).css("position"))return{x:pe=(Ze=A.getBoundingClientRect()).left+(Le.documentElement.scrollLeft||tt.scrollLeft)-(E=this.boxModel?Le.documentElement:tt).clientLeft,y:ae=Ze.top+(Le.documentElement.scrollTop||tt.scrollTop)-E.clientTop};for(Ce=A;Ce&&Ce!=E&&Ce.nodeType;)pe+=Ce.offsetLeft||0,ae+=Ce.offsetTop||0,Ce=Ce.offsetParent;for(Ce=A.parentNode;Ce&&Ce!=E&&Ce.nodeType;)pe-=Ce.scrollLeft||0,ae-=Ce.scrollTop||0,Ce=Ce.parentNode}return{x:pe,y:ae}},parseStyle:function(A){return this.styles.parse(A)},serializeStyle:function(A,E){return this.styles.serialize(A,E)},addStyle:function(A){var pe,ae,ie=this.doc;if(this!==Y.DOM&&ie===document){var Ce=Y.DOM.addedStyles;if((Ce=Ce||[])[A])return;Ce[A]=!0,Y.DOM.addedStyles=Ce}(ae=ie.getElementById("mceDefaultStyles"))||((ae=ie.createElement("style")).id="mceDefaultStyles",ae.type="text/css",(pe=ie.getElementsByTagName("head")[0]).firstChild?pe.insertBefore(ae,pe.firstChild):pe.appendChild(ae)),ae.styleSheet?ae.styleSheet.cssText+=A:ae.appendChild(ie.createTextNode(A))},loadCSS:function(A){var pe,E=this,ie=E.doc;return E!==Y.DOM&&ie===document?void Y.DOM.loadCSS(A):(A||(A=""),pe=ie.getElementsByTagName("head")[0],void U(A.split(","),function(ae){var Ce;ae=C._addCacheSuffix(ae),E.files[ae]||(E.files[ae]=!0,Ce=E.create("link",{rel:"stylesheet",href:ae}),G&&ie.documentMode&&ie.recalc&&(Ce.onload=function(){ie.recalc&&ie.recalc(),Ce.onload=null}),pe.appendChild(Ce))}))},addClass:function(A,E){this.$$(A).addClass(E)},removeClass:function(A,E){this.toggleClass(A,E,!1)},hasClass:function(A,E){return this.$$(A).hasClass(E)},toggleClass:function(A,E,ie){this.$$(A).toggleClass(E,ie).each(function(){""===this.className&&M(this).attr("class",null)})},show:function(A){this.$$(A).show()},hide:function(A){this.$$(A).hide()},isHidden:function(A){return"none"==this.$$(A).css("display")},uniqueId:function(A){return(A||"mce_")+this.counter++},setHTML:function(A,E){A=this.$$(A),G?A.each(function(ie,pe){if(!1!==pe.canHaveHTML){for(;pe.firstChild;)pe.removeChild(pe.firstChild);try{pe.innerHTML="<br>"+E,pe.removeChild(pe.firstChild)}catch{M("<div></div>").html("<br>"+E).contents().slice(1).appendTo(pe)}return E}}):A.html(E)},getOuterHTML:function(A){return 1==(A=this.get(A)).nodeType&&"outerHTML"in A?A.outerHTML:M("<div></div>").append(M(A).clone()).html()},setOuterHTML:function(A,E){var ie=this;ie.$$(A).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=E)}catch{}ie.remove(M(this).html(E),!0)})},decode:p.decode,encode:p.encodeAllRaw,insertAfter:function(A,E){return E=this.get(E),this.run(A,function(ie){var pe,ae;return pe=E.parentNode,(ae=E.nextSibling)?pe.insertBefore(ie,ae):pe.appendChild(ie),ie})},replace:function(A,E,ie){return this.run(E,function(ae){return ne(ae,"array")&&(A=A.cloneNode(!0)),ie&&U(X(ae.childNodes),function(Ce){A.appendChild(Ce)}),ae.parentNode.replaceChild(A,ae)})},rename:function(A,E){var pe,ie=this;return A.nodeName!=E.toUpperCase()&&(pe=ie.create(E),U(ie.getAttribs(A),function(ae){ie.setAttrib(pe,ae.nodeName,ie.getAttrib(A,ae.nodeName))}),ie.replace(pe,A,1)),pe||A},findCommonAncestor:function(A,E){for(var pe,ie=A;ie;){for(pe=E;pe&&ie!=pe;)pe=pe.parentNode;if(ie==pe)break;ie=ie.parentNode}return!ie&&A.ownerDocument?A.ownerDocument.documentElement:ie},toHex:function(A){return this.styles.toHex(C.trim(A))},run:function(A,E,ie){var ae,pe=this;return"string"==typeof A&&(A=pe.get(A)),!!A&&(ie=ie||this,A.nodeType||!A.length&&0!==A.length?E.call(ie,A):(ae=[],U(A,function(Ce,Le){Ce&&("string"==typeof Ce&&(Ce=pe.get(Ce)),ae.push(E.call(ie,Ce,Le)))}),ae))},getAttribs:function(A){var E;return(A=this.get(A))?G?(E=[],"OBJECT"==A.nodeName?A.attributes:("OPTION"===A.nodeName&&this.getAttrib(A,"selected")&&E.push({specified:1,nodeName:"selected"}),A.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(pe){E.push({specified:1,nodeName:pe})}),E)):A.attributes:[]},isEmpty:function(A,E){var pe,ae,Ce,Le,tt,Ze,ie=this,qe=0;if(A=A.firstChild){tt=new v(A,A.parentNode),E=E||(ie.schema?ie.schema.getNonEmptyElements():null),Le=ie.schema?ie.schema.getWhiteSpaceElements():{};do{if(1===(Ce=A.nodeType)){var $e=A.getAttribute("data-mce-bogus");if($e){A=tt.next("all"===$e);continue}if(Ze=A.nodeName.toLowerCase(),E&&E[Ze]){if("br"===Ze){qe++,A=tt.next();continue}return!1}for(pe=(ae=ie.getAttribs(A)).length;pe--;)if("name"===(Ze=ae[pe].nodeName)||"data-mce-bookmark"===Ze)return!1}if(8==Ce||3===Ce&&!F.test(A.nodeValue)||3===Ce&&A.parentNode&&Le[A.parentNode.nodeName]&&F.test(A.nodeValue))return!1;A=tt.next()}while(A)}return qe<=1},createRng:function(){var A=this.doc;return A.createRange?A.createRange():new f(this)},nodeIndex:V,split:function(A,E,ie){function pe(qe){var Qe,st=qe.childNodes,nt=qe.nodeType;if(1!=nt||"bookmark"!=qe.getAttribute("data-mce-type")){for(Qe=st.length-1;Qe>=0;Qe--)pe(st[Qe]);if(9!=nt){if(3==nt&&qe.nodeValue.length>0){var Ie=le(qe.nodeValue).length;if(!ae.isBlock(qe.parentNode)||Ie>0||0===Ie&&function $e(Fe){return Fe.previousSibling&&"SPAN"==Fe.previousSibling.nodeName&&Fe.nextSibling&&"SPAN"==Fe.nextSibling.nodeName}(qe))return}else if(1==nt&&(1==(st=qe.childNodes).length&&st[0]&&1==st[0].nodeType&&"bookmark"==st[0].getAttribute("data-mce-type")&&qe.parentNode.insertBefore(st[0],qe),st.length||/^(br|hr|input|img)$/i.test(qe.nodeName)))return;ae.remove(qe)}return qe}}var Le,tt,Ze,ae=this,Ce=ae.createRng();if(A&&E)return Ce.setStart(A.parentNode,ae.nodeIndex(A)),Ce.setEnd(E.parentNode,ae.nodeIndex(E)),Le=Ce.extractContents(),(Ce=ae.createRng()).setStart(E.parentNode,ae.nodeIndex(E)+1),Ce.setEnd(A.parentNode,ae.nodeIndex(A)+1),tt=Ce.extractContents(),(Ze=A.parentNode).insertBefore(pe(Le),A),Ze.insertBefore(ie||E,A),Ze.insertBefore(pe(tt),A),ae.remove(A),ie||E},bind:function(A,E,ie,pe){var ae=this;if(C.isArray(A)){for(var Ce=A.length;Ce--;)A[Ce]=ae.bind(A[Ce],E,ie,pe);return A}return!ae.settings.collect||A!==ae.doc&&A!==ae.win||ae.boundEvents.push([A,E,ie,pe]),ae.events.bind(A,E,ie,pe||ae)},unbind:function(A,E,ie){var ae,pe=this;if(C.isArray(A)){for(ae=A.length;ae--;)A[ae]=pe.unbind(A[ae],E,ie);return A}if(pe.boundEvents&&(A===pe.doc||A===pe.win))for(ae=pe.boundEvents.length;ae--;){var Ce=pe.boundEvents[ae];A!=Ce[0]||E&&E!=Ce[1]||ie&&ie!=Ce[2]||this.events.unbind(Ce[0],Ce[1],Ce[2])}return this.events.unbind(A,E,ie)},fire:function(A,E,ie){return this.events.fire(A,E,ie)},getContentEditable:function(A){var E;return A&&1==A.nodeType?(E=A.getAttribute("data-mce-contenteditable"))&&"inherit"!==E?E:"inherit"!==A.contentEditable?A.contentEditable:null:null},getContentEditableParent:function(A){for(var E=this.getRoot(),ie=null;A&&A!==E&&null===(ie=this.getContentEditable(A));A=A.parentNode);return ie},destroy:function(){var A=this;if(A.boundEvents){for(var E=A.boundEvents.length;E--;){var ie=A.boundEvents[E];this.events.unbind(ie[0],ie[1],ie[2])}A.boundEvents=null}L.setDocument&&L.setDocument(),A.win=A.doc=A.root=A.events=A.frag=null},isChildOf:function(A,E){for(;A;){if(E===A)return!0;A=A.parentNode}return!1},dumpRng:function(A){return"startContainer: "+A.startContainer.nodeName+", startOffset: "+A.startOffset+", endContainer: "+A.endContainer.nodeName+", endOffset: "+A.endOffset},_findSib:function(A,E,ie){var pe=this,ae=E;if(A)for("string"==typeof ae&&(ae=function(Ce){return pe.is(Ce,E)}),A=A[ie];A;A=A[ie])if(ae(A))return A;return null}},Y.DOM=new Y(document),Y.nodeIndex=V,Y}),ve(We,[P,K],function(L,M){function x(){var le,V={},Y=[],U={},ne=[],X=0;this.isDone=function(G){return 2==V[G]},this.markDone=function(G){V[G]=2},this.add=this.load=function(G,W,F,A){V[G]==le&&(Y.push(G),V[G]=0),W&&(U[G]||(U[G]=[]),U[G].push({success:W,failure:A,scope:F||this}))},this.remove=function(G){delete V[G],delete U[G]},this.loadQueue=function(G,W,F){this.loadScripts(Y,G,W,F)},this.loadScripts=function(G,W,F,A){function E(ae,Ce){v(U[Ce],function(Le){p(Le[ae])&&Le[ae].call(Le.scope)}),U[Ce]=le}var ie,pe=[];ne.push({success:W,failure:A,scope:F||this}),(ie=function(){var ae=f(G);G.length=0,v(ae,function(Ce){return 2===V[Ce]?void E("success",Ce):3===V[Ce]?void E("failure",Ce):void(1!==V[Ce]&&(V[Ce]=1,X++,function _(G,W,F){function A(){ie.remove(ae),pe&&(pe.onreadystatechange=pe.onload=pe=null),W()}var pe,ae,ie=w;ae=ie.uniqueId(),(pe=document.createElement("script")).id=ae,pe.type="text/javascript",pe.src=M._addCacheSuffix(G),"onreadystatechange"in pe?pe.onreadystatechange=function(){/loaded|complete/.test(pe.readyState)&&A()}:pe.onload=A,pe.onerror=function E(){p(F)?F():typeof console<"u"&&console.log&&console.log("Failed to load script: "+G)},(document.getElementsByTagName("head")[0]||document.body).appendChild(pe)}(Ce,function(){V[Ce]=2,X--,E("success",Ce),ie()},function(){V[Ce]=3,X--,pe.push(Ce),E("failure",Ce),ie()})))}),X||(v(ne,function(Ce){0===pe.length?p(Ce.success)&&Ce.success.call(Ce.scope):p(Ce.failure)&&Ce.failure.call(Ce.scope,pe)}),ne.length=0)})()}}var w=L.DOM,v=M.each,f=M.grep,p=function(_){return"function"==typeof _};return x.ScriptLoader=new x,x}),ve(xe,[We,K],function(L,M){function x(){var v=this;v.items=[],v.urls={},v.lookup={}}var w=M.each;return x.prototype={get:function(v){return this.lookup[v]?this.lookup[v].instance:Ae},dependencies:function(v){var f;return this.lookup[v]&&(f=this.lookup[v].dependencies),f||[]},requireLangPack:function(v,f){var p=x.language;if(p&&!1!==x.languageLoad){if(f)if(-1!=(f=","+f+",").indexOf(","+p.substr(0,2)+","))p=p.substr(0,2);else if(-1==f.indexOf(","+p+","))return;L.ScriptLoader.add(this.urls[v]+"/langs/"+p+".js")}},add:function(v,f,p){return this.items.push(f),this.lookup[v]={instance:f,dependencies:p},f},remove:function(v){delete this.urls[v],delete this.lookup[v]},createUrl:function(v,f){return"object"==typeof f?f:{prefix:v.prefix,resource:f,suffix:v.suffix}},addComponents:function(v,f){var p=this.urls[v];w(f,function(_){L.ScriptLoader.add(p+"/"+_)})},load:function(v,f,p,_,C){function I(){var V=N.dependencies(v);w(V,function(Y){var U=N.createUrl(f,Y);N.load(U.resource,U,Ae,Ae)}),p&&p.call(_||L)}var N=this,z=f;N.urls[v]||("object"==typeof f&&(z=f.prefix+f.resource+f.suffix),0!==z.indexOf("/")&&-1==z.indexOf("://")&&(z=x.baseURL+"/"+z),N.urls[v]=z.substring(0,z.lastIndexOf("/")),N.lookup[v]?I():L.ScriptLoader.add(z,I,_,C))}},x.PluginManager=new x,x.ThemeManager=new x,x}),ve(ke,[],function(){function L(C){return function(I){return!!I&&I.nodeType==C}}function M(C){return C=C.toLowerCase().split(" "),function(I){var N,z;if(I&&I.nodeType)for(z=I.nodeName.toLowerCase(),N=0;N<C.length;N++)if(z===C[N])return!0;return!1}}function p(C){return function(I){return!(!_(I)||I.contentEditable!==C&&I.getAttribute("data-mce-contenteditable")!==C)}}var _=L(1);return{isText:L(3),isElement:_,isComment:L(8),isBr:M("br"),isContentEditableTrue:p("true"),isContentEditableFalse:p("false"),matchNodeNames:M,hasPropValue:function w(C,I){return function(N){return _(N)&&N[C]===I}},hasAttributeValue:function v(C,I){return function(N){return _(N)&&N.getAttribute(C)===I}},matchStyleValues:function x(C,I){return I=I.toLowerCase().split(" "),function(N){var z;if(_(N))for(z=0;z<I.length;z++)if(getComputedStyle(N,null).getPropertyValue(C)===I[z])return!0;return!1}},isBogus:function f(C){return _(C)&&C.hasAttribute("data-mce-bogus")}}}),ve(Ve,[],function(){return{isZwsp:function L(w){return"\ufeff"==w},ZWSP:"\ufeff",trim:function M(w){return w.replace(new RegExp("\ufeff","g"),"")}}}),ve(ue,[ke,Ve],function(L,M){function x(W){return G(W)&&(W=W.parentNode),le(W)&&W.hasAttribute("data-mce-caret")}function w(W){return G(W)&&M.isZwsp(W.data)}function v(W){return x(W)||w(W)}function f(W){var F=W.parentNode;F&&F.removeChild(W)}function z(W){return W.firstChild!==W.lastChild||!L.isBr(W.firstChild)}function Y(W){return G(W)&&W.data[0]==M.ZWSP}function U(W){return G(W)&&W.data[W.data.length-1]==M.ZWSP}var le=L.isElement,G=L.isText;return{isCaretContainer:v,isCaretContainerBlock:x,isCaretContainerInline:w,showCaretContainerBlock:function X(W){return W&&W.hasAttribute("data-mce-caret")?(function ne(W){var F=W.getElementsByTagName("br"),A=F[F.length-1];L.isBogus(A)&&A.parentNode.removeChild(A)}(W),W.removeAttribute("data-mce-caret"),W.removeAttribute("data-mce-bogus"),W.removeAttribute("style"),W.removeAttribute("_moz_abspos"),W):null},insertInline:function C(W,F){var E,ie,pe;if(ie=W.ownerDocument.createTextNode(M.ZWSP),pe=W.parentNode,F){if(G(E=W.previousSibling)){if(v(E))return E;if(U(E))return E.splitText(E.data.length-1)}pe.insertBefore(ie,W)}else{if(G(E=W.nextSibling)){if(v(E))return E;if(Y(E))return E.splitText(1),E}W.nextSibling?pe.insertBefore(ie,W.nextSibling):pe.appendChild(ie)}return ie},insertBlock:function N(W,F,A){var ie,pe;return(ie=F.ownerDocument.createElement(W)).setAttribute("data-mce-caret",A?"before":"after"),ie.setAttribute("data-mce-bogus","all"),ie.appendChild(function I(){var W=document.createElement("br");return W.setAttribute("data-mce-bogus","1"),W}()),pe=F.parentNode,A?pe.insertBefore(ie,F):F.nextSibling?pe.insertBefore(ie,F.nextSibling):pe.appendChild(ie),ie},hasContent:z,remove:function V(W){if(le(W)&&v(W)&&(z(W)?W.removeAttribute("data-mce-caret"):f(W)),G(W)){var F=M.trim(function p(W){try{return W.nodeValue}catch{return""}}(W));!function _(W,F){0===F.length?f(W):W.nodeValue=F}(W,F)}},startsWithCaretContainer:Y,endsWithCaretContainer:U}}),ve(Re,[K,he,ke,De,ue],function(L,M,x,w,v){function f(G){return ne(G)||X(G)}function _(G,W,F){for(;G&&G!==W;){if(F(G))return G;G=G.parentNode}return null}function I(G){return"_mce_caret"===G.id}function N(G,W){return le(G)&&!1===function C(G,W,F){return null!==_(G,W,F)}(G,W,I)}function z(G){this.walk=function(W,F){function A(Fe){var et;return 3===(et=Fe[0]).nodeType&&et===ae&&Ce>=et.nodeValue.length&&Fe.splice(0,1),et=Fe[Fe.length-1],0===tt&&Fe.length>0&&et===Le&&3===et.nodeType&&Fe.splice(Fe.length-1,1),Fe}function E(Fe,et,ct){for(var xt=[];Fe&&Fe!=ct;Fe=Fe[et])xt.push(Fe);return xt}function ie(Fe,et){do{if(Fe.parentNode==et)return Fe;Fe=Fe.parentNode}while(Fe)}function pe(Fe,et,ct){var xt=ct?"nextSibling":"previousSibling";for(st=(Qe=Fe).parentNode;Qe&&Qe!=et;Qe=st)st=Qe.parentNode,(nt=E(Qe==Fe?Qe:Qe[xt],xt)).length&&(ct||nt.reverse(),F(A(nt)))}var Ze,qe,$e,Qe,st,nt,Ie,ae=W.startContainer,Ce=W.startOffset,Le=W.endContainer,tt=W.endOffset;if((Ie=G.select("td[data-mce-selected],th[data-mce-selected]")).length>0)U(Ie,function(Fe){F([Fe])});else{if(1==ae.nodeType&&ae.hasChildNodes()&&(ae=ae.childNodes[Ce]),1==Le.nodeType&&Le.hasChildNodes()&&(Le=function p(G,W){var F=G.childNodes;return--W>F.length-1?W=F.length-1:W<0&&(W=0),F[W]||G}(Le,tt)),ae==Le)return F(A([ae]));for(Ze=G.findCommonAncestor(ae,Le),Qe=ae;Qe;Qe=Qe.parentNode){if(Qe===Le)return pe(ae,Ze,!0);if(Qe===Ze)break}for(Qe=Le;Qe;Qe=Qe.parentNode){if(Qe===ae)return pe(Le,Ze);if(Qe===Ze)break}qe=ie(ae,Ze)||ae,$e=ie(Le,Ze)||Le,pe(ae,qe,!0),(nt=E(qe==ae?qe:qe.nextSibling,"nextSibling",$e==Le?$e.nextSibling:$e)).length&&F(A(nt)),pe(Le,$e)}},this.split=function(W){function F(ae,Ce){return ae.splitText(Ce)}var A=W.startContainer,E=W.startOffset,ie=W.endContainer,pe=W.endOffset;return A==ie&&3==A.nodeType?E>0&&E<A.nodeValue.length&&(A=(ie=F(A,E)).previousSibling,pe>E?(A=ie=F(ie,pe-=E).previousSibling,pe=ie.nodeValue.length,E=0):pe=0):(3==A.nodeType&&E>0&&E<A.nodeValue.length&&(A=F(A,E),E=0),3==ie.nodeType&&pe>0&&pe<ie.nodeValue.length&&(pe=(ie=F(ie,pe).previousSibling).nodeValue.length)),{startContainer:A,startOffset:E,endContainer:ie,endOffset:pe}},this.normalize=function(W){function F(ie){function ae(et,ct){for(var xt=new M(et,G.getParent(et.parentNode,G.isBlock)||Qe);et=xt[ct?"prev":"next"]();)if("BR"===et.nodeName)return!0}function tt(et,ct){var xt,Wt,ln;if(ln=G.getParent((ct=ct||Ze).parentNode,G.isBlock)||Qe,et&&"BR"==ct.nodeName&&Fe&&G.isEmpty(ln))return Ze=ct.parentNode,qe=G.nodeIndex(ct),void(A=!0);for(xt=new M(ct,ln);st=xt[et?"prev":"next"]();){if("false"===G.getContentEditableParent(st)||N(st,G.getRoot()))return;if(3===st.nodeType&&st.nodeValue.length>0)return Ze=st,qe=et?st.nodeValue.length:0,void(A=!0);if(G.isBlock(st)||nt[st.nodeName.toLowerCase()])return;Wt=st}E&&Wt&&(Ze=Wt,A=!0,qe=0)}var Ze,qe,$e,st,nt,Ie,Fe,et,Qe=G.getRoot();if(qe=W[(ie?"start":"end")+"Offset"],Fe=1==(Ze=W[(ie?"start":"end")+"Container"]).nodeType&&qe===Ze.childNodes.length,nt=G.schema.getNonEmptyElements(),Ie=ie,!le(Ze)){if(1==Ze.nodeType&&qe>Ze.childNodes.length-1&&(Ie=!1),9===Ze.nodeType&&(Ze=G.getRoot(),qe=0),Ze===Qe){if(Ie&&(st=Ze.childNodes[qe>0?qe-1:0])&&(le(st)||nt[st.nodeName]||"TABLE"==st.nodeName))return;if(Ze.hasChildNodes()){if(qe=Math.min(!Ie&&qe>0?qe-1:qe,Ze.childNodes.length-1),Ze=Ze.childNodes[qe],qe=0,!E&&Ze===Qe.lastChild&&"TABLE"===Ze.nodeName||function Ce(et){for(;et&&et!=Qe;){if(X(et))return!0;et=et.parentNode}return!1}(Ze)||le(Ze))return;if(Ze.hasChildNodes()&&!/TABLE/.test(Ze.nodeName)){st=Ze,$e=new M(Ze,Qe);do{if(X(st)||le(st)){A=!1;break}if(3===st.nodeType&&st.nodeValue.length>0){qe=Ie?0:st.nodeValue.length,Ze=st,A=!0;break}if(nt[st.nodeName.toLowerCase()]&&(!(et=st)||!/^(TD|TH|CAPTION)$/.test(et.nodeName))){qe=G.nodeIndex(st),Ze=st.parentNode,"IMG"!=st.nodeName||Ie||qe++,A=!0;break}}while(st=Ie?$e.next():$e.prev())}}}E&&(3===Ze.nodeType&&0===qe&&tt(!0),1===Ze.nodeType&&((st=Ze.childNodes[qe])||(st=Ze.childNodes[qe-1]),!st||"BR"!==st.nodeName||function Le(et,ct){return et.previousSibling&&et.previousSibling.nodeName==ct}(st,"A")||ae(st)||ae(st,!0)||tt(!0,st))),Ie&&!E&&3===Ze.nodeType&&qe===Ze.nodeValue.length&&tt(!1),A&&W["set"+(ie?"Start":"End")](Ze,qe)}}var A,E;return E=W.collapsed,F(!0),E||F(),A&&E&&W.collapse(!0),A}}var U=L.each,ne=x.isContentEditableTrue,X=x.isContentEditableFalse,le=v.isCaretContainer;return z.compareRanges=function(G,W){if(G&&W){if(!G.item&&!G.duplicate)return G.startContainer==W.startContainer&&G.startOffset==W.startOffset;if(G.item&&W.item&&G.item(0)===W.item(0)||G.isEqual&&W.isEqual&&W.isEqual(G))return!0}return!1},z.getCaretRangeFromPoint=function(G,W,F){var A,E;if(F.caretPositionFromPoint)E=F.caretPositionFromPoint(G,W),(A=F.createRange()).setStart(E.offsetNode,E.offset),A.collapse(!0);else if(F.caretRangeFromPoint)A=F.caretRangeFromPoint(G,W);else if(F.body.createTextRange){A=F.body.createTextRange();try{A.moveToPoint(G,W),A.collapse(!0)}catch{A=function V(G,W,F){var A,E,ie;if(A=F.elementFromPoint(G,W),E=F.body.createTextRange(),A&&"HTML"!=A.tagName||(A=F.body),E.moveToElementText(A),(ie=(ie=L.toArray(E.getClientRects())).sort(function(pe,ae){return(pe=Math.abs(Math.max(pe.top-W,pe.bottom-W)))-Math.abs(Math.max(ae.top-W,ae.bottom-W))})).length>0){W=(ie[0].bottom+ie[0].top)/2;try{return E.moveToPoint(G,W),E.collapse(!0),E}catch{}}return null}(G,W,F)}return function Y(G,W){var F=G&&G.parentElement?G.parentElement():null;return X(_(F,W,f))?null:G}(A,F.body)}return A},z.getSelectedNode=function(G){var W=G.startContainer,F=G.startOffset;return W.hasChildNodes()&&G.endOffset==F+1?W.childNodes[F]:null},z.getNode=function(G,W){return 1==G.nodeType&&G.hasChildNodes()&&(W>=G.childNodes.length&&(W=G.childNodes.length-1),G=G.childNodes[W]),G},z}),ve(je,[Re,J,j],function(L,M,x){return function(w){var f,p=[];"onselectionchange"in w.getDoc()||w.on("NodeChange Click MouseUp KeyUp Focus",function(_){var C,I;I={startContainer:(C=w.selection.getRng()).startContainer,startOffset:C.startOffset,endContainer:C.endContainer,endOffset:C.endOffset},"nodechange"!=_.type&&L.compareRanges(I,f)||w.fire("SelectionChange"),f=I}),w.on("contextmenu",function(){w.fire("SelectionChange")}),w.on("SelectionChange",function(){var _=w.selection.getStart(!0);!M.range&&w.selection.isCollapsed()||!function v(_){var C,I;if((I=w.$(_).parentsUntil(w.getBody()).add(_)).length===p.length){for(C=I.length;C>=0&&I[C]===p[C];C--);if(-1===C)return p=I,!0}return p=I,!1}(_)&&w.dom.isChildOf(_,w.getBody())&&w.nodeChanged({selectionChange:!0})}),w.on("MouseUp",function(_){_.isDefaultPrevented()||("IMG"==w.selection.getNode().nodeName?x.setEditorTimeout(w,function(){w.nodeChanged()}):w.nodeChanged())}),this.nodeChanged=function(_){var I,N,z,C=w.selection;w.initialized&&C&&!w.settings.disable_nodechange&&!w.readonly&&(z=w.getBody(),(I=C.getStart()||z).ownerDocument==w.getDoc()&&w.dom.isChildOf(I,z)||(I=z),"IMG"==I.nodeName&&C.isCollapsed()&&(I=I.parentNode),N=[],w.dom.getParent(I,function(V){return V===z||void N.push(V)}),(_=_||{}).element=I,_.parents=N,w.fire("NodeChange",_))}}}),ve(Je,[],function(){function L(v,f,p){var _,C,I=p?"lastChild":"firstChild",N=p?"prev":"next";if(v[I])return v[I];if(v!==f){if(_=v[N])return _;for(C=v.parent;C&&C!==f;C=C.parent)if(_=C[N])return _}}function M(v,f){this.name=v,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var x=/^[ \t\r\n]*$/,w={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return M.prototype={replace:function(v){var f=this;return v.parent&&v.remove(),f.insert(v,f),f.remove(),f},attr:function(v,f){var _,C,p=this;if("string"!=typeof v){for(C in v)p.attr(C,v[C]);return p}if(_=p.attributes){if(void 0!==f){if(null===f){if(v in _.map)for(delete _.map[v],C=_.length;C--;)if(_[C].name===v)return _=_.splice(C,1),p;return p}if(v in _.map){for(C=_.length;C--;)if(_[C].name===v){_[C].value=f;break}}else _.push({name:v,value:f});return _.map[v]=f,p}return _.map[v]}},clone:function(){var p,_,C,I,N,v=this,f=new M(v.name,v.type);if(C=v.attributes){for((N=[]).map={},p=0,_=C.length;p<_;p++)"id"!==(I=C[p]).name&&(N[N.length]={name:I.name,value:I.value},N.map[I.name]=I.value);f.attributes=N}return f.value=v.value,f.shortEnded=v.shortEnded,f},wrap:function(v){var f=this;return f.parent.insert(v,f),v.append(f),f},unwrap:function(){var f,p,v=this;for(f=v.firstChild;f;)p=f.next,v.insert(f,v,!0),f=p;v.remove()},remove:function(){var v=this,f=v.parent,p=v.next,_=v.prev;return f&&(f.firstChild===v?(f.firstChild=p,p&&(p.prev=null)):_.next=p,f.lastChild===v?(f.lastChild=_,_&&(_.next=null)):p.prev=_,v.parent=v.next=v.prev=null),v},append:function(v){var p,f=this;return v.parent&&v.remove(),(p=f.lastChild)?(p.next=v,v.prev=p,f.lastChild=v):f.lastChild=f.firstChild=v,v.parent=f,v},insert:function(v,f,p){var _;return v.parent&&v.remove(),_=f.parent||this,p?(f===_.firstChild?_.firstChild=v:f.prev.next=v,v.prev=f.prev,v.next=f,f.prev=v):(f===_.lastChild?_.lastChild=v:f.next.prev=v,v.next=f.next,v.prev=f,f.next=v),v.parent=_,v},getAll:function(v){var p,_=[];for(p=this.firstChild;p;p=L(p,this))p.name===v&&_.push(p);return _},empty:function(){var f,p,_,v=this;if(v.firstChild){for(f=[],_=v.firstChild;_;_=L(_,v))f.push(_);for(p=f.length;p--;)(_=f[p]).parent=_.firstChild=_.lastChild=_.next=_.prev=null}return v.firstChild=v.lastChild=null,v},isEmpty:function(v,f){var C,I,_=this.firstChild;if(f=f||{},_)do{if(1===_.type){if(_.attributes.map["data-mce-bogus"])continue;if(v[_.name])return!1;for(C=_.attributes.length;C--;)if("name"===(I=_.attributes[C].name)||0===I.indexOf("data-mce-bookmark"))return!1}if(8===_.type||3===_.type&&!x.test(_.value)||3===_.type&&_.parent&&f[_.parent.name]&&x.test(_.value))return!1}while(_=L(_,this));return!0},walk:function(v){return L(this,null,v)}},M.create=function(v,f){var p,_;if(p=new M(v,w[v]||1),f)for(_ in f)p.attr(_,f[_]);return p},M}),ve(ht,[K],function(L){function M(z,V){return(z=L.trim(z))?z.split(V||" "):[]}function w(z,V){var Y;return z&&(Y={},"string"==typeof z&&(z={"*":z}),_(z,function(U,ne){Y[ne]=Y[ne.toUpperCase()]="map"==V?p(U,/[, ]/):I(U,/[, ]/)})),Y}var v={},f={},p=L.makeMap,_=L.each,C=L.extend,I=L.explode,N=L.inArray;return function(z){function V(ct,xt,Wt){var ln=z[ct];return ln?ln=p(ln,/[, ]/,p(ln.toUpperCase(),/[, ]/)):(ln=v[ct])||(ln=p(xt," ",p(xt.toUpperCase()," ")),ln=C(ln,Wt),v[ct]=ln),ln}function Y(ct){return new RegExp("^"+ct.replace(/([?+*])/g,".$1")+"$")}function U(ct){var xt,Wt,ln,mn,wn,xn,yt,ze,Oe,ut,St,Ot,Ft,Mt,en,Ue,ot,pt,Lt,tn=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,Hn=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Gn=/[*?+]/;if(ct)for(ct=M(ct,","),F["@"]&&(Ue=F["@"].attributes,ot=F["@"].attributesOrder),xt=0,Wt=ct.length;xt<Wt;xt++)if(wn=tn.exec(ct[xt])){if(Oe=wn[2],en=wn[3],ze=wn[5],xn={attributes:Ot={},attributesOrder:Ft=[]},"#"===(Mt=wn[1])&&(xn.paddEmpty=!0),"-"===Mt&&(xn.removeEmpty=!0),"!"===wn[4]&&(xn.removeEmptyAttrs=!0),Ue){for(pt in Ue)Ot[pt]=Ue[pt];Ft.push.apply(Ft,ot)}if(ze)for(ln=0,mn=(ze=M(ze,"|")).length;ln<mn;ln++)if(wn=Hn.exec(ze[ln])){if(yt={},St=wn[1],ut=wn[2].replace(/::/g,":"),Mt=wn[3],Lt=wn[4],"!"===St&&(xn.attributesRequired=xn.attributesRequired||[],xn.attributesRequired.push(ut),yt.required=!0),"-"===St){delete Ot[ut],Ft.splice(N(Ft,ut),1);continue}Mt&&("="===Mt&&(xn.attributesDefault=xn.attributesDefault||[],xn.attributesDefault.push({name:ut,value:Lt}),yt.defaultValue=Lt),":"===Mt&&(xn.attributesForced=xn.attributesForced||[],xn.attributesForced.push({name:ut,value:Lt}),yt.forcedValue=Lt),"<"===Mt&&(yt.validValues=p(Lt,"?"))),Gn.test(ut)?(xn.attributePatterns=xn.attributePatterns||[],yt.pattern=Y(ut),xn.attributePatterns.push(yt)):(Ot[ut]||Ft.push(ut),Ot[ut]=yt)}Ue||"@"!=Oe||(Ue=Ot,ot=Ft),en&&(xn.outputName=Oe,F[en]=xn),Gn.test(Oe)?(xn.pattern=Y(Oe),E.push(xn)):F[Oe]=xn}}function ne(ct){F={},E=[],U(ct),_(ae,function(xt,Wt){A[Wt]=xt.children})}function X(ct){var xt=/^(~)?(.+)$/;ct&&(v.text_block_elements=v.block_elements=null,_(M(ct,","),function(Wt){var ln=xt.exec(Wt),mn="~"===ln[1],wn=mn?"span":"div",xn=ln[2];if(A[xn]=A[wn],Fe[xn]=wn,mn||($e[xn.toUpperCase()]={},$e[xn]={}),!F[xn]){var yt=F[wn];delete(yt=C({},yt)).removeEmptyAttrs,delete yt.removeEmpty,F[xn]=yt}_(A,function(ze,Oe){ze[wn]&&(A[Oe]=ze=C({},A[Oe]),ze[xn]=ze[wn])})}))}function le(ct){var xt=/^([+\-]?)(\w+)\[([^\]]+)\]$/;v[z.schema]=null,ct&&_(M(ct,","),function(Wt){var mn,wn,ln=xt.exec(Wt);ln&&(mn=(wn=ln[1])?A[ln[2]]:A[ln[2]]={"#comment":{}},mn=A[ln[2]],_(M(ln[3],"|"),function(xn){"-"===wn?delete mn[xn]:mn[xn]={}}))})}function G(ct){var Wt,xt=F[ct];if(xt)return xt;for(Wt=E.length;Wt--;)if((xt=E[Wt]).pattern.test(ct))return xt}var ie,pe,ae,Ce,Le,tt,Ze,qe,$e,Qe,st,nt,Ie,W=this,F={},A={},E=[],Fe={},et={};ae=function x(z){function V(A,E,ie){function pe(tt,Ze){var $e,Qe,qe={};for($e=0,Qe=tt.length;$e<Qe;$e++)qe[tt[$e]]=Ze||{};return qe}var ae,Ce,Le;for(E=E||"","string"==typeof(ie=ie||[])&&(ie=M(ie)),ae=(A=M(A)).length;ae--;)Le={attributes:pe(Ce=M([ne,E].join(" "))),attributesOrder:Ce,children:pe(ie,f)},U[A[ae]]=Le}function Y(A,E){var ie,pe,ae,Ce;for(ie=(A=M(A)).length,E=M(E);ie--;)for(pe=U[A[ie]],ae=0,Ce=E.length;ae<Ce;ae++)pe.attributes[E[ae]]={},pe.attributesOrder.push(E[ae])}var ne,X,le,G,W,F,U={};return v[z]?v[z]:(ne="id accesskey class dir lang style tabindex title",X="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",le="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=z&&(ne+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",X+=" article aside details dialog figure header footer hgroup section nav",le+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=z&&(ne+=" xml:lang",le=[le,F="acronym applet basefont big font strike tt"].join(" "),_(M(F),function(A){V(A,"",le)}),X=[X,W="center dir isindex noframes"].join(" "),G=[X,le].join(" "),_(M(W),function(A){V(A,"",G)})),G=G||[X,le].join(" "),V("html","manifest","head body"),V("head","","base command link meta noscript script style title"),V("title hr noscript br"),V("base","href target"),V("link","href rel media hreflang type sizes hreflang"),V("meta","name http-equiv content charset"),V("style","media type scoped"),V("script","src async defer type charset"),V("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",G),V("address dt dd div caption","",G),V("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",le),V("blockquote","cite",G),V("ol","reversed start type","li"),V("ul","","li"),V("li","value",G),V("dl","","dt dd"),V("a","href target rel media hreflang type",le),V("q","cite",le),V("ins del","cite datetime",G),V("img","src sizes srcset alt usemap ismap width height"),V("iframe","src name width height",G),V("embed","src type width height"),V("object","data type typemustmatch name usemap form width height",[G,"param"].join(" ")),V("param","name value"),V("map","name",[G,"area"].join(" ")),V("area","alt coords shape href target rel media hreflang type"),V("table","border","caption colgroup thead tfoot tbody tr"+("html4"==z?" col":"")),V("colgroup","span","col"),V("col","span"),V("tbody thead tfoot","","tr"),V("tr","","td th"),V("td","colspan rowspan headers",G),V("th","colspan rowspan headers scope abbr",G),V("form","accept-charset action autocomplete enctype method name novalidate target",G),V("fieldset","disabled form name",[G,"legend"].join(" ")),V("label","form for",le),V("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),V("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==z?G:le),V("select","disabled form multiple name required size","option optgroup"),V("optgroup","disabled label","option"),V("option","disabled label selected value"),V("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),V("menu","type label",[G,"li"].join(" ")),V("noscript","",G),"html4"!=z&&(V("wbr"),V("ruby","",[le,"rt rp"].join(" ")),V("figcaption","",G),V("mark rt rp summary bdi","",le),V("canvas","width height",G),V("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[G,"track source"].join(" ")),V("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[G,"track source"].join(" ")),V("picture","","img source"),V("source","src srcset type media sizes"),V("track","kind src srclang label default"),V("datalist","",[le,"option"].join(" ")),V("article section nav aside header footer","",G),V("hgroup","","h1 h2 h3 h4 h5 h6"),V("figure","",[G,"figcaption"].join(" ")),V("time","datetime",le),V("dialog","open",G),V("command","type label icon disabled checked radiogroup command"),V("output","for form name",le),V("progress","value max",le),V("meter","value min max low high optimum",le),V("details","open",[G,"summary"].join(" ")),V("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=z&&(Y("script","language xml:space"),Y("style","xml:space"),Y("object","declare classid code codebase codetype archive standby align border hspace vspace"),Y("embed","align name hspace vspace"),Y("param","valuetype type"),Y("a","charset name rev shape coords"),Y("br","clear"),Y("applet","codebase archive code object alt name width height align hspace vspace"),Y("img","name longdesc align border hspace vspace"),Y("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Y("font basefont","size color face"),Y("input","usemap align"),Y("select","onchange"),Y("textarea"),Y("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Y("ul","type compact"),Y("li","type"),Y("ol dl menu dir","compact"),Y("pre","width xml:space"),Y("hr","align noshade size width"),Y("isindex","prompt"),Y("table","summary width frame rules cellspacing cellpadding align bgcolor"),Y("col","width align char charoff valign"),Y("colgroup","width align char charoff valign"),Y("thead","align char charoff valign"),Y("tr","align char charoff valign bgcolor"),Y("th","axis align char charoff valign nowrap bgcolor width height"),Y("form","accept"),Y("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Y("tfoot","align char charoff valign"),Y("tbody","align char charoff valign"),Y("area","nohref"),Y("body","background bgcolor text link vlink alink")),"html4"!=z&&(Y("input button select textarea","autofocus"),Y("input textarea","placeholder"),Y("a","download"),Y("link script img","crossorigin"),Y("iframe","sandbox seamless allowfullscreen")),_(M("a form meter progress dfn"),function(A){U[A]&&delete U[A].children[A]}),delete U.caption.children.table,delete U.script,v[z]=U,U)}((z=z||{}).schema),!1===z.verify_html&&(z.valid_elements="*[*]"),ie=w(z.valid_styles),pe=w(z.invalid_styles,"map"),qe=w(z.valid_classes,"map"),Ce=V("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Le=V("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),tt=V("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ze=V("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Qe=V("non_empty_elements","td th iframe video audio object script pre code",tt),st=V("move_caret_before_on_enter_elements","table",Qe),nt=V("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),$e=V("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",nt),Ie=V("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),_((z.special||"script noscript style textarea").split(" "),function(ct){et[ct]=new RegExp("</"+ct+"[^>]*>","gi")}),z.valid_elements?ne(z.valid_elements):(_(ae,function(ct,xt){F[xt]={attributes:ct.attributes,attributesOrder:ct.attributesOrder},A[xt]=ct.children}),"html5"!=z.schema&&_(M("strong/b em/i"),function(ct){ct=M(ct,"/"),F[ct[1]].outputName=ct[0]}),_(M("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(ct){F[ct]&&(F[ct].removeEmpty=!0)}),_(M("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(ct){F[ct].paddEmpty=!0}),_(M("span"),function(ct){F[ct].removeEmptyAttrs=!0})),X(z.custom_elements),le(z.valid_children),U(z.extended_valid_elements),le("+ol[ul|ol],+ul[ul|ol]"),_({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(ct,xt){F[xt]&&(F[xt].parentsRequired=M(ct))}),z.invalid_elements&&_(I(z.invalid_elements),function(ct){F[ct]&&delete F[ct]}),G("span")||U("span[!data-mce-type|*]"),W.children=A,W.getValidStyles=function(){return ie},W.getInvalidStyles=function(){return pe},W.getValidClasses=function(){return qe},W.getBoolAttrs=function(){return Ze},W.getBlockElements=function(){return $e},W.getTextBlockElements=function(){return nt},W.getTextInlineElements=function(){return Ie},W.getShortEndedElements=function(){return tt},W.getSelfClosingElements=function(){return Le},W.getNonEmptyElements=function(){return Qe},W.getMoveCaretBeforeOnEnterElements=function(){return st},W.getWhiteSpaceElements=function(){return Ce},W.getSpecialElements=function(){return et},W.isValidChild=function(ct,xt){var Wt=A[ct];return!(!Wt||!Wt[xt])},W.isValid=function(ct,xt){var Wt,ln,mn=G(ct);if(mn){if(!xt||mn.attributes[xt])return!0;if(Wt=mn.attributePatterns)for(ln=Wt.length;ln--;)if(Wt[ln].pattern.test(ct))return!0}return!1},W.getElementRule=G,W.getCustomElements=function(){return Fe},W.addValidElements=U,W.setValidElements=ne,W.addCustomElements=X,W.addValidChildren=le,W.elements=F}}),ve(dt,[ht,Ne,K],function(L,M,x){function w(p,_,C){var N,z,V,Y,I=1;for(Y=p.getShortEndedElements(),(V=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=N=C;z=V.exec(_);){if(N=V.lastIndex,"/"===z[1])I--;else if(!z[1]){if(z[2]in Y)continue;I++}if(0===I)break}return N}function v(p,_){function C(){}var I=this;p=p||{},I.schema=_=_||new L,!1!==p.fix_self_closing&&(p.fix_self_closing=!0),f("comment cdata text start end pi doctype".split(" "),function(N){N&&(I[N]=p[N]||C)}),I.parse=function(N){function z(Ot){var Ft,Mt;for(Ft=G.length;Ft--&&G[Ft].name!==Ot;);if(Ft>=0){for(Mt=G.length-1;Mt>=Ft;Mt--)(Ot=G[Mt]).valid&&Y.end(Ot.name);G.length=Ft}}function V(Ot,Ft,Mt,en,Ue){var ot,pt;if(Mt=(Ft=Ft.toLowerCase())in Ce?Ft:yt(Mt||en||Ue||""),tt&&!ie&&0!==Ft.indexOf("data-")){if(!(ot=st[Ft])&&nt){for(pt=nt.length;pt--&&!(ot=nt[pt]).pattern.test(Ft););-1===pt&&(ot=null)}if(!ot||ot.validValues&&!(Mt in ot.validValues))return}if(Oe[Ft]&&!p.allow_script_urls){var tn=Mt.replace(/[\s\u0000-\u001F]+/g,"");try{tn=decodeURIComponent(tn)}catch{tn=unescape(tn)}if(ut.test(tn)||!p.allow_html_data_urls&&St.test(tn)&&!/^data:image\//i.test(tn))return}W.map[Ft]=Mt,W.push({name:Ft,value:Mt})}var U,X,le,W,F,A,E,ie,pe,ae,Ce,Le,tt,Ze,qe,$e,Qe,st,nt,Ie,Fe,et,xt,Wt,ln,mn,wn,ze,Y=this,ne=0,G=[],xn=0,yt=M.decode,Oe=x.makeMap("src,href,data,background,formaction,poster"),ut=/((java|vb)script|mhtml):/i,St=/^data:/i;for(Wt=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),ln=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ae=_.getShortEndedElements(),xt=p.self_closing_elements||_.getSelfClosingElements(),Ce=_.getBoolAttrs(),tt=p.validate,pe=p.remove_internals,ze=p.fix_self_closing,mn=_.getSpecialElements();U=Wt.exec(N);){if(ne<U.index&&Y.text(yt(N.substr(ne,U.index-ne))),X=U[6])":"===(X=X.toLowerCase()).charAt(0)&&(X=X.substr(1)),z(X);else if(X=U[7]){if(":"===(X=X.toLowerCase()).charAt(0)&&(X=X.substr(1)),Le=X in ae,ze&&xt[X]&&G.length>0&&G[G.length-1].name===X&&z(X),!tt||(Ze=_.getElementRule(X))){if(qe=!0,tt&&(st=Ze.attributes,nt=Ze.attributePatterns),(Qe=U[8])?((ie=-1!==Qe.indexOf("data-mce-type"))&&pe&&(qe=!1),(W=[]).map={},Qe.replace(ln,V)):(W=[]).map={},tt&&!ie){if(Ie=Ze.attributesRequired,Fe=Ze.attributesDefault,Ze.removeEmptyAttrs&&!W.length&&(qe=!1),et=Ze.attributesForced)for(F=et.length;F--;)"{$uid}"===(wn=($e=et[F]).value)&&(wn="mce_"+xn++),W.map[E=$e.name]=wn,W.push({name:E,value:wn});if(Fe)for(F=Fe.length;F--;)(E=($e=Fe[F]).name)in W.map||("{$uid}"===(wn=$e.value)&&(wn="mce_"+xn++),W.map[E]=wn,W.push({name:E,value:wn}));if(Ie){for(F=Ie.length;F--&&!(Ie[F]in W.map););-1===F&&(qe=!1)}if($e=W.map["data-mce-bogus"]){if("all"===$e){ne=w(_,N,Wt.lastIndex),Wt.lastIndex=ne;continue}qe=!1}}qe&&Y.start(X,W,Le)}else qe=!1;if(le=mn[X]){le.lastIndex=ne=U.index+U[0].length,(U=le.exec(N))?(qe&&(A=N.substr(ne,U.index-ne)),ne=U.index+U[0].length):(A=N.substr(ne),ne=N.length),qe&&(A.length>0&&Y.text(A,!0),Y.end(X)),Wt.lastIndex=ne;continue}Le||(Qe&&Qe.indexOf("/")==Qe.length-1?qe&&Y.end(X):G.push({name:X,valid:qe}))}else(X=U[1])?(">"===X.charAt(0)&&(X=" "+X),p.allow_conditional_comments||"[if"!==X.substr(0,3).toLowerCase()||(X=" "+X),Y.comment(X)):(X=U[2])?Y.cdata(X):(X=U[3])?Y.doctype(X):(X=U[4])&&Y.pi(X,U[5]);ne=U.index+U[0].length}for(ne<N.length&&Y.text(yt(N.substr(ne))),F=G.length-1;F>=0;F--)(X=G[F]).valid&&Y.end(X.name)}}var f=x.each;return v.findEndTag=w,v}),ve(Nt,[Je,ht,dt,K],function(L,M,x,w){var v=w.makeMap,f=w.each,p=w.explode,_=w.extend,C=function(N,z){N.padd_empty_with_br?z.empty().append(new L("br","1")).shortEnded=!0:z.empty().append(new L("#text","3")).value="\xa0"},I=function(N,z){return N&&N.firstChild===N.lastChild&&N.firstChild.name===z};return function(N,z){var Y=this,U={},ne=[],X={},le={};(N=N||{}).validate=!("validate"in N)||N.validate,N.root_name=N.root_name||"body",Y.schema=z=z||new M,Y.filterNode=function(G){var W,F,A;for((F in U&&((A=X[F])?A.push(G):X[F]=[G]),W=ne.length);W--;)(F=ne[W].name)in G.attributes.map&&((A=le[F])?A.push(G):le[F]=[G]);return G},Y.addNodeFilter=function(G,W){f(p(G),function(F){var A=U[F];A||(U[F]=A=[]),A.push(W)})},Y.addAttributeFilter=function(G,W){f(p(G),function(F){var A;for(A=0;A<ne.length;A++)if(ne[A].name===F)return void ne[A].callbacks.push(W);ne.push({name:F,callbacks:[W]})})},Y.parse=function(G,W){function A(ze,Oe){var St,ut=new L(ze,Oe);return ze in U&&((St=X[ze])?St.push(ut):X[ze]=[ut]),ut}function E(ze){var Oe,ut,St,Ot,Ft=z.getBlockElements();for(Oe=ze.prev;Oe&&3===Oe.type;){if((St=Oe.value.replace(xt,"")).length>0)return void(Oe.value=St);if(ut=Oe.next){if(3==ut.type&&ut.value.length){Oe=Oe.prev;continue}if(!Ft[ut.name]&&"script"!=ut.name&&"style"!=ut.name){Oe=Oe.prev;continue}}Ot=Oe.prev,Oe.remove(),Oe=Ot}}var pe,ae,Ce,Le,tt,Ze,qe,$e,Qe,st,nt,Ie,Fe,ct,xt,Wt,ln,mn,wn,xn,yt,et=[];if(W=W||{},X={},le={},Ie=_(v("script,style,head,html,body,title,meta,param"),z.getBlockElements()),xn=z.getNonEmptyElements(),wn=z.children,nt=N.validate,yt="forced_root_block"in W?W.forced_root_block:N.forced_root_block,mn=z.getWhiteSpaceElements(),Fe=/^[ \t\r\n]+/,xt=/[ \t\r\n]+$/,Wt=/[ \t\r\n]+/g,ln=/^[ \t\r\n]+$/,pe=new x({validate:nt,allow_script_urls:N.allow_script_urls,allow_conditional_comments:N.allow_conditional_comments,self_closing_elements:function ie(ze){var Oe,ut={};for(Oe in ze)"li"!==Oe&&"p"!=Oe&&(ut[Oe]=ze[Oe]);return ut}(z.getSelfClosingElements()),cdata:function(ze){Ce.append(A("#cdata",4)).value=ze},text:function(ze,Oe){var ut;ct||(ze=ze.replace(Wt," "),Ce.lastChild&&Ie[Ce.lastChild.name]&&(ze=ze.replace(Fe,""))),0!==ze.length&&((ut=A("#text",3)).raw=!!Oe,Ce.append(ut).value=ze)},comment:function(ze){Ce.append(A("#comment",8)).value=ze},pi:function(ze,Oe){Ce.append(A(ze,7)).value=Oe,E(Ce)},doctype:function(ze){Ce.append(A("#doctype",10)).value=ze,E(Ce)},start:function(ze,Oe,ut){var St,Ot,Ft,Mt,en;if(Ft=nt?z.getElementRule(ze):{}){for((St=A(Ft.outputName||ze,1)).attributes=Oe,St.shortEnded=ut,Ce.append(St),(en=wn[Ce.name])&&wn[St.name]&&!en[St.name]&&et.push(St),Ot=ne.length;Ot--;)(Mt=ne[Ot].name)in Oe.map&&((Qe=le[Mt])?Qe.push(St):le[Mt]=[St]);Ie[ze]&&E(St),ut||(Ce=St),!ct&&mn[ze]&&(ct=!0)}},end:function(ze){var Oe,ut,St,Ot,Ft;if(ut=nt?z.getElementRule(ze):{}){if(Ie[ze]&&!ct){if((Oe=Ce.firstChild)&&3===Oe.type)if((St=Oe.value.replace(Fe,"")).length>0)Oe.value=St,Oe=Oe.next;else for(Ot=Oe.next,Oe.remove(),Oe=Ot;Oe&&3===Oe.type;)Ot=Oe.next,(0===(St=Oe.value).length||ln.test(St))&&(Oe.remove(),Oe=Ot),Oe=Ot;if((Oe=Ce.lastChild)&&3===Oe.type)if((St=Oe.value.replace(xt,"")).length>0)Oe.value=St,Oe=Oe.prev;else for(Ot=Oe.prev,Oe.remove(),Oe=Ot;Oe&&3===Oe.type;)Ot=Oe.prev,(0===(St=Oe.value).length||ln.test(St))&&(Oe.remove(),Oe=Ot),Oe=Ot}if(ct&&mn[ze]&&(ct=!1),(ut.removeEmpty||ut.paddEmpty)&&Ce.isEmpty(xn,mn))if(ut.paddEmpty)C(N,Ce);else if(!Ce.attributes.map.name&&!Ce.attributes.map.id)return Ft=Ce.parent,Ie[Ce.name]?Ce.empty().remove():Ce.unwrap(),void(Ce=Ft);Ce=Ce.parent}}},z),ae=Ce=new L(W.context||N.root_name,11),pe.parse(G),nt&&et.length&&(W.context?W.invalid=!0:function V(G){var W,F,A,E,ie,pe,ae,Ce,Le,tt,Ze,qe,$e,Qe,st,nt;for(qe=v("tr,td,th,tbody,thead,tfoot,table"),tt=z.getNonEmptyElements(),Ze=z.getWhiteSpaceElements(),$e=z.getTextBlockElements(),Qe=z.getSpecialElements(),W=0;W<G.length;W++)if((F=G[W]).parent&&!F.fixed)if($e[F.name]&&"li"==F.parent.name){for(st=F.next;st&&$e[st.name];)st.name="li",st.fixed=!0,F.parent.insert(st,F.parent),st=st.next;F.unwrap(F)}else{for(E=[F],A=F.parent;A&&!z.isValidChild(A.name,F.name)&&!qe[A.name];A=A.parent)E.push(A);if(A&&E.length>1){for(E.reverse(),ie=pe=Y.filterNode(E[0].clone()),Le=0;Le<E.length-1;Le++){for(z.isValidChild(pe.name,E[Le].name)?(ae=Y.filterNode(E[Le].clone()),pe.append(ae)):ae=pe,Ce=E[Le].firstChild;Ce&&Ce!=E[Le+1];)nt=Ce.next,ae.append(Ce),Ce=nt;pe=ae}ie.isEmpty(tt,Ze)?A.insert(F,E[0],!0):(A.insert(ie,E[0],!0),A.insert(F,ie)),((A=E[0]).isEmpty(tt,Ze)||I(A,"br"))&&A.empty().remove()}else if(F.parent){if("li"===F.name){if((st=F.prev)&&("ul"===st.name||"ul"===st.name)){st.append(F);continue}if((st=F.next)&&("ul"===st.name||"ul"===st.name)){st.insert(F,st.firstChild,!0);continue}F.wrap(Y.filterNode(new L("ul",1)));continue}z.isValidChild(F.parent.name,"div")&&z.isValidChild("div",F.name)?F.wrap(Y.filterNode(new L("div",1))):Qe[F.name]?F.empty().remove():F.unwrap()}}}(et)),yt&&("body"==ae.name||W.isRootContent)&&function F(){function ze(Ot){Ot&&((Oe=Ot.firstChild)&&3==Oe.type&&(Oe.value=Oe.value.replace(Fe,"")),(Oe=Ot.lastChild)&&3==Oe.type&&(Oe.value=Oe.value.replace(xt,"")))}var ut,St,Oe=ae.firstChild;if(z.isValidChild(ae.name,yt.toLowerCase())){for(;Oe;)ut=Oe.next,3==Oe.type||1==Oe.type&&"p"!==Oe.name&&!Ie[Oe.name]&&!Oe.attr("data-mce-type")?(St||((St=A(yt,1)).attr(N.forced_root_block_attrs),ae.insert(St,Oe)),St.append(Oe)):(ze(St),St=null),Oe=ut;ze(St)}}(),!W.invalid){for(st in X){for(Qe=U[st],qe=(Le=X[st]).length;qe--;)Le[qe].parent||Le.splice(qe,1);for(tt=0,Ze=Qe.length;tt<Ze;tt++)Qe[tt](Le,st,W)}for(tt=0,Ze=ne.length;tt<Ze;tt++)if((Qe=ne[tt]).name in le){for(qe=(Le=le[Qe.name]).length;qe--;)Le[qe].parent||Le.splice(qe,1);for(qe=0,$e=Qe.callbacks.length;qe<$e;qe++)Qe.callbacks[qe](Le,Qe.name,W)}}return ae},N.remove_trailing_brs&&Y.addNodeFilter("br",function(G){var W,A,pe,ae,Ce,Le,Ze,qe,F=G.length,E=_({},z.getBlockElements()),ie=z.getNonEmptyElements(),tt=z.getNonEmptyElements();for(E.body=1,W=0;W<F;W++)if(pe=(A=G[W]).parent,E[A.parent.name]&&A===pe.lastChild){for(Ce=A.prev;Ce;){if("span"!==(Le=Ce.name)||"bookmark"!==Ce.attr("data-mce-type")){if("br"!==Le)break;if("br"===Le){A=null;break}}Ce=Ce.prev}A&&(A.remove(),pe.isEmpty(ie,tt)&&(Ze=z.getElementRule(pe.name))&&(Ze.removeEmpty?pe.remove():Ze.paddEmpty&&C(N,pe)))}else{for(ae=A;pe&&pe.firstChild===ae&&pe.lastChild===ae&&(ae=pe,!E[pe.name]);)pe=pe.parent;ae===pe&&!0!==N.padd_empty_with_br&&((qe=new L("#text",3)).value="\xa0",A.replace(qe))}}),N.allow_unsafe_link_target||Y.addAttributeFilter("href",function(G){function F(Ce){var Le=new RegExp("("+ae.replace(" ","|")+")","g");return Ce&&(Ce=w.trim(Ce.replace(Le,""))),Ce||null}for(var ie,pe,E=G.length,ae="noopener noreferrer";E--;)pe=(ie=G[E]).attr("rel"),"a"===ie.name&&ie.attr("rel",(Ce=pe,"_blank"==ie.attr("target")?function W(Ce){return(Ce=F(Ce))?[Ce,ae].join(" "):ae}(Ce):F(Ce)));var Ce}),N.allow_html_in_named_anchor||Y.addAttributeFilter("id,name",function(G){for(var F,A,E,ie,W=G.length;W--;)if("a"===(ie=G[W]).name&&ie.firstChild&&!ie.attr("href")){E=ie.parent,F=ie.lastChild;do{A=F.prev,E.insert(F,ie),F=A}while(F)}}),N.fix_list_elements&&Y.addNodeFilter("ul,ol",function(G){for(var F,A,W=G.length;W--;)if("ul"===(A=(F=G[W]).parent).name||"ol"===A.name)if(F.prev&&"li"===F.prev.name)F.prev.append(F);else{var E=new L("li",1);E.attr("style","list-style-type: none"),F.wrap(E)}}),N.validate&&z.getValidClasses()&&Y.addAttributeFilter("class",function(G){for(var F,A,E,ie,pe,Ce,Le,W=G.length,ae=z.getValidClasses();W--;){for(A=(F=G[W]).attr("class").split(" "),pe="",E=0;E<A.length;E++)ie=A[E],Le=!1,(Ce=ae["*"])&&Ce[ie]&&(Le=!0),Ce=ae[F.name],!Le&&Ce&&Ce[ie]&&(Le=!0),Le&&(pe&&(pe+=" "),pe+=ie);pe.length||(pe=null),F.attr("class",pe)}})}}),ve(bt,[Ne,K],function(L,M){var x=M.makeMap;return function(w){var f,p,_,C,I,v=[];return f=(w=w||{}).indent,p=x(w.indent_before||""),_=x(w.indent_after||""),C=L.getEncodeFunc(w.entity_encoding||"raw",w.entities),I="html"==w.element_format,{start:function(N,z,V){var Y,U,ne,X;if(f&&p[N]&&v.length>0&&(X=v[v.length-1]).length>0&&"\n"!==X&&v.push("\n"),v.push("<",N),z)for(Y=0,U=z.length;Y<U;Y++)v.push(" ",(ne=z[Y]).name,'="',C(ne.value,!0),'"');v[v.length]=!V||I?">":" />",V&&f&&_[N]&&v.length>0&&(X=v[v.length-1]).length>0&&"\n"!==X&&v.push("\n")},end:function(N){var z;v.push("</",N,">"),f&&_[N]&&v.length>0&&(z=v[v.length-1]).length>0&&"\n"!==z&&v.push("\n")},text:function(N,z){N.length>0&&(v[v.length]=z?N:C(N))},cdata:function(N){v.push("<![CDATA[",N,"]]>")},comment:function(N){v.push("\x3c!--",N,"--\x3e")},pi:function(N,z){z?v.push("<?",N," ",C(z),"?>"):v.push("<?",N,"?>"),f&&v.push("\n")},doctype:function(N){v.push("<!DOCTYPE",N,">",f?"\n":"")},reset:function(){v.length=0},getContent:function(){return v.join("").replace(/\n$/,"")}}}}),ve(on,[bt,ht],function(L,M){return function(x,w){var v=this,f=new L(x);(x=x||{}).validate=!("validate"in x)||x.validate,v.schema=w=w||new M,v.writer=f,v.serialize=function(p){function _(N){var V,Y,U,ne,X,le,G,W,F,z=C[N.type];if(z)z(N);else{if(V=N.name,Y=N.shortEnded,U=N.attributes,I&&U&&U.length>1&&((le=[]).map={},F=w.getElementRule(N.name))){for(G=0,W=F.attributesOrder.length;G<W;G++)(ne=F.attributesOrder[G])in U.map&&(le.map[ne]=X=U.map[ne],le.push({name:ne,value:X}));for(G=0,W=U.length;G<W;G++)(ne=U[G].name)in le.map||(le.map[ne]=X=U.map[ne],le.push({name:ne,value:X}));U=le}if(f.start(N.name,U,Y),!Y){if(N=N.firstChild)do{_(N)}while(N=N.next);f.end(V)}}}var C,I;return I=x.validate,C={3:function(N){f.text(N.value,N.raw)},8:function(N){f.comment(N.value)},7:function(N){f.pi(N.name,N.value)},10:function(N){f.doctype(N.value)},4:function(N){f.cdata(N.value)},11:function(N){if(N=N.firstChild)do{_(N)}while(N=N.next)}},f.reset(),1!=p.type||x.inner?C[11](p):_(p),f.getContent()}}}),ve(Tt,[P,Nt,dt,Ne,on,Je,ht,J,K,Ve],function(L,M,x,w,v,f,p,_,C,I){var z=C.each,V=C.trim,Y=L.DOM;return function(U,ne){function X(pe){var ae=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+ie.join("|")+')="[^"]+"'].join("|"),"gi");return I.trim(pe.replace(ae,""))}function le(pe){var Le,tt,Ze,qe,$e,ae=pe,Ce=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,Qe=ne.schema;for(ae=X(ae),$e=Qe.getShortEndedElements();qe=Ce.exec(ae);)tt=Ce.lastIndex,Ze=qe[0].length,Le=$e[qe[1]]?tt:x.findEndTag(Qe,ae,tt),ae=ae.substring(0,tt-Ze)+ae.substring(Le),Ce.lastIndex=tt-Ze;return ae}var F,A,E,ie=["data-mce-selected"];return ne&&(F=ne.dom,A=ne.schema),F=F||Y,A=A||new p(U),U.entity_encoding=U.entity_encoding||"named",U.remove_trailing_brs=!("remove_trailing_brs"in U)||U.remove_trailing_brs,(E=new M(U,A)).addAttributeFilter("data-mce-tabindex",function(pe,ae){for(var Le,Ce=pe.length;Ce--;)(Le=pe[Ce]).attr("tabindex",Le.attributes.map["data-mce-tabindex"]),Le.attr(ae,null)}),E.addAttributeFilter("src,href,style",function(pe,ae){for(var Le,tt,Ce=pe.length,Ze="data-mce-"+ae,qe=U.url_converter,$e=U.url_converter_scope;Ce--;)void 0!==(tt=(Le=pe[Ce]).attributes.map[Ze])?(Le.attr(ae,tt.length>0?tt:null),Le.attr(Ze,null)):(tt=Le.attributes.map[ae],"style"===ae?tt=F.serializeStyle(F.parseStyle(tt),Le.name):qe&&(tt=qe.call($e,tt,ae,Le.name)),Le.attr(ae,tt.length>0?tt:null))}),E.addAttributeFilter("class",function(pe){for(var Ce,Le,ae=pe.length;ae--;)(Le=(Ce=pe[ae]).attr("class"))&&(Le=Ce.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),Ce.attr("class",Le.length>0?Le:null))}),E.addAttributeFilter("data-mce-type",function(pe,ae,Ce){for(var tt,Le=pe.length;Le--;)"bookmark"!==(tt=pe[Le]).attributes.map["data-mce-type"]||Ce.cleanup||tt.remove()}),E.addNodeFilter("noscript",function(pe){for(var Ce,ae=pe.length;ae--;)(Ce=pe[ae].firstChild)&&(Ce.value=w.decode(Ce.value))}),E.addNodeFilter("script,style",function(pe,ae){function Ce($e){return $e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var tt,Ze,qe,Le=pe.length;Le--;)Ze=(tt=pe[Le]).firstChild?tt.firstChild.value:"","script"===ae?((qe=tt.attr("type"))&&tt.attr("type","mce-no/type"==qe?null:qe.replace(/^mce\-/,"")),Ze.length>0&&(tt.firstChild.value="// <![CDATA[\n"+Ce(Ze)+"\n// ]]>")):Ze.length>0&&(tt.firstChild.value="\x3c!--\n"+Ce(Ze)+"\n--\x3e")}),E.addNodeFilter("#comment",function(pe){for(var Ce,ae=pe.length;ae--;)0===(Ce=pe[ae]).value.indexOf("[CDATA[")?(Ce.name="#cdata",Ce.type=4,Ce.value=Ce.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===Ce.value.indexOf("mce:protected ")&&(Ce.name="#text",Ce.type=3,Ce.raw=!0,Ce.value=unescape(Ce.value).substr(14))}),E.addNodeFilter("xml:namespace,input",function(pe,ae){for(var Le,Ce=pe.length;Ce--;)7===(Le=pe[Ce]).type?Le.remove():1===Le.type&&("input"!==ae||"type"in Le.attributes.map||Le.attr("type","text"))}),E.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(pe,ae){for(var Ce=pe.length;Ce--;)pe[Ce].attr(ae,null)}),{schema:A,addNodeFilter:E.addNodeFilter,addAttributeFilter:E.addAttributeFilter,serialize:function(pe,ae){var Le,tt,Ze,qe,$e,Qe;return _.ie&&F.select("script,style,select,map").length>0?($e=pe.innerHTML,pe=pe.cloneNode(!1),F.setHTML(pe,$e)):pe=pe.cloneNode(!0),(Le=document.implementation).createHTMLDocument&&(tt=Le.createHTMLDocument(""),z("BODY"==pe.nodeName?pe.childNodes:[pe],function(st){tt.body.appendChild(tt.importNode(st,!0))}),pe="BODY"!=pe.nodeName?tt.body.firstChild:tt.body,Ze=F.doc,F.doc=tt),(ae=ae||{}).format=ae.format||"html",ae.selection&&(ae.forced_root_block=""),ae.no_events||(ae.node=pe,this.onPreProcess(ae)),function N(U){function ne(G){return G&&"br"===G.name}var X,le;ne(X=U.lastChild)&&ne(le=X.prev)&&(X.remove(),le.remove())}(Qe=E.parse(V(ae.getInner?pe.innerHTML:F.getOuterHTML(pe)),ae)),qe=new v(U,A),ae.content=qe.serialize(Qe),ae.cleanup||(ae.content=I.trim(ae.content),ae.content=ae.content.replace(/\uFEFF/g,"")),ae.no_events||this.onPostProcess(ae),Ze&&(F.doc=Ze),ae.node=null,ae.content},addRules:function(pe){A.addValidElements(pe)},setRules:function(pe){A.setValidElements(pe)},onPreProcess:function(pe){ne&&ne.fire("PreProcess",pe)},onPostProcess:function(pe){ne&&ne.fire("PostProcess",pe)},addTempAttr:function W(pe){-1===C.inArray(ie,pe)&&(E.addAttributeFilter(pe,function(ae,Ce){for(var Le=ae.length;Le--;)ae[Le].attr(Ce,null)}),ie.push(pe))},trimHtml:X,getTrimmedContent:function G(){return le(ne.getBody().innerHTML)},trimContent:le}}}),ve(Pt,[],function(){return function L(M){function x(_,C){var I,z,V,Y,U,ne,X,G,N=0,le=-1;if((I=_.duplicate()).collapse(C),(G=I.parentElement()).ownerDocument===M.dom.doc){for(;"false"===G.contentEditable;)G=G.parentNode;if(!G.hasChildNodes())return{node:G,inside:1};for(z=(Y=G.children).length-1;N<=z;)if(X=Math.floor((N+z)/2),I.moveToElementText(U=Y[X]),(le=I.compareEndPoints(C?"StartToStart":"EndToEnd",_))>0)z=X-1;else{if(!(le<0))return{node:U};N=X+1}if(le<0)for(U?I.collapse(!1):(I.moveToElementText(G),I.collapse(!0),U=G,V=!0),ne=0;0!==I.compareEndPoints(C?"StartToStart":"StartToEnd",_)&&0!==I.move("character",1)&&G==I.parentElement();)ne++;else for(I.collapse(!0),ne=0;0!==I.compareEndPoints(C?"StartToStart":"StartToEnd",_)&&0!==I.move("character",-1)&&G==I.parentElement();)ne++;return{node:U,position:le,offset:ne,inside:V}}}var v=this,f=M.dom,p=!1;this.getBookmark=function(_){function C(V){var Y,U,ne,X,le=[];for(Y=V.parentNode,U=f.getRoot().parentNode;Y!=U&&9!==Y.nodeType;){for(X=(ne=Y.children).length;X--;)if(V===ne[X]){le.push(X);break}V=Y,Y=Y.parentNode}return le}function I(V){var Y;if(Y=x(N,V))return{position:Y.position,offset:Y.offset,indexes:C(Y.node),inside:Y.inside}}var N=M.getRng(),z={};return 2===_&&(N.item?z.start={ctrl:!0,indexes:C(N.item(0))}:(z.start=I(!0),M.isCollapsed()||(z.end=I()))),z},this.moveToBookmark=function(_){function C(V){var Y,U,ne,X;for(Y=f.getRoot(),U=V.length-1;U>=0;U--)(ne=V[U])<=(X=Y.children).length-1&&(Y=X[ne]);return Y}function I(V){var U,ne,le,Y=_[V?"start":"end"];Y&&(U=Y.position>0,(ne=z.createTextRange()).moveToElementText(C(Y.indexes)),void 0!==(le=Y.offset)?(ne.collapse(Y.inside||U),ne.moveStart("character",U?-le:le)):ne.collapse(V),N.setEndPoint(V?"StartToStart":"EndToStart",ne),V&&N.collapse(!0))}var N,z=f.doc.body;_.start&&(_.start.ctrl?((N=z.createControlRange()).addElement(C(_.start.indexes)),N.select()):(N=z.createTextRange(),I(!0),I(),N.select()))},this.addRange=function(_){function C(F){var A,E,ie,pe,ae;ie=f.create("a"),A=F?z:Y,E=F?V:U,pe=I.duplicate(),A!=X&&A!=X.documentElement||(A=le,E=0),3==A.nodeType?(A.parentNode.insertBefore(ie,A),pe.moveToElementText(ie),pe.moveStart("character",E),f.remove(ie),I.setEndPoint(F?"StartToStart":"EndToEnd",pe)):((ae=A.childNodes).length?(E>=ae.length?f.insertAfter(ie,ae[ae.length-1]):A.insertBefore(ie,ae[E]),pe.moveToElementText(ie)):A.canHaveHTML&&(A.innerHTML="<span>&#xFEFF;</span>",pe.moveToElementText(ie=A.firstChild),pe.collapse(p)),I.setEndPoint(F?"StartToStart":"EndToEnd",pe),f.remove(ie))}var I,N,z,V,Y,U,ne,G,W,X=M.dom.doc,le=X.body;if(z=_.startContainer,V=_.startOffset,Y=_.endContainer,U=_.endOffset,I=le.createTextRange(),z==Y&&1==z.nodeType){if(V==U&&!z.hasChildNodes()){if(z.canHaveHTML)return(ne=z.previousSibling)&&!ne.hasChildNodes()&&f.isBlock(ne)?ne.innerHTML="&#xFEFF;":ne=null,z.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",I.moveToElementText(z.lastChild),I.select(),f.doc.selection.clear(),z.innerHTML="",void(ne&&(ne.innerHTML=""));V=f.nodeIndex(z),z=z.parentNode}if(V==U-1)try{if(W=z.childNodes[V],(N=le.createControlRange()).addElement(W),N.select(),(G=M.getRng()).item&&W===G.item(0))return}catch{}}C(!0),C(),I.select()},this.getRangeAt=function w(){function _(ne){var le,G,F,E,X=x(C,ne),W=0;if(le=X.node,G=X.offset,!X.inside||le.hasChildNodes())if(void 0!==G){if(X.position<0){if(!(F=X.inside?le.firstChild:le.nextSibling))return void I[ne?"setStartAfter":"setEndAfter"](le);if(!G)return void(3==F.nodeType?I[ne?"setStart":"setEnd"](F,0):I[ne?"setStartBefore":"setEndBefore"](F));for(;F;){if(3==F.nodeType&&(W+=(E=F.nodeValue).length)>=G){le=F,W=E.length-(W-=G);break}F=F.nextSibling}}else{if(!(F=le.previousSibling))return I[ne?"setStartBefore":"setEndBefore"](le);if(!G)return void(3==le.nodeType?I[ne?"setStart":"setEnd"](F,le.nodeValue.length):I[ne?"setStartAfter":"setEndAfter"](F));for(;F;){if(3==F.nodeType&&(W+=F.nodeValue.length)>=G){le=F,W-=G;break}F=F.previousSibling}}I[ne?"setStart":"setEnd"](le,W)}else I[ne?"setStartBefore":"setEndAfter"](le);else I[ne?"setStart":"setEnd"](le,0)}var N,z,V,Y,U,C=M.getRng(),I=f.createRng();if((N=C.item?C.item(0):C.parentElement()).ownerDocument!=f.doc)return I;if(z=M.isCollapsed(),C.item)return I.setStart(N.parentNode,f.nodeIndex(N)),I.setEnd(I.startContainer,I.startOffset+1),I;try{_(!0),z||_()}catch(ne){if(-2147024809!=ne.number)throw ne;U=v.getBookmark(2),(V=C.duplicate()).collapse(!0),N=V.parentElement(),z||((V=C.duplicate()).collapse(!1),(Y=V.parentElement()).innerHTML=Y.innerHTML),N.innerHTML=N.innerHTML,v.moveToBookmark(U),C=M.getRng(),_(!0),z||_()}return I}}}),ve(un,[J],function(L){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(M){return M.shiftKey||M.ctrlKey||M.altKey||this.metaKeyPressed(M)},metaKeyPressed:function(M){return L.mac?M.metaKey:M.ctrlKey&&!M.altKey}}}),ve(vn,[un,K,j,J,ke],function(L,M,x,w,v){var p=v.isContentEditableFalse,_=v.isContentEditableTrue;return function(C,I){function N(Ue){var ot=I.settings.object_resizing;return!1!==ot&&!w.iOS&&("string"!=typeof ot&&(ot="table,img,div"),"false"!==Ue.getAttribute("data-mce-resize")&&Ue!=I.getBody()&&I.dom.is(Ue,ot))}function z(Ue){var ot,pt,tn,Hn;wn=(wn=(ot=Ue.screenX-Ie)*st[2]+xt)<5?5:wn,xn=(xn=(pt=Ue.screenY-Fe)*st[3]+Wt)<5?5:xn,("IMG"==Ze.nodeName&&!1!==I.settings.resize_img_proportional?!L.modifierPressed(Ue):L.modifierPressed(Ue)||"IMG"==Ze.nodeName&&st[2]*st[3]!=0)&&(ut(ot)>ut(pt)?(xn=St(wn*ln),wn=St(xn/ln)):(wn=St(xn/ln),xn=St(wn*ln))),Le.setStyles(qe,{width:wn,height:xn}),Le.setStyles($e,{left:tn=(tn=st.startPos.x+ot)>0?tn:0,top:Hn=(Hn=st.startPos.y+pt)>0?Hn:0,display:"block"}),$e.innerHTML=wn+" &times; "+xn,st[2]<0&&qe.clientWidth<=wn&&Le.setStyle(qe,"left",et+(xt-wn)),st[3]<0&&qe.clientHeight<=xn&&Le.setStyle(qe,"top",ct+(Wt-xn)),(ot=Ot.scrollWidth-Ft)+(pt=Ot.scrollHeight-Mt)!=0&&Le.setStyles($e,{left:tn-ot,top:Hn-pt}),mn||(I.fire("ObjectResizeStart",{target:Ze,width:xt,height:Wt}),mn=!0)}function V(){function Ue(ot,pt){pt&&(Ze.style[ot]||!I.schema.isValid(Ze.nodeName.toLowerCase(),ot)?Le.setStyle(Ze,ot,pt):Le.setAttrib(Ze,ot,pt))}mn=!1,Ue("width",wn),Ue("height",xn),Le.unbind(yt,"mousemove",z),Le.unbind(yt,"mouseup",V),ze!=yt&&(Le.unbind(ze,"mousemove",z),Le.unbind(ze,"mouseup",V)),Le.remove(qe),Le.remove($e),Oe&&"TABLE"!=Ze.nodeName||Y(Ze),I.fire("ObjectResized",{target:Ze,width:wn,height:xn}),Le.setAttrib(Ze,"style",Le.getAttrib(Ze,"style")),I.nodeChanged()}function Y(Ue,ot,pt){var Lt,tn,Hn,Gn,Yn;U(),ie(),Lt=Le.getPos(Ue,Ot),et=Lt.x,ct=Lt.y,Yn=Ue.getBoundingClientRect(),tn=Yn.width||Yn.right-Yn.left,Hn=Yn.height||Yn.bottom-Yn.top,Ze!=Ue&&(E(),Ze=Ue,wn=xn=0),Gn=I.fire("ObjectSelected",{target:Ue}),N(Ue)&&!Gn.isDefaultPrevented()?tt(Qe,function(Vn,vi){function ii(Kt){Ie=Kt.screenX,Fe=Kt.screenY,ln=(Wt=Ze.clientHeight)/(xt=Ze.clientWidth),st=Vn,Vn.startPos={x:tn*Vn[0]+et,y:Hn*Vn[1]+ct},Ft=Ot.scrollWidth,Mt=Ot.scrollHeight,qe=Ze.cloneNode(!0),Le.addClass(qe,"mce-clonedresizable"),Le.setAttrib(qe,"data-mce-bogus","all"),qe.contentEditable=!1,qe.unSelectabe=!0,Le.setStyles(qe,{left:et,top:ct,margin:0}),qe.removeAttribute("data-mce-selected"),Ot.appendChild(qe),Le.bind(yt,"mousemove",z),Le.bind(yt,"mouseup",V),ze!=yt&&(Le.bind(ze,"mousemove",z),Le.bind(ze,"mouseup",V)),$e=Le.add(Ot,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},xt+" &times; "+Wt)}var si;return ot?void(vi==ot&&ii(pt)):((si=Le.get("mceResizeHandle"+vi))&&Le.remove(si),si=Le.add(Ot,"div",{id:"mceResizeHandle"+vi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+vi+"-resize; margin:0; padding:0"}),w.ie&&(si.contentEditable=!1),Le.bind(si,"mousedown",function(Kt){Kt.stopImmediatePropagation(),Kt.preventDefault(),ii(Kt)}),Vn.elm=si,void Le.setStyles(si,{left:tn*Vn[0]+et-si.offsetWidth/2,top:Hn*Vn[1]+ct-si.offsetHeight/2}))}):U(),Ze.setAttribute("data-mce-selected","1")}function U(){var Ue,ot;for(Ue in ie(),Ze&&Ze.removeAttribute("data-mce-selected"),Qe)(ot=Le.get("mceResizeHandle"+Ue))&&(Le.unbind(ot),Le.remove(ot))}function ne(Ue){function ot(tn,Hn){if(tn)do{if(tn===Hn)return!0}while(tn=tn.parentNode)}var pt,Lt;if(!mn&&!I.removed)return tt(Le.select("img[data-mce-selected],hr[data-mce-selected]"),function(tn){tn.removeAttribute("data-mce-selected")}),Lt="mousedown"==Ue.type?Ue.target:C.getNode(),ot(Lt=Le.$(Lt).closest(Oe?"table":"table,img,hr")[0],Ot)&&(pe(),ot(pt=C.getStart(!0),Lt)&&ot(C.getEnd(!0),Lt)&&(!Oe||Lt!=pt&&"IMG"!==pt.nodeName))?void Y(Lt):void U()}function X(Ue,ot,pt){Ue&&Ue.attachEvent&&Ue.attachEvent("on"+ot,pt)}function le(Ue,ot,pt){Ue&&Ue.detachEvent&&Ue.detachEvent("on"+ot,pt)}function G(Ue){var pt,Lt,tn,Gn,Yn,Vn,ot=Ue.srcElement;for(Lt in pt=ot.getBoundingClientRect(),Yn=nt.clientX-pt.left,Vn=nt.clientY-pt.top,Qe)if(Gn=ot.offsetHeight*(tn=Qe[Lt])[1],ut(ot.offsetWidth*tn[0]-Yn)<8&&ut(Gn-Vn)<8){st=tn;break}mn=!0,I.fire("ObjectResizeStart",{target:Ze,width:Ze.clientWidth,height:Ze.clientHeight}),I.getDoc().selection.empty(),Y(ot,Lt,nt)}function F(Ue){return p(function f(C,I){for(;I&&I!=C;){if(_(I)||p(I))return I;I=I.parentNode}return null}(I.getBody(),Ue))}function A(Ue){var ot=Ue.srcElement;if(F(ot))!function W(Ue){Ue.preventDefault?Ue.preventDefault():Ue.returnValue=!1}(Ue);else if(ot!=Ze){if(I.fire("ObjectSelected",{target:ot}),E(),0===ot.id.indexOf("mceResizeHandle"))return void(Ue.returnValue=!1);"IMG"!=ot.nodeName&&"TABLE"!=ot.nodeName||(U(),Ze=ot,X(ot,"resizestart",G))}}function E(){le(Ze,"resizestart",G)}function ie(){for(var Ue in Qe){var ot=Qe[Ue];ot.elm&&(Le.unbind(ot.elm),delete ot.elm)}}function pe(){try{I.getDoc().execCommand("enableObjectResizing",!1,!1)}catch{}}function ae(Ue){var ot;if(Oe){ot=yt.body.createControlRange();try{return ot.addElement(Ue),ot.select(),!0}catch{}}}var Ze,qe,$e,Qe,st,nt,Ie,Fe,et,ct,xt,Wt,ln,mn,wn,xn,Ft,Mt,Le=I.dom,tt=M.each,yt=I.getDoc(),ze=document,Oe=w.ie&&w.ie<11,ut=Math.abs,St=Math.round,Ot=I.getBody();Qe={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var en=".mce-content-body";return I.contentStyles.push(en+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+en+" .mce-resizehandle:hover {background: #000}"+en+" img[data-mce-selected],"+en+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+en+" .mce-clonedresizable {position: absolute;"+(w.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+en+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),I.on("init",function(){Oe?(I.on("ObjectResized",function(ot){"TABLE"!=ot.target.nodeName&&(U(),ae(ot.target))}),X(Ot,"controlselect",A),I.on("mousedown",function(ot){nt=ot})):(pe(),w.ie>=11&&(I.on("mousedown click",function(ot){var pt=ot.target,Lt=pt.nodeName;mn||!/^(TABLE|IMG|HR)$/.test(Lt)||F(pt)||(I.selection.select(pt,"TABLE"==Lt),"mousedown"==ot.type&&I.nodeChanged())}),I.dom.bind(Ot,"mscontrolselect",function(ot){function pt(Lt){x.setEditorTimeout(I,function(){I.selection.select(Lt)})}return F(ot.target)?(ot.preventDefault(),void pt(ot.target)):void(/^(TABLE|IMG|HR)$/.test(ot.target.nodeName)&&(ot.preventDefault(),"IMG"==ot.target.tagName&&pt(ot.target)))})));var Ue=x.throttle(function(ot){I.composing||ne(ot)});I.on("nodechange ResizeEditor ResizeWindow drop",Ue),I.on("keyup compositionend",function(ot){Ze&&"TABLE"==Ze.nodeName&&Ue(ot)}),I.on("hide blur",U)}),I.on("remove",ie),{isResizable:N,showResizeRect:Y,hideResizeRect:U,updateResizeRect:ne,controlSelect:ae,destroy:function Ce(){Ze=qe=null,Oe&&(E(),le(Ot,"controlselect",A))}}}}),ve(zt,[],function(){var _=[].slice;return{constant:function L(C){return function(){return C}},negate:function M(C){return function(I){return!C(I)}},and:function v(){var C=_.call(arguments);return function(I){for(var N=0;N<C.length;N++)if(!C[N](I))return!1;return!0}},or:function w(){var C=_.call(arguments);return function(I){for(var N=0;N<C.length;N++)if(C[N](I))return!0;return!1}},curry:function f(C){var I=_.call(arguments);return I.length-1>=C.length?C.apply(this,I.slice(1)):function(){var N=I.concat([].slice.call(arguments));return f.apply(this,N)}},compose:function x(C,I){return function(N){return C(I(N))}},noop:function p(){}}}),ve(cn,[ke,B,ue],function(L,M,x){function w(X){return!ne(X)&&(z(X)?!V(X.parentNode):Y(X)||N(X)||U(X)||I(X))}function v(X,le){for(X=X.parentNode;X&&X!=le;X=X.parentNode){if(I(X))return!1;if(C(X))return!0}return!0}var C=L.isContentEditableTrue,I=L.isContentEditableFalse,N=L.isBr,z=L.isText,V=L.matchNodeNames("script style textarea"),Y=L.matchNodeNames("img input textarea hr iframe video audio object"),U=L.matchNodeNames("table"),ne=x.isCaretContainer;return{isCaretCandidate:w,isInEditable:v,isAtomic:function p(X){return Y(X)||function f(X){return!!I(X)&&!0!==M.reduce(X.getElementsByTagName("*"),function(le,G){return le||C(G)},!1)}(X)},isEditableCaretCandidate:function _(X,le){return w(X)&&v(X,le)}}}),ve(Mn,[],function(){function L(z){return z?{left:N(z.left),top:N(z.top),bottom:N(z.bottom),right:N(z.right),width:N(z.width),height:N(z.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function w(z,V,Y){return z>=0&&z<=Math.min(V.height,Y.height)/2}function v(z,V){return z.bottom<V.top||!(z.top>V.bottom)&&w(V.top-z.bottom,z,V)}function f(z,V){return z.top>V.bottom||!(z.bottom<V.top)&&w(V.bottom-z.top,z,V)}function p(z,V){return z.left<V.left}function _(z,V){return z.right>V.right}var N=Math.round;return{clone:L,collapse:function M(z,V){return z=L(z),V||(z.left=z.left+z.width),z.right=z.left,z.width=0,z},isEqual:function x(z,V){return z.left===V.left&&z.top===V.top&&z.bottom===V.bottom&&z.right===V.right},isAbove:v,isBelow:f,isLeft:p,isRight:_,compare:function C(z,V){return v(z,V)?-1:f(z,V)?1:p(z,V)?-1:_(z,V)?1:0},containsXY:function I(z,V,Y){return V>=z.left&&V<=z.right&&Y>=z.top&&Y<=z.bottom}}}),ve(Zt,[],function(){var M=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function L(x){return"string"==typeof x&&x.charCodeAt(0)>=768&&M.test(x)}}}),ve(Nn,[zt,ke,P,Re,cn,Mn,Zt],function(L,M,x,w,v,f,p){function _(E){return"createRange"in E?E.createRange():x.DOM.createRng()}function C(E){return E&&/[\r\n\t ]/.test(E)}function I(E){var ae,ie=E.startContainer,pe=E.startOffset;return!!(C(E.toString())&&le(ie.parentNode)&&(ae=ie.data,C(ae[pe-1])||C(ae[pe+1])))}function z(E,ie,pe){function tt(){return pe||(pe=function N(E){function pe($e){var Qe,st;return st=$e.getClientRects(),Qe=f.clone(st.length>0?st[0]:$e.getBoundingClientRect()),W($e)&&0===Qe.left?function ie($e){var Fe,Qe=$e.ownerDocument,st=_(Qe),nt=Qe.createTextNode("\xa0"),Ie=$e.parentNode;return Ie.insertBefore(nt,$e),st.setStart(nt,0),st.setEnd(nt,1),Fe=f.clone(st.getBoundingClientRect()),Ie.removeChild(nt),Fe}($e):Qe}function ae($e,Qe){return($e=f.collapse($e,Qe)).width=1,$e.right=$e.left+1,$e}function Ce($e){0!==$e.height&&(tt.length>0&&f.isEqual($e,tt[tt.length-1])||tt.push($e))}function Le($e,Qe){var st=_($e.ownerDocument);if(Qe<$e.data.length){if(p.isExtendingChar($e.data[Qe]))return tt;if(p.isExtendingChar($e.data[Qe-1])&&(st.setStart($e,Qe),st.setEnd($e,Qe+1),!I(st)))return Ce(ae(pe(st),!1)),tt}Qe>0&&(st.setStart($e,Qe-1),st.setEnd($e,Qe),I(st)||Ce(ae(pe(st),!1))),Qe<$e.data.length&&(st.setStart($e,Qe),st.setEnd($e,Qe+1),I(st)||Ce(ae(pe(st),!0)))}var Ze,qe,tt=[];if(G(E.container()))return Le(E.container(),E.offset()),tt;if(V(E.container()))if(E.isAtEnd())qe=A(E.container(),E.offset()),G(qe)&&Le(qe,qe.data.length),X(qe)&&!W(qe)&&Ce(ae(pe(qe),!1));else{if(qe=A(E.container(),E.offset()),G(qe)&&Le(qe,0),X(qe)&&E.isAtEnd())return Ce(ae(pe(qe),!1)),tt;Ze=A(E.container(),E.offset()-1),X(Ze)&&!W(Ze)&&(U(Ze)||U(qe)||!X(qe))&&Ce(ae(pe(Ze),!1)),X(qe)&&Ce(ae(pe(qe),!0))}return tt}(new z(E,ie))),pe}return{container:L.constant(E),offset:L.constant(ie),toRange:function Le(){var Qe;return(Qe=_(E.ownerDocument)).setStart(E,ie),Qe.setEnd(E,ie),Qe},getClientRects:tt,isVisible:function Ze(){return tt().length>0},isAtStart:function ae(){return G(E),0===ie},isAtEnd:function Ce(){return G(E)?ie>=E.data.length:ie>=E.childNodes.length},isEqual:function qe(Qe){return Qe&&E===Qe.container()&&ie===Qe.offset()},getNode:function $e(Qe){return A(E,Qe?ie-1:ie)}}}var V=M.isElement,Y=v.isCaretCandidate,U=M.matchStyleValues("display","block table"),ne=M.matchStyleValues("float","left right"),X=L.and(V,Y,L.negate(ne)),le=L.negate(M.matchStyleValues("white-space","pre pre-line pre-wrap")),G=M.isText,W=M.isBr,F=x.nodeIndex,A=w.getNode;return z.fromRangeStart=function(E){return new z(E.startContainer,E.startOffset)},z.fromRangeEnd=function(E){return new z(E.endContainer,E.endOffset)},z.after=function(E){return new z(E.parentNode,F(E)+1)},z.before=function(E){return new z(E.parentNode,F(E))},z}),ve(sn,[ke,P,zt,B,Nn],function(L,M,x,w,v){function f(W){var F=W.parentNode;return le(F)?f(F):F}function p(W){return W?w.reduce(W.childNodes,function(F,A){return le(A)&&"BR"!=A.nodeName?F=F.concat(p(A)):F.push(A),F},[]):[]}function C(W){return function(F){return W===F}}function I(W){var F,A,E;return F=p(f(W)),A=w.findIndex(F,C(W),W),F=F.slice(0,A+1),E=w.reduce(F,function(ie,pe,ae){return X(pe)&&X(F[ae-1])&&ie++,ie},0),F=w.filter(F,L.matchNodeNames(W.nodeName)),(A=w.findIndex(F,C(W),W))-E}function N(W){return(X(W)?"text()":W.nodeName.toLowerCase())+"["+I(W)+"]"}var X=L.isText,le=L.isBogus,G=M.nodeIndex;return{create:function V(W,F){var A,E,pe,ae,Ce,ie=[];return A=F.container(),E=F.offset(),X(A)?pe=function _(W,F){for(;(W=W.previousSibling)&&X(W);)F+=W.data.length;return F}(A,E):(E>=(ae=A.childNodes).length?(pe="after",E=ae.length-1):pe="before",A=ae[E]),ie.push(N(A)),Ce=function z(W,F,A){var E=[];for(F=F.parentNode;!(F==W||A&&A(F));F=F.parentNode)E.push(F);return E}(W,A),Ce=w.filter(Ce,x.negate(L.isBogus)),(ie=ie.concat(w.map(Ce,function(Le){return N(Le)}))).reverse().join("/")+","+pe},resolve:function ne(W,F){var A,E,ie;return F?(A=F.split(","),F=A[0].split("/"),ie=A.length>1?A[1]:"before",(E=w.reduce(F,function(pe,ae){return(ae=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(ae))?("text()"===ae[1]&&(ae[1]="#text"),function Y(W,F,A){var E=p(W);return E=w.filter(E,function(ie,pe){return!X(ie)||!X(E[pe-1])}),(E=w.filter(E,L.matchNodeNames(F)))[A]}(pe,ae[1],parseInt(ae[2],10))):null},W))?X(E)?function U(W,F){for(var ie,A=W,E=0;X(A);){if(ie=A.data.length,F>=E&&F<=E+ie){W=A,F-=E;break}if(!X(A.nextSibling)){W=A,F=ie;break}E+=ie,A=A.nextSibling}return F>W.data.length&&(F=W.data.length),new v(W,F)}(E,parseInt(ie,10)):(ie="after"===ie?G(E)+1:G(E),new v(E.parentNode,ie)):null):null}}}),ve(On,[J,K,ue,sn,Nn,ke,Re],function(L,M,x,w,v,f,p){function _(I){var N=I.dom;this.getBookmark=function(z,V){function Y(ae,Ce){var Le=0;return M.each(N.select(ae),function(tt){if("all"!==tt.getAttribute("data-mce-bogus"))return tt!=Ce&&void Le++}),Le}function U(ae){function Ce(Le){var tt,Ze,qe,$e=Le?"start":"end";Ze=ae[$e+"Offset"],1==(tt=ae[$e+"Container"]).nodeType&&"TR"==tt.nodeName&&(tt=(qe=tt.childNodes)[Math.min(Le?Ze:Ze-1,qe.length-1)])&&ae["set"+(Le?"Start":"End")](tt,Ze=Le?0:tt.childNodes.length)}return Ce(!0),Ce(),ae}var le,G,W,F,A,E,pe,ie="&#xFEFF;";if(2==z)return A=(E=I.getNode())?E.nodeName:null,le=I.getRng(),C(E)||"IMG"==A?{name:A,index:Y(A,E)}:I.tridentSel?I.tridentSel.getBookmark(z):(E=function X(ae){function Ce(Le,tt){var Ze;return f.isElement(Le)&&(Le=p.getNode(Le,tt),C(Le))?Le:x.isCaretContainer(Le)&&(f.isText(Le)&&x.isCaretContainerBlock(Le)&&(Le=Le.parentNode),C(Ze=Le.previousSibling)||C(Ze=Le.nextSibling))?Ze:void 0}return Ce(ae.startContainer,ae.startOffset)||Ce(ae.endContainer,ae.endOffset)}(le))?{name:A=E.tagName,index:Y(A,E)}:function ne(ae){function Ce(Ze,qe){var nt,Ie,$e=Ze[qe?"startContainer":"endContainer"],Qe=Ze[qe?"startOffset":"endOffset"],st=[],Fe=0;if(3==$e.nodeType){if(V)for(nt=$e.previousSibling;nt&&3==nt.nodeType;nt=nt.previousSibling)Qe+=nt.nodeValue.length;st.push(Qe)}else Qe>=(Ie=$e.childNodes).length&&Ie.length&&(Fe=1,Qe=Math.max(0,Ie.length-1)),st.push(N.nodeIndex(Ie[Qe],V)+Fe);for(;$e&&$e!=Le;$e=$e.parentNode)st.push(N.nodeIndex($e,V));return st}var Le=N.getRoot(),tt={};return tt.start=Ce(ae,!0),I.isCollapsed()||(tt.end=Ce(ae)),tt}(le);if(3==z)return le=I.getRng(),{start:w.create(N.getRoot(),v.fromRangeStart(le)),end:w.create(N.getRoot(),v.fromRangeEnd(le))};if(z)return{rng:I.getRng()};if(le=I.getRng(),W=N.uniqueId(),F=I.isCollapsed(),pe="overflow:hidden;line-height:0px",le.duplicate||le.item){if(le.item)return{name:A=(E=le.item(0)).nodeName,index:Y(A,E)};G=le.duplicate();try{le.collapse(),le.pasteHTML('<span data-mce-type="bookmark" id="'+W+'_start" style="'+pe+'">'+ie+"</span>"),F||(G.collapse(!1),le.moveToElementText(G.parentElement()),0===le.compareEndPoints("StartToEnd",G)&&G.move("character",-1),G.pasteHTML('<span data-mce-type="bookmark" id="'+W+'_end" style="'+pe+'">'+ie+"</span>"))}catch{return null}}else{if("IMG"==(A=(E=I.getNode()).nodeName))return{name:A,index:Y(A,E)};G=U(le.cloneRange()),F||(G.collapse(!1),G.insertNode(N.create("span",{"data-mce-type":"bookmark",id:W+"_end",style:pe},ie))),(le=U(le)).collapse(!0),le.insertNode(N.create("span",{"data-mce-type":"bookmark",id:W+"_start",style:pe},ie))}return I.moveToBookmark({id:W,keep:1}),{id:W}},this.moveToBookmark=function(z){function V(E){var pe,ae,Ce,Le,ie=z[E?"start":"end"];if(ie){for(Ce=ie[0],ae=le,pe=ie.length-1;pe>=1;pe--){if(ie[pe]>(Le=ae.childNodes).length-1)return;ae=Le[ie[pe]]}3===ae.nodeType&&(Ce=Math.min(ie[0],ae.nodeValue.length)),1===ae.nodeType&&(Ce=Math.min(ie[0],ae.childNodes.length)),E?X.setStart(ae,Ce):X.setEnd(ae,Ce)}return!0}function Y(E){var pe,ae,Ce,Le,ie=N.get(z.id+"_"+E),tt=z.keep;if(ie&&(pe=ie.parentNode,"start"==E?(tt?(pe=ie.firstChild,ae=1):ae=N.nodeIndex(ie),G=W=pe,F=A=ae):(tt?(pe=ie.firstChild,ae=1):ae=N.nodeIndex(ie),W=pe,A=ae),!tt)){for(Le=ie.previousSibling,Ce=ie.nextSibling,M.each(M.grep(ie.childNodes),function(Ze){3==Ze.nodeType&&(Ze.nodeValue=Ze.nodeValue.replace(/\uFEFF/g,""))});ie=N.get(z.id+"_"+E);)N.remove(ie,1);Le&&Ce&&Le.nodeType==Ce.nodeType&&3==Le.nodeType&&!L.opera&&(ae=Le.nodeValue.length,Le.appendData(Ce.nodeValue),N.remove(Ce),"start"==E?(G=W=Le,F=A=ae):(W=Le,A=ae))}}function U(E){return!N.isBlock(E)||E.innerHTML||L.ie||(E.innerHTML='<br data-mce-bogus="1" />'),E}var X,le,G,W,F,A;if(z)if(M.isArray(z.start)){if(X=N.createRng(),le=N.getRoot(),I.tridentSel)return I.tridentSel.moveToBookmark(z);V(!0)&&V()&&I.setRng(X)}else"string"==typeof z.start?I.setRng(function ne(){var E,ie;return E=N.createRng(),ie=w.resolve(N.getRoot(),z.start),E.setStart(ie.container(),ie.offset()),ie=w.resolve(N.getRoot(),z.end),E.setEnd(ie.container(),ie.offset()),E}()):z.id?(Y("start"),Y("end"),G&&((X=N.createRng()).setStart(U(G),F),X.setEnd(U(W),A),I.setRng(X))):z.name?I.select(N.select(z.name)[z.index]):z.rng&&I.setRng(z.rng)}}var C=f.isContentEditableFalse;return _.isBookmarkNode=function(I){return I&&"SPAN"===I.tagName&&"bookmark"===I.getAttribute("data-mce-type")},_}),ve(yi,[he,Pt,vn,Re,On,ke,J,K,Nn],function(L,M,x,w,v,f,p,_,C){function I(Y,U,ne,X){var le=this;le.dom=Y,le.win=U,le.serializer=ne,le.editor=X,le.bookmarkManager=new v(le),le.controlSelection=new x(le,X),le.win.getSelection||(le.tridentSel=new M(le))}var N=_.each,z=_.trim,V=p.ie;return I.prototype={setCursorLocation:function(Y,U){var ne=this,X=ne.dom.createRng();Y?(X.setStart(Y,U),X.setEnd(Y,U),ne.setRng(X),ne.collapse(!1)):(ne._moveEndPoint(X,ne.editor.getBody(),!0),ne.setRng(X))},getContent:function(Y){var G,W,F,U=this,ne=U.getRng(),X=U.dom.create("body"),le=U.getSel();return G=W="",(Y=Y||{}).get=!0,Y.format=Y.format||"html",Y.selection=!0,U.editor.fire("BeforeGetContent",Y),"text"==Y.format?U.isCollapsed()?"":ne.text||(le.toString?le.toString():""):(ne.cloneContents?(F=ne.cloneContents())&&X.appendChild(F):ne.item!==Ae||ne.htmlText!==Ae?(X.innerHTML="<br>"+(ne.item?ne.item(0).outerHTML:ne.htmlText),X.removeChild(X.firstChild)):X.innerHTML=ne.toString(),/^\s/.test(X.innerHTML)&&(G=" "),/\s+$/.test(X.innerHTML)&&(W=" "),Y.getInner=!0,Y.content=U.isCollapsed()?"":G+U.serializer.serialize(X,Y)+W,U.editor.fire("GetContent",Y),Y.content)},setContent:function(Y,U){var le,W,F,ne=this,X=ne.getRng(),G=ne.win.document;if((U=U||{format:"html"}).set=!0,U.selection=!0,U.content=Y,U.no_events||ne.editor.fire("BeforeSetContent",U),Y=U.content,X.insertNode){Y+='<span id="__caret">_</span>',X.startContainer==G&&X.endContainer==G?G.body.innerHTML=Y:(X.deleteContents(),0===G.body.childNodes.length?G.body.innerHTML=Y:X.createContextualFragment?X.insertNode(X.createContextualFragment(Y)):(W=G.createDocumentFragment(),F=G.createElement("div"),W.appendChild(F),F.outerHTML=Y,X.insertNode(W))),le=ne.dom.get("__caret"),(X=G.createRange()).setStartBefore(le),X.setEndBefore(le),ne.setRng(X),ne.dom.remove("__caret");try{ne.setRng(X)}catch{}}else X.item&&(G.execCommand("Delete",!1,null),X=ne.getRng()),/^\s+/.test(Y)?(X.pasteHTML('<span id="__mce_tmp">_</span>'+Y),ne.dom.remove("__mce_tmp")):X.pasteHTML(Y);U.no_events||ne.editor.fire("SetContent",U)},getStart:function(Y){var X,le,G,W,U=this,ne=U.getRng();if(ne.duplicate||ne.item){if(ne.item)return ne.item(0);for((G=ne.duplicate()).collapse(1),(X=G.parentElement()).ownerDocument!==U.dom.doc&&(X=U.dom.getRoot()),le=W=ne.parentElement();W=W.parentNode;)if(W==X){X=le;break}return X}return 1==(X=ne.startContainer).nodeType&&X.hasChildNodes()&&(Y&&ne.collapsed||(X=X.childNodes[Math.min(X.childNodes.length-1,ne.startOffset)])),X&&3==X.nodeType?X.parentNode:X},getEnd:function(Y){var X,le,U=this,ne=U.getRng();return ne.duplicate||ne.item?ne.item?ne.item(0):((ne=ne.duplicate()).collapse(0),(X=ne.parentElement()).ownerDocument!==U.dom.doc&&(X=U.dom.getRoot()),X&&"BODY"==X.nodeName&&X.lastChild||X):(le=ne.endOffset,1==(X=ne.endContainer).nodeType&&X.hasChildNodes()&&(Y&&ne.collapsed||(X=X.childNodes[le>0?le-1:le])),X&&3==X.nodeType?X.parentNode:X)},getBookmark:function(Y,U){return this.bookmarkManager.getBookmark(Y,U)},moveToBookmark:function(Y){return this.bookmarkManager.moveToBookmark(Y)},select:function(Y,U){var G,ne=this,X=ne.dom,le=X.createRng();if(ne.lastFocusBookmark=null,Y){if(!U&&ne.controlSelection.controlSelect(Y))return;G=X.nodeIndex(Y),le.setStart(Y.parentNode,G),le.setEnd(Y.parentNode,G+1),U&&(ne._moveEndPoint(le,Y,!0),ne._moveEndPoint(le,Y)),ne.setRng(le)}return Y},isCollapsed:function(){var U=this.getRng(),ne=this.getSel();return!(!U||U.item)&&(U.compareEndPoints?0===U.compareEndPoints("StartToEnd",U):!ne||U.collapsed)},collapse:function(Y){var X,U=this,ne=U.getRng();ne.item&&(X=ne.item(0),(ne=U.win.document.body.createTextRange()).moveToElementText(X)),ne.collapse(!!Y),U.setRng(ne)},getSel:function(){var Y=this.win;return Y.getSelection?Y.getSelection():Y.document.selection},getRng:function(Y){function U(ie,pe,ae){try{return pe.compareBoundaryPoints(ie,ae)}catch{return-1}}var X,le,G,W,F,A,ne=this;if(!ne.win||typeof(W=ne.win.document)>"u"||null===W)return null;if(!Y&&ne.lastFocusBookmark){var E=ne.lastFocusBookmark;return E.startContainer?((le=W.createRange()).setStart(E.startContainer,E.startOffset),le.setEnd(E.endContainer,E.endOffset)):le=E,le}if(Y&&ne.tridentSel)return ne.tridentSel.getRangeAt(0);try{(X=ne.getSel())&&(le=X.rangeCount>0?X.getRangeAt(0):X.createRange?X.createRange():W.createRange())}catch{}if((A=ne.editor.fire("GetSelectionRange",{range:le})).range!==le)return A.range;if(V&&le&&le.setStart&&W.selection){try{F=W.selection.createRange()}catch{}F&&F.item&&(G=F.item(0),(le=W.createRange()).setStartBefore(G),le.setEndAfter(G))}return le||(le=W.createRange?W.createRange():W.body.createTextRange()),le.setStart&&9===le.startContainer.nodeType&&le.collapsed&&(G=ne.dom.getRoot(),le.setStart(G,0),le.setEnd(G,0)),ne.selectedRange&&ne.explicitRange&&(0===U(le.START_TO_START,le,ne.selectedRange)&&0===U(le.END_TO_END,le,ne.selectedRange)?le=ne.explicitRange:(ne.selectedRange=null,ne.explicitRange=null)),le},setRng:function(Y,U){var X,le,ne=this;if(Y)if(Y.select){ne.explicitRange=null;try{Y.select()}catch{}}else if(ne.tridentSel){if(Y.cloneRange)try{ne.tridentSel.addRange(Y)}catch{}}else{if(X=ne.getSel(),Y=ne.editor.fire("SetSelectionRange",{range:Y}).range,X){ne.explicitRange=Y;try{X.removeAllRanges(),X.addRange(Y)}catch{}!1===U&&X.extend&&(X.collapse(Y.endContainer,Y.endOffset),X.extend(Y.startContainer,Y.startOffset)),ne.selectedRange=X.rangeCount>0?X.getRangeAt(0):null}Y.collapsed||Y.startContainer!=Y.endContainer||!X.setBaseAndExtent||p.ie||Y.endOffset-Y.startOffset<2&&Y.startContainer.hasChildNodes()&&(le=Y.startContainer.childNodes[Y.startOffset])&&"IMG"==le.tagName&&(X.setBaseAndExtent(Y.startContainer,Y.startOffset,Y.endContainer,Y.endOffset),X.anchorNode===Y.startContainer&&X.focusNode===Y.endContainer||X.setBaseAndExtent(le,0,le,1)),ne.editor.fire("AfterSetSelectionRange",{range:Y})}},setNode:function(Y){return this.setContent(this.dom.getOuterHTML(Y)),Y},getNode:function(){function Y(E,ie){for(var pe=E;E&&3===E.nodeType&&0===E.length;)E=ie?E.nextSibling:E.previousSibling;return E||pe}var X,le,G,W,F,U=this,ne=U.getRng(),A=U.dom.getRoot();return ne?(le=ne.startContainer,G=ne.endContainer,W=ne.startOffset,F=ne.endOffset,ne.setStart?(X=ne.commonAncestorContainer,!ne.collapsed&&(le==G&&F-W<2&&le.hasChildNodes()&&(X=le.childNodes[W]),3===le.nodeType&&3===G.nodeType&&(le=le.length===W?Y(le.nextSibling,!0):le.parentNode,G=0===F?Y(G.previousSibling,!1):G.parentNode,le&&le===G))?le:X&&3==X.nodeType?X.parentNode:X):((X=ne.item?ne.item(0):ne.parentElement()).ownerDocument!==U.win.document&&(X=A),X)):A},getSelectedBlocks:function(Y,U){var le,G,X=this.dom,W=[];if(G=X.getRoot(),Y=X.getParent(Y||this.getStart(),X.isBlock),U=X.getParent(U||this.getEnd(),X.isBlock),Y&&Y!=G&&W.push(Y),Y&&U&&Y!=U){le=Y;for(var F=new L(Y,G);(le=F.next())&&le!=U;)X.isBlock(le)&&W.push(le)}return U&&Y!=U&&U!=G&&W.push(U),W},isForward:function(){var ne,X,Y=this.dom,U=this.getSel();return!(U&&U.anchorNode&&U.focusNode)||((ne=Y.createRng()).setStart(U.anchorNode,U.anchorOffset),ne.collapse(!0),(X=Y.createRng()).setStart(U.focusNode,U.focusOffset),X.collapse(!0),ne.compareBoundaryPoints(ne.START_TO_START,X)<=0)},normalize:function(){var Y=this,U=Y.getRng();return p.range&&new w(Y.dom).normalize(U)&&Y.setRng(U,Y.isForward()),U},selectorChanged:function(Y,U){var X,ne=this;return ne.selectorChangedData||(ne.selectorChangedData={},X={},ne.editor.on("NodeChange",function(le){var G=le.element,W=ne.dom,F=W.getParents(G,null,W.getRoot()),A={};N(ne.selectorChangedData,function(E,ie){N(F,function(pe){if(W.is(pe,ie))return X[ie]||(N(E,function(ae){ae(!0,{node:pe,selector:ie,parents:F})}),X[ie]=E),A[ie]=E,!1})}),N(X,function(E,ie){A[ie]||(delete X[ie],N(E,function(pe){pe(!1,{node:G,selector:ie,parents:F})}))})})),ne.selectorChangedData[Y]||(ne.selectorChangedData[Y]=[]),ne.selectorChangedData[Y].push(U),ne},getScrollContainer:function(){for(var Y,U=this.dom.getRoot();U&&"BODY"!=U.nodeName;){if(U.scrollHeight>U.clientHeight){Y=U;break}U=U.parentNode}return Y},scrollIntoView:function(Y,U){function ne(ae){for(var Ce=0,Le=0,tt=ae;tt&&tt.nodeType;)Ce+=tt.offsetLeft||0,Le+=tt.offsetTop||0,tt=tt.offsetParent;return{x:Ce,y:Le}}var X,le,A,E,G=this,W=G.dom,F=W.getRoot(),ie=0;if(f.isElement(Y)){if(!1===U&&(ie=Y.offsetHeight),"BODY"!=F.nodeName){var pe=G.getScrollContainer();if(pe)return X=ne(Y).y-ne(pe).y+ie,E=pe.clientHeight,void((X<(A=pe.scrollTop)||X+25>A+E)&&(pe.scrollTop=X<A?X:X-E+25))}le=W.getViewPort(G.editor.getWin()),X=W.getPos(Y).y+ie,A=le.y,E=le.h,(X<le.y||X+25>A+E)&&G.editor.getWin().scrollTo(0,X<A?X:X-E+25)}},placeCaretAt:function(Y,U){this.setRng(w.getCaretRangeFromPoint(Y,U,this.editor.getDoc()))},_moveEndPoint:function(Y,U,ne){var X=U,le=new L(U,X),G=this.dom.schema.getNonEmptyElements();do{if(3==U.nodeType&&0!==z(U.nodeValue).length)return void(ne?Y.setStart(U,0):Y.setEnd(U,U.nodeValue.length));if(G[U.nodeName]&&!/^(TD|TH)$/.test(U.nodeName))return void(ne?Y.setStartBefore(U):"BR"==U.nodeName?Y.setEndBefore(U):Y.setEndAfter(U));if(p.ie&&p.ie<11&&this.dom.isBlock(U)&&this.dom.isEmpty(U))return void(ne?Y.setStart(U,0):Y.setEnd(U,0))}while(U=ne?le.next():le.prev());"BODY"==X.nodeName&&(ne?Y.setStart(X,0):Y.setEnd(X,X.childNodes.length))},getBoundingClientRect:function(){var Y=this.getRng();return Y.collapsed?C.fromRangeStart(Y).getClientRects()[0]:Y.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},I}),ve(ni,[On,K],function(L,M){var w=M.each;return function x(v){this.compare=function(f,p){function _(I){var N={};return w(v.getAttribs(I),function(z){var V=z.nodeName.toLowerCase();0!==V.indexOf("_")&&"style"!==V&&0!==V.indexOf("data-")&&(N[V]=v.getAttrib(I,V))}),N}function C(I,N){var z,V;for(V in I)if(I.hasOwnProperty(V)){if(typeof(z=N[V])>"u"||I[V]!=z)return!1;delete N[V]}for(V in N)if(N.hasOwnProperty(V))return!1;return!0}return!(f.nodeName!=p.nodeName||!C(_(f),_(p))||!C(v.parseStyle(v.getAttrib(f,"style")),v.parseStyle(v.getAttrib(p,"style")))||L.isBookmarkNode(f)||L.isBookmarkNode(p))}}}),ve(Jn,[P,K,ht],function(L,M,x){function w(N,z){function Y(F){var A;return function V(F,A){A.classes.length&&I.addClass(F,A.classes.join(" ")),I.setAttribs(F,A.attrs)}(A=I.create((le="string"==typeof F?{name:F,classes:[],attrs:{}}:F).name),le),A}var X,le,G,W=z&&z.schema||new x({});return N&&N.length?(X=Y(le=N[0]),(G=I.create("div")).appendChild(function ne(F,A,E){var ie,pe,ae,Ce=A.length&&A[0],Le=Ce&&Ce.name;if(ae=function U(F,A){var E="string"!=typeof F?F.nodeName.toLowerCase():F,pe=W.getElementRule(E).parentsRequired;return!(!pe||!pe.length)&&(A&&-1!==M.inArray(pe,A)?A:pe[0])}(F,Le))Le==ae?(pe=A[0],A=A.slice(1)):pe=ae;else if(Ce)pe=A[0],A=A.slice(1);else if(!E)return F;return pe&&(ie=Y(pe)).appendChild(F),E&&(ie||(ie=I.create("div")).appendChild(F),M.each(E,function(tt){var Ze=Y(tt);ie.insertBefore(Ze,F)})),ne(ie,A,pe&&pe.siblings)}(X,N.slice(1),le.siblings)),G):""}function f(N){var z,V={classes:[],attrs:{}};return"*"!==(N=V.selector=M.trim(N))&&(z=N.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(Y,U,ne,X,le){switch(U){case"#":V.attrs.id=ne;break;case".":V.classes.push(ne);break;case":":-1!==M.inArray("checked disabled enabled read-only required".split(" "),ne)&&(V.attrs[ne]=ne)}if("["==X){var G=le.match(/([\w\-]+)(?:\=\"([^\"]+))?/);G&&(V.attrs[G[1]]=G[2])}return""})),V.name=z||"div",V}function p(N){return N&&"string"==typeof N?(N=(N=N.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),M.map(N.split(/(?:>|\s+(?![^\[\]]+\]))/),function(z){var V=M.map(z.split(/(?:~\+|~|\+)/),f),Y=V.pop();return V.length&&(Y.siblings=V),Y}).reverse()):[]}var C=M.each,I=L.DOM;return{getCssText:function _(N,z){function V(F){return F.replace(/%(\w+)/g,"")}var Y,U,ne,X,G,W,le="";if(!1===(W=N.settings.preview_styles))return"";if("string"!=typeof W&&(W="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof z){if(!(z=N.formatter.get(z)))return;z=z[0]}return"preview"in z&&!1===(W=z.preview)?"":(Y=z.block||z.inline||"span",(X=p(z.selector)).length?(X[0].name||(X[0].name=Y),Y=z.selector,U=w(X,N)):U=w([Y],N),ne=I.select(Y,U)[0]||U.firstChild,C(z.styles,function(F,A){(F=V(F))&&I.setStyle(ne,A,F)}),C(z.attributes,function(F,A){(F=V(F))&&I.setAttrib(ne,A,F)}),C(z.classes,function(F){F=V(F),I.hasClass(ne,F)||I.addClass(ne,F)}),N.fire("PreviewFormats"),I.setStyles(U,{position:"absolute",left:-65535}),N.getBody().appendChild(U),G=I.getStyle(N.getBody(),"fontSize",!0),G=/px$/.test(G)?parseInt(G,10):0,C(W.split(" "),function(F){var A=I.getStyle(ne,F,!0);if(!("background-color"==F&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(A)&&(A=I.getStyle(N.getBody(),F,!0),"#ffffff"==I.toHex(A).toLowerCase())||"color"==F&&"#000000"==I.toHex(A).toLowerCase())){if("font-size"==F&&/em|%$/.test(A)){if(0===G)return;A=(A=parseFloat(A,10)/(/%$/.test(A)?100:1))*G+"px"}"border"==F&&A&&(le+="padding:0 2px;"),le+=F+":"+A+";"}}),N.fire("AfterPreviewFormats"),I.remove(U),le)},parseSelector:p,selectorToHtml:function v(N,z){return w(p(N),z)}}}),ve(xi,[B,ke,de],function(L,M,x){var f={},p=L.filter,_=L.each;return function w(C,I){var N=f[C];N||(f[C]=N=[]),f[C].push(I)}("pre",function(C){var V,Y,z=C.selection.getRng();V=M.matchNodeNames("pre"),z.collapsed||(Y=C.selection.getSelectedBlocks(),_(p(p(Y,V),function I(U){return V(U.previousSibling)&&-1!=L.indexOf(Y,U.previousSibling)}),function(U){!function N(U,ne){x(ne).remove(),x(U).append("<br><br>").append(ne.childNodes)}(U.previousSibling,U)}))}),{postProcess:function v(C,I){_(f[C],function(N){N(I)})}}}),ve(oi,[he,Re,On,ni,zt,K,Jn,xi],function(L,M,x,w,v,f,p,_){return function(C){function I(_t){return _t.nodeType&&(_t=_t.nodeName),!!C.schema.getTextBlockElements()[_t.toLowerCase()]}function N(_t){return/^(TH|TD)$/.test(_t.nodeName)}function V(_t,Dt){return Mt.getParents(_t,Dt,Mt.getRoot())}function Y(_t){return 1===_t.nodeType&&"_mce_caret"===_t.id}function X(_t){return _t?Ft[_t]:Ft}function le(_t,Dt){_t&&("string"!=typeof _t?jt(_t,function(Be,rt){le(rt,Be)}):(jt(Dt=Dt.length?Dt:[Dt],function(Be){Be.deep===ii&&(Be.deep=!Be.selector),Be.split===ii&&(Be.split=!Be.selector||Be.inline),Be.remove===ii&&Be.selector&&!Be.inline&&(Be.remove="none"),Be.selector&&Be.inline&&(Be.mixed=!0,Be.block_expand=!0),"string"==typeof Be.classes&&(Be.classes=Be.classes.split(/\s+/))}),Ft[_t]=Dt))}function W(_t,Dt){var Be=X(Dt);if(Be)for(var rt=0;rt<Be.length;rt++)if(!1===Be[rt].inherit&&Mt.is(_t,Be[rt].selector))return!0;return!1}function F(_t){var Dt;return C.dom.getParent(_t,function(Be){return(Dt=C.dom.getStyle(Be,"text-decoration"))&&"none"!==Dt}),Dt}function A(_t){var Dt;1===_t.nodeType&&_t.parentNode&&1===_t.parentNode.nodeType&&(Dt=F(_t.parentNode),C.dom.getStyle(_t,"color")&&Dt?C.dom.setStyle(_t,"text-decoration",Dt):C.dom.getStyle(_t,"text-decoration")===Dt&&C.dom.setStyle(_t,"text-decoration",null))}function E(_t,Dt,Be){function rt(yn,Dn){if(Dn=Dn||gt,yn){if(Dn.onformat&&Dn.onformat(yn,Dn,Dt,Be),jt(Dn.styles,function(An,Rn){Mt.setStyle(yn,Rn,xt(An,Dt))}),Dn.styles){var _n=Mt.getAttrib(yn,"style");_n&&yn.setAttribute("data-mce-style",_n)}jt(Dn.attributes,function(An,Rn){Mt.setAttrib(yn,Rn,xt(An,Dt))}),jt(Dn.classes,function(An){An=xt(An,Dt),Mt.hasClass(yn,An)||Mt.addClass(yn,An)})}}function Ct(yn,Dn){var _n=!1;return!!gt.selector&&(jt(yn,function(An){if(!("collapsed"in An)||An.collapsed===kn)return Mt.is(Dn,An.selector)&&!Y(Dn)?(rt(Dn,An),_n=!0,!1):void 0}),_n)}function nn(yn,Dn,_n){var Rn,ei,An=[],Ti=!0;rt(ei=Mt.create(Rn=gt.inline||gt.block)),Ue.walk(yn,function(li){var lr;jt(li,function Pi(Ei){var ji,jr,_o,vr;if(vr=Ti,ji=Ei.nodeName.toLowerCase(),jr=Ei.parentNode.nodeName.toLowerCase(),1===Ei.nodeType&&si(Ei)&&(vr=Ti,Ti="true"===si(Ei),_o=!0),Qe(ji,"br"))return lr=0,void(gt.block&&Mt.remove(Ei));if(gt.wrapper&&ae(Ei,_t,Dt))lr=0;else{if(Ti&&!_o&&gt.block&&!gt.wrapper&&I(ji)&&ot(jr,Rn))return rt(Ei=Mt.rename(Ei,Rn)),An.push(Ei),void(lr=0);if(gt.selector){var Rr=Ct(Vt,Ei);if(!gt.inline||Rr)return void(lr=0)}!Ti||_o||!ot(Rn,ji)||!ot(jr,Rn)||!_n&&3===Ei.nodeType&&1===Ei.nodeValue.length&&65279===Ei.nodeValue.charCodeAt(0)||Y(Ei)||gt.inline&&pt(Ei)?(lr=0,jt(Xn(Ei.childNodes),Pi),_o&&(Ti=vr),lr=0):(lr||(lr=Mt.clone(ei,Yn),Ei.parentNode.insertBefore(lr,Ei),An.push(lr)),lr.appendChild(Ei))}})}),!0===gt.links&&jt(An,function(li){!function Pi(lr){"A"===lr.nodeName&&rt(lr,gt),jt(Xn(lr.childNodes),Pi)}(li)}),jt(An,function(li){function Pi(vr){var Rr=0;return jt(vr.childNodes,function(Xo){Wt(Xo)||kt(Xo)||Rr++}),Rr}function lr(vr){var Rr=!1;return jt(vr.childNodes,function(Xo){if(nt(Xo))return Rr=Xo,!1}),Rr}var jr;if(jr=Pi(li),!(An.length>1)&&pt(li)||0!==jr){if(gt.inline||gt.wrapper){if(gt.exact||1!==jr||(li=function ji(vr){var Rr,Xo;return(Rr=lr(vr))&&!kt(Rr)&&$e(Rr,gt)&&(rt(Xo=Mt.clone(Rr,Yn)),Mt.replace(Xo,vr,Vn),Mt.remove(Rr,1)),Xo||vr}(li)),jt(Vt,function(vr){jt(Mt.select(vr.inline,li),function(Rr){kt(Rr)||xn(vr,Dt,Rr,vr.exact?Rr:null)})}),ae(li.parentNode,_t,Dt)&&xn(gt,Dt,li)&&(li=0),gt.merge_with_parents&&Mt.getParent(li.parentNode,function(vr){if(ae(vr,_t,Dt))return xn(gt,Dt,li)&&(li=0),Vn}),!pt(li)&&!et(li,"fontSize")){var _o=function Ei(vr,Rr){do{if(1!==Pi(vr)||!(vr=lr(vr)))break;if(Rr(vr))return vr}while(vr);return null}(li,Ie("fontSize"));_o&&E("fontsize",{value:et(_o,"fontSize")},li)}li&&!1!==gt.merge_siblings&&(li=Oe(ze(li),li),li=Oe(li,ze(li,Vn)))}}else Mt.remove(li,1)})}var Ut,Xt,Vt=X(_t),gt=Vt[0],kn=!Be&&en.isCollapsed();if("false"!==si(en.getNode())){if(gt){if(Be)Be.nodeType?Ct(Vt,Be)||((Xt=Mt.createRng()).setStartBefore(Be),Xt.setEndAfter(Be),nn(mn(Xt,Vt),0,!0)):nn(Be,0,!0);else if(kn&&gt.inline&&!Mt.select("td[data-mce-selected],th[data-mce-selected]").length)St("apply",_t,Dt);else{var At=C.selection.getNode();Lt||!Vt[0].defaultBlock||Mt.getParent(At,Mt.isBlock)||E(Vt[0].defaultBlock),C.selection.setRng(function Bt(){var Dn=C.selection.getRng(),_n=Dn.startContainer,An=Dn.endContainer;if(_n!=An&&0===Dn.endOffset){var Rn=function yn(Ti,li){var Pi=new L(li);for(Be=Pi.prev2();Be;Be=Pi.prev2())if(3==Be.nodeType&&Be.data.length>0||Be.childNodes.length>1||Be==Ti||"BR"==Be.tagName)return Be}(_n,An);Dn.setEnd(Rn,3==Rn.nodeType?Rn.data.length:Rn.childNodes.length)}return Dn}()),Ut=en.getBookmark(),nn(mn(en.getRng(Vn),Vt)),gt.styles&&((gt.styles.color||gt.styles.textDecoration)&&(Fn(At,A,"childNodes"),A(At)),gt.styles.backgroundColor&&st(At,Ie("fontSize"),function Fe(_t,Dt){return v.curry(function(Be,rt,Ct){Mt.setStyle(Ct,Be,rt)},_t,Dt)}("backgroundColor",xt(gt.styles.backgroundColor,Dt)))),en.moveToBookmark(Ut),Ot(en.getRng(Vn)),C.nodeChanged()}_.postProcess(_t,C)}}else{Be=en.getNode();for(var rn=0,Ht=Vt.length;rn<Ht;rn++)if(Vt[rn].ceFalseOverride&&Mt.is(Be,Vt[rn].selector))return void rt(Be,Vt[rn])}}function ie(_t,Dt,Be,rt){function Ct(_n){var An,Rn,ei,Ti,li;if(1===_n.nodeType&&si(_n)&&(Ti=Ht,Ht="true"===si(_n),li=!0),An=Xn(_n.childNodes),Ht&&!li)for(Rn=0,ei=Xt.length;Rn<ei&&!xn(Xt[Rn],Dt,_n,_n);Rn++);if(kn.deep&&An.length){for(Rn=0,ei=An.length;Rn<ei;Rn++)Ct(An[Rn]);li&&(Ht=Ti)}}function Vt(_n){return function nn(_n,An,Rn,ei){var Ti,li,Pi,lr,Ei,ji;if(_n){for(ji=_n.parentNode,Ti=An.parentNode;Ti&&Ti!=ji;Ti=Ti.parentNode){for(li=Mt.clone(Ti,Yn),Ei=0;Ei<Xt.length;Ei++)if(xn(Xt[Ei],Dt,li,li)){li=0;break}li&&(Pi&&li.appendChild(Pi),lr||(lr=li),Pi=li)}!ei||kn.mixed&&pt(_n)||(An=Mt.split(_n,An)),Pi&&(Rn.parentNode.insertBefore(Pi,Rn),lr.appendChild(Rn))}return An}(function Bt(_n){var An;return jt(V(_n.parentNode).reverse(),function(Rn){var ei;An||"_start"==Rn.id||"_end"==Rn.id||(ei=ae(Rn,_t,Dt,rt))&&!1!==ei.split&&(An=Rn)}),An}(_n),_n,_n,!0)}function gt(_n){var An=Mt.get(_n?"_start":"_end"),Rn=An[_n?"firstChild":"lastChild"];return kt(Rn)&&(Rn=Rn[_n?"firstChild":"lastChild"]),3==Rn.nodeType&&0===Rn.data.length&&(Rn=_n?An.previousSibling||An.nextSibling:An.nextSibling||An.previousSibling),Mt.remove(An,!0),Rn}function Ut(_n){var An,Rn,ei=_n.commonAncestorContainer;if(_n=mn(_n,Xt,Vn),kn.split){if((An=ut(_n,Vn))!=(Rn=ut(_n))){if(/^(TR|TH|TD)$/.test(An.nodeName)&&An.firstChild&&(An="TR"==An.nodeName?An.firstChild.firstChild||An:An.firstChild||An),ei&&/^T(HEAD|BODY|FOOT|R)$/.test(ei.nodeName)&&N(Rn)&&Rn.firstChild&&(Rn=Rn.firstChild||Rn),Mt.isChildOf(An,Rn)&&!pt(Rn)&&!N(An)&&!N(Rn))return Vt(An=ln(An,"span",{id:"_start","data-mce-type":"bookmark"})),void(An=gt(Vn));An=ln(An,"span",{id:"_start","data-mce-type":"bookmark"}),Rn=ln(Rn,"span",{id:"_end","data-mce-type":"bookmark"}),Vt(An),Vt(Rn),An=gt(Vn),Rn=gt()}else An=Rn=Vt(An);_n.startContainer=An.parentNode?An.parentNode:An,_n.startOffset=tn(An),_n.endContainer=Rn.parentNode?Rn.parentNode:Rn,_n.endOffset=tn(Rn)+1}Ue.walk(_n,function(Ti){jt(Ti,function(li){Ct(li),1===li.nodeType&&"underline"===C.dom.getStyle(li,"text-decoration")&&li.parentNode&&"underline"===F(li.parentNode)&&xn({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,li)})})}var At,rn,Xt=X(_t),kn=Xt[0],Ht=!0;if(Be)Be.nodeType?((rn=Mt.createRng()).setStartBefore(Be),rn.setEndAfter(Be),Ut(rn)):Ut(Be);else if("false"!==si(en.getNode()))en.isCollapsed()&&kn.inline&&!Mt.select("td[data-mce-selected],th[data-mce-selected]").length?St("remove",_t,Dt,rt):(At=en.getBookmark(),Ut(en.getRng(Vn)),en.moveToBookmark(At),kn.inline&&Ce(_t,Dt,en.getStart())&&Ot(en.getRng(!0)),C.nodeChanged());else{Be=en.getNode();for(var yn=0,Dn=Xt.length;yn<Dn&&(!Xt[yn].ceFalseOverride||!xn(Xt[yn],Dt,Be,Be));yn++);}}function ae(_t,Dt,Be,rt){function Ct(Ut,Xt,kn){var At,rn,yn,Ht=Xt[kn];if(Xt.onmatch)return Xt.onmatch(Ut,Xt,kn);if(Ht)if(Ht.length===ii){for(At in Ht)if(Ht.hasOwnProperty(At)&&(rn="attributes"===kn?Mt.getAttrib(Ut,At):et(Ut,At),rt&&!rn&&!Xt.exact||(!rt||Xt.exact)&&!Qe(rn,ct(xt(Ht[At],Be),At))))return}else for(yn=0;yn<Ht.length;yn++)if("attributes"===kn?Mt.getAttrib(Ut,Ht[yn]):et(Ut,Ht[yn]))return Xt;return Xt}var nn,Vt,gt,Bt=X(Dt);if(Bt&&_t)for(Vt=0;Vt<Bt.length;Vt++)if($e(_t,nn=Bt[Vt])&&Ct(_t,nn,"attributes")&&Ct(_t,nn,"styles")){if(gt=nn.classes)for(Vt=0;Vt<gt.length;Vt++)if(!Mt.hasClass(_t,gt[Vt]))return;return nn}}function Ce(_t,Dt,Be){function rt(Bt){var nn=Mt.getRoot();return Bt!==nn&&(Bt=Mt.getParent(Bt,function(Vt){return!!W(Vt,_t)||Vt.parentNode===nn||!!ae(Vt,_t,Dt,!0)}),ae(Bt,_t,Dt))}var Ct;return Be?rt(Be):rt(Be=en.getNode())||(Ct=en.getStart())!=Be&&rt(Ct)?Vn:Yn}function $e(_t,Dt){return Qe(_t,Dt.inline)||Qe(_t,Dt.block)?Vn:Dt.selector?1==_t.nodeType&&Mt.is(_t,Dt.selector):void 0}function Qe(_t,Dt){return Dt=""+((Dt=Dt||"").nodeName||Dt),(_t=""+((_t=_t||"").nodeName||_t)).toLowerCase()==Dt.toLowerCase()}function st(_t,Dt,Be){jt(_t.childNodes,function(rt){nt(rt)&&(Dt(rt)&&Be(rt),rt.hasChildNodes()&&st(rt,Dt,Be))})}function nt(_t){return 1==_t.nodeType&&!kt(_t)&&!Wt(_t)&&!Y(_t)}function Ie(_t){return v.curry(function(Dt,Be){return!(!Be||!et(Be,Dt))},_t)}function et(_t,Dt){return ct(Mt.getStyle(_t,Dt),Dt)}function ct(_t,Dt){return"color"!=Dt&&"backgroundColor"!=Dt||(_t=Mt.toHex(_t)),"fontWeight"==Dt&&700==_t&&(_t="bold"),"fontFamily"==Dt&&(_t=_t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+_t}function xt(_t,Dt){return"string"!=typeof _t?_t=_t(Dt):Dt&&(_t=_t.replace(/%(\w+)/g,function(Be,rt){return Dt[rt]||Be})),_t}function Wt(_t){return _t&&3===_t.nodeType&&/^([\t \r\n]+|)$/.test(_t.nodeValue)}function ln(_t,Dt,Be){var rt=Mt.create(Dt,Be);return _t.parentNode.insertBefore(rt,_t),rt.appendChild(_t),rt}function mn(_t,Dt,Be){function rt(Dn){var An,Rn,ei,Ti,li,Pi;if(An=Rn=Dn?At:Ht,Ti=Dn?"previousSibling":"nextSibling",li=Mt.getRoot(),3==An.nodeType&&!Wt(An)&&(Dn?rn>0:yn<An.nodeValue.length))return An;for(;;){if(!Dt[0].block_expand&&pt(Rn))return Rn;for(ei=Rn[Ti];ei;ei=ei[Ti])if(!kt(ei)&&!Wt(ei)&&("BR"!=(Pi=ei).nodeName||!Pi.getAttribute("data-mce-bogus")||Pi.nextSibling))return Rn;if(Rn==li||Rn.parentNode==li){An=Rn;break}Rn=Rn.parentNode}return An}function Ct(Dn,_n){for(_n===ii&&(_n=3===Dn.nodeType?Dn.length:Dn.childNodes.length);Dn&&Dn.hasChildNodes();)(Dn=Dn.childNodes[_n])&&(_n=3===Dn.nodeType?Dn.length:Dn.childNodes.length);return{node:Dn,offset:_n}}function Bt(Dn){for(var _n=Dn;_n;){if(1===_n.nodeType&&si(_n))return"false"===si(_n)?_n:Dn;_n=_n.parentNode}return Dn}function nn(Dn,_n,An){function Rn(lr,Ei){var ji,jr,_o=lr.nodeValue;return typeof Ei>"u"&&(Ei=An?_o.length:0),An?-1===(ji=(ji=_o.lastIndexOf(" ",Ei))>(jr=_o.lastIndexOf("\xa0",Ei))?ji:jr)||Be||ji++:(ji=_o.indexOf(" ",Ei),jr=_o.indexOf("\xa0",Ei),ji=-1!==ji&&(-1===jr||ji<jr)?ji:jr),ji}var ei,Ti,li,Pi;if(3===Dn.nodeType){if(-1!==(li=Rn(Dn,_n)))return{container:Dn,offset:li};Pi=Dn}for(ei=new L(Dn,Mt.getParent(Dn,pt)||C.getBody());Ti=ei[An?"prev":"next"]();)if(3===Ti.nodeType){if(Pi=Ti,-1!==(li=Rn(Ti)))return{container:Ti,offset:li}}else if(pt(Ti))break;if(Pi)return{container:Pi,offset:_n=An?0:Pi.length}}function Vt(Dn,_n){var An,Rn,ei,Ti;for(3==Dn.nodeType&&0===Dn.nodeValue.length&&Dn[_n]&&(Dn=Dn[_n]),An=V(Dn),Rn=0;Rn<An.length;Rn++)for(ei=0;ei<Dt.length;ei++)if((!("collapsed"in(Ti=Dt[ei]))||Ti.collapsed===_t.collapsed)&&Mt.is(An[Rn],Ti.selector))return An[Rn];return Dn}function gt(Dn,_n){var An,Rn=Mt.getRoot();if(Dt[0].wrapper||(An=Mt.getParent(Dn,Dt[0].block,Rn)),An||(An=Mt.getParent(3==Dn.nodeType?Dn.parentNode:Dn,function(ei){return ei!=Rn&&I(ei)})),An&&Dt[0].wrapper&&(An=V(An,"ul,ol").reverse()[0]||An),!An)for(An=Dn;An[_n]&&!pt(An[_n])&&!Qe(An=An[_n],"br"););return An||Dn}var Ut,Xt,kn,At=_t.startContainer,rn=_t.startOffset,Ht=_t.endContainer,yn=_t.endOffset;if(1==At.nodeType&&At.hasChildNodes()&&3==(At=At.childNodes[rn>(Ut=At.childNodes.length-1)?Ut:rn]).nodeType&&(rn=0),1==Ht.nodeType&&Ht.hasChildNodes()&&3==(Ht=Ht.childNodes[yn>(Ut=Ht.childNodes.length-1)?Ut:yn-1]).nodeType&&(yn=Ht.nodeValue.length),At=Bt(At),Ht=Bt(Ht),(kt(At.parentNode)||kt(At))&&3==(At=(At=kt(At)?At:At.parentNode).nextSibling||At).nodeType&&(rn=0),(kt(Ht.parentNode)||kt(Ht))&&3==(Ht=(Ht=kt(Ht)?Ht:Ht.parentNode).previousSibling||Ht).nodeType&&(yn=Ht.length),Dt[0].inline&&(_t.collapsed&&((kn=nn(At,rn,!0))&&(At=kn.container,rn=kn.offset),(kn=nn(Ht,yn))&&(Ht=kn.container,yn=kn.offset)),(Xt=Ct(Ht,yn)).node)){for(;Xt.node&&0===Xt.offset&&Xt.node.previousSibling;)Xt=Ct(Xt.node.previousSibling);Xt.node&&Xt.offset>0&&3===Xt.node.nodeType&&" "===Xt.node.nodeValue.charAt(Xt.offset-1)&&Xt.offset>1&&(Ht=Xt.node).splitText(Xt.offset-1)}return(Dt[0].inline||Dt[0].block_expand)&&(Dt[0].inline&&3==At.nodeType&&0!==rn||(At=rt(!0)),Dt[0].inline&&3==Ht.nodeType&&yn!==Ht.nodeValue.length||(Ht=rt())),Dt[0].selector&&Dt[0].expand!==Yn&&!Dt[0].inline&&(At=Vt(At,"previousSibling"),Ht=Vt(Ht,"nextSibling")),(Dt[0].block||Dt[0].selector)&&(At=gt(At,"previousSibling"),Ht=gt(Ht,"nextSibling"),Dt[0].block&&(pt(At)||(At=rt(!0)),pt(Ht)||(Ht=rt()))),1==At.nodeType&&(rn=tn(At),At=At.parentNode),1==Ht.nodeType&&(yn=tn(Ht)+1,Ht=Ht.parentNode),{startContainer:At,startOffset:rn,endContainer:Ht,endOffset:yn}}function xn(_t,Dt,Be,rt){var Ct,Bt,nn;if(!$e(Be,_t)&&!function wn(_t,Dt){return Dt.links&&"A"==_t.tagName}(Be,_t))return Yn;if("all"!=_t.remove)for(jt(_t.styles,function(gt,Ut){gt=ct(xt(gt,Dt),Ut),"number"==typeof Ut&&(Ut=gt,rt=0),(_t.remove_similar||!rt||Qe(et(rt,Ut),gt))&&Mt.setStyle(Be,Ut,""),nn=1}),nn&&""===Mt.getAttrib(Be,"style")&&(Be.removeAttribute("style"),Be.removeAttribute("data-mce-style")),jt(_t.attributes,function(gt,Ut){var Xt;if(gt=xt(gt,Dt),"number"==typeof Ut&&(Ut=gt,rt=0),!rt||Qe(Mt.getAttrib(rt,Ut),gt)){if("class"==Ut&&(gt=Mt.getAttrib(Be,Ut))&&(Xt="",jt(gt.split(/\s+/),function(kn){/mce\-\w+/.test(kn)&&(Xt+=(Xt?" ":"")+kn)}),Xt))return void Mt.setAttrib(Be,Ut,Xt);"class"==Ut&&Be.removeAttribute("className"),Gn.test(Ut)&&Be.removeAttribute("data-mce-"+Ut),Be.removeAttribute(Ut)}}),jt(_t.classes,function(gt){gt=xt(gt,Dt),rt&&!Mt.hasClass(rt,gt)||Mt.removeClass(Be,gt)}),Bt=Mt.getAttribs(Be),Ct=0;Ct<Bt.length;Ct++){var Vt=Bt[Ct].nodeName;if(0!==Vt.indexOf("_")&&0!==Vt.indexOf("data-"))return Yn}return"none"!=_t.remove?(function yt(_t,Dt){function Be(Bt,nn,Vt){return!(Bt=ze(Bt,nn,Vt))||"BR"==Bt.nodeName||pt(Bt)}var Ct,rt=_t.parentNode;Dt.block&&(Lt?rt==Mt.getRoot()&&(Dt.list_block&&Qe(_t,Dt.list_block)||jt(Xn(_t.childNodes),function(Bt){ot(Lt,Bt.nodeName.toLowerCase())?Ct?Ct.appendChild(Bt):(Ct=ln(Bt,Lt),Mt.setAttribs(Ct,C.settings.forced_root_block_attrs)):Ct=0})):pt(_t)&&!pt(rt)&&(Be(_t,Yn)||Be(_t.firstChild,Vn,1)||_t.insertBefore(Mt.create("br"),_t.firstChild),Be(_t,Vn)||Be(_t.lastChild,Yn,1)||_t.appendChild(Mt.create("br")))),Dt.selector&&Dt.inline&&!Qe(Dt.inline,_t)||Mt.remove(_t,1)}(Be,_t),Vn):void 0}function ze(_t,Dt,Be){if(_t)for(Dt=Dt?"nextSibling":"previousSibling",_t=Be?_t:_t[Dt];_t;_t=_t[Dt])if(1==_t.nodeType||!Wt(_t))return _t}function Oe(_t,Dt){function Be(nn,Vt){for(rt=nn;rt;rt=rt[Vt]){if(3==rt.nodeType&&0!==rt.nodeValue.length)return nn;if(1==rt.nodeType&&!kt(rt))return rt}return nn}var rt,Ct,Bt=new w(Mt);if(_t&&Dt&&(_t=Be(_t,"previousSibling"),Dt=Be(Dt,"nextSibling"),Bt.compare(_t,Dt))){for(rt=_t.nextSibling;rt&&rt!=Dt;)Ct=rt,rt=rt.nextSibling,_t.appendChild(Ct);return Mt.remove(Dt),jt(Xn(Dt.childNodes),function(nn){_t.appendChild(nn)}),_t}return Dt}function ut(_t,Dt){var Be,rt,Ct;return rt=_t[Dt?"startOffset":"endOffset"],1==(Be=_t[Dt?"startContainer":"endContainer"]).nodeType&&(!Dt&&rt&&rt--,Be=Be.childNodes[rt>(Ct=Be.childNodes.length-1)?Ct:rt]),3===Be.nodeType&&Dt&&rt>=Be.nodeValue.length&&(Be=new L(Be,C.getBody()).next()||Be),3!==Be.nodeType||Dt||0!==rt||(Be=new L(Be,C.getBody()).prev()||Be),Be}function St(_t,Dt,Be,rt){function Ct(Ht){var yn=Mt.create("span",{id:At,"data-mce-bogus":!0,style:rn?"color:red":""});return Ht&&yn.appendChild(C.getDoc().createTextNode(Hn)),yn}function Bt(Ht,yn){for(;Ht;){if(3===Ht.nodeType&&Ht.nodeValue!==Hn||Ht.childNodes.length>1)return!1;yn&&1===Ht.nodeType&&yn.push(Ht),Ht=Ht.firstChild}return!0}function nn(Ht){for(;Ht;){if(Ht.id===At)return Ht;Ht=Ht.parentNode}}function Vt(Ht){var yn;if(Ht)for(Ht=(yn=new L(Ht,Ht)).current();Ht;Ht=yn.next())if(3===Ht.nodeType)return Ht}function gt(Ht,yn){var Dn,_n;if(Ht)_n=en.getRng(!0),Bt(Ht)?(!1!==yn&&(_n.setStartBefore(Ht),_n.setEndBefore(Ht)),Mt.remove(Ht)):((Dn=Vt(Ht)).nodeValue.charAt(0)===Hn&&(Dn.deleteData(0,1),_n.startContainer==Dn&&_n.startOffset>0&&_n.setStart(Dn,_n.startOffset-1),_n.endContainer==Dn&&_n.endOffset>0&&_n.setEnd(Dn,_n.endOffset-1)),Mt.remove(Ht,1)),en.setRng(_n);else if(!(Ht=nn(en.getStart())))for(;Ht=Mt.get(At);)gt(Ht,!1)}function kn(){var Ht;(Ht=nn(en.getStart()))&&!Mt.isEmpty(Ht)&&Fn(Ht,function(yn){1!=yn.nodeType||yn.id===At||Mt.isEmpty(yn)||Mt.setAttrib(yn,"data-mce-bogus",null)},"childNodes")}var At="_mce_caret",rn=C.settings.caret_debug;C._hasCaretEvents||($t=function(){var yn,Ht=[];if(Bt(nn(en.getStart()),Ht))for(yn=Ht.length;yn--;)Mt.setAttrib(Ht[yn],"data-mce-bogus","1")},Kt=function(Ht){var yn=Ht.keyCode;gt(),8==yn&&en.isCollapsed()&&en.getStart().innerHTML==Hn&&gt(nn(en.getStart())),37!=yn&&39!=yn||gt(nn(en.getStart())),kn()},C.on("SetContent",function(Ht){Ht.selection&&kn()}),C._hasCaretEvents=!0),"apply"==_t?function Ut(){var Ht,yn,Dn,_n,An,ei;_n=(Ht=en.getRng(!0)).startOffset,ei=Ht.startContainer.nodeValue,(yn=nn(en.getStart()))&&(Dn=Vt(yn));var Ti=/[^\s\u00a0\u00ad\u200b\ufeff]/;ei&&_n>0&&_n<ei.length&&Ti.test(ei.charAt(_n))&&Ti.test(ei.charAt(_n-1))?(An=en.getBookmark(),Ht.collapse(!0),Ht=mn(Ht,X(Dt)),Ht=Ue.split(Ht),E(Dt,Be,Ht),en.moveToBookmark(An)):(yn&&Dn.nodeValue===Hn||(Dn=(yn=Ct(!0)).firstChild,Ht.insertNode(yn),_n=1),E(Dt,Be,yn),en.setCursorLocation(Dn,_n))}():function Xt(){var yn,_n,An,Rn,ei,li,Pi,Ht=en.getRng(!0),Ti=[];for(Rn=yn=Ht.startContainer,3==yn.nodeType&&(Ht.startOffset!=yn.nodeValue.length&&(An=!0),Rn=Rn.parentNode);Rn;){if(ae(Rn,Dt,Be,rt)){ei=Rn;break}Rn.nextSibling&&(An=!0),Ti.push(Rn),Rn=Rn.parentNode}if(ei)if(An)_n=en.getBookmark(),Ht.collapse(!0),Ht=mn(Ht,X(Dt),!0),Ht=Ue.split(Ht),ie(Dt,Be,Ht),en.moveToBookmark(_n);else{for(Rn=Pi=Ct(),li=Ti.length-1;li>=0;li--)Rn.appendChild(Mt.clone(Ti[li],!1)),Rn=Rn.firstChild;Rn.appendChild(Mt.doc.createTextNode(Hn)),Rn=Rn.firstChild;var lr=Mt.getParent(ei,I);lr&&Mt.isEmpty(lr)?ei.parentNode.replaceChild(Pi,ei):Mt.insertAfter(Pi,ei),en.setCursorLocation(Rn,1),Mt.isEmpty(ei)&&Mt.remove(ei)}}()}function Ot(_t){var rt,Ct,Bt,nn,Vt,Dt=_t.startContainer,Be=_t.startOffset;if((_t.startContainer!=_t.endContainer||!function z(_t){return _t&&/^(IMG)$/.test(_t.nodeName)}(_t.startContainer.childNodes[_t.startOffset]))&&(3==Dt.nodeType&&Be>=Dt.nodeValue.length&&(Be=tn(Dt),Dt=Dt.parentNode,rt=!0),1==Dt.nodeType))for(Dt=(nn=Dt.childNodes)[Math.min(Be,nn.length-1)],Ct=new L(Dt,Mt.getParent(Dt,Mt.isBlock)),(Be>nn.length-1||rt)&&Ct.next(),Bt=Ct.current();Bt;Bt=Ct.next())if(3==Bt.nodeType&&!Wt(Bt))return Vt=Mt.create("a",{"data-mce-bogus":"all"},Hn),Bt.parentNode.insertBefore(Vt,Bt),_t.setStart(Bt,0),en.setRng(_t),void Mt.remove(Vt)}var vi,ii,Kt,$t,Ft={},Mt=C.dom,en=C.selection,Ue=new M(Mt),ot=C.schema.isValidChild,pt=Mt.isBlock,Lt=C.settings.forced_root_block,tn=Mt.nodeIndex,Hn="\ufeff",Gn=/^(src|href|style)$/,Yn=!1,Vn=!0,si=Mt.getContentEditable,kt=x.isBookmarkNode,jt=f.each,Xn=f.grep,Fn=f.walk;(0,f.extend)(this,{get:X,register:le,unregister:function G(_t){return _t&&Ft[_t]&&delete Ft[_t],Ft},apply:E,remove:ie,toggle:function pe(_t,Dt,Be){var rt=X(_t);!Ce(_t,Dt,Be)||"toggle"in rt[0]&&!rt[0].toggle?E(_t,Dt,Be):ie(_t,Dt,Be)},match:Ce,matchAll:function Le(_t,Dt){var Be,rt=[],Ct={};return Be=en.getStart(),Mt.getParent(Be,function(Bt){var nn,Vt;for(nn=0;nn<_t.length;nn++)!Ct[Vt=_t[nn]]&&ae(Bt,Vt,Dt)&&(Ct[Vt]=!0,rt.push(Vt))},Mt.getRoot()),rt},matchNode:ae,canApply:function tt(_t){var rt,Ct,Bt,nn,Dt=X(_t);if(Dt)for(rt=V(en.getStart()),Bt=Dt.length-1;Bt>=0;Bt--){if(!(nn=Dt[Bt].selector)||Dt[Bt].defaultBlock)return Vn;for(Ct=rt.length-1;Ct>=0;Ct--)if(Mt.is(rt[Ct],nn))return Vn}return Yn},formatChanged:function Ze(_t,Dt,Be){var rt;return vi||(vi={},rt={},C.on("NodeChange",function(Ct){var Bt=V(Ct.element),nn={};Bt=f.grep(Bt,function(Vt){return 1==Vt.nodeType&&!Vt.getAttribute("data-mce-bogus")}),jt(vi,function(Vt,gt){jt(Bt,function(Ut){return ae(Ut,gt,{},Vt.similar)?(rt[gt]||(jt(Vt,function(Xt){Xt(!0,{node:Ut,format:gt,parents:Bt})}),rt[gt]=Vt),nn[gt]=Vt,!1):!W(Ut,gt)&&void 0})}),jt(rt,function(Vt,gt){nn[gt]||(delete rt[gt],jt(Vt,function(Ut){Ut(!1,{node:Ct.element,format:gt,parents:Bt})}))})})),jt(_t.split(","),function(Ct){vi[Ct]||(vi[Ct]=[],vi[Ct].similar=Be),vi[Ct].push(Dt)}),this},getCssText:function qe(_t){return p.getCssText(C,_t)}}),function U(){le({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(_t,Dt,Be){jt(Be,function(rt,Ct){Mt.setAttrib(_t,Ct,rt)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),jt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(_t){le(_t,{block:_t,remove:"all"})}),le(C.settings.formats)}(),function ne(){C.addShortcut("meta+b","bold_desc","Bold"),C.addShortcut("meta+i","italic_desc","Italic"),C.addShortcut("meta+u","underline_desc","Underline");for(var _t=1;_t<=6;_t++)C.addShortcut("access+"+_t,"",["FormatBlock",!1,"h"+_t]);C.addShortcut("access+7","",["FormatBlock",!1,"p"]),C.addShortcut("access+8","",["FormatBlock",!1,"div"]),C.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),C.on("BeforeGetContent",function(_t){$t&&"raw"!=_t.format&&$t()}),C.on("mouseup keydown",function(_t){Kt&&Kt(_t)})}}),ve(Ni,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(v,f){var p=v.length+f.length+2,_=new Array(p),C=new Array(p),N=function(U,ne,X,le,G){var W=V(U,ne,X,le);if(null===W||W.start===ne&&W.diag===ne-le||W.end===U&&W.diag===U-X)for(var F=U,A=X;F<ne||A<le;)F<ne&&A<le&&v[F]===f[A]?(G.push([0,v[F]]),++F,++A):ne-U>le-X?(G.push([2,v[F]]),++F):(G.push([1,f[A]]),++A);else{N(U,W.start,X,W.start-W.diag,G);for(var E=W.start;E<W.end;++E)G.push([0,v[E]]);N(W.end,ne,W.end-W.diag,le,G)}},z=function(U,ne,X,le){for(var G=U;G-ne<le&&G<X&&v[G]===f[G-ne];)++G;return function(U,ne,X){return{start:U,end:ne,diag:X}}(U,G,ne)},V=function(U,ne,X,le){var G=ne-U,W=le-X;if(0===G||0===W)return null;var F=G-W,A=W+G,E=(A%2==0?A:A+1)/2;_[1+E]=U,C[1+E]=ne+1;for(var ie=0;ie<=E;++ie){for(var pe=-ie;pe<=ie;pe+=2){var ae=pe+E;_[ae]=pe===-ie||pe!=ie&&_[ae-1]<_[ae+1]?_[ae+1]:_[ae-1]+1;for(var Ce=_[ae],Le=Ce-U+X-pe;Ce<ne&&Le<le&&v[Ce]===f[Le];)_[ae]=++Ce,++Le;if(F%2!=0&&F-ie<=pe&&pe<=F+ie&&C[ae-F]<=_[ae])return z(C[ae-F],pe+U-X,ne,le)}for(pe=F-ie;pe<=F+ie;pe+=2){for(C[ae=pe+E-F]=pe===F-ie||pe!=F+ie&&C[ae+1]<=C[ae-1]?C[ae+1]-1:C[ae-1],Le=(Ce=C[ae]-1)-U+X-pe;Ce>=U&&Le>=X&&v[Ce]===f[Le];)C[ae]=Ce--,Le--;if(F%2==0&&-ie<=pe&&pe<=ie&&C[ae]<=_[ae+F])return z(C[ae],pe+U-X,ne,le)}}},Y=[];return N(0,v.length,0,f.length,Y),Y}}}),ve(Jt,[B,Ne,Ni],function(L,M,x){var w=function(N){return 1===N.nodeType?N.outerHTML:3===N.nodeType?M.encodeRaw(N.data,!1):8===N.nodeType?"\x3c!--"+N.data+"--\x3e":""};return{read:function(N){return L.map(N.childNodes,w)},write:function(N,z){var V=L.map(z.childNodes,w);return function(N,z){var V=0;L.each(N,function(Y){Y[0]===x.KEEP?V++:Y[0]===x.INSERT?(function(N,z,V){var Y=function(N){var z,V,Y;for(Y=document.createElement("div"),z=document.createDocumentFragment(),N&&(Y.innerHTML=N);V=Y.firstChild;)z.appendChild(V);return z}(z);if(N.hasChildNodes()&&V<N.childNodes.length){var U=N.childNodes[V];U.parentNode.insertBefore(Y,U)}else N.appendChild(Y)}(z,Y[1],V),V++):Y[0]===x.DELETE&&function(N,z){if(N.hasChildNodes()&&z<N.childNodes.length){var V=N.childNodes[z];V.parentNode.removeChild(V)}}(z,V)})}(x.diff(V,N),z),z}}}),ve(qt,[B,Jt],function(L,M){var w=function(I){return{type:"fragmented",fragments:I,content:"",bookmark:null,beforeBookmark:null}},v=function(I){return{type:"complete",fragments:null,content:I,bookmark:null,beforeBookmark:null}},_=function(I){return"fragmented"===I.type?I.fragments.join(""):I.content};return{createFragmentedLevel:w,createCompleteLevel:v,createFromEditor:function(I){var N,z,V;return N=M.read(I.getBody()),function(I){return-1!==I.indexOf("</iframe>")}(z=(V=L.map(N,function(Y){return I.serializer.trimContent(Y)})).join(""))?w(V):v(z)},applyToEditor:function(I,N,z){"fragmented"===N.type?M.write(N.fragments,I.getBody()):I.setContent(N.content,{format:"raw"}),I.selection.moveToBookmark(z?N.beforeBookmark:N.bookmark)},isEq:function(I,N){return _(I)===_(N)}}}),ve(gn,[un,K,qt],function(L,M,x){return function(w){function v(Y){w.setDirty(Y)}function f(Y){_.typing=!1,_.add({},Y)}function p(){_.typing&&(_.typing=!1,_.add())}var N,z,_=this,C=0,I=[],V=0;return w.on("init",function(){_.add()}),w.on("BeforeExecCommand",function(Y){var U=Y.command;"Undo"!==U&&"Redo"!==U&&"mceRepaint"!==U&&(p(),_.beforeChange())}),w.on("ExecCommand",function(Y){var U=Y.command;"Undo"!==U&&"Redo"!==U&&"mceRepaint"!==U&&f(Y)}),w.on("ObjectResizeStart Cut",function(){_.beforeChange()}),w.on("SaveContent ObjectResized blur",f),w.on("DragEnd",f),w.on("KeyUp",function(Y){var U=Y.keyCode;Y.isDefaultPrevented()||((U>=33&&U<=36||U>=37&&U<=40||45===U||Y.ctrlKey)&&(f(),w.nodeChanged()),46!==U&&8!==U||w.nodeChanged(),z&&_.typing&&(w.isDirty()||(v(I[0]&&!x.isEq(x.createFromEditor(w),I[0])),w.isDirty()&&w.fire("change",{level:I[0],lastLevel:null})),w.fire("TypingUndo"),z=!1,w.nodeChanged()))}),w.on("KeyDown",function(Y){var U=Y.keyCode;if(!Y.isDefaultPrevented()){if(U>=33&&U<=36||U>=37&&U<=40||45===U)return void(_.typing&&f(Y));!(U<16||U>20)||224===U||91===U||_.typing||Y.ctrlKey&&!Y.altKey||Y.metaKey||(_.beforeChange(),_.typing=!0,_.add({},Y),z=!0)}}),w.on("MouseDown",function(Y){_.typing&&f(Y)}),w.addShortcut("meta+z","","Undo"),w.addShortcut("meta+y,meta+shift+z","","Redo"),w.on("AddUndo Undo Redo ClearUndos",function(Y){Y.isDefaultPrevented()||w.nodeChanged()}),_={data:I,typing:!1,beforeChange:function(){V||(N=w.selection.getBookmark(2,!0))},add:function(Y,U){var ne,le,G,X=w.settings;if(G=x.createFromEditor(w),Y=M.extend(Y=Y||{},G),V||w.removed||w.fire("BeforeAddUndo",{level:Y,lastLevel:le=I[C],originalEvent:U}).isDefaultPrevented()||le&&x.isEq(le,Y))return null;if(I[C]&&(I[C].beforeBookmark=N),X.custom_undo_redo_levels&&I.length>X.custom_undo_redo_levels){for(ne=0;ne<I.length-1;ne++)I[ne]=I[ne+1];I.length--,C=I.length}Y.bookmark=w.selection.getBookmark(2,!0),C<I.length-1&&(I.length=C+1),I.push(Y),C=I.length-1;var W={level:Y,lastLevel:le,originalEvent:U};return w.fire("AddUndo",W),C>0&&(v(!0),w.fire("change",W)),Y},undo:function(){var Y;return _.typing&&(_.add(),_.typing=!1),C>0&&(Y=I[--C],x.applyToEditor(w,Y,!0),v(!0),w.fire("undo",{level:Y})),Y},redo:function(){var Y;return C<I.length-1&&(Y=I[++C],x.applyToEditor(w,Y,!1),v(!0),w.fire("redo",{level:Y})),Y},clear:function(){I=[],C=0,_.typing=!1,_.data=I,w.fire("ClearUndos")},hasUndo:function(){return C>0||_.typing&&I[0]&&!x.isEq(x.createFromEditor(w),I[0])},hasRedo:function(){return C<I.length-1&&!_.typing},transact:function(Y){p(),_.beforeChange();try{V++,Y()}finally{V--}return _.add()},extra:function(Y,U){var X;_.transact(Y)&&(X=I[C].bookmark,x.applyToEditor(w,I[C-1],!0),_.transact(U)&&(I[C-1].beforeBookmark=X))}}}}),ve(Ln,[he,Re,ue,J],function(L,M,x,w){var v=w.ie&&w.ie<11;return function(f){var _=f.dom,C=f.selection,I=f.settings,N=f.undoManager,z=f.schema,V=z.getNonEmptyElements(),Y=z.getMoveCaretBeforeOnEnterElements();f.on("keydown",function(U){13==U.keyCode&&!1!==function p(U){function ne(ze){return ze&&_.isBlock(ze)&&!/^(TD|TH|CAPTION|FORM)$/.test(ze.nodeName)&&!/^(fixed|absolute)/i.test(ze.style.position)&&"true"!==_.getContentEditable(ze)}function le(ze){var Oe;_.isBlock(ze)&&(Oe=C.getRng(),ze.appendChild(_.create("span",null,"\xa0")),C.select(ze),ze.lastChild.outerHTML="",C.setRng(Oe))}function W(ze){var ut,St,Ot,Mt,Ft=ze;if(ze){if(w.ie&&w.ie<9&&Fe&&Fe.firstChild&&Fe.firstChild==Fe.lastChild&&"BR"==Fe.firstChild.tagName&&_.remove(Fe.firstChild),/^(LI|DT|DD)$/.test(ze.nodeName)){var en=function Oe(Ue){for(;Ue;){if(1==Ue.nodeType||3==Ue.nodeType&&Ue.data&&/[\r\n\s]/.test(Ue.data))return Ue;Ue=Ue.nextSibling}}(ze.firstChild);en&&/^(UL|OL|DL)$/.test(en.nodeName)&&ze.insertBefore(_.doc.createTextNode("\xa0"),ze.firstChild)}if(Ot=_.createRng(),w.ie||ze.normalize(),ze.hasChildNodes()){for(ut=new L(ze,ze);St=ut.current();){if(3==St.nodeType){Ot.setStart(St,0),Ot.setEnd(St,0);break}if(Y[St.nodeName.toLowerCase()]){Ot.setStartBefore(St),Ot.setEndBefore(St);break}Ft=St,St=ut.next()}St||(Ot.setStart(Ft,0),Ot.setEnd(Ft,0))}else"BR"==ze.nodeName?ze.nextSibling&&_.isBlock(ze.nextSibling)?((!et||et<9)&&(Mt=_.create("br"),ze.parentNode.insertBefore(Mt,ze)),Ot.setStartBefore(ze),Ot.setEndBefore(ze)):(Ot.setStartAfter(ze),Ot.setEndAfter(ze)):(Ot.setStart(ze,0),Ot.setEnd(ze,0));C.setRng(Ot),_.remove(Mt),C.scrollIntoView(ze)}}function F(ze){var Oe=I.forced_root_block;Oe&&Oe.toLowerCase()===ze.tagName.toLowerCase()&&_.setAttribs(ze,I.forced_root_block_attrs)}function A(ze){ze.innerHTML=v?"":'<br data-mce-bogus="1">'}function E(ze){var ut,St,Ot,Oe=nt,Ft=z.getTextInlineElements();if(ze||"TABLE"==mn?F(ut=_.create(ze||xn)):ut=Fe.cloneNode(!1),Ot=ut,!1!==I.keep_styles)do{if(Ft[Oe.nodeName]){if("_mce_caret"==Oe.id)continue;St=Oe.cloneNode(!1),_.setAttrib(St,"id",""),ut.hasChildNodes()?(St.appendChild(ut.firstChild),ut.appendChild(St)):(Ot=St,ut.appendChild(St))}}while((Oe=Oe.parentNode)&&Oe!=st);return v||(Ot.innerHTML='<br data-mce-bogus="1">'),ut}function ie(ze){var Oe,ut,St;if(3==nt.nodeType&&(ze?Ie>0:Ie<nt.nodeValue.length))return!1;if(nt.parentNode==Fe&&yt&&!ze||ze&&1==nt.nodeType&&nt==Fe.firstChild)return!0;if("TABLE"===nt.nodeName||nt.previousSibling&&"TABLE"==nt.previousSibling.nodeName)return yt&&!ze||!yt&&ze;for(Oe=new L(nt,Fe),3==nt.nodeType&&(ze&&0===Ie?Oe.prev():ze||Ie!=nt.nodeValue.length||Oe.next());ut=Oe.current();){if(1===ut.nodeType){if(!ut.getAttribute("data-mce-bogus")&&(St=ut.nodeName.toLowerCase(),V[St]&&"br"!==St))return!1}else if(3===ut.nodeType&&!/^[ \t\r\n]*$/.test(ut.nodeValue))return!1;ze?Oe.prev():Oe.next()}return!0}function Ce(){f.execCommand("InsertLineBreak",!1,U)}function qe(){xt=/^(H[1-6]|PRE|FIGURE)$/.test(mn)&&"HGROUP"!=wn?E(xn):E(),I.end_container_on_empty_block&&ne(ln)&&_.isEmpty(Fe)?xt=_.split(ln,Fe):_.insertAfter(xt,Fe),W(xt)}var $e,Qe,st,nt,Ie,Fe,et,ct,xt,Wt,ln,mn,wn,xn,yt;if($e=C.getRng(!0),!U.isDefaultPrevented()){if(!$e.collapsed)return void f.execCommand("Delete");if(new M(_).normalize($e),nt=$e.startContainer,Ie=$e.startOffset,xn=(xn=(I.force_p_newlines?"p":"")||I.forced_root_block)?xn.toUpperCase():"",et=_.doc.documentMode,ct=U.shiftKey,1==nt.nodeType&&nt.hasChildNodes()&&(yt=Ie>nt.childNodes.length-1,nt=nt.childNodes[Math.min(Ie,nt.childNodes.length-1)]||nt,Ie=yt&&3==nt.nodeType?nt.nodeValue.length:0),st=function tt(ze){var ut,St,Oe=_.getRoot();for(ut=ze;ut!==Oe&&"false"!==_.getContentEditable(ut);)"true"===_.getContentEditable(ut)&&(St=ut),ut=ut.parentNode;return ut!==Oe?St:Oe}(nt)){if(N.beforeChange(),!_.isBlock(st)&&st!=_.getRoot())return void(xn&&!ct||Ce());if((xn&&!ct||!xn&&ct)&&(nt=function pe(ze,Oe){var ut,St,Ot,Ft,Mt,en,Ue=xn||"P";if(!(St=_.getParent(ze,_.isBlock))||!ne(St)){if(en=(St=St||st)==f.getBody()||function X(ze){return ze&&/^(TD|TH|CAPTION)$/.test(ze.nodeName)}(St)?St.nodeName.toLowerCase():St.parentNode.nodeName.toLowerCase(),!St.hasChildNodes())return F(ut=_.create(Ue)),St.appendChild(ut),$e.setStart(ut,0),$e.setEnd(ut,0),ut;for(Ft=ze;Ft.parentNode!=St;)Ft=Ft.parentNode;for(;Ft&&!_.isBlock(Ft);)Ot=Ft,Ft=Ft.previousSibling;if(Ot&&z.isValidChild(en,Ue.toLowerCase())){for(F(ut=_.create(Ue)),Ot.parentNode.insertBefore(ut,Ot),Ft=Ot;Ft&&!_.isBlock(Ft);)Mt=Ft.nextSibling,ut.appendChild(Ft),Ft=Mt;$e.setStart(ze,Oe),$e.setEnd(ze,Oe)}}return ze}(nt,Ie)),Fe=_.getParent(nt,_.isBlock),ln=Fe?_.getParent(Fe.parentNode,_.isBlock):null,mn=Fe?Fe.nodeName.toUpperCase():"","LI"!=(wn=ln?ln.nodeName.toUpperCase():"")||U.ctrlKey||(Fe=ln,mn=wn),f.undoManager.typing&&(f.undoManager.typing=!1,f.undoManager.add()),/^(LI|DT|DD)$/.test(mn)){if(!xn&&ct)return void Ce();if(_.isEmpty(Fe))return void function ae(){function ze(St){for(var Ot=ln[St?"firstChild":"lastChild"];Ot&&1!=Ot.nodeType;)Ot=Ot[St?"nextSibling":"previousSibling"];return Ot===Fe}function Oe(){var St=ln.parentNode;return/^(LI|DT|DD)$/.test(St.nodeName)?St:ln}if(ln!=f.getBody()){var ut=ln.parentNode.nodeName;/^(OL|UL|LI)$/.test(ut)&&(xn="LI"),xt=xn?E(xn):_.create("BR"),ze(!0)&&ze()?"LI"==ut?_.insertAfter(xt,Oe()):_.replace(xt,ln):ze(!0)?"LI"==ut?(_.insertAfter(xt,Oe()),xt.appendChild(_.doc.createTextNode(" ")),xt.appendChild(ln)):ln.parentNode.insertBefore(xt,ln):ze()?(_.insertAfter(xt,Oe()),le(xt)):(ln=Oe(),(Qe=$e.cloneRange()).setStartAfter(Fe),Qe.setEndAfter(ln),Wt=Qe.extractContents(),"LI"==xn&&"LI"==Wt.firstChild.nodeName?(xt=Wt.firstChild,_.insertAfter(Wt,ln)):(_.insertAfter(Wt,ln),_.insertAfter(xt,ln))),_.remove(Fe),W(xt),N.add()}}()}if("PRE"==mn&&!1!==I.br_in_pre){if(!ct)return void Ce()}else if(!xn&&!ct&&"LI"!=mn||xn&&ct)return void Ce();xn&&Fe===f.getBody()||(xn=xn||"P",x.isCaretContainerBlock(Fe)?(xt=x.showCaretContainerBlock(Fe),_.isEmpty(Fe)&&A(Fe),W(xt)):ie()?qe():ie(!0)?(le(xt=Fe.parentNode.insertBefore(E(),Fe)),W(Fe)):((Qe=$e.cloneRange()).setEndAfter(Fe),function Le(ze){do{3===ze.nodeType&&(ze.nodeValue=ze.nodeValue.replace(/^[\r\n]+/,"")),ze=ze.firstChild}while(ze)}(Wt=Qe.extractContents()),xt=Wt.firstChild,_.insertAfter(Wt,Fe),function G(ze){var St,Oe=ze,ut=[];if(Oe){for(;Oe=Oe.firstChild;){if(_.isBlock(Oe))return;1!=Oe.nodeType||V[Oe.nodeName.toLowerCase()]||ut.push(Oe)}for(St=ut.length;St--;)(!(Oe=ut[St]).hasChildNodes()||Oe.firstChild==Oe.lastChild&&""===Oe.firstChild.nodeValue||"A"==Oe.nodeName&&" "===(Oe.innerText||Oe.textContent))&&_.remove(Oe)}}(xt),function Ze(ze){var Oe;v||(ze.normalize(),(Oe=ze.lastChild)&&!/^(left|right)$/gi.test(_.getStyle(Oe,"float",!0))||_.add(ze,"br"))}(Fe),_.isEmpty(Fe)&&A(Fe),xt.normalize(),_.isEmpty(xt)?(_.remove(xt),qe()):W(xt)),_.setAttrib(xt,"id",""),f.fire("NewBlock",{newBlock:xt}),N.typing=!1,N.add())}}}(U)&&U.preventDefault()})}}),ve(dn,[],function(){return function(L){var x=L.settings,w=L.dom,v=L.selection,f=L.schema,p=f.getBlockElements();x.forced_root_block&&L.on("NodeChange",function M(){var I,N,z,V,Y,U,ne,le,G,W,F,A,_=v.getStart(),C=L.getBody(),X=-16777215;if(A=x.forced_root_block,_&&1===_.nodeType&&A){for(;_&&_!=C;){if(p[_.nodeName])return;_=_.parentNode}if((I=v.getRng()).setStart){N=I.startContainer,z=I.startOffset,V=I.endContainer,Y=I.endOffset;try{G=L.getDoc().activeElement===C}catch{}}else I.item&&(_=I.item(0),(I=L.getDoc().body.createTextRange()).moveToElementText(_)),G=I.parentElement().ownerDocument===L.getDoc(),(W=I.duplicate()).collapse(!0),z=-1*W.move("character",X),W.collapsed||((W=I.duplicate()).collapse(!1),Y=-1*W.move("character",X)-z);for(_=C.firstChild,F=C.nodeName.toLowerCase();_;)if((3===_.nodeType||1==_.nodeType&&!p[_.nodeName])&&f.isValidChild(F,A.toLowerCase())){if(3===_.nodeType&&0===_.nodeValue.length){ne=_,_=_.nextSibling,w.remove(ne);continue}U||(U=w.create(A,L.settings.forced_root_block_attrs),_.parentNode.insertBefore(U,_),le=!0),ne=_,_=_.nextSibling,U.appendChild(ne)}else U=null,_=_.nextSibling;if(le&&G){if(I.setStart)I.setStart(N,z),I.setEnd(V,Y),v.setRng(I);else try{(I=L.getDoc().body.createTextRange()).moveToElementText(C),I.collapse(!0),I.moveStart("character",z),Y>0&&I.moveEnd("character",Y),I.select()}catch{}L.nodeChanged()}}})}}),ve(an,[zt,he,ke,Nn,ue,cn],function(L,M,x,w,v,f){function p(qe){return qe>0}function _(qe){return qe<0}function C(qe,$e){for(var Qe;Qe=qe($e);)if(!pe(Qe))return Qe;return null}function N(qe,$e){for(qe=qe.parentNode;qe&&qe!=$e;qe=qe.parentNode)if(F(qe))return qe;return $e}function z(qe,$e){for(;qe&&qe!=$e;){if(E(qe))return qe;qe=qe.parentNode}return null}function ne(qe,$e){var Qe=$e.ownerDocument.createRange();return qe?(Qe.setStartBefore($e),Qe.setEndBefore($e)):(Qe.setStartAfter($e),Qe.setEndAfter($e)),Qe}function X(qe,$e,Qe){return z($e,qe)==z(Qe,qe)}function le(qe,$e,Qe){var st,nt;for(nt=qe?"previousSibling":"nextSibling";Qe&&Qe!=$e;){if(ie(st=Qe[nt])&&(st=st[nt]),A(st)){if(X($e,st,Qe))return st;break}if(Le(st))break;Qe=Qe.parentNode}return null}function W(qe,$e){return A(function U(qe,$e){var Qe,st;return $e?(Qe=$e.container(),st=$e.offset(),Ce(Qe)?Qe.childNodes[st+qe]:null):null}(qe,$e))}var F=x.isContentEditableTrue,A=x.isContentEditableFalse,E=x.matchStyleValues("display","block table table-cell table-caption"),ie=v.isCaretContainer,pe=v.isCaretContainerBlock,ae=L.curry,Ce=x.isElement,Le=f.isCaretCandidate,tt=ae(ne,!0),Ze=ae(ne,!1);return{isForwards:p,isBackwards:_,findNode:function I(qe,$e,Qe,st,nt){var Ie=new M(qe,st);if(_($e)){if((A(qe)||pe(qe))&&Qe(qe=C(Ie.prev,!0)))return qe;for(;qe=C(Ie.prev,nt);)if(Qe(qe))return qe}if(p($e)){if((A(qe)||pe(qe))&&Qe(qe=C(Ie.next,!0)))return qe;for(;qe=C(Ie.next,nt);)if(Qe(qe))return qe}return null},getEditingHost:N,getParentBlock:z,isInSameBlock:function V(qe,$e,Qe){return z(qe.container(),Qe)==z($e.container(),Qe)},isInSameEditingHost:function Y(qe,$e,Qe){return N(qe.container(),Qe)==N($e.container(),Qe)},isBeforeContentEditableFalse:ae(W,0),isAfterContentEditableFalse:ae(W,-1),normalizeRange:function G(qe,$e,Qe){var st,nt,Ie,Fe,et=ae(le,!0,$e),ct=ae(le,!1,$e);if(Ie=Qe.startOffset,v.isCaretContainerBlock(nt=Qe.startContainer)){if(Ce(nt)||(nt=nt.parentNode),"before"==(Fe=nt.getAttribute("data-mce-caret"))&&A(st=nt.nextSibling))return tt(st);if("after"==Fe&&A(st=nt.previousSibling))return Ze(st)}if(!Qe.collapsed)return Qe;if(x.isText(nt)){if(ie(nt)){if(1===qe){if(st=ct(nt))return tt(st);if(st=et(nt))return Ze(st)}if(-1===qe){if(st=et(nt))return Ze(st);if(st=ct(nt))return tt(st)}return Qe}if(v.endsWithCaretContainer(nt)&&Ie>=nt.data.length-1)return 1===qe&&(st=ct(nt))?tt(st):Qe;if(v.startsWithCaretContainer(nt)&&Ie<=1)return-1===qe&&(st=et(nt))?Ze(st):Qe;if(Ie===nt.data.length)return(st=ct(nt))?tt(st):Qe;if(0===Ie)return(st=et(nt))?Ze(st):Qe}return Qe}}}),ve(Wn,[ke,cn,Nn,an,B,zt],function(L,M,x,w,v,f){function _(F,A){return F.hasChildNodes()&&A<F.childNodes.length?F.childNodes[A]:null}function C(F,A){if(ne(F)){if(le(A.previousSibling)&&!V(A.previousSibling))return x.before(A);if(V(A))return x(A,0)}if(X(F)){if(le(A.nextSibling)&&!V(A.nextSibling))return x.after(A);if(V(A))return x(A,A.data.length)}return X(F)?U(A)?x.before(A):x.after(A):x.before(A)}function N(F,A,E){var ie,pe,ae,Ce,Le,tt,Ze;if(!Y(E)||!A)return null;if(ie=(Ze=A).container(),pe=Ze.offset(),V(ie)){if(X(F)&&pe>0)return x(ie,--pe);if(ne(F)&&pe<ie.length)return x(ie,++pe);ae=ie}else{if(X(F)&&pe>0&&(Ce=_(ie,pe-1),le(Ce)))return!G(Ce)&&(Le=w.findNode(Ce,F,W,Ce))?V(Le)?x(Le,Le.data.length):x.after(Le):V(Ce)?x(Ce,Ce.data.length):x.before(Ce);if(ne(F)&&pe<ie.childNodes.length&&(Ce=_(ie,pe),le(Ce)))return function I(F,A){var E;return!!L.isBr(F)&&!!(E=N(1,x.after(F),A))&&!w.isInSameBlock(x.before(F),x.before(E),A)}(Ce,E)?N(F,x.after(Ce),E):!G(Ce)&&(Le=w.findNode(Ce,F,W,Ce))?V(Le)?x(Le,0):x.before(Le):V(Ce)?x(Ce,0):x.after(Ce);ae=Ze.getNode()}return(ne(F)&&Ze.isAtEnd()||X(F)&&Ze.isAtStart())&&(ae=w.findNode(ae,F,f.constant(!0),E,!0),W(ae))?C(F,ae):(Ce=w.findNode(ae,F,W,E),tt=v.last(v.filter(function p(F,A){for(var E=[];F&&F!=A;)E.push(F),F=F.parentNode;return E}(ie,E),z)),!tt||Ce&&tt.contains(Ce)?Ce?C(F,Ce):null:Ze=ne(F)?x.after(tt):x.before(tt))}var z=L.isContentEditableFalse,V=L.isText,Y=L.isElement,U=L.isBr,ne=w.isForwards,X=w.isBackwards,le=M.isCaretCandidate,G=M.isAtomic,W=M.isEditableCaretCandidate;return function(F){return{next:function(A){return N(1,A,F)},prev:function(A){return N(-1,A,F)}}}}),ve(ui,[K,Wn,Nn],function(L,M,x){var p=function(G){return L.grep(G.childNodes,function(W){return"LI"===W.nodeName})},C=function(G){return G.length>0&&function(G){return!G.firstChild}(G[G.length-1])?G.slice(0,-1):G},I=function(G,W){var F=G.getParent(W,G.isBlock);return F&&"LI"===F.nodeName?F:null},Y=function(G,W){var F=x.after(G),E=new M(W).prev(F);return E?E.toRange():null};return{isListFragment:function(G){var W=G.firstChild,F=G.lastChild;return W&&"meta"===W.name&&(W=W.next),F&&"mce_marker"===F.attr("id")&&(F=F.prev),!(!W||W!==F||"ul"!==W.name&&"ol"!==W.name)},insertAtCaret:function(G,W,F,A){var E=function(G,W,F){var A=W.serialize(F);return function(G){var W=G.firstChild,F=G.lastChild;return W&&"META"===W.nodeName&&W.parentNode.removeChild(W),F&&"mce_marker"===F.id&&F.parentNode.removeChild(F),G}(G.createFragment(A))}(W,G,A),ie=I(W,F.startContainer),pe=C(p(E.firstChild)),Le=W.getRoot(),tt=function(Ze){var qe=x.fromRangeStart(F),$e=new M(W.getRoot()),Qe=1===Ze?$e.prev(qe):$e.next(qe);return!Qe||I(W,Qe.getNode())!==ie};return tt(1)?function(G,W,F){var A=G.parentNode;return L.each(W,function(E){A.insertBefore(E,G)}),function(G,W){var F=x.before(G),E=new M(W).next(F);return E?E.toRange():null}(G,F)}(ie,pe,Le):tt(2)?function(G,W,F,A){return A.insertAfter(W.reverse(),G),Y(W[0],F)}(ie,pe,Le,W):function(G,W,F,A){var E=function(G,W){var F=W.cloneRange(),A=W.cloneRange();return F.setStartBefore(G),A.setEndAfter(G),[F.cloneContents(),A.cloneContents()]}(G,A),ie=G.parentNode;return ie.insertBefore(E[0],G),L.each(W,function(pe){ie.insertBefore(pe,G)}),ie.insertBefore(E[1],G),ie.removeChild(G),Y(W[W.length-1],F)}(ie,pe,Le,F)},isParentBlockLi:function(G,W){return!!I(G,W)},trimListItems:C,listItems:p}}),ve(Ii,[J,K,on,Wn,Nn,ni,ke,ui],function(L,M,x,w,v,f,p,_){var C=p.matchNodeNames("td th");return{insertAtCaret:function(Y,U){var ne=function(Y){var U;return"string"!=typeof Y?(U=M.extend({paste:Y.paste,data:{paste:Y.paste}},Y),{content:Y.content,details:U}):{content:Y,details:{}}}(U);!function(Y,U,ne){var pe,ae,Ce,Le,tt,Ze,qe,$e,Qe,st,nt,Ie,Fe=Y.schema.getTextInlineElements(),et=Y.selection,ct=Y.dom;/^ | $/.test(U)&&(U=function X(mn){function wn(Oe){return yt[Oe]&&3==yt[Oe].nodeType}var xn,yt,ze;return ze=(xn=et.getRng(!0)).startOffset,3==(yt=xn.startContainer).nodeType&&(ze>0?mn=mn.replace(/^&nbsp;/," "):wn("previousSibling")||(mn=mn.replace(/^ /,"&nbsp;")),ze<yt.length?mn=mn.replace(/&nbsp;(<br>|)$/," "):wn("nextSibling")||(mn=mn.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),mn}(U)),pe=Y.parser,Ie=ne.merge,ae=new x({validate:Y.settings.validate},Y.schema),nt='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',Y.fire("BeforeSetContent",Ze={content:U,format:"html",selection:!0}),-1==(U=Ze.content).indexOf("{$caret}")&&(U+="{$caret}"),U=U.replace(/\{\$caret\}/,nt);var xt=($e=et.getRng()).startContainer||($e.parentElement?$e.parentElement():null),Wt=Y.getBody();xt===Wt&&et.isCollapsed()&&ct.isBlock(Wt.firstChild)&&function E(mn){return mn&&!Y.schema.getShortEndedElements()[mn.nodeName]}(Wt.firstChild)&&ct.isEmpty(Wt.firstChild)&&(($e=ct.createRng()).setStart(Wt.firstChild,0),$e.setEnd(Wt.firstChild,0),et.setRng($e)),et.isCollapsed()||(Y.selection.setRng(Y.selection.getRng()),Y.getDoc().execCommand("Delete",!1,null),function le(){var mn,wn,xn;xn=(mn=et.getRng(!0)).startOffset,3==(wn=mn.startContainer).nodeType&&mn.collapsed&&("\xa0"===wn.data[xn]?(wn.deleteData(xn,1),/[\u00a0| ]$/.test(U)||(U+=" ")):"\xa0"===wn.data[xn-1]&&(wn.deleteData(xn-1,1),/[\u00a0| ]$/.test(U)||(U=" "+U)))}());var ln={context:(Ce=et.getNode()).nodeName.toLowerCase(),data:ne.data};if(tt=pe.parse(U,ln),!0===ne.paste&&_.isListFragment(tt)&&_.isParentBlockLi(ct,Ce))return $e=_.insertAtCaret(ae,ct,Y.selection.getRng(!0),tt),Y.selection.setRng($e),void Y.fire("SetContent",Ze);if(function W(mn){for(var wn=mn;wn=wn.walk();)1===wn.type&&wn.attr("data-mce-fragment","1")}(tt),"mce_marker"==(Qe=tt.lastChild).attr("id"))for(qe=Qe,Qe=Qe.prev;Qe;Qe=Qe.walk(!0))if(3==Qe.type||!ct.isBlock(Qe.name)){Y.schema.isValidChild(Qe.parent.name,"span")&&Qe.parent.insert(qe,Qe,"br"===Qe.name);break}if(Y._selectionOverrides.showBlockCaretContainer(Ce),ln.invalid){for(et.setContent(nt),Ce=et.getNode(),Le=Y.getBody(),9==Ce.nodeType?Ce=Qe=Le:Qe=Ce;Qe!==Le;)Ce=Qe,Qe=Qe.parentNode;U=Ce==Le?Le.innerHTML:ct.getOuterHTML(Ce),U=ae.serialize(pe.parse(U.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return ae.serialize(tt)}))),Ce==Le?ct.setHTML(Le,U):ct.setOuterHTML(Ce,U)}else U=ae.serialize(tt),function(Y,U,ne){if("all"===ne.getAttribute("data-mce-bogus"))ne.parentNode.insertBefore(Y.dom.createFragment(U),ne);else{var X=ne.firstChild;!X||X===ne.lastChild&&"BR"===X.nodeName?Y.dom.setHTML(ne,U):Y.selection.setContent(U)}}(Y,U,Ce);(function G(){if(Ie){var mn=Y.getBody(),wn=new f(ct);M.each(ct.select("*[data-mce-fragment]"),function(xn){for(var yt=xn.parentNode;yt&&yt!=mn;yt=yt.parentNode)Fe[xn.nodeName.toLowerCase()]&&wn.compare(yt,xn)&&ct.remove(xn,!0)})}})(),function ie(mn){var yt,ze,Oe;if(mn){if(et.scrollIntoView(mn),yt=function wn(ut){for(var St=Y.getBody();ut&&ut!==St;ut=ut.parentNode)if("false"===Y.dom.getContentEditable(ut))return ut;return null}(mn))return ct.remove(mn),void et.select(yt);$e=ct.createRng(),(Qe=mn.previousSibling)&&3==Qe.nodeType?($e.setStart(Qe,Qe.nodeValue.length),L.ie||(st=mn.nextSibling)&&3==st.nodeType&&(Qe.appendData(st.data),st.parentNode.removeChild(st))):($e.setStartBefore(mn),$e.setEndBefore(mn)),ze=ct.getParent(mn,ct.isBlock),ct.remove(mn),ze&&ct.isEmpty(ze)&&(Y.$(ze).empty(),$e.setStart(ze,0),$e.setEnd(ze,0),C(ze)||function A(mn){return!!mn.getAttribute("data-mce-fragment")}(ze)||!(Oe=function xn(ut){var St=v.fromRangeStart(ut);if(St=new w(Y.getBody()).next(St))return St.toRange()}($e))?ct.add(ze,ct.create("br",{"data-mce-bogus":"1"})):($e=Oe,ct.remove(ze))),et.setRng($e)}}(ct.get("mce_marker")),function F(mn){M.each(mn.getElementsByTagName("*"),function(wn){wn.removeAttribute("data-mce-fragment")})}(Y.getBody()),Y.fire("SetContent",Ze),Y.addVisual()}(Y,ne.content,ne.details)}}}),ve(ri,[J,K,Re,he,Ii,ke],function(L,M,x,w,v,f){var p=M.each,_=M.extend,C=M.map,I=M.inArray,N=M.explode,z=L.ie&&L.ie<11,V=!0,Y=!1;return function(U){function X(Ie){var Fe;if(!U.quirks.isHidden()){if(Ie=Ie.toLowerCase(),Fe=Qe.state[Ie])return Fe(Ie);try{return U.getDoc().queryCommandState(Ie)}catch{}return!1}}function G(Ie,Fe){Fe=Fe||"exec",p(Ie,function(et,ct){p(ct.toLowerCase().split(","),function(xt){Qe[Fe][xt]=et})})}function pe(Ie,Fe,et){return Fe===Ae&&(Fe=Y),et===Ae&&(et=null),U.getDoc().execCommand(Ie,Fe,et)}function ae(Ie){return $e.match(Ie)}function Ce(Ie,Fe){$e.toggle(Ie,Fe?{value:Fe}:Ae),U.nodeChanged()}function Le(Ie){nt=qe.getBookmark(Ie)}function tt(){qe.moveToBookmark(nt)}var Ze,qe,$e,nt,Qe={state:{},exec:{},value:{}},st=U.settings;U.on("PreInit",function(){Ze=U.dom,qe=U.selection,st=U.settings,$e=U.formatter}),_(this,{execCommand:function ne(Ie,Fe,et,ct){var xt,Wt,ln=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(Ie)||ct&&ct.skip_focus||U.focus(),(ct=U.fire("BeforeExecCommand",{command:Ie,ui:Fe,value:et})).isDefaultPrevented())return!1;if(Wt=Ie.toLowerCase(),xt=Qe.exec[Wt])return xt(Wt,Fe,et),U.fire("ExecCommand",{command:Ie,ui:Fe,value:et}),!0;if(p(U.plugins,function(mn){if(mn.execCommand&&mn.execCommand(Ie,Fe,et))return U.fire("ExecCommand",{command:Ie,ui:Fe,value:et}),ln=!0,!1}),ln)return ln;if(U.theme&&U.theme.execCommand&&U.theme.execCommand(Ie,Fe,et))return U.fire("ExecCommand",{command:Ie,ui:Fe,value:et}),!0;try{ln=U.getDoc().execCommand(Ie,Fe,et)}catch{}return!!ln&&(U.fire("ExecCommand",{command:Ie,ui:Fe,value:et}),!0)},queryCommandState:X,queryCommandValue:function le(Ie){var Fe;if(!U.quirks.isHidden()){if(Ie=Ie.toLowerCase(),Fe=Qe.value[Ie])return Fe(Ie);try{return U.getDoc().queryCommandValue(Ie)}catch{}}},queryCommandSupported:function F(Ie){if(Ie=Ie.toLowerCase(),Qe.exec[Ie])return!0;try{return U.getDoc().queryCommandSupported(Ie)}catch{}return!1},addCommands:G,addCommand:function W(Ie,Fe,et){Ie=Ie.toLowerCase(),Qe.exec[Ie]=function(ct,xt,Wt,ln){return Fe.call(et||U,xt,Wt,ln)}},addQueryStateHandler:function A(Ie,Fe,et){Ie=Ie.toLowerCase(),Qe.state[Ie]=function(){return Fe.call(et||U)}},addQueryValueHandler:function E(Ie,Fe,et){Ie=Ie.toLowerCase(),Qe.value[Ie]=function(){return Fe.call(et||U)}},hasCustomCommand:function ie(Ie){return Ie=Ie.toLowerCase(),!!Qe.exec[Ie]}}),G({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){U.undoManager.add()},"Cut,Copy,Paste":function(Ie){var et,Fe=U.getDoc();try{pe(Ie)}catch{et=V}if("paste"!==Ie||Fe.queryCommandEnabled(Ie)||(et=!0),et||!Fe.queryCommandSupported(Ie)){var ct=U.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");L.mac&&(ct=ct.replace(/Ctrl\+/g,"\u2318+")),U.notificationManager.open({text:ct,type:"error"})}},unlink:function(){if(qe.isCollapsed()){var Ie=U.dom.getParent(U.selection.getStart(),"a");Ie&&U.dom.remove(Ie,!0)}else $e.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(Ie){var Fe=Ie.substring(7);"full"==Fe&&(Fe="justify"),p("left,center,right,justify".split(","),function(et){Fe!=et&&$e.remove("align"+et)}),"none"!=Fe&&Ce("align"+Fe)},"InsertUnorderedList,InsertOrderedList":function(Ie){var Fe,et;pe(Ie),(Fe=Ze.getParent(qe.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((et=Fe.parentNode).nodeName)&&(Le(),Ze.split(et,Fe),tt())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(Ie){Ce(Ie)},"ForeColor,HiliteColor,FontName":function(Ie,Fe,et){Ce(Ie,et)},FontSize:function(Ie,Fe,et){var ct,xt;et>=1&&et<=7&&(xt=N(st.font_size_style_values),et=(ct=N(st.font_size_classes))?ct[et-1]||et:xt[et-1]||et),Ce(Ie,et)},RemoveFormat:function(Ie){$e.remove(Ie)},mceBlockQuote:function(){Ce("blockquote")},FormatBlock:function(Ie,Fe,et){return Ce(et||"p")},mceCleanup:function(){var Ie=qe.getBookmark();U.setContent(U.getContent({cleanup:V}),{cleanup:V}),qe.moveToBookmark(Ie)},mceRemoveNode:function(Ie,Fe,et){var ct=et||qe.getNode();ct!=U.getBody()&&(Le(),U.dom.remove(ct,V),tt())},mceSelectNodeDepth:function(Ie,Fe,et){var ct=0;Ze.getParent(qe.getNode(),function(xt){if(1==xt.nodeType&&ct++==et)return qe.select(xt),Y},U.getBody())},mceSelectNode:function(Ie,Fe,et){qe.select(et)},mceInsertContent:function(Ie,Fe,et){v.insertAtCaret(U,et)},mceInsertRawHTML:function(Ie,Fe,et){qe.setContent("tiny_mce_marker"),U.setContent(U.getContent().replace(/tiny_mce_marker/g,function(){return et}))},mceToggleFormat:function(Ie,Fe,et){Ce(et)},mceSetContent:function(Ie,Fe,et){U.setContent(et)},"Indent,Outdent":function(Ie){var Fe,et,ct;et=/[a-z%]+$/i.exec(Fe=st.indentation),Fe=parseInt(Fe,10),X("InsertUnorderedList")||X("InsertOrderedList")?pe(Ie):(st.forced_root_block||Ze.getParent(qe.getNode(),Ze.isBlock)||$e.apply("div"),p(qe.getSelectedBlocks(),function(xt){if("false"!==Ze.getContentEditable(xt)&&"LI"!==xt.nodeName){var Wt=U.getParam("indent_use_margin",!1)?"margin":"padding";Wt="TABLE"===xt.nodeName?"margin":Wt,Wt+="rtl"==Ze.getStyle(xt,"direction",!0)?"Right":"Left","outdent"==Ie?(ct=Math.max(0,parseInt(xt.style[Wt]||0,10)-Fe),Ze.setStyle(xt,Wt,ct?ct+et:"")):(ct=parseInt(xt.style[Wt]||0,10)+Fe+et,Ze.setStyle(xt,Wt,ct))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){U.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){U.hasVisual=!U.hasVisual,U.addVisual()},mceReplaceContent:function(Ie,Fe,et){U.execCommand("mceInsertContent",!1,et.replace(/\{\$selection\}/g,qe.getContent({format:"text"})))},mceInsertLink:function(Ie,Fe,et){var ct;"string"==typeof et&&(et={href:et}),ct=Ze.getParent(qe.getNode(),"a"),et.href=et.href.replace(" ","%20"),ct&&et.href||$e.remove("link"),et.href&&$e.apply("link",et,ct)},selectAll:function(){var Fe,Ie=Ze.getRoot();if(qe.getRng().setStart){var et=Ze.getParent(qe.getStart(),f.isContentEditableTrue);et&&((Fe=Ze.createRng()).selectNodeContents(et),qe.setRng(Fe))}else(Fe=qe.getRng()).item||(Fe.moveToElementText(Ie),Fe.select())},delete:function(){pe("Delete");var Ie=U.getBody();Ze.isEmpty(Ie)&&(U.setContent(""),Ie.firstChild&&Ze.isBlock(Ie.firstChild)?U.selection.setCursorLocation(Ie.firstChild,0):U.selection.setCursorLocation(Ie,0))},mceNewDocument:function(){U.setContent("")},InsertLineBreak:function(Ie,Fe,et){var Wt,ln,mn,xt=et,wn=qe.getRng(!0);new x(Ze).normalize(wn);var xn=wn.startOffset,yt=wn.startContainer;if(1==yt.nodeType&&yt.hasChildNodes()){var ze=xn>yt.childNodes.length-1;yt=yt.childNodes[Math.min(xn,yt.childNodes.length-1)]||yt,xn=ze&&3==yt.nodeType?yt.nodeValue.length:0}var Oe=Ze.getParent(yt,Ze.isBlock),ut=Oe?Oe.nodeName.toUpperCase():"",St=Oe?Ze.getParent(Oe.parentNode,Ze.isBlock):null,Ot=St?St.nodeName.toUpperCase():"";"LI"!=Ot||xt&&xt.ctrlKey||(Oe=St,ut=Ot),yt&&3==yt.nodeType&&xn>=yt.nodeValue.length&&(z||function ct(){for(var Ue,en=new w(yt,Oe),ot=U.schema.getNonEmptyElements();Ue=en.next();)if(ot[Ue.nodeName.toLowerCase()]||Ue.length>0)return!0}()||(Wt=Ze.create("br"),wn.insertNode(Wt),wn.setStartAfter(Wt),wn.setEndAfter(Wt),ln=!0)),Wt=Ze.create("br"),wn.insertNode(Wt);var Mt=Ze.doc.documentMode;return z&&"PRE"==ut&&(!Mt||Mt<8)&&Wt.parentNode.insertBefore(Ze.doc.createTextNode("\r"),Wt),mn=Ze.create("span",{},"&nbsp;"),Wt.parentNode.insertBefore(mn,Wt),qe.scrollIntoView(mn),Ze.remove(mn),ln?(wn.setStartBefore(Wt),wn.setEndBefore(Wt)):(wn.setStartAfter(Wt),wn.setEndAfter(Wt)),qe.setRng(wn),U.undoManager.add(),V}}),G({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(Ie){var Fe="align"+Ie.substring(7),et=qe.isCollapsed()?[Ze.getParent(qe.getNode(),Ze.isBlock)]:qe.getSelectedBlocks(),ct=C(et,function(xt){return!!$e.matchNode(xt,Fe)});return-1!==I(ct,V)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(Ie){return ae(Ie)},mceBlockQuote:function(){return ae("blockquote")},Outdent:function(){var Ie;return st.inline_styles&&((Ie=Ze.getParent(qe.getStart(),Ze.isBlock))&&parseInt(Ie.style.paddingLeft,10)>0||(Ie=Ze.getParent(qe.getEnd(),Ze.isBlock))&&parseInt(Ie.style.paddingLeft,10)>0)?V:X("InsertUnorderedList")||X("InsertOrderedList")||!st.inline_styles&&!!Ze.getParent(qe.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(Ie){var Fe=Ze.getParent(qe.getNode(),"ul,ol");return Fe&&("insertunorderedlist"===Ie&&"UL"===Fe.tagName||"insertorderedlist"===Ie&&"OL"===Fe.tagName)}},"state"),G({"FontSize,FontName":function(Ie){var et,Fe=0;return(et=Ze.getParent(qe.getNode(),"span"))&&(Fe="fontsize"==Ie?et.style.fontSize:et.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),Fe}},"value"),G({Undo:function(){U.undoManager.undo()},Redo:function(){U.undoManager.redo()}})}}),ve(Yt,[K],function(L){function M(p,_){var I,N,C=this;if(p=w(p),I=(_=C.settings=_||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(p)||/^\s*#/.test(p))C.source=p;else{var z=0===p.indexOf("//");0!==p.indexOf("/")||z||(p=(I&&I.protocol||"http")+"://mce_host"+p),/^[\w\-]*:?\/\//.test(p)||(N=_.base_uri?_.base_uri.path:new M(location.href).directory,""===_.base_uri.protocol?p="//mce_host"+C.toAbsPath(N,p):(p=/([^#?]*)([#?]?.*)/.exec(p),p=(I&&I.protocol||"http")+"://mce_host"+C.toAbsPath(N,p[1])+p[2])),p=p.replace(/@@/g,"(mce_at)"),p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(p),x(v,function(V,Y){var U=p[Y];U&&(U=U.replace(/\(mce_at\)/g,"@@")),C[V]=U}),I&&(C.protocol||(C.protocol=I.protocol),C.userInfo||(C.userInfo=I.userInfo),C.port||"mce_host"!==C.host||(C.port=I.port),C.host&&"mce_host"!==C.host||(C.host=I.host),C.source=""),z&&(C.protocol="")}}var x=L.each,w=L.trim,v="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f={ftp:21,http:80,https:443,mailto:25};return M.prototype={setPath:function(p){var _=this;p=/^(.*?)\/?(\w+)?$/.exec(p),_.path=p[0],_.directory=p[1],_.file=p[2],_.source="",_.getURI()},toRelative:function(p){var C,_=this;if("./"===p)return p;if("mce_host"!=(p=new M(p,{base_uri:_})).host&&_.host!=p.host&&p.host||_.port!=p.port||_.protocol!=p.protocol&&""!==p.protocol)return p.getURI();var I=_.getURI(),N=p.getURI();return I==N||"/"==I.charAt(I.length-1)&&I.substr(0,I.length-1)==N?I:(C=_.toRelPath(_.path,p.path),p.query&&(C+="?"+p.query),p.anchor&&(C+="#"+p.anchor),C)},toAbsolute:function(p,_){return(p=new M(p,{base_uri:this})).getURI(_&&this.isSameOrigin(p))},isSameOrigin:function(p){if(this.host==p.host&&this.protocol==p.protocol){if(this.port==p.port)return!0;var _=f[this.protocol];if(_&&(this.port||_)==(p.port||_))return!0}return!1},toRelPath:function(p,_){var C,z,V,I=0,N="";if(p=(p=p.substring(0,p.lastIndexOf("/"))).split("/"),C=_.split("/"),p.length>=C.length)for(z=0,V=p.length;z<V;z++)if(z>=C.length||p[z]!=C[z]){I=z+1;break}if(p.length<C.length)for(z=0,V=C.length;z<V;z++)if(z>=p.length||p[z]!=C[z]){I=z+1;break}if(1===I)return _;for(z=0,V=p.length-(I-1);z<V;z++)N+="../";for(z=I-1,V=C.length;z<V;z++)N+=z!=I-1?"/"+C[z]:C[z];return N},toAbsPath:function(p,_){var C,z,V,I=0,N=[];for(z=/\/$/.test(_)?"/":"",p=p.split("/"),_=_.split("/"),x(p,function(Y){Y&&N.push(Y)}),p=N,C=_.length-1,N=[];C>=0;C--)0!==_[C].length&&"."!==_[C]&&(".."!==_[C]?I>0?I--:N.push(_[C]):I++);return 0!==(V=(C=p.length-I)<=0?N.reverse().join("/"):p.slice(0,C).join("/")+"/"+N.reverse().join("/")).indexOf("/")&&(V="/"+V),z&&V.lastIndexOf("/")!==V.length-1&&(V+=z),V},getURI:function(p){var _,C=this;return C.source&&!p||(_="",p||(_+=C.protocol?C.protocol+"://":"//",C.userInfo&&(_+=C.userInfo+"@"),C.host&&(_+=C.host),C.port&&(_+=":"+C.port)),C.path&&(_+=C.path),C.query&&(_+="?"+C.query),C.anchor&&(_+="#"+C.anchor),C.source=_),C.source}},M.parseDataUri=function(p){var _,C;return p=decodeURIComponent(p).split(","),(C=/data:([^;]+)/.exec(p[0]))&&(_=C[1]),{type:_,data:p[1]}},M.getDocumentBaseUrl=function(p){var _;return _=0!==p.protocol.indexOf("http")&&"file:"!==p.protocol?p.href:p.protocol+"//"+p.host+p.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(_)&&(_=_.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(_)||(_+="/")),_},M}),ve(fn,[K],function(L){function M(){}var v,f,x=L.each,w=L.extend;return M.extend=v=function(p){function _(){var ne,X,le,G=this;if(!f&&(G.init&&G.init.apply(G,arguments),X=G.Mixins))for(ne=X.length;ne--;)(le=X[ne]).init&&le.init.apply(G,arguments)}function C(){return this}function I(ne,X){return function(){var W,G=this._super;return this._super=z[ne],W=X.apply(this,arguments),this._super=G,W}}var V,Y,U,z=this.prototype;for(Y in f=!0,V=new this,f=!1,p.Mixins&&(x(p.Mixins,function(ne){for(var X in ne)"init"!==X&&(p[X]=ne[X])}),z.Mixins&&(p.Mixins=z.Mixins.concat(p.Mixins))),p.Methods&&x(p.Methods.split(","),function(ne){p[ne]=C}),p.Properties&&x(p.Properties.split(","),function(ne){var X="_"+ne;p[ne]=function(le){var G=this;return void 0!==le?(G[X]=le,G):G[X]}}),p.Statics&&x(p.Statics,function(ne,X){_[X]=ne}),p.Defaults&&z.Defaults&&(p.Defaults=w({},z.Defaults,p.Defaults)),p)V[Y]="function"==typeof(U=p[Y])&&z[Y]?I(Y,U):U;return _.prototype=V,_.constructor=_,_.extend=v,_},M}),ve(Tn,[K],function(L){function M(w){function v(){return!1}function f(){return!0}function _(ne,X,le,G){var W,F,A;if(!1===X&&(X=v),X)for(X={func:X},G&&L.extend(X,G),A=(F=ne.toLowerCase().split(" ")).length;A--;)(W=Y[ne=F[A]])||(W=Y[ne]=[],U(ne,!0)),le?W.unshift(X):W.push(X);return z}function C(ne,X){var le,G,W,F,A;if(ne)for(le=(F=ne.toLowerCase().split(" ")).length;le--;){if(G=Y[ne=F[le]],!ne){for(W in Y)U(W,!1),delete Y[W];return z}if(G){if(X)for(A=G.length;A--;)G[A].func===X&&(G=G.slice(0,A).concat(G.slice(A+1)),Y[ne]=G);else G.length=0;G.length||(U(ne,!1),delete Y[ne])}}else{for(ne in Y)U(ne,!1);Y={}}return z}var V,U,z=this,Y={};V=(w=w||{}).scope||z,U=w.toggleEvent||v,z.fire=function p(ne,X){var le,G,W,F;if(ne=ne.toLowerCase(),(X=X||{}).type=ne,X.target||(X.target=V),X.preventDefault||(X.preventDefault=function(){X.isDefaultPrevented=f},X.stopPropagation=function(){X.isPropagationStopped=f},X.stopImmediatePropagation=function(){X.isImmediatePropagationStopped=f},X.isDefaultPrevented=v,X.isPropagationStopped=v,X.isImmediatePropagationStopped=v),w.beforeFire&&w.beforeFire(X),le=Y[ne])for(G=0,W=le.length;G<W;G++){if((F=le[G]).once&&C(ne,F.func),X.isImmediatePropagationStopped())return X.stopPropagation(),X;if(!1===F.func.call(V,X))return X.preventDefault(),X}return X},z.on=_,z.off=C,z.once=function I(ne,X,le){return _(ne,X,le,{once:!0})},z.has=function N(ne){return ne=ne.toLowerCase(),!(!Y[ne]||0===Y[ne].length)}}var x=L.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return M.isNative=function(w){return!!x[w.toLowerCase()]},M}),ve(jn,[],function(){function L(M){this.create=M.create}return L.create=function(M,x){return new L({create:function(w,v){function f(C){w.set(v,C.value)}var _;return w.on("change:"+v,function p(C){M.set(x,C.value)}),M.on("change:"+x,f),(_=w._bindings)||(_=w._bindings=[],w.on("destroy",function(){for(var C=_.length;C--;)_[C]()})),_.push(function(){M.off("change:"+x,f)}),M.get(x)}})},L}),ve(Pn,[Tn],function(L){function M(x){return x._eventDispatcher||(x._eventDispatcher=new L({scope:x,toggleEvent:function(w,v){L.isNative(w)&&x.toggleNativeEvent&&x.toggleNativeEvent(w,v)}})),x._eventDispatcher}return{fire:function(x,w,v){var f=this;if(f.removed&&"remove"!==x)return w;if(w=M(f).fire(x,w,v),!1!==v&&f.parent)for(var p=f.parent();p&&!w.isPropagationStopped();)p.fire(x,w,!1),p=p.parent();return w},on:function(x,w,v){return M(this).on(x,w,v)},off:function(x,w){return M(this).off(x,w)},once:function(x,w){return M(this).once(x,w)},hasEventListeners:function(x){return M(this).has(x)}}}),ve(In,[jn,Pn,fn,K],function(L,M,x,w){function v(p){return p.nodeType>0}function f(p,_){var C,I;if(p===_)return!0;if(null===p||null===_||"object"!=typeof p||"object"!=typeof _)return p===_;if(w.isArray(_)){if(p.length!==_.length)return!1;for(C=p.length;C--;)if(!f(p[C],_[C]))return!1}if(v(p)||v(_))return p===_;for(C in I={},_){if(!f(p[C],_[C]))return!1;I[C]=!0}for(C in p)if(!I[C]&&!f(p[C],_[C]))return!1;return!0}return x.extend({Mixins:[M],init:function(p){var _,C;for(_ in p=p||{})(C=p[_])instanceof L&&(p[_]=C.create(this,_));this.data=p},set:function(p,_){var C,I,N=this.data[p];if(_ instanceof L&&(_=_.create(this,p)),"object"==typeof p){for(C in p)this.set(C,p[C]);return this}return f(N,_)||(this.data[p]=_,this.fire("change:"+p,I={target:this,name:p,value:_,oldValue:N}),this.fire("change",I)),this},get:function(p){return this.data[p]},has:function(p){return p in this.data},bind:function(p){return L.create(this,p)},destroy:function(){this.fire("destroy")}})}),ve(qn,[fn],function(L){var f,x=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,w=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,v=/^\s*|\s*$/g,p=L.extend({init:function(_){function Y(X,le,G){function W(A){A&&le.push(A)}var F;return W(function C(X){if(X)return X=X.toLowerCase(),function(le){return"*"===X||le.type===X}}((F=x.exec(X.replace(v,"")))[1])),W(function I(X){if(X)return function(le){return le._name===X}}(F[2])),W(function N(X){if(X)return X=X.split("."),function(le){for(var G=X.length;G--;)if(!le.classes.contains(X[G]))return!1;return!0}}(F[3])),W(function z(X,le,G){if(X)return function(W){var F=W[X]?W[X]():"";return le?"="===le?F===G:"*="===le?F.indexOf(G)>=0:"~="===le?(" "+F+" ").indexOf(" "+G+" ")>=0:"!="===le?F!=G:"^="===le?0===F.indexOf(G):"$="===le&&F.substr(F.length-G.length)===G:!!G}}(F[4],F[5],F[6])),W(function V(X){var le;if(X)return(X=/(?:not\((.+)\))|(.+)/i.exec(X))[1]?(le=U(X[1],[]),function(G){return!ne(G,le)}):(X=X[2],function(G,W,F){return"first"===X?0===W:"last"===X?W===F-1:"even"===X?W%2==0:"odd"===X?W%2==1:!!G[X]&&G[X]()})}(F[7])),le.pseudo=!!F[7],le.direct=G,le}function U(X,le){var W,F,A,G=[];do{if(w.exec(""),(F=w.exec(X))&&(X=F[3],G.push(F[1]),F[2])){W=F[3];break}}while(F);for(W&&U(W,le),X=[],A=0;A<G.length;A++)">"!=G[A]&&X.push(Y(G[A],[],">"===G[A-1]));return le.push(X),le}var ne=this.match;this._selectors=U(_,[])},match:function(_,C){var I,N,z,V,Y,U,ne,X,le,G,W,F,A;for(I=0,N=(C=C||this._selectors).length;I<N;I++){for(A=_,F=0,z=(V=(Y=C[I]).length)-1;z>=0;z--)for(X=Y[z];A;){if(X.pseudo)for(le=G=(W=A.parent().items()).length;le--&&W[le]!==A;);for(U=0,ne=X.length;U<ne;U++)if(!X[U](A,le,G)){U=ne+1;break}if(U===ne){F++;break}if(z===V-1)break;A=A.parent()}if(F===V)return!0}return!1},find:function(_){function C(Y,U,ne){var X,le,G,W,F,A=U[ne];for(X=0,le=Y.length;X<le;X++){for(F=Y[X],G=0,W=A.length;G<W;G++)if(!A[G](F,X,le)){G=W+1;break}if(G===W)ne==U.length-1?I.push(F):F.items&&C(F.items(),U,ne+1);else if(A.direct)return;F.items&&C(F.items(),U,ne)}}var N,z,I=[],V=this._selectors;if(_.items){for(N=0,z=V.length;N<z;N++)C(_.items(),V[N],0);z>1&&(I=function M(_){for(var N,C=[],I=_.length;I--;)(N=_[I]).__checked||(C.push(N),N.__checked=1);for(I=C.length;I--;)delete C[I].__checked;return C}(I))}return f||(f=p.Collection),new f(I)}});return p}),ve($n,[K,qn,fn],function(L,M,x){var w,v,f=Array.prototype.push,p=Array.prototype.slice;return v={length:0,init:function(_){_&&this.add(_)},add:function(_){var C=this;return L.isArray(_)?f.apply(C,_):_ instanceof w?C.add(_.toArray()):f.call(C,_),C},set:function(_){var N,C=this,I=C.length;for(C.length=0,C.add(_),N=C.length;N<I;N++)delete C[N];return C},filter:function(_){var I,N,V,Y,z=[];for("string"==typeof _?(_=new M(_),Y=function(U){return _.match(U)}):Y=_,I=0,N=this.length;I<N;I++)Y(V=this[I])&&z.push(V);return new w(z)},slice:function(){return new w(p.apply(this,arguments))},eq:function(_){return-1===_?this.slice(_):this.slice(_,+_+1)},each:function(_){return L.each(this,_),this},toArray:function(){return L.toArray(this)},indexOf:function(_){for(var I=this.length;I--&&this[I]!==_;);return I},reverse:function(){return new w(L.toArray(this).reverse())},hasClass:function(_){return!!this[0]&&this[0].classes.contains(_)},prop:function(_,C){var z,I=this;return void 0!==C?(I.each(function(V){V[_]&&V[_](C)}),I):(z=I[0])&&z[_]?z[_]():void 0},exec:function(_){var I=L.toArray(arguments).slice(1);return this.each(function(N){N[_]&&N[_].apply(N,I)}),this},remove:function(){for(var _=this.length;_--;)this[_].remove();return this},addClass:function(_){return this.each(function(C){C.classes.add(_)})},removeClass:function(_){return this.each(function(C){C.classes.remove(_)})}},L.each("fire on off show hide append prepend before after reflow".split(" "),function(_){v[_]=function(){var C=L.toArray(arguments);return this.each(function(I){_ in I&&I[_].apply(I,C)}),this}}),L.each("text name disabled active selected checked visible parent value data".split(" "),function(_){v[_]=function(C){return this.prop(_,C)}}),w=x.extend(v),M.Collection=w,w}),ve(ai,[J,K,P],function(L,M,x){var w=0,v={id:function(){return"mceu_"+w++},create:function(f,p,_){var C=document.createElement(f);return x.DOM.setAttribs(C,p),"string"==typeof _?C.innerHTML=_:M.each(_,function(I){I.nodeType&&C.appendChild(I)}),C},createFragment:function(f){return x.DOM.createFragment(f)},getWindowSize:function(){return x.DOM.getViewPort()},getSize:function(f){var p,_;if(f.getBoundingClientRect){var C=f.getBoundingClientRect();p=Math.max(C.width||C.right-C.left,f.offsetWidth),_=Math.max(C.height||C.bottom-C.bottom,f.offsetHeight)}else p=f.offsetWidth,_=f.offsetHeight;return{width:p,height:_}},getPos:function(f,p){return x.DOM.getPos(f,p||v.getContainer())},getContainer:function(){return L.container?L.container:document.body},getViewPort:function(f){return x.DOM.getViewPort(f)},get:function(f){return document.getElementById(f)},addClass:function(f,p){return x.DOM.addClass(f,p)},removeClass:function(f,p){return x.DOM.removeClass(f,p)},hasClass:function(f,p){return x.DOM.hasClass(f,p)},toggleClass:function(f,p,_){return x.DOM.toggleClass(f,p,_)},css:function(f,p,_){return x.DOM.setStyle(f,p,_)},getRuntimeStyle:function(f,p){return x.DOM.getStyle(f,p,!0)},on:function(f,p,_,C){return x.DOM.bind(f,p,_,C)},off:function(f,p,_){return x.DOM.unbind(f,p,_)},fire:function(f,p,_){return x.DOM.fire(f,p,_)},innerHtml:function(f,p){x.DOM.setHTML(f,p)}};return v}),ve(di,[],function(){return{parseBox:function(L){var M;if(L)return"number"==typeof L?{top:L=L||0,left:L,bottom:L,right:L}:(1===(M=(L=L.split(" ")).length)?L[1]=L[2]=L[3]=L[0]:2===M?(L[2]=L[0],L[3]=L[1]):3===M&&(L[3]=L[1]),{top:parseInt(L[0],10)||0,right:parseInt(L[1],10)||0,bottom:parseInt(L[2],10)||0,left:parseInt(L[3],10)||0})},measureBox:function(L,M){function w(v){var f=parseFloat(function x(v){var f=document.defaultView;return f?(v=v.replace(/[A-Z]/g,function(p){return"-"+p}),f.getComputedStyle(L,null).getPropertyValue(v)):L.currentStyle[v]}(v),10);return isNaN(f)?0:f}return{top:w(M+"TopWidth"),right:w(M+"RightWidth"),bottom:w(M+"BottomWidth"),left:w(M+"LeftWidth")}}}}),ve(_i,[K],function(L){function M(){}function x(w){this.cls=[],this.cls._map={},this.onchange=w||M,this.prefix=""}return L.extend(x.prototype,{add:function(w){return w&&!this.contains(w)&&(this.cls._map[w]=!0,this.cls.push(w),this._change()),this},remove:function(w){if(this.contains(w)){for(var v=0;v<this.cls.length&&this.cls[v]!==w;v++);this.cls.splice(v,1),delete this.cls._map[w],this._change()}return this},toggle:function(w,v){var f=this.contains(w);return f!==v&&(f?this.remove(w):this.add(w),this._change()),this},contains:function(w){return!!this.cls._map[w]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),x.prototype.toString=function(){var w;if(this.clsValue)return this.clsValue;w="";for(var v=0;v<this.cls.length;v++)v>0&&(w+=" "),w+=this.prefix+this.cls[v];return w},x}),ve(Zi,[j],function(L){var x,M={};return{add:function(w){var v=w.parent();if(v){if(!v._layout||v._layout.isNative())return;M[v._id]||(M[v._id]=v),x||(x=!0,L.requestAnimationFrame(function(){var f,p;for(f in x=!1,M)(p=M[f]).state.get("rendered")&&p.reflow();M={}},document.body))}},remove:function(w){M[w._id]&&delete M[w._id]}}}),ve(nr,[fn,K,Tn,In,$n,ai,de,di,_i,Zi],function(L,M,x,w,v,f,p,_,C,I){function N(G){return G._eventDispatcher||(G._eventDispatcher=new x({scope:G,toggleEvent:function(W,F){F&&x.isNative(W)&&(G._nativeEvents||(G._nativeEvents={}),G._nativeEvents[W]=!0,G.state.get("rendered")&&z(G))}})),G._eventDispatcher}function z(G){function W(qe){var $e=G.getParentCtrl(qe.target);$e&&$e.fire(qe.type,qe)}function F(){var qe=Ce._lastHoverCtrl;qe&&(qe.fire("mouseleave",{target:qe.getEl()}),qe.parents().each(function($e){$e.fire("mouseleave",{target:$e.getEl()})}),Ce._lastHoverCtrl=null)}function A(qe){var nt,Ie,Fe,$e=G.getParentCtrl(qe.target),Qe=Ce._lastHoverCtrl,st=0;if($e!==Qe){if(Ce._lastHoverCtrl=$e,(Ie=$e.parents().toArray().reverse()).push($e),Qe){for((Fe=Qe.parents().toArray().reverse()).push(Qe),st=0;st<Fe.length&&Ie[st]===Fe[st];st++);for(nt=Fe.length-1;nt>=st;nt--)(Qe=Fe[nt]).fire("mouseleave",{target:Qe.getEl()})}for(nt=st;nt<Ie.length;nt++)($e=Ie[nt]).fire("mouseenter",{target:$e.getEl()})}}function E(qe){qe.preventDefault(),"mousewheel"==qe.type?(qe.deltaY=-.025*qe.wheelDelta,qe.wheelDeltaX&&(qe.deltaX=-.025*qe.wheelDeltaX)):(qe.deltaX=0,qe.deltaY=qe.detail),qe=G.fire("wheel",qe)}var ie,pe,ae,Ce,Le,tt;if(Le=G._nativeEvents){for((ae=G.parents().toArray()).unshift(G),ie=0,pe=ae.length;!Ce&&ie<pe;ie++)Ce=ae[ie]._eventsRoot;for(Ce||(Ce=ae[ae.length-1]||G),G._eventsRoot=Ce,pe=ie,ie=0;ie<pe;ie++)ae[ie]._eventsRoot=Ce;var Ze=Ce._delegates;for(tt in Ze||(Ze=Ce._delegates={}),Le){if(!Le)return!1;"wheel"!==tt||Y?("mouseenter"===tt||"mouseleave"===tt?Ce._hasMouseEnter||(p(Ce.getEl()).on("mouseleave",F).on("mouseover",A),Ce._hasMouseEnter=1):Ze[tt]||(p(Ce.getEl()).on(tt,W),Ze[tt]=!0),Le[tt]=!1):V?p(G.getEl()).on("mousewheel",E):p(G.getEl()).on("DOMMouseScroll",E)}}}var ne,V="onmousewheel"in document,Y=!1,U="mce-",X=0,le={Statics:{classPrefix:U},isRtl:function(){return ne.rtl},classPrefix:U,init:function(G){function W(ie){var pe;for(ie=ie.split(" "),pe=0;pe<ie.length;pe++)F.classes.add(ie[pe])}var A,E,F=this;F.settings=G=M.extend({},F.Defaults,G),F._id=G.id||"mceu_"+X++,F._aria={role:G.role},F._elmCache={},F.$=p,F.state=new w({visible:!0,active:!1,disabled:!1,value:""}),F.data=new w(G.data),F.classes=new C(function(){F.state.get("rendered")&&(F.getEl().className=this.toString())}),F.classes.prefix=F.classPrefix,(A=G.classes)&&(F.Defaults&&(E=F.Defaults.classes)&&A!=E&&W(E),W(A)),M.each("title text name visible disabled active value".split(" "),function(ie){ie in G&&F[ie](G[ie])}),F.on("click",function(){if(F.disabled())return!1}),F.settings=G,F.borderBox=_.parseBox(G.border),F.paddingBox=_.parseBox(G.padding),F.marginBox=_.parseBox(G.margin),G.hidden&&F.hide()},Properties:"parent,name",getContainerElm:function(){return f.getContainer()},getParentCtrl:function(G){for(var W,F=this.getRoot().controlIdLookup;G&&F&&!(W=F[G.id]);)G=G.parentNode;return W},initLayoutRect:function(){var F,A,ie,pe,ae,Ce,Le,tt,Ze,qe,G=this,W=G.settings,E=G.getEl();F=G.borderBox=G.borderBox||_.measureBox(E,"border"),G.paddingBox=G.paddingBox||_.measureBox(E,"padding"),G.marginBox=G.marginBox||_.measureBox(E,"margin"),qe=f.getSize(E),ae=(tt=W.minWidth)||qe.width,Ce=(Ze=W.minHeight)||qe.height,ie=W.width,pe=W.height,Le=typeof(Le=W.autoResize)<"u"?Le:!ie&&!pe;var $e=F.left+F.right,Qe=F.top+F.bottom,st=W.maxWidth||65535,nt=W.maxHeight||65535;return G._layoutRect=A={x:W.x||0,y:W.y||0,w:ie=ie||ae,h:pe=pe||Ce,deltaW:$e,deltaH:Qe,contentW:ie-$e,contentH:pe-Qe,innerW:ie-$e,innerH:pe-Qe,startMinWidth:tt||0,startMinHeight:Ze||0,minW:Math.min(ae,st),minH:Math.min(Ce,nt),maxW:st,maxH:nt,autoResize:Le,scrollW:0},G._lastLayoutRect={},A},layoutRect:function(G){var A,E,ie,pe,ae,Ce,W=this,F=W._layoutRect;return F||(F=W.initLayoutRect()),G?(ie=F.deltaW,pe=F.deltaH,G.x!==ae&&(F.x=G.x),G.y!==ae&&(F.y=G.y),G.minW!==ae&&(F.minW=G.minW),G.minH!==ae&&(F.minH=G.minH),(E=G.w)!==ae&&(F.w=E=(E=E<F.minW?F.minW:E)>F.maxW?F.maxW:E,F.innerW=E-ie),(E=G.h)!==ae&&(F.h=E=(E=E<F.minH?F.minH:E)>F.maxH?F.maxH:E,F.innerH=E-pe),(E=G.innerW)!==ae&&(F.innerW=E=(E=E<F.minW-ie?F.minW-ie:E)>F.maxW-ie?F.maxW-ie:E,F.w=E+ie),(E=G.innerH)!==ae&&(F.innerH=E=(E=E<F.minH-pe?F.minH-pe:E)>F.maxH-pe?F.maxH-pe:E,F.h=E+pe),G.contentW!==ae&&(F.contentW=G.contentW),G.contentH!==ae&&(F.contentH=G.contentH),(A=W._lastLayoutRect).x===F.x&&A.y===F.y&&A.w===F.w&&A.h===F.h||((Ce=ne.repaintControls)&&Ce.map&&!Ce.map[W._id]&&(Ce.push(W),Ce.map[W._id]=!0),A.x=F.x,A.y=F.y,A.w=F.w,A.h=F.h),W):F},repaint:function(){var W,F,A,E,ie,pe,ae,Ce,Le,tt,G=this;Le=document.createRange?function(Ze){return Ze}:Math.round,W=G.getEl().style,pe=(ie=G.borderBox).left+ie.right,ae=ie.top+ie.bottom,(E=G._layoutRect).x!==(Ce=G._lastRepaintRect||{}).x&&(W.left=Le(E.x)+"px",Ce.x=E.x),E.y!==Ce.y&&(W.top=Le(E.y)+"px",Ce.y=E.y),E.w!==Ce.w&&(tt=Le(E.w-pe),W.width=(tt>=0?tt:0)+"px",Ce.w=E.w),E.h!==Ce.h&&(tt=Le(E.h-ae),W.height=(tt>=0?tt:0)+"px",Ce.h=E.h),G._hasBody&&E.innerW!==Ce.innerW&&(tt=Le(E.innerW),(A=G.getEl("body"))&&((F=A.style).width=(tt>=0?tt:0)+"px"),Ce.innerW=E.innerW),G._hasBody&&E.innerH!==Ce.innerH&&(tt=Le(E.innerH),(A=A||G.getEl("body"))&&((F=F||A.style).height=(tt>=0?tt:0)+"px"),Ce.innerH=E.innerH),G._lastRepaintRect=Ce,G.fire("repaint",{},!1)},updateLayoutRect:function(){var G=this;G.parent()._lastRect=null,f.css(G.getEl(),{width:"",height:""}),G._layoutRect=G._lastRepaintRect=G._lastLayoutRect=null,G.initLayoutRect()},on:function(G,W){var A=this;return N(A).on(G,function F(E){var ie,pe;return"string"!=typeof E?E:function(ae){return ie||A.parentsAndSelf().each(function(Ce){var Le=Ce.settings.callbacks;if(Le&&(ie=Le[E]))return pe=Ce,!1}),ie?ie.call(pe,ae):(ae.action=E,void this.fire("execute",ae))}}(W)),A},off:function(G,W){return N(this).off(G,W),this},fire:function(G,W,F){var A=this;if((W=W||{}).control||(W.control=A),W=N(A).fire(G,W),!1!==F&&A.parent)for(var E=A.parent();E&&!W.isPropagationStopped();)E.fire(G,W,!1),E=E.parent();return W},hasEventListeners:function(G){return N(this).has(G)},parents:function(G){var F,A=new v;for(F=this.parent();F;F=F.parent())A.add(F);return G&&(A=A.filter(G)),A},parentsAndSelf:function(G){return new v(this).add(this.parents(G))},next:function(){var G=this.parent().items();return G[G.indexOf(this)+1]},prev:function(){var G=this.parent().items();return G[G.indexOf(this)-1]},innerHtml:function(G){return this.$el.html(G),this},getEl:function(G){var W=G?this._id+"-"+G:this._id;return this._elmCache[W]||(this._elmCache[W]=p("#"+W)[0]),this._elmCache[W]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch{}return this},blur:function(){return this.getEl().blur(),this},aria:function(G,W){var F=this,A=F.getEl(F.ariaTarget);return typeof W>"u"?F._aria[G]:(F._aria[G]=W,F.state.get("rendered")&&A.setAttribute("role"==G?G:"aria-"+G,W),F)},encode:function(G,W){return!1!==W&&(G=this.translate(G)),(G||"").replace(/[&<>"]/g,function(F){return"&#"+F.charCodeAt(0)+";"})},translate:function(G){return ne.translate?ne.translate(G):G},before:function(G){var W=this,F=W.parent();return F&&F.insert(G,F.items().indexOf(W),!0),W},after:function(G){var W=this,F=W.parent();return F&&F.insert(G,F.items().indexOf(W)),W},remove:function(){var A,E,G=this,W=G.getEl(),F=G.parent();if(G.items){var ie=G.items().toArray();for(E=ie.length;E--;)ie[E].remove()}F&&F.items&&(A=[],F.items().each(function(ae){ae!==G&&A.push(ae)}),F.items().set(A),F._lastRect=null),G._eventsRoot&&G._eventsRoot==G&&p(W).off();var pe=G.getRoot().controlIdLookup;return pe&&delete pe[G._id],W&&W.parentNode&&W.parentNode.removeChild(W),G.state.set("rendered",!1),G.state.destroy(),G.fire("remove"),G},renderBefore:function(G){return p(G).before(this.renderHtml()),this.postRender(),this},renderTo:function(G){return p(G||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var F,A,E,ie,pe,G=this,W=G.settings;for(ie in G.$el=p(G.getEl()),G.state.set("rendered",!0),W)0===ie.indexOf("on")&&G.on(ie.substr(2),W[ie]);if(G._eventsRoot){for(E=G.parent();!pe&&E;E=E.parent())pe=E._eventsRoot;if(pe)for(ie in pe._nativeEvents)G._nativeEvents[ie]=!0}z(G),W.style&&(F=G.getEl())&&(F.setAttribute("style",W.style),F.style.cssText=W.style),G.settings.border&&G.$el.css({"border-top-width":(A=G.borderBox).top,"border-right-width":A.right,"border-bottom-width":A.bottom,"border-left-width":A.left});var ae=G.getRoot();for(var Ce in ae.controlIdLookup||(ae.controlIdLookup={}),ae.controlIdLookup[G._id]=G,G._aria)G.aria(Ce,G._aria[Ce]);!1===G.state.get("visible")&&(G.getEl().style.display="none"),G.bindStates(),G.state.on("change:visible",function(Le){var Ze,tt=Le.value;G.state.get("rendered")&&(G.getEl().style.display=!1===tt?"none":"",G.getEl().getBoundingClientRect()),(Ze=G.parent())&&(Ze._lastRect=null),G.fire(tt?"show":"hide"),I.add(G)}),G.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(G){var E,ie,pe,ae,Ce,Le,F=this.getEl(),A=F.parentNode,tt=function W(Ze,qe){var $e,Qe,st=Ze;for($e=Qe=0;st&&st!=qe&&st.nodeType;)$e+=st.offsetLeft||0,Qe+=st.offsetTop||0,st=st.offsetParent;return{x:$e,y:Qe}}(F,A);return E=tt.x,ie=tt.y,pe=F.offsetWidth,ae=F.offsetHeight,Ce=A.clientWidth,Le=A.clientHeight,"end"==G?(E-=Ce-pe,ie-=Le-ae):"center"==G&&(E-=Ce/2-pe/2,ie-=Le/2-ae/2),A.scrollLeft=E,A.scrollTop=ie,this},getRoot:function(){for(var W,G=this,F=[];G;){if(G.rootControl){W=G.rootControl;break}F.push(G),W=G,G=G.parent()}W||(W=this);for(var A=F.length;A--;)F[A].rootControl=W;return W},reflow:function(){I.remove(this);var G=this.parent();return G._layout&&!G._layout.isNative()&&G.reflow(),this}};return M.each("text title visible disabled active value".split(" "),function(G){le[G]=function(W){return 0===arguments.length?this.state.get(G):(typeof W<"u"&&this.state.set(G,W),this)}}),ne=L.extend(le)}),ve(Mi,[],function(){var M,L={};return{add:function(x,w){L[x.toLowerCase()]=w},has:function(x){return!!L[x.toLowerCase()]},create:function(x,w){var v,f,p;if(!M){for(f in p=tinymce.ui)L[f.toLowerCase()]=p[f];M=!0}if("string"==typeof x?(w=w||{}).type=x:x=(w=x).type,x=x.toLowerCase(),!(v=L[x]))throw new Error("Could not find control by type: "+x);return(v=new v(w)).type=x,v}}}),ve(gr,[],function(){return function(L){function M(E){return E&&1===E.nodeType}function x(E){return M(E=E||F)?E.getAttribute("role"):null}function w(E){for(var ie,pe=E||F;pe=pe.parentNode;)if(ie=x(pe))return ie}function v(E){var ie=F;if(M(ie))return ie.getAttribute("aria-"+E)}function f(E){var ie=E.tagName.toUpperCase();return"INPUT"==ie||"TEXTAREA"==ie||"SELECT"==ie}function _(E){var pe=[];return function ie(ae){if(1==ae.nodeType&&"none"!=ae.style.display&&!ae.disabled){(function p(E){return!(!f(E)||E.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(x(E))})(ae)&&pe.push(ae);for(var Ce=0;Ce<ae.childNodes.length;Ce++)ie(ae.childNodes[Ce])}}(E||W.getEl()),pe}function C(E){var ie,pe;(pe=(E=E||A).parents().toArray()).unshift(E);for(var ae=0;ae<pe.length&&!(ie=pe[ae]).settings.ariaRoot;ae++);return ie}function N(E,ie){return E<0?E=ie.length-1:E>=ie.length&&(E=0),ie[E]&&ie[E].focus(),E}function z(E,ie){var pe=-1,ae=C();ie=ie||_(ae.getEl());for(var Ce=0;Ce<ie.length;Ce++)ie[Ce]===F&&(pe=Ce);ae.lastAriaIndex=N(pe+=E,ie)}function V(){"tablist"==w()?z(-1,_(F.parentNode)):A.parent().submenu?le():z(-1)}function Y(){var E=x(),ie=w();"tablist"==ie?z(1,_(F.parentNode)):"menuitem"==E&&"menu"==ie&&v("haspopup")?G():z(1)}function U(){z(-1)}function ne(){var E=x(),ie=w();"menuitem"==E&&"menubar"==ie?G():"button"==E&&v("haspopup")?G({key:"down"}):z(1)}function le(){A.fire("cancel")}function G(E){A.fire("click",{target:F,aria:E=E||{}})}var F,A,W=L.root;try{F=document.activeElement}catch{F=document.body}return A=W.getParentCtrl(F),W.on("keydown",function(E){function ie(pe,ae){f(F)||"slider"!==x(F)&&!1!==ae(pe)&&pe.preventDefault()}if(!E.isDefaultPrevented())switch(E.keyCode){case 37:ie(E,V);break;case 39:ie(E,Y);break;case 38:ie(E,U);break;case 40:ie(E,ne);break;case 27:le();break;case 14:case 13:case 32:ie(E,G);break;case 9:!1!==function X(E){if("tablist"==w()){var pe=_(A.getEl("body"))[0];pe&&pe.focus()}else z(E.shiftKey?-1:1)}(E)&&E.preventDefault()}}),W.on("focusin",function(E){F=E.target,A=E.control}),{focusFirst:function I(E){var ie=C(E),pe=_(ie.getEl());N(ie.settings.ariaRemember&&"lastAriaIndex"in ie?ie.lastAriaIndex:0,pe)}}}}),ve(Fi,[nr,$n,qn,Mi,gr,K,de,_i,Zi],function(L,M,x,w,v,f,p,_,C){var I={};return L.extend({init:function(N){var z=this;z._super(N),(N=z.settings).fixed&&z.state.set("fixed",!0),z._items=new M,z.isRtl()&&z.classes.add("rtl"),z.bodyClasses=new _(function(){z.state.get("rendered")&&(z.getEl("body").className=this.toString())}),z.bodyClasses.prefix=z.classPrefix,z.classes.add("container"),z.bodyClasses.add("container-body"),N.containerCls&&z.classes.add(N.containerCls),z._layout=w.create((N.layout||"")+"layout"),z.add(z.settings.items?z.settings.items:z.render()),z._hasBody=!0},items:function(){return this._items},find:function(N){return(N=I[N]=I[N]||new x(N)).find(this)},add:function(N){var z=this;return z.items().add(z.create(N)).parent(z),z},focus:function(N){var V,Y,U,z=this;return N&&(Y=z.keyboardNav||z.parents().eq(-1)[0].keyboardNav)?void Y.focusFirst(z):(U=z.find("*"),z.statusbar&&U.add(z.statusbar.items()),U.each(function(ne){return ne.settings.autofocus?(V=null,!1):void(ne.canFocus&&(V=V||ne))}),V&&V.focus(),z)},replace:function(N,z){for(var V,Y=this.items(),U=Y.length;U--;)if(Y[U]===N){Y[U]=z;break}U>=0&&((V=z.getEl())&&V.parentNode.removeChild(V),(V=N.getEl())&&V.parentNode.removeChild(V)),z.parent(this)},create:function(N){var V,z=this,Y=[];return f.isArray(N)||(N=[N]),f.each(N,function(U){U&&(U instanceof L||("string"==typeof U&&(U={type:U}),V=f.extend({},z.settings.defaults,U),U.type=V.type=V.type||U.type||z.settings.defaultType||(V.defaults?V.defaults.type:null),U=w.create(V)),Y.push(U))}),Y},renderNew:function(){var N=this;return N.items().each(function(z,V){var Y;z.parent(N),z.state.get("rendered")||((Y=N.getEl("body")).hasChildNodes()&&V<=Y.childNodes.length-1?p(Y.childNodes[V]).before(z.renderHtml()):p(Y).append(z.renderHtml()),z.postRender(),C.add(z))}),N._layout.applyClasses(N.items().filter(":visible")),N._lastRect=null,N},append:function(N){return this.add(N).renderNew()},prepend:function(N){var z=this;return z.items().set(z.create(N).concat(z.items().toArray())),z.renderNew()},insert:function(N,z,V){var U,ne,X,Y=this;return N=Y.create(N),U=Y.items(),!V&&z<U.length-1&&(z+=1),z>=0&&z<U.length&&(ne=U.slice(0,z).toArray(),X=U.slice(z).toArray(),U.set(ne.concat(N,X))),Y.renderNew()},fromJSON:function(N){for(var V in N)this.find("#"+V).value(N[V]);return this},toJSON:function(){var z={};return this.find("*").each(function(V){var Y=V.name(),U=V.value();Y&&typeof U<"u"&&(z[Y]=U)}),z},renderHtml:function(){var N=this,z=N._layout,V=this.settings.role;return N.preRender(),z.preRender(N),'<div id="'+N._id+'" class="'+N.classes+'"'+(V?' role="'+this.settings.role+'"':"")+'><div id="'+N._id+'-body" class="'+N.bodyClasses+'">'+(N.settings.html||"")+z.renderHtml(N)+"</div></div>"},postRender:function(){var z,N=this;return N.items().exec("postRender"),N._super(),N._layout.postRender(N),N.state.set("rendered",!0),N.settings.style&&N.$el.css(N.settings.style),N.settings.border&&N.$el.css({"border-top-width":(z=N.borderBox).top,"border-right-width":z.right,"border-bottom-width":z.bottom,"border-left-width":z.left}),N.parent()||(N.keyboardNav=new v({root:N})),N},initLayoutRect:function(){var N=this,z=N._super();return N._layout.recalc(N),z},recalc:function(){var N=this,z=N._layoutRect,V=N._lastRect;if(!V||V.w!=z.w||V.h!=z.h)return N._layout.recalc(N),z=N.layoutRect(),N._lastRect={x:z.x,y:z.y,w:z.w,h:z.h},!0},reflow:function(){var N;if(C.remove(this),this.visible()){for(L.repaintControls=[],L.repaintControls.map={},this.recalc(),N=L.repaintControls.length;N--;)L.repaintControls[N].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),L.repaintControls=[]}return this}})}),ve(Ui,[de],function(L){function x(w){var v,f;if(w.changedTouches)for(v="screenX screenY pageX pageY clientX clientY".split(" "),f=0;f<v.length;f++)w[v[f]]=w.changedTouches[0][v[f]]}return function(w,v){function f(){return _.getElementById(v.handle||w)}var p,C,I,N,z,V,Y,_=v.document||document;v=v||{},I=function(U){var X,le,ne=function M(w){var v,f,p,_,C,I,N,V=Math.max;return p=V((v=w.documentElement).scrollWidth,(f=w.body).scrollWidth),_=V(v.clientWidth,f.clientWidth),C=V(v.offsetWidth,f.offsetWidth),I=V(v.scrollHeight,f.scrollHeight),N=V(v.clientHeight,f.clientHeight),{width:p<C?_:p,height:I<V(v.offsetHeight,f.offsetHeight)?N:I}}(_);x(U),U.preventDefault(),C=U.button,X=f(),V=U.screenX,Y=U.screenY,le=window.getComputedStyle?window.getComputedStyle(X,null).getPropertyValue("cursor"):X.runtimeStyle.cursor,p=L("<div></div>").css({position:"absolute",top:0,left:0,width:ne.width,height:ne.height,zIndex:2147483647,opacity:1e-4,cursor:le}).appendTo(_.body),L(_).on("mousemove touchmove",z).on("mouseup touchend",N),v.start(U)},z=function(U){return x(U),U.button!==C?N(U):(U.deltaX=U.screenX-V,U.deltaY=U.screenY-Y,U.preventDefault(),void v.drag(U))},N=function(U){x(U),L(_).off("mousemove touchmove",z).off("mouseup touchend",N),p.remove(),v.stop&&v.stop(U)},this.destroy=function(){L(f()).off()},L(f()).on("mousedown touchstart",I)}}),ve(Vi,[de,Ui],function(L,M){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function x(){function p(N,z,V,Y,U,ne){var X,le,G,W,A,E,ie,pe;if(le=v.getEl("scroll"+N)){if(ie=z.toLowerCase(),pe=V.toLowerCase(),L(v.getEl("absend")).css(ie,v.layoutRect()[Y]-1),!U)return void L(le).css("display","none");L(le).css("display","block"),X=v.getEl("body"),G=v.getEl("scroll"+N+"t"),W=X["client"+V]-2*f,A=(W-=_&&C?le["client"+ne]:0)/X["scroll"+V],(E={})[ie]=X["offset"+z]+f,E[pe]=W,L(le).css(E),(E={})[ie]=X["scroll"+z]*A,E[pe]=W*A,L(G).css(E)}}var _,C,I;I=v.getEl("body"),C=I.scrollHeight>I.clientHeight,p("h","Left","Width","contentW",_=I.scrollWidth>I.clientWidth,"Height"),p("v","Top","Height","contentH",C,"Width")}var v=this,f=2;v.settings.autoScroll&&(v._hasScroll||(v._hasScroll=!0,function w(){function p(_,C,I,N,z){var V,Y=v._id+"-scroll"+_,U=v.classPrefix;L(v.getEl()).append('<div id="'+Y+'" class="'+U+"scrollbar "+U+"scrollbar-"+_+'"><div id="'+Y+'t" class="'+U+'scrollbar-thumb"></div></div>'),v.draghelper=new M(Y+"t",{start:function(){V=v.getEl("body")["scroll"+C],L("#"+Y).addClass(U+"active")},drag:function(ne){var X,le,G,W,F=v.layoutRect();le=F.contentW>F.innerW,G=F.contentH>F.innerH,W=v.getEl("body")["client"+I]-2*f,X=(W-=le&&G?v.getEl("scroll"+_)["client"+z]:0)/v.getEl("body")["scroll"+I],v.getEl("body")["scroll"+C]=V+ne["delta"+N]/X},stop:function(){L("#"+Y).removeClass(U+"active")}})}v.classes.add("scroll"),p("v","Top","Height","Y","Width"),p("h","Left","Width","X","Height")}(),v.on("wheel",function(p){var _=v.getEl("body");_.scrollLeft+=10*(p.deltaX||0),_.scrollTop+=10*p.deltaY,x()}),L(v.getEl("body")).on("scroll",x)),x())}}}),ve(ki,[Fi,Vi],function(L,M){return L.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[M],renderHtml:function(){var x=this,w=x._layout,v=x.settings.html;return x.preRender(),w.preRender(x),typeof v>"u"?v='<div id="'+x._id+'-body" class="'+x.bodyClasses+'">'+w.renderHtml(x)+"</div>":("function"==typeof v&&(v=v.call(x)),x._hasBody=!1),'<div id="'+x._id+'" class="'+x.classes+'" hidefocus="1" tabindex="-1" role="group">'+(x._preBodyHtml||"")+v+"</div>"}})}),ve(pr,[ai],function(L){function M(x,w,v){var f,p,_,C,I,N,z,V,Y,U;return Y=L.getViewPort(),_=(p=L.getPos(w)).x,C=p.y,x.state.get("fixed")&&"static"==L.getRuntimeStyle(document.body,"position")&&(_-=Y.x,C-=Y.y),f=x.getEl(),I=(U=L.getSize(f)).width,N=U.height,z=(U=L.getSize(w)).width,V=U.height,"b"===(v=(v||"").split(""))[0]&&(C+=V),"r"===v[1]&&(_+=z),"c"===v[0]&&(C+=Math.round(V/2)),"c"===v[1]&&(_+=Math.round(z/2)),"b"===v[3]&&(C-=N),"r"===v[4]&&(_-=I),"c"===v[3]&&(C-=Math.round(N/2)),"c"===v[4]&&(_-=Math.round(I/2)),{x:_,y:C,w:I,h:N}}return{testMoveRel:function(x,w){for(var v=L.getViewPort(),f=0;f<w.length;f++){var p=M(this,x,w[f]);if(this.state.get("fixed")){if(p.x>0&&p.x+p.w<v.w&&p.y>0&&p.y+p.h<v.h)return w[f]}else if(p.x>v.x&&p.x+p.w<v.w+v.x&&p.y>v.y&&p.y+p.h<v.h+v.y)return w[f]}return w[0]},moveRel:function(x,w){"string"!=typeof w&&(w=this.testMoveRel(x,w));var v=M(this,x,w);return this.moveTo(v.x,v.y)},moveBy:function(x,w){var v=this,f=v.layoutRect();return v.moveTo(f.x+x,f.y+w),v},moveTo:function(x,w){function v(C,I,N){return C<0||C+N>I&&(C=I-N)<0?0:C}var f=this;if(f.settings.constrainToViewport){var p=L.getViewPort(window),_=f.layoutRect();x=v(x,p.w+p.x,_.w),w=v(w,p.h+p.y,_.h)}return f.state.get("rendered")?f.layoutRect({x,y:w}).repaint():(f.settings.x=x,f.settings.y=w),f.fire("move",{x,y:w}),f}}}),ve(Wi,[ai],function(L){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(M,x){if(M<=1||x<=1){var w=L.getWindowSize();M=M<=1?M*w.w:M,x=x<=1?x*w.h:x}return this._layoutRect.autoResize=!1,this.layoutRect({minW:M,minH:x,w:M,h:x}).reflow()},resizeBy:function(M,x){var v=this.layoutRect();return this.resizeTo(v.w+M,v.h+x)}}}),ve(wr,[ki,pr,Wi,ai,de,j],function(L,M,x,w,v,f){function p(A,E){for(;A;){if(A==E)return!0;A=A.parent()}}function z(A){function E(pe,ae){for(var Ce,Le=0;Le<le.length;Le++)if(le[Le]!=A)for(Ce=le[Le].parent();Ce&&(Ce=Ce.parent());)Ce==A&&le[Le].fixed(pe).moveBy(0,ae).repaint()}var ie=w.getViewPort().y;A.settings.autofix&&(A.state.get("fixed")?A._autoFixY>ie&&(A.fixed(!1).layoutRect({y:A._autoFixY}).repaint(),E(!1,A._autoFixY-ie)):(A._autoFixY=A.layoutRect().y,A._autoFixY<ie&&(A.fixed(!0).layoutRect({y:0}).repaint(),E(!0,ie-A._autoFixY))))}function V(A,E){var ie,ae,pe=F.zIndex||65535;if(A)G.push(E);else for(ie=G.length;ie--;)G[ie]===E&&G.splice(ie,1);if(G.length)for(ie=0;ie<G.length;ie++)G[ie].modal&&(pe++,ae=G[ie]),G[ie].getEl().style.zIndex=pe,G[ie].zIndex=pe,pe++;var Ce=v("#"+E.classPrefix+"modal-block",E.getContainerElm())[0];ae?v(Ce).css("z-index",ae.zIndex-1):Ce&&(Ce.parentNode.removeChild(Ce),W=!1),F.currentZIndex=pe}function Y(A){var E;for(E=le.length;E--;)le[E]===A&&le.splice(E,1);for(E=G.length;E--;)G[E]===A&&G.splice(E,1)}var U,ne,X,W,le=[],G=[],F=L.extend({Mixins:[M,x],init:function(A){var E=this;E._super(A),E._eventsRoot=E,E.classes.add("floatpanel"),A.autohide&&(function C(){U||(U=function(A){2!=A.button&&function _(A){for(var E=le.length;E--;){var ie=le[E],pe=ie.getParentCtrl(A.target);if(ie.settings.autohide){if(pe&&(p(pe,ie)||ie.parent()===pe))continue;(A=ie.fire("autohide",{target:A.target})).isDefaultPrevented()||ie.hide()}}}(A)},v(document).on("click touchstart",U))}(),function N(){if(!X){var A=document.documentElement,E=A.clientWidth,ie=A.clientHeight;X=function(){document.all&&E==A.clientWidth&&ie==A.clientHeight||(E=A.clientWidth,ie=A.clientHeight,F.hideAll())},v(window).on("resize",X)}}(),le.push(E)),A.autofix&&(function I(){ne||(ne=function(){var A;for(A=le.length;A--;)z(le[A])},v(window).on("scroll",ne))}(),E.on("move",function(){z(this)})),E.on("postrender show",function(ie){if(ie.control==E){var pe,ae=E.classPrefix;E.modal&&!W&&((pe=v("#"+ae+"modal-block",E.getContainerElm()))[0]||(pe=v('<div id="'+ae+'modal-block" class="'+ae+"reset "+ae+'fade"></div>').appendTo(E.getContainerElm())),f.setTimeout(function(){pe.addClass(ae+"in"),v(E.getEl()).addClass(ae+"in")}),W=!0),V(!0,E)}}),E.on("show",function(){E.parents().each(function(ie){if(ie.state.get("fixed"))return E.fixed(!0),!1})}),A.popover&&(E._preBodyHtml='<div class="'+E.classPrefix+'arrow"></div>',E.classes.add("popover").add("bottom").add(E.isRtl()?"end":"start")),E.aria("label",A.ariaLabel),E.aria("labelledby",E._id),E.aria("describedby",E.describedBy||E._id+"-none")},fixed:function(A){var E=this;if(E.state.get("fixed")!=A){if(E.state.get("rendered")){var ie=w.getViewPort();A?E.layoutRect().y-=ie.y:E.layoutRect().y+=ie.y}E.classes.toggle("fixed",A),E.state.set("fixed",A)}return E},show:function(){var E,A=this,ie=A._super();for(E=le.length;E--&&le[E]!==A;);return-1===E&&le.push(A),ie},hide:function(){return Y(this),V(!1,this),this._super()},hideAll:function(){F.hideAll()},close:function(){var A=this;return A.fire("close").isDefaultPrevented()||(A.remove(),V(!1,A)),A},remove:function(){Y(this),this._super()},postRender:function(){var A=this;return A.settings.bodyRole&&this.getEl("body").setAttribute("role",A.settings.bodyRole),A._super()}});return F.hideAll=function(){for(var A=le.length;A--;){var E=le[A];E&&E.settings.autohide&&(E.hide(),le.splice(A,1))}},F}),ve(io,[wr,ki,ai,de,Ui,di,J,j],function(L,M,x,w,v,f,p,_){function C(ne){var G,le=w("meta[name=viewport]")[0];!1!==p.overrideViewPort&&(le||((le=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(le)),(G=le.getAttribute("content"))&&typeof Y<"u"&&(Y=G),le.setAttribute("content",ne?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Y))}var V=[],Y="",U=L.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(ne){var X=this;X._super(ne),X.isRtl()&&X.classes.add("rtl"),X.classes.add("window"),X.bodyClasses.add("window-body"),X.state.set("fixed",!0),ne.buttons&&(X.statusbar=new M({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:X.isRtl()?"start":"end",defaults:{type:"button"},items:ne.buttons}),X.statusbar.classes.add("foot"),X.statusbar.parent(X)),X.on("click",function(le){var G=X.classPrefix+"close";(x.hasClass(le.target,G)||x.hasClass(le.target.parentNode,G))&&X.close()}),X.on("cancel",function(){X.close()}),X.aria("describedby",X.describedBy||X._id+"-none"),X.aria("label",ne.title),X._fullscreen=!1},recalc:function(){var le,G,W,F,ne=this,X=ne.statusbar;ne._fullscreen&&(ne.layoutRect(x.getWindowSize()),ne.layoutRect().contentH=ne.layoutRect().innerH),ne._super(),le=ne.layoutRect(),ne.settings.title&&!ne._fullscreen&&(G=le.headerW)>le.w&&(W=le.x-Math.max(0,G/2),ne.layoutRect({w:G,x:W}),F=!0),X&&(X.layoutRect({w:ne.layoutRect().innerW}).recalc(),(G=X.layoutRect().minW+le.deltaW)>le.w&&(W=le.x-Math.max(0,G-le.w),ne.layoutRect({w:G,x:W}),F=!0)),F&&ne.recalc()},initLayoutRect:function(){var G,ne=this,X=ne._super(),le=0;if(ne.settings.title&&!ne._fullscreen){G=ne.getEl("head");var W=x.getSize(G);X.headerW=W.width,X.headerH=W.height,le+=X.headerH}ne.statusbar&&(le+=ne.statusbar.layoutRect().h),X.deltaH+=le,X.minH+=le,X.h+=le;var F=x.getWindowSize();return X.x=ne.settings.x||Math.max(0,F.w/2-X.w/2),X.y=ne.settings.y||Math.max(0,F.h/2-X.h/2),X},renderHtml:function(){var ne=this,X=ne._layout,le=ne._id,G=ne.classPrefix,W=ne.settings,F="",A="",E=W.html;return ne.preRender(),X.preRender(ne),W.title&&(F='<div id="'+le+'-head" class="'+G+'window-head"><div id="'+le+'-title" class="'+G+'title">'+ne.encode(W.title)+'</div><div id="'+le+'-dragh" class="'+G+'dragh"></div><button type="button" class="'+G+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),W.url&&(E='<iframe src="'+W.url+'" tabindex="-1"></iframe>'),typeof E>"u"&&(E=X.renderHtml(ne)),ne.statusbar&&(A=ne.statusbar.renderHtml()),'<div id="'+le+'" class="'+ne.classes+'" hidefocus="1"><div class="'+ne.classPrefix+'reset" role="application">'+F+'<div id="'+le+'-body" class="'+ne.bodyClasses+'">'+E+"</div>"+A+"</div></div>"},fullscreen:function(ne){var G,F,X=this,le=document.documentElement,W=X.classPrefix;if(ne!=X._fullscreen)if(w(window).on("resize",function(){var E;if(X._fullscreen)if(G)X._timer||(X._timer=_.setTimeout(function(){var pe=x.getWindowSize();X.moveTo(0,0).resizeTo(pe.w,pe.h),X._timer=0},50));else{E=(new Date).getTime();var ie=x.getWindowSize();X.moveTo(0,0).resizeTo(ie.w,ie.h),(new Date).getTime()-E>50&&(G=!0)}}),F=X.layoutRect(),X._fullscreen=ne,ne){X._initial={x:F.x,y:F.y,w:F.w,h:F.h},X.borderBox=f.parseBox("0"),X.getEl("head").style.display="none",F.deltaH-=F.headerH+2,w([le,document.body]).addClass(W+"fullscreen"),X.classes.add("fullscreen");var A=x.getWindowSize();X.moveTo(0,0).resizeTo(A.w,A.h)}else X.borderBox=f.parseBox(X.settings.border),X.getEl("head").style.display="",F.deltaH+=F.headerH,w([le,document.body]).removeClass(W+"fullscreen"),X.classes.remove("fullscreen"),X.moveTo(X._initial.x,X._initial.y).resizeTo(X._initial.w,X._initial.h);return X.reflow()},postRender:function(){var X,ne=this;setTimeout(function(){ne.classes.add("in"),ne.fire("open")},0),ne._super(),ne.statusbar&&ne.statusbar.postRender(),ne.focus(),this.dragHelper=new v(ne._id+"-dragh",{start:function(){X={x:ne.layoutRect().x,y:ne.layoutRect().y}},drag:function(le){ne.moveTo(X.x+le.deltaX,X.y+le.deltaY)}}),ne.on("submit",function(le){le.isDefaultPrevented()||ne.close()}),V.push(ne),C(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var X,ne=this;for(ne.dragHelper.destroy(),ne._super(),ne.statusbar&&this.statusbar.remove(),function I(ne,X){(function N(){for(var ne=0;ne<V.length;ne++)if(V[ne]._fullscreen)return!0;return!1})()&&!1===X&&w([document.documentElement,document.body]).removeClass(ne+"fullscreen")}(ne.classPrefix,!1),X=V.length;X--;)V[X]===ne&&V.splice(X,1);C(V.length>0)},getContentWindow:function(){var ne=this.getEl().getElementsByTagName("iframe")[0];return ne?ne.contentWindow:null}});return function z(){if(!p.desktop){var X={w:window.innerWidth,h:window.innerHeight};_.setInterval(function(){var le=window.innerWidth,G=window.innerHeight;X.w==le&&X.h==G||(X={w:le,h:G},w(window).trigger("resize"))},100)}w(window).on("resize",function ne(){var le,W,G=x.getWindowSize();for(le=0;le<V.length;le++)W=V[le].layoutRect(),V[le].moveTo(V[le].settings.x||Math.max(0,G.w/2-W.w/2),V[le].settings.y||Math.max(0,G.h/2-W.h/2))})}(),U}),ve(Qt,[io],function(L){var M=L.extend({init:function(x){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(x){function w(p,_,C){return{type:"button",text:p,subtype:C?"primary":"",onClick:function(I){I.control.parents()[1].close(),f(_)}}}var v,f=x.callback||function(){};switch(x.buttons){case M.OK_CANCEL:v=[w("Ok",!0,!0),w("Cancel",!1)];break;case M.YES_NO:case M.YES_NO_CANCEL:v=[w("Yes",1,!0),w("No",0)],x.buttons==M.YES_NO_CANCEL&&v.push(w("Cancel",-1));break;default:v=[w("Ok",!0,!0)]}return new L({padding:20,x:x.x,y:x.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:v,title:x.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:x.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:x.onClose,onCancel:function(){f(!1)}}).renderTo(document.body).reflow()},alert:function(x,w){return"string"==typeof x&&(x={text:x}),x.callback=w,M.msgBox(x)},confirm:function(x,w){return"string"==typeof x&&(x={text:x}),x.callback=w,x.buttons=M.OK_CANCEL,M.msgBox(x)}}});return M}),ve(hn,[io,Qt],function(L,M){return function(x){function w(){if(_.length)return _[_.length-1]}function v(C){x.fire("OpenWindow",{win:C})}function f(C){x.fire("CloseWindow",{win:C})}var p=this,_=[];p.windows=_,x.on("remove",function(){for(var C=_.length;C--;)_[C].close()}),p.open=function(C,I){var N;return x.editorManager.setActive(x),C.title=C.title||" ",C.url=C.url||C.file,C.url&&(C.width=parseInt(C.width||320,10),C.height=parseInt(C.height||240,10)),C.body&&(C.items={defaults:C.defaults,type:C.bodyType||"form",items:C.body,data:C.data,callbacks:C.commands}),C.url||C.buttons||(C.buttons=[{text:"Ok",subtype:"primary",onclick:function(){N.find("form")[0].submit()}},{text:"Cancel",onclick:function(){N.close()}}]),N=new L(C),_.push(N),N.on("close",function(){for(var z=_.length;z--;)_[z]===N&&_.splice(z,1);_.length||x.focus(),f(N)}),C.data&&N.on("postRender",function(){this.find("*").each(function(z){var V=z.name();V in C.data&&z.value(C.data[V])})}),N.features=C||{},N.params=I||{},1===_.length&&x.nodeChanged(),v(N=N.renderTo().reflow()),N},p.alert=function(C,I,N){var z;(z=M.alert(C,function(){I?I.call(N||this):x.focus()})).on("close",function(){f(z)}),v(z)},p.confirm=function(C,I,N){var z;(z=M.confirm(C,function(V){I.call(N||this,V)})).on("close",function(){f(z)}),v(z)},p.close=function(){w()&&w().close()},p.getParams=function(){return w()?w().params:null},p.setParams=function(C){w()&&(w().params=C)},p.getWindows=function(){return _}}}),ve(Un,[nr,pr],function(L,M){return L.extend({Mixins:[M],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var x=this,w=x.classPrefix;return'<div id="'+x._id+'" class="'+x.classes+'" role="presentation"><div class="'+w+'tooltip-arrow"></div><div class="'+w+'tooltip-inner">'+x.encode(x.state.get("text"))+"</div></div>"},bindStates:function(){var x=this;return x.state.on("change:text",function(w){x.getEl().lastChild.innerHTML=x.encode(w.value)}),x._super()},repaint:function(){var w,v;(w=this.getEl().style).left=(v=this._layoutRect).x+"px",w.top=v.y+"px",w.zIndex=131070}})}),ve(Bn,[nr,Un],function(L,M){var x,w=L.extend({init:function(v){var f=this;f._super(v),v=f.settings,f.canFocus=!0,v.tooltip&&!1!==w.tooltips&&(f.on("mouseenter",function(p){var _=f.tooltip().moveTo(-65535);if(p.control==f){var C=_.text(v.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);_.classes.toggle("tooltip-n","bc-tc"==C),_.classes.toggle("tooltip-nw","bc-tl"==C),_.classes.toggle("tooltip-ne","bc-tr"==C),_.moveRel(f.getEl(),C)}else _.hide()}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",v.ariaLabel||v.tooltip)},tooltip:function(){return x||(x=new M({type:"tooltip"})).renderTo(),x},postRender:function(){var v=this,f=v.settings;v._super(),v.parent()||!f.width&&!f.height||(v.initLayoutRect(),v.repaint()),f.autofocus&&v.focus()},bindStates:function(){function v(_){p.aria("disabled",_),p.classes.toggle("disabled",_)}function f(_){p.aria("pressed",_),p.classes.toggle("active",_)}var p=this;return p.state.on("change:disabled",function(_){v(_.value)}),p.state.on("change:active",function(_){f(_.value)}),p.state.get("disabled")&&v(!0),p.state.get("active")&&f(!0),p._super()},remove:function(){this._super(),x&&(x.remove(),x=null)}});return w}),ve(Qn,[Bn],function(L){return L.extend({Defaults:{value:0},init:function(M){var x=this;x._super(M),x.classes.add("progress"),x.settings.filter||(x.settings.filter=function(w){return Math.round(w)})},renderHtml:function(){var w=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+w+'bar-container"><div class="'+w+'bar"></div></div><div class="'+w+'text">0%</div></div>'},postRender:function(){var M=this;return M._super(),M.value(M.settings.value),M},bindStates:function(){function M(w){w=x.settings.filter(w),x.getEl().lastChild.innerHTML=w+"%",x.getEl().firstChild.firstChild.style.width=w+"%"}var x=this;return x.state.on("change:value",function(w){M(w.value)}),M(x.state.get("value")),x._super()}})}),ve(bi,[nr,pr,Qn,j],function(L,M,x,w){return L.extend({Mixins:[M],Defaults:{classes:"widget notification"},init:function(v){var f=this;f._super(v),v.text&&f.text(v.text),v.icon&&(f.icon=v.icon),v.color&&(f.color=v.color),v.type&&f.classes.add("notification-"+v.type),v.timeout&&(v.timeout<0||v.timeout>0)&&!v.closeButton?f.closeButton=!1:(f.classes.add("has-close"),f.closeButton=!0),v.progressBar&&(f.progressBar=new x),f.on("click",function(p){-1!=p.target.className.indexOf(f.classPrefix+"close")&&f.close()})},renderHtml:function(){var v=this,f=v.classPrefix,p="",_="",C="",I="";return v.icon&&(p='<i class="'+f+"ico "+f+"i-"+v.icon+'"></i>'),v.color&&(I=' style="background-color: '+v.color+'"'),v.closeButton&&(_='<button type="button" class="'+f+'close" aria-hidden="true">\xd7</button>'),v.progressBar&&(C=v.progressBar.renderHtml()),'<div id="'+v._id+'" class="'+v.classes+'"'+I+' role="presentation">'+p+'<div class="'+f+'notification-inner">'+v.state.get("text")+"</div>"+C+_+"</div>"},postRender:function(){var v=this;return w.setTimeout(function(){v.$el.addClass(v.classPrefix+"in")}),v._super()},bindStates:function(){var v=this;return v.state.on("change:text",function(f){v.getEl().childNodes[1].innerHTML=f.value}),v.progressBar&&v.progressBar.bindStates(),v._super()},close:function(){var v=this;return v.fire("close").isDefaultPrevented()||v.remove(),v},repaint:function(){var f,p;(f=this.getEl().style).left=(p=this._layoutRect).x+"px",f.top=p.y+"px",f.zIndex=65534}})}),ve(wi,[bi,j,K],function(L,M,x){return function(w){function v(){if(V.length)return V[V.length-1]}function _(){if(V.length>0){var Y=V.slice(0,1)[0],U=w.inline?w.getElement():w.getContentAreaContainer();if(Y.moveRel(U,"tc-tc"),V.length>1)for(var ne=1;ne<V.length;ne++)V[ne].moveRel(V[ne-1].getEl(),"bc-tc")}}var z=this,V=[];z.notifications=V,w.on("remove",function(){for(var Y=V.length;Y--;)V[Y].close()}),w.on("ResizeEditor",_),w.on("ResizeWindow",function f(){M.requestAnimationFrame(function(){(function p(){for(var Y=0;Y<V.length;Y++)V[Y].moveTo(0,0)})(),_()})}),z.open=function(Y){if(!w.removed){var U;w.editorManager.setActive(w);var ne=function C(Y,U){if(!function N(Y){return!Y.progressBar&&!Y.timeout}(U))return null;var ne=x.grep(Y,function(X){return function I(Y,U){return Y.type===U.settings.type&&Y.text===U.settings.text}(U,X)});return 0===ne.length?null:ne[0]}(V,Y);return null===ne?(U=new L(Y),V.push(U),Y.timeout>0&&(U.timer=setTimeout(function(){U.close()},Y.timeout)),U.on("close",function(){var X=V.length;for(U.timer&&w.getWin().clearTimeout(U.timer);X--;)V[X]===U&&V.splice(X,1);_()}),U.renderTo(),_()):U=ne,U}},z.close=function(){v()&&v().close()},z.getNotifications=function(){return V},w.on("SkinLoaded",function(){var Y=w.settings.service_message;Y&&w.notificationManager.open({text:Y,type:"warning",timeout:0,icon:""})})}}),ve(Ai,[P],function(L){return{create:function M(w,v,f){for(var p=[];v&&v!=w;v=v.parentNode)p.push(L.nodeIndex(v,f));return p},resolve:function x(w,v){var f,p,_;for(p=w,f=v.length-1;f>=0;f--){if(v[f]>(_=p.childNodes).length-1)return null;p=_[v[f]]}return p}}}),ve(hi,[un,Re,he,Ai,Je,Ne,J,K,j,ue,Nn,Wn],function(L,M,x,w,v,f,p,_,C,I,N,z){return function(V){function Y(Kt,$t){try{V.getDoc().execCommand(Kt,!1,$t)}catch{}}function U(){return V.getDoc().documentMode||6}function ne(Kt){return Kt.isDefaultPrevented()}function X(Kt){var $t,kt;Kt.dataTransfer&&(V.selection.isCollapsed()&&"IMG"==Kt.target.tagName&&Lt.select(Kt.target),($t=V.selection.getContent()).length>0&&(kt=ii+escape(V.id)+","+escape($t),Kt.dataTransfer.setData(si,kt)))}function le(Kt){var $t;return Kt.dataTransfer&&($t=Kt.dataTransfer.getData(si))&&$t.indexOf(ii)>=0?($t=$t.substr(ii.length).split(","),{id:unescape($t[0]),html:unescape($t[1])}):null}function G(Kt){V.queryCommandSupported("mceInsertClipboardContent")?V.execCommand("mceInsertClipboardContent",!1,{content:Kt}):V.execCommand("mceInsertContent",!1,Kt)}function A(){V.shortcuts.add("meta+a",null,"SelectAll")}function ie(){V.on("keydown",function(Kt){if(!ne(Kt)&&Kt.keyCode===Ue){if(!V.getBody().getElementsByTagName("hr").length)return;if(Lt.isCollapsed()&&0===Lt.getRng(!0).startOffset){var $t=Lt.getNode(),kt=$t.previousSibling;if("HR"==$t.nodeName)return pt.remove($t),void Kt.preventDefault();kt&&kt.nodeName&&"hr"===kt.nodeName.toLowerCase()&&(pt.remove(kt),Kt.preventDefault())}}})}function tt(){V.on("keydown",function(Kt){if(!ne(Kt)&&Kt.keyCode===Ue&&Lt.isCollapsed()&&0===Lt.getRng(!0).startOffset){var $t=Lt.getNode().previousSibling;if($t&&$t.nodeName&&"table"===$t.nodeName.toLowerCase())return Kt.preventDefault(),!1}})}function mn(){V.inline||(V.contentStyles.push("body {min-height: 150px}"),V.on("click",function(Kt){var $t;if("HTML"==Kt.target.nodeName){if(p.ie>11)return void V.getBody().focus();$t=V.selection.getRng(),V.getBody().focus(),V.selection.setRng($t),V.selection.normalize(),V.nodeChanged()}}))}function Ft(){function Kt($t){var kt=new z($t.getBody()),jt=$t.selection.getRng(),Xn=N.fromRangeStart(jt),Fn=N.fromRangeEnd(jt),ti=kt.prev(Xn),_t=kt.next(Fn);return!$t.selection.isCollapsed()&&(!ti||ti.isAtStart()&&Xn.isEqual(ti))&&(!_t||_t.isAtEnd()&&Xn.isEqual(_t))}V.on("keypress",function($t){!ne($t)&&!Lt.isCollapsed()&&$t.charCode>31&&!L.metaKeyPressed($t)&&Kt(V)&&($t.preventDefault(),V.setContent(String.fromCharCode($t.charCode)),V.selection.select(V.getBody(),!0),V.selection.collapse(!1),V.nodeChanged())}),V.on("keydown",function($t){var kt=$t.keyCode;ne($t)||kt!=ot&&kt!=Ue||Kt(V)&&($t.preventDefault(),V.setContent(""),V.nodeChanged())})}var Mt=_.each,en=V.$,Ue=L.BACKSPACE,ot=L.DELETE,pt=V.dom,Lt=V.selection,tn=V.settings,Hn=V.parser,Gn=V.serializer,Yn=p.gecko,Vn=p.ie,vi=p.webkit,ii="data:text/mce-internal,",si=Vn?"Text":"URL";return function $e(){V.on("keydown",function(Kt){var $t,kt,jt,Xn,Fn;if(!ne(Kt)&&Kt.keyCode==L.BACKSPACE&&(kt=($t=Lt.getRng()).startContainer,jt=$t.startOffset,Xn=pt.getRoot(),Fn=kt,$t.collapsed&&0===jt)){for(;Fn&&Fn.parentNode&&Fn.parentNode.firstChild==Fn&&Fn.parentNode!=Xn;)Fn=Fn.parentNode;"BLOCKQUOTE"===Fn.tagName&&(V.formatter.toggle("blockquote",null,Fn),($t=pt.createRng()).setStart(kt,0),$t.setEnd(kt,0),Lt.setRng($t))}})}(),function F(){function Kt(kt){var jt=pt.create("body"),Xn=kt.cloneContents();return jt.appendChild(Xn),Lt.serializer.serialize(jt,{format:"html"})}V.on("keydown",function(kt){var Xn,Fn,jt=kt.keyCode;if(!ne(kt)&&(jt==ot||jt==Ue)){if(Xn=V.selection.isCollapsed(),Fn=V.getBody(),Xn&&!pt.isEmpty(Fn)||!Xn&&!function $t(kt){if(!kt.setStart){if(kt.item)return!1;var jt=kt.duplicate();return jt.moveToElementText(V.getBody()),M.compareRanges(kt,jt)}var Xn=Kt(kt),Fn=pt.createRng();return Fn.selectNode(V.getBody()),Xn===Kt(Fn)}(V.selection.getRng()))return;kt.preventDefault(),V.setContent(""),Fn.firstChild&&pt.isBlock(Fn.firstChild)?V.selection.setCursorLocation(Fn.firstChild,0):V.selection.setCursorLocation(Fn,0),V.nodeChanged()}})}(),p.windowsPhone||function xt(){V.on("keyup focusin mouseup",function(Kt){65==Kt.keyCode&&L.metaKeyPressed(Kt)||Lt.normalize()},!0)}(),vi&&(Ft(),function W(){function Kt(gt){var Ut=rt.schema.getBlockElements(),Xt=V.getBody();if("BR"!=gt.nodeName)return!1;for(;gt!=Xt&&!Ut[gt.nodeName];gt=gt.parentNode)if(gt.nextSibling)return!1;return!0}function $t(gt,Ut){var Xt;for(Xt=gt.nextSibling;Xt&&Xt!=Ut;Xt=Xt.nextSibling)if((3!=Xt.nodeType||0!==en.trim(Xt.data).length)&&Xt!==Ut)return!1;return Xt===Ut}function kt(gt,Ut,Xt){var kn,At,rn;if(rt.isChildOf(gt,V.getBody()))for(rn=rt.schema.getNonEmptyElements(),kn=new x(Xt||gt,gt);At=kn[Ut?"next":"prev"]();)if(rn[At.nodeName]&&!Kt(At)||3==At.nodeType&&At.data.length>0)return At}function _t(gt){var Ut,Xt,kn;(function Fn(gt){var Ut=Ct.getRng();if(Ut=function Xn(gt,Ut){var Xt,kn,At,rn,Ht,yn;if(!gt.collapsed)return gt;if(yn=gt.startOffset,3==(Ht=gt.startContainer).nodeType)if(Ut){if(yn<Ht.data.length)return gt}else if(yn>0)return gt;Xt=M.getNode(Ht,yn),At=rt.getParent(Xt,rt.isBlock),kn=kt(V.getBody(),Ut,Xt),rn=rt.getParent(kn,rt.isBlock);var Dn=1===Ht.nodeType&&yn>Ht.childNodes.length-1;if(!Xt||!kn)return gt;if(rn&&At!=rn)if(Ut){if(!$t(At,rn))return gt;1==Xt.nodeType?"BR"==Xt.nodeName?gt.setStartBefore(Xt):gt.setStartAfter(Xt):gt.setStart(Xt,Xt.data.length),1==kn.nodeType?gt.setEnd(kn,0):gt.setEndBefore(kn)}else{if(!$t(rn,At))return gt;1==kn.nodeType?"BR"==kn.nodeName?gt.setStartBefore(kn):gt.setStartAfter(kn):gt.setStart(kn,kn.data.length),1==Xt.nodeType&&Dn?gt.setEndAfter(Xt):gt.setEndBefore(Xt)}return gt}(Ut,gt),function jt(gt){var Ut,Xt,kn,At,rn;if(!gt.collapsed&&(Ut=rt.getParent(M.getNode(gt.startContainer,gt.startOffset),rt.isBlock),Xt=rt.getParent(M.getNode(gt.endContainer,gt.endOffset),rt.isBlock),rn=V.schema.getTextBlockElements(),Ut!=Xt&&rn[Ut.nodeName]&&rn[Xt.nodeName]&&"false"!==rt.getContentEditable(Ut)&&"false"!==rt.getContentEditable(Xt)))return gt.deleteContents(),kn=kt(Ut,!1),At=kt(Xt,!0),rt.isEmpty(Xt)||en(Ut).append(Xt.childNodes),en(Xt).remove(),kn?1==kn.nodeType?"BR"==kn.nodeName?(gt.setStartBefore(kn),gt.setEndBefore(kn)):(gt.setStartAfter(kn),gt.setEndAfter(kn)):(gt.setStart(kn,kn.data.length),gt.setEnd(kn,kn.data.length)):At&&(1==At.nodeType?(gt.setStartBefore(At),gt.setEndBefore(At)):(gt.setStart(At,0),gt.setEnd(At,0))),Ct.setRng(gt),!0}(Ut))return!0})(gt)||(_.each(V.getBody().getElementsByTagName("*"),function(At){"SPAN"==At.tagName&&At.setAttribute("mce-data-marked",1),!At.hasAttribute("data-mce-style")&&At.hasAttribute("style")&&V.dom.setAttrib(At,"style",V.dom.getAttrib(At,"style"))}),(Ut=new Bt(function(){})).observe(V.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),V.getDoc().execCommand(gt?"ForwardDelete":"Delete",!1,null),Xt=V.selection.getRng(),kn=Xt.startContainer.parentNode,_.each(Ut.takeRecords(),function(At){if(rt.isChildOf(At.target,V.getBody())){if("style"==At.attributeName){var rn=At.target.getAttribute("data-mce-style");rn?At.target.setAttribute("style",rn):At.target.removeAttribute("style")}_.each(At.addedNodes,function(Ht){var yn,Dn;"SPAN"!=Ht.nodeName||Ht.getAttribute("mce-data-marked")||(Ht==kn&&(yn=Xt.startOffset,Dn=Ht.firstChild),rt.remove(Ht,!0),Dn&&(Xt.setStart(Dn,yn),Xt.setEnd(Dn,yn),V.selection.setRng(Xt)))})}}),Ut.disconnect(),_.each(V.dom.select("span[mce-data-marked]"),function(At){At.removeAttribute("mce-data-marked")}))}function Dt(gt){V.undoManager.transact(function(){_t(gt)})}var nn,Vt,Be=V.getDoc(),rt=V.dom,Ct=V.selection,Bt=window.MutationObserver;Bt||(nn=!0,Bt=function(){function gt(At){var rn=At.relatedNode||At.target;Xt.push({target:rn,addedNodes:[rn]})}function Ut(At){Xt.push({target:At.relatedNode||At.target,attributeName:At.attrName})}var kn,Xt=[];this.observe=function(At){(kn=At).addEventListener("DOMSubtreeModified",gt,!1),kn.addEventListener("DOMNodeInsertedIntoDocument",gt,!1),kn.addEventListener("DOMNodeInserted",gt,!1),kn.addEventListener("DOMAttrModified",Ut,!1)},this.disconnect=function(){kn.removeEventListener("DOMSubtreeModified",gt,!1),kn.removeEventListener("DOMNodeInsertedIntoDocument",gt,!1),kn.removeEventListener("DOMNodeInserted",gt,!1),kn.removeEventListener("DOMAttrModified",Ut,!1)},this.takeRecords=function(){return Xt}}),V.on("keydown",function(gt){var Ut=gt.keyCode==ot,Xt=gt.ctrlKey||gt.metaKey;if(!ne(gt)&&(Ut||gt.keyCode==Ue)){var kn=V.selection.getRng(),At=kn.startContainer,rn=kn.startOffset;if(Ut&&gt.shiftKey)return;if(function ti(gt,Ut){function Xt(Ti,li){return ei=en(li).parents().filter(function(Pi,lr){return!!V.schema.getTextInlineElements()[lr.nodeName]}),Ht=Ti.cloneNode(!1),(ei=_.map(ei,function(Pi){return Pi=Pi.cloneNode(!1),Ht.hasChildNodes()&&Pi.appendChild(Ht.firstChild),Ht.appendChild(Pi),Ht.appendChild(Pi),Pi})).length?(Rn=rt.create("br"),ei[0].appendChild(Rn),rt.replace(Ht,Ti),Ut.setStartBefore(Rn),Ut.setEndBefore(Rn),V.selection.setRng(Ut),Rn):null}function kn(Ti){return Ti&&V.schema.getTextBlockElements()[Ti.tagName]}var At,rn,Ht,yn,Dn,_n,An,Rn,ei;if(Ut.collapsed&&(An=Ut.startOffset,kn(rn=rt.getParent(_n=Ut.startContainer,rt.isBlock))))if(1==_n.nodeType){if((_n=_n.childNodes[An])&&"BR"!=_n.tagName)return;if(Dn=gt?rn.nextSibling:rn.previousSibling,rt.isEmpty(rn)&&kn(Dn)&&rt.isEmpty(Dn)&&Xt(rn,_n))return rt.remove(Dn),!0}else if(3==_n.nodeType){if(At=w.create(rn,_n),yn=rn.cloneNode(!0),_n=w.resolve(yn,At),gt){if(An>=_n.data.length)return;_n.deleteData(An,1)}else{if(An<=0)return;_n.deleteData(An-1,1)}if(rt.isEmpty(yn))return Xt(rn,_n)}}(Ut,kn))return void gt.preventDefault();if(!Xt&&kn.collapsed&&3==At.nodeType&&(Ut?rn<At.data.length:rn>0))return;gt.preventDefault(),Xt&&V.selection.getSel().modify("extend",Ut?"forward":"backward",gt.metaKey?"lineboundary":"word"),_t(Ut)}}),V.on("keypress",function(gt){var Ut,Xt,kn,At,rn,Ht;!ne(gt)&&!Ct.isCollapsed()&&gt.charCode>31&&!L.metaKeyPressed(gt)&&(Ut=V.selection.getRng(),Ht=String.fromCharCode(gt.charCode),gt.preventDefault(),Xt=en(Ut.startContainer).parents().filter(function(yn,Dn){return!!V.schema.getTextInlineElements()[Dn.nodeName]}),_t(!0),(Xt=Xt.filter(function(yn,Dn){return!en.contains(V.getBody(),Dn)})).length?(kn=rt.createFragment(),Xt.each(function(yn,Dn){Dn=Dn.cloneNode(!1),kn.hasChildNodes()?(Dn.appendChild(kn.firstChild),kn.appendChild(Dn)):(rn=Dn,kn.appendChild(Dn)),kn.appendChild(Dn)}),rn.appendChild(V.getDoc().createTextNode(Ht)),At=rt.getParent(Ut.startContainer,rt.isBlock),rt.isEmpty(At)?en(At).empty().append(kn):Ut.insertNode(kn),Ut.setStart(rn.firstChild,1),Ut.setEnd(rn.firstChild,1),V.selection.setRng(Ut)):V.selection.setContent(Ht))}),V.addCommand("Delete",function(){_t()}),V.addCommand("ForwardDelete",function(){_t(!0)}),nn||(V.on("dragstart",function(gt){Vt=Ct.getRng(),X(gt)}),V.on("drop",function(gt){if(!ne(gt)){var Ut=le(gt);Ut&&(gt.preventDefault(),C.setEditorTimeout(V,function(){var Xt=M.getCaretRangeFromPoint(gt.x,gt.y,Be);Vt&&(Ct.setRng(Vt),Vt=null,Dt()),Ct.setRng(Xt),G(Ut.html)}))}}),V.on("cut",function(gt){ne(gt)||!gt.clipboardData||V.selection.isCollapsed()||(gt.preventDefault(),gt.clipboardData.clearData(),gt.clipboardData.setData("text/html",V.selection.getContent()),gt.clipboardData.setData("text/plain",V.selection.getContent({format:"text"})),C.setEditorTimeout(V,function(){Dt(!0)}))}))}(),function E(){V.settings.content_editable||pt.bind(V.getDoc(),"mousedown mouseup",function(Kt){var $t;if(Kt.target==V.getDoc().documentElement)if($t=Lt.getRng(),V.getBody().focus(),"mousedown"==Kt.type){if(I.isCaretContainer($t.startContainer))return;Lt.placeCaretAt(Kt.clientX,Kt.clientY)}else Lt.setRng($t)})}(),function ae(){V.on("click",function(Kt){var $t=Kt.target;/^(IMG|HR)$/.test($t.nodeName)&&"false"!==pt.getContentEditableParent($t)&&(Kt.preventDefault(),Lt.select($t),V.nodeChanged()),"A"==$t.nodeName&&pt.hasClass($t,"mce-item-anchor")&&(Kt.preventDefault(),Lt.select($t))})}(),function nt(){tn.forced_root_block&&V.on("init",function(){Y("DefaultParagraphSeparator",tn.forced_root_block)})}(),function ze(){V.on("init",function(){V.dom.bind(V.getBody(),"submit",function(Kt){Kt.preventDefault()})})}(),tt(),function Oe(){Hn.addNodeFilter("br",function(Kt){for(var $t=Kt.length;$t--;)"Apple-interchange-newline"==Kt[$t].attr("class")&&Kt[$t].remove()})}(),p.iOS?(function ln(){V.inline||V.on("keydown",function(){document.activeElement==document.body&&V.getWin().focus()})}(),mn(),function yt(){V.on("click",function(Kt){var $t=Kt.target;do{if("A"===$t.tagName)return void Kt.preventDefault()}while($t=$t.parentNode)}),V.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):A()),Vn&&p.ie<11&&(ie(),function Le(){document.body.setAttribute("role","application")}(),function Ze(){U()>7||(Y("RespectVisibilityInDesign",!0),V.contentStyles.push(".mceHideBrInPre pre br {display: none}"),pt.addClass(V.getBody(),"mceHideBrInPre"),Hn.addNodeFilter("pre",function(Kt){for(var kt,jt,Xn,Fn,$t=Kt.length;$t--;)for(jt=(kt=Kt[$t].getAll("br")).length;jt--;)(Fn=(Xn=kt[jt]).prev)&&3===Fn.type&&"\n"!=Fn.value.charAt(Fn.value-1)?Fn.value+="\n":Xn.parent.insert(new v("#text",3),Xn,!0).value="\n"}),Gn.addNodeFilter("pre",function(Kt){for(var kt,jt,Fn,$t=Kt.length;$t--;)for(jt=(kt=Kt[$t].getAll("br")).length;jt--;)(Fn=kt[jt].prev)&&3==Fn.type&&(Fn.value=Fn.value.replace(/\r?\n$/,""))}))}(),function qe(){pt.bind(V.getBody(),"mouseup",function(){var Kt,$t=Lt.getNode();"IMG"==$t.nodeName&&((Kt=pt.getStyle($t,"width"))&&(pt.setAttrib($t,"width",Kt.replace(/[^0-9%]+/g,"")),pt.setStyle($t,"width","")),(Kt=pt.getStyle($t,"height"))&&(pt.setAttrib($t,"height",Kt.replace(/[^0-9%]+/g,"")),pt.setStyle($t,"height","")))})}(),function Ie(){V.on("keydown",function(Kt){var $t;ne(Kt)||Kt.keyCode!=Ue||($t=V.getDoc().selection.createRange())&&$t.item&&(Kt.preventDefault(),V.undoManager.beforeChange(),pt.remove($t.item(0)),V.undoManager.add())})}(),function Fe(){var Kt;U()>=10&&(Kt="",Mt("p div h1 h2 h3 h4 h5 h6".split(" "),function($t,kt){Kt+=(kt>0?",":"")+$t+":empty"}),V.contentStyles.push(Kt+"{padding-right: 1px !important}"))}(),function et(){U()<9&&(Hn.addNodeFilter("noscript",function(Kt){for(var kt,jt,$t=Kt.length;$t--;)(jt=(kt=Kt[$t]).firstChild)&&kt.attr("data-mce-innertext",jt.value)}),Gn.addNodeFilter("noscript",function(Kt){for(var kt,jt,Xn,$t=Kt.length;$t--;)kt=Kt[$t],(jt=Kt[$t].firstChild)?jt.value=f.decode(jt.value):(Xn=kt.attributes.map["data-mce-innertext"])&&(kt.attr("data-mce-innertext",null),(jt=new v("#text",3)).value=Xn,jt.raw=!0,kt.append(jt))}))}(),function ct(){function Kt(Dt,Be){var rt=Xn.createTextRange();try{rt.moveToPoint(Dt,Be)}catch{rt=null}return rt}function $t(Dt){var Be;Dt.button?(Be=Kt(Dt.x,Dt.y))&&(Be.compareEndPoints("StartToStart",ti)>0?Be.setEndPoint("StartToStart",ti):Be.setEndPoint("EndToEnd",ti),Be.select()):kt()}function kt(){var Dt=jt.selection.createRange();ti&&!Dt.item&&0===Dt.compareEndPoints("StartToEnd",Dt)&&ti.select(),pt.unbind(jt,"mouseup",kt),pt.unbind(jt,"mousemove",$t),ti=Fn=0}var Fn,ti,_t,jt=pt.doc,Xn=jt.body;jt.documentElement.unselectable=!0,pt.bind(jt,"mousedown contextmenu",function(Dt){if("HTML"===Dt.target.nodeName){if(Fn&&kt(),(_t=jt.documentElement).scrollHeight>_t.clientHeight)return;Fn=1,(ti=Kt(Dt.x,Dt.y))&&(pt.bind(jt,"mouseup",kt),pt.bind(jt,"mousemove",$t),pt.getRoot().focus(),ti.select())}})}()),p.ie>=11&&(mn(),tt()),p.ie&&(A(),function xn(){Y("AutoUrlDetect",!1)}(),function ut(){V.on("dragstart",function(Kt){X(Kt)}),V.on("drop",function(Kt){if(!ne(Kt)){var $t=le(Kt);if($t&&$t.id!=V.id){Kt.preventDefault();var kt=M.getCaretRangeFromPoint(Kt.x,Kt.y,V.getDoc());Lt.setRng(kt),G($t.html)}}})}()),Yn&&(Ft(),ie(),function pe(){window.Range.prototype.getClientRects||V.on("mousedown",function(Kt){if(!ne(Kt)&&"HTML"===Kt.target.nodeName){var $t=V.getBody();$t.blur(),C.setEditorTimeout(V,function(){$t.focus()})}})}(),function Ce(){function Kt(){var kt=pt.getAttribs(Lt.getStart().cloneNode(!1));return function(){var jt=Lt.getStart();jt!==V.getBody()&&(pt.setAttrib(jt,"style",null),Mt(kt,function(Xn){jt.setAttributeNode(Xn.cloneNode(!0))}))}}function $t(){return!Lt.isCollapsed()&&pt.getParent(Lt.getStart(),pt.isBlock)!=pt.getParent(Lt.getEnd(),pt.isBlock)}V.on("keypress",function(kt){var jt;if(!ne(kt)&&(8==kt.keyCode||46==kt.keyCode)&&$t())return jt=Kt(),V.getDoc().execCommand("delete",!1,null),jt(),kt.preventDefault(),!1}),pt.bind(V.getDoc(),"cut",function(kt){var jt;!ne(kt)&&$t()&&(jt=Kt(),C.setEditorTimeout(V,function(){jt()}))})}(),function Qe(){tn.readonly||V.on("BeforeExecCommand MouseDown",function Kt(){Y("StyleWithCSS",!1),Y("enableInlineTableEditing",!1),tn.object_resizing||Y("enableObjectResizing",!1)})}(),function st(){V.on("SetContent ExecCommand",function($t){"setcontent"!=$t.type&&"mceInsertLink"!==$t.command||function Kt(){Mt(pt.select("a"),function($t){var kt=$t.parentNode,jt=pt.getRoot();if(kt.lastChild===$t){for(;kt&&!pt.isBlock(kt);){if(kt.parentNode.lastChild!==kt||kt===jt)return;kt=kt.parentNode}pt.add(kt,"br",{"data-mce-bogus":1})}})}()})}(),function Wt(){V.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function wn(){p.mac&&V.on("keydown",function(Kt){!L.metaKeyPressed(Kt)||Kt.shiftKey||37!=Kt.keyCode&&39!=Kt.keyCode||(Kt.preventDefault(),V.selection.getSel().modify("move",37==Kt.keyCode?"backward":"forward","lineboundary"))})}(),tt()),{refreshContentEditable:function St(){},isHidden:function Ot(){var Kt;return Yn?!(Kt=V.selection.getSel())||!Kt.rangeCount||0===Kt.rangeCount:0}}}}),ve(Ci,[Pn,P,K],function(L,M,x){function w(C,I){return"selectionchange"==I?C.getDoc():!C.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(I)?C.getDoc().documentElement:C.settings.event_root?(C.eventRoot||(C.eventRoot=f.select(C.settings.event_root)[0]),C.eventRoot):C.getBody()}function v(C,I){function N(Y){return!Y.hidden&&!Y.readonly}var V,z=w(C,I);if(C.delegates||(C.delegates={}),!C.delegates[I])if(C.settings.event_root){if(p||(p={},C.editorManager.on("removeEditor",function(){var Y;if(!C.editorManager.activeEditor&&p){for(Y in p)C.dom.unbind(w(C,Y));p=null}})),p[I])return;p[I]=V=function(Y){for(var U=Y.target,ne=C.editorManager.editors,X=ne.length;X--;){var le=ne[X].getBody();(le===U||f.isChildOf(U,le))&&N(ne[X])&&ne[X].fire(I,Y)}},f.bind(z,I,V)}else f.bind(z,I,V=function(Y){N(C)&&C.fire(I,Y)}),C.delegates[I]=V}var p,f=M.DOM,_={bindPendingEventDelegates:function(){var C=this;x.each(C._pendingNativeEvents,function(I){v(C,I)})},toggleNativeEvent:function(C,I){var N=this;"focus"!=C&&"blur"!=C&&(I?N.initialized?v(N,C):N._pendingNativeEvents?N._pendingNativeEvents.push(C):N._pendingNativeEvents=[C]:N.initialized&&(N.dom.unbind(w(N,C),C,N.delegates[C]),delete N.delegates[C]))},unbindAllNativeEvents:function(){var I,C=this;if(C.delegates){for(I in C.delegates)C.dom.unbind(w(C,I),I,C.delegates[I]);delete C.delegates}C.inline||(C.getBody().onload=null,C.dom.unbind(C.getWin()),C.dom.unbind(C.getDoc())),C.dom.unbind(C.getBody()),C.dom.unbind(C.getContainer())}};return x.extend({},L,_)}),ve(gi,[],function(){function L(v,f,p){try{v.getDoc().execCommand(f,!1,p)}catch{}}function x(v,f){v._clickBlocker&&(v._clickBlocker.unbind(),v._clickBlocker=null),f?(v._clickBlocker=function M(v){var f,p;return f=v.getBody(),p=function(_){v.dom.getParents(_.target,"a").length>0&&_.preventDefault()},v.dom.bind(f,"click",p),{unbind:function(){v.dom.unbind(f,"click",p)}}}(v),v.selection.controlSelection.hideResizeRect(),v.readonly=!0,v.getBody().contentEditable=!1):(v.readonly=!1,v.getBody().contentEditable=!0,L(v,"StyleWithCSS",!1),L(v,"enableInlineTableEditing",!1),L(v,"enableObjectResizing",!1),v.focus(),v.nodeChanged())}return{setMode:function w(v,f){f!=(v.readonly?"readonly":"design")&&(v.initialized?x(v,"readonly"==f):v.on("init",function(){x(v,"readonly"==f)}),v.fire("SwitchMode",{mode:f}))}}}),ve(mi,[K,J],function(L,M){var x=L.each,w=L.explode,v={f9:120,f10:121,f11:122},f=L.makeMap("alt,ctrl,shift,meta,access");return function(p){function _(X){var le,G,W={};for(G in x(w(X,"+"),function(F){F in f?W[F]=!0:/^[0-9]{2,}$/.test(F)?W.keyCode=parseInt(F,10):(W.charCode=F.charCodeAt(0),W.keyCode=v[F]||F.toUpperCase().charCodeAt(0))}),le=[W.keyCode],f)W[G]?le.push(G):W[G]=!1;return W.id=le.join(","),W.access&&(W.alt=!0,M.mac?W.ctrl=!0:W.shift=!0),W.meta&&(M.mac?W.meta=!0:(W.ctrl=!0,W.meta=!1)),W}function C(X,le,G,W){var F;return(F=L.map(w(X,">"),_))[F.length-1]=L.extend(F[F.length-1],{func:G,scope:W||p}),L.extend(F[0],{desc:p.translate(le),subpatterns:F.slice(1)})}function z(X,le){return!!le&&le.ctrl==X.ctrlKey&&le.meta==X.metaKey&&le.alt==X.altKey&&le.shift==X.shiftKey&&!!(X.keyCode==le.keyCode||X.charCode&&X.charCode==le.charCode)&&(X.preventDefault(),!0)}function V(X){return X.func?X.func.call(X.scope):null}var U={},ne=[];p.on("keyup keypress keydown",function(X){!function I(X){return X.altKey||X.ctrlKey||X.metaKey}(X)&&!function N(X){return"keydown"===X.type&&X.keyCode>=112&&X.keyCode<=123}(X)||X.isDefaultPrevented()||(x(U,function(le){if(z(X,le))return ne=le.subpatterns.slice(0),"keydown"==X.type&&V(le),!0}),z(X,ne[0])&&(1===ne.length&&"keydown"==X.type&&V(ne[0]),ne.shift()))}),this.add=function(X,le,G,W){var F;return F=G,"string"==typeof G?G=function(){p.execCommand(F,!1,null)}:L.isArray(F)&&(G=function(){p.execCommand(F[0],F[1],F[2])}),x(w(L.trim(X.toLowerCase())),function(A){var E=C(A,le,G,W);U[E.id]=E}),!0},this.remove=function(X){var le=C(X);return!!U[le.id]&&(delete U[le.id],!0)}}}),ve(Li,[q,K,zt],function(L,M,x){return function(w,v){function f(W){var F;return F={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[W.blob().type.toLowerCase()]||"dat",W.filename()+"."+F}function C(W,F,A,E){var ie,pe;(ie=new XMLHttpRequest).open("POST",v.url),ie.withCredentials=v.credentials,ie.upload.onprogress=function(ae){E(ae.loaded/ae.total*100)},ie.onerror=function(){A("Image upload failed due to a XHR Transport error. Code: "+ie.status)},ie.onload=function(){var ae;return 200!=ie.status?void A("HTTP Error: "+ie.status):(ae=JSON.parse(ie.responseText))&&"string"==typeof ae.location?void F(function p(W,F){return W?W.replace(/\/$/,"")+"/"+F.replace(/^\//,""):F}(v.basePath,ae.location)):void A("Invalid JSON: "+ie.responseText)},(pe=new FormData).append("file",W.blob(),W.filename()),ie.send(pe)}function N(W,F){return{url:F,blobInfo:W,status:!0}}function z(W,F){return{url:"",blobInfo:W,status:!1,error:F}}function V(W,F){M.each(G[W],function(A){A(F)}),delete G[W]}function X(W,F){return W=M.grep(W,function(A){return!w.isUploaded(A.blobUri())}),L.all(M.map(W,function(A){return w.isPending(A.blobUri())?function ne(W){var F=W.blobUri();return new L(function(A){G[F]=G[F]||[],G[F].push(A)})}(A):function Y(W,F,A){return w.markPending(W.blobUri()),new L(function(E){var ie,pe,ae=function(){};try{var Ce=function(){ie&&(ie.close(),pe=ae)};pe=function(Ze){Ze<0||Ze>100||(ie||(ie=A()),ie.progressBar.value(Ze))},F(function _(W){return{id:W.id,blob:W.blob,base64:W.base64,filename:x.constant(f(W))}}(W),function(Ze){Ce(),w.markUploaded(W.blobUri(),Ze),V(W.blobUri(),N(W,Ze)),E(N(W,Ze))},function(Ze){Ce(),w.removeFailed(W.blobUri()),V(W.blobUri(),z(W,Ze)),E(z(W,Ze))},pe)}catch(Ze){E(z(W,Ze.message))}})}(A,v.handler,F)}))}var G={};return v=M.extend({credentials:!1,handler:C},v),{upload:function le(W,F){return!v.url&&function U(W){return W===C}(v.handler)?function I(){return new L(function(W){W([])})}():X(W,F)}}}}),ve(Ki,[q],function(L){function x(p){var _,C;return p=decodeURIComponent(p).split(","),(C=/data:([^;]+)/.exec(p[0]))&&(_=C[1]),{type:_,data:p[1]}}return{uriToBlob:function v(p){return 0===p.indexOf("blob:")?function M(p){return new L(function(_){var C=new XMLHttpRequest;C.open("GET",p,!0),C.responseType="blob",C.onload=function(){200==this.status&&_(this.response)},C.send()})}(p):0===p.indexOf("data:")?function w(p){return new L(function(_){var C,I,N;p=x(p);try{C=atob(p.data)}catch{return void _(new Blob([]))}for(I=new Uint8Array(C.length),N=0;N<I.length;N++)I[N]=C.charCodeAt(N);_(new Blob([I],{type:p.type}))})}(p):null},blobToDataUri:function f(p){return new L(function(_){var C=new FileReader;C.onloadend=function(){_(C.result)},C.readAsDataURL(p)})},parseDataUri:x}}),ve(ar,[q,B,zt,Ki,J],function(L,M,x,w,v){var f=0,p=function(_){return(_||"blobid")+f++};return function(_,C){var N={};return{findAll:function I(z,V){var U,ne;return V||(V=x.constant(!0)),U=M.filter(z.getElementsByTagName("img"),function(X){var le=X.src;return!!v.fileApi&&!X.hasAttribute("data-mce-bogus")&&!X.hasAttribute("data-mce-placeholder")&&!(!le||le==v.transparentSrc)&&(0===le.indexOf("blob:")?!_.isUploaded(le):0===le.indexOf("data:")&&V(X))}),ne=M.map(U,function(X){var le;return N[X.src]?new L(function(G){N[X.src].then(function(W){G({image:X,blobInfo:W.blobInfo})})}):(le=new L(function(G){!function Y(X,le){var G,W;0===X.src.indexOf("blob:")?(W=C.getByUri(X.src))?le({image:X,blobInfo:W}):w.uriToBlob(X.src).then(function(F){w.blobToDataUri(F).then(function(A){G=w.parseDataUri(A).data,W=C.create(p(),F,G),C.add(W),le({image:X,blobInfo:W})})}):(G=w.parseDataUri(X.src).data,(W=C.findFirst(function(F){return F.base64()===G}))?le({image:X,blobInfo:W}):w.uriToBlob(X.src).then(function(F){W=C.create(p(),F,G),C.add(W),le({image:X,blobInfo:W})}))}(X,G)}).then(function(G){return delete N[G.image.src],G}).catch(function(G){return delete N[X.src],G}),N[X.src]=le,le)}),L.all(ne)}}}}),ve(Fr,[B,zt],function(L,M){return function(){function v(z){return f(function(V){return V.id()===z})}function f(z){return L.filter(I,z)[0]}var I=[],N=M.constant;return{create:function x(z,V,Y,U){return{id:N(z),filename:N(U||z),blob:N(V),base64:N(Y),blobUri:N(URL.createObjectURL(V))}},add:function w(z){v(z.id())||I.push(z)},get:v,getByUri:function p(z){return f(function(V){return V.blobUri()==z})},findFirst:f,removeByUri:function _(z){I=L.filter(I,function(V){return V.blobUri()!==z||(URL.revokeObjectURL(V.blobUri()),!1)})},destroy:function C(){L.each(I,function(z){URL.revokeObjectURL(z.blobUri())}),I=[]}}}}),ve(Sr,[],function(){return function(){function L(V,Y){return{status:V,resultUri:Y}}function M(V){return V in z}var z={};return{hasBlobUri:M,getResultUri:function x(V){var Y=z[V];return Y?Y.resultUri:null},isPending:function w(V){return!!M(V)&&1===z[V].status},isUploaded:function v(V){return!!M(V)&&2===z[V].status},markPending:function f(V){z[V]=L(1,null)},markUploaded:function p(V,Y){z[V]=L(2,Y)},removeFailed:function _(V){delete z[V]},destroy:function C(){z={}}}}}),ve(Ur,[xe],function(L){var M=L.PluginManager,v=function(C,I){C.notificationManager.open({type:"error",text:I})},f=function(C,I){C._skinLoaded?v(C,I):C.on("SkinLoaded",function(){v(C,I)})};return{pluginLoadError:function(C,I){f(C,function(C,I){var N=function(C,I){for(var N in M.urls)if(M.urls[N]+"/plugin"+I+".js"===C)return N;return null}(I,C.suffix);return N?"Failed to load plugin: "+N+" from url "+I:"Failed to load plugin url: "+I}(C,I))},uploadError:function(C,I){f(C,"Failed to upload image: "+I)}}}),ve(zi,[B,Li,ar,Fr,Sr,Ur],function(L,M,x,w,v,f){return function(p){function _(ae){return function(Ce){return p.selection?ae(Ce):[]}}function I(ae,Ce,Le){var tt=0;do{-1!==(tt=ae.indexOf(Ce,tt))&&(ae=ae.substring(0,tt)+Le+ae.substr(tt+Ce.length),tt+=Le.length-Ce.length+1)}while(-1!==tt);return ae}function N(ae,Ce,Le){return ae=I(ae,'src="'+Ce+'"','src="'+Le+'"'),I(ae,'data-mce-src="'+Ce+'"','data-mce-src="'+Le+'"')}function z(ae,Ce){L.each(p.undoManager.data,function(Le){"fragmented"===Le.type?Le.fragments=L.map(Le.fragments,function(tt){return N(tt,ae,Ce)}):Le.content=N(Le.content,ae,Ce)})}function V(){return p.notificationManager.open({text:p.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function U(ae){return A||(A=new M(pe,{url:ie.images_upload_url,basePath:ie.images_upload_base_path,credentials:ie.images_upload_credentials,handler:ie.images_upload_handler})),le().then(_(function(Ce){var Le;return Le=L.map(Ce,function(tt){return tt.blobInfo}),A.upload(Le,V).then(_(function(tt){return tt=L.map(tt,function(Ze,qe){var $e=Ce[qe].image;return Ze.status&&!1!==p.settings.images_replace_blob_uris?function Y(ae,Ce){F.removeByUri(ae.src),z(ae.src,Ce),p.$(ae).attr({src:ie.images_reuse_filename?Ce+"?"+(new Date).getTime():Ce,"data-mce-src":p.convertURL(Ce,"src")})}($e,Ze.url):Ze.error&&f.uploadError(p,Ze.error),{element:$e,status:Ze.status}}),ae&&ae(tt),tt}))}))}function ne(ae){if(!1!==ie.automatic_uploads)return U(ae)}function X(ae){return!ie.images_dataimg_filter||ie.images_dataimg_filter(ae)}function le(){return E||(E=new x(pe,F)),E.findAll(p.getBody(),X).then(_(function(ae){return L.each(ae,function(Ce){z(Ce.image.src,Ce.blobInfo.blobUri()),Ce.image.src=Ce.blobInfo.blobUri(),Ce.image.removeAttribute("data-mce-src")}),ae}))}function W(ae){return ae.replace(/src="(blob:[^"]+)"/g,function(Ce,Le){var tt=pe.getResultUri(Le);if(tt)return'src="'+tt+'"';var Ze=F.getByUri(Le);return Ze||(Ze=L.reduce(p.editorManager.editors,function(qe,$e){return qe||$e.editorUpload.blobCache.getByUri(Le)},null)),Ze?'src="data:'+Ze.blob().type+";base64,"+Ze.base64()+'"':Ce})}var A,E,F=new w,ie=p.settings,pe=new v;return p.on("setContent",function(){!1!==p.settings.automatic_uploads?ne():le()}),p.on("RawSaveContent",function(ae){ae.content=W(ae.content)}),p.on("getContent",function(ae){ae.source_view||"raw"==ae.format||(ae.content=W(ae.content))}),p.on("PostRender",function(){p.parser.addNodeFilter("img",function(ae){L.each(ae,function(Ce){var Le=Ce.attr("src");if(!F.getByUri(Le)){var tt=pe.getResultUri(Le);tt&&Ce.attr("src",tt)}})})}),{blobCache:F,uploadImages:U,uploadImagesAuto:ne,scanForImages:le,destroy:function G(){F.destroy(),pe.destroy(),E=A=null}}}}),ve(Xr,[ue,Nn,ke,Re,de,Mn,j],function(L,M,x,w,v,f,p){var _=x.isContentEditableFalse;return function(C,I){function Y(){(function z(){var F,A,E,ie,pe;for(F=v("*[contentEditable=false]",C),ie=0;ie<F.length;ie++)L.endsWithCaretContainer(E=(A=F[ie]).previousSibling)&&(1==(pe=E.data).length?E.parentNode.removeChild(E):E.deleteData(pe.length-1,1)),L.startsWithCaretContainer(E=A.nextSibling)&&(1==(pe=E.data).length?E.parentNode.removeChild(E):E.deleteData(0,1))})(),W&&(L.remove(W),W=null),G&&(G.remove(),G=null),clearInterval(le)}var le,G,W;return{show:function V(F,A){var E,ie;return Y(),I(A)?(W=L.insertBlock("p",A,F),E=function N(F,A){var ie,pe,ae,Ce,Le,E=f.collapse(F.getBoundingClientRect(),A);return"BODY"==C.tagName?(ie=C.ownerDocument.documentElement,pe=C.scrollLeft||ie.scrollLeft,ae=C.scrollTop||ie.scrollTop):(Le=C.getBoundingClientRect(),pe=C.scrollLeft-Le.left,ae=C.scrollTop-Le.top),E.left+=pe,E.right+=pe,E.top+=ae,E.bottom+=ae,E.width=1,(Ce=F.offsetWidth-F.clientWidth)>0&&(A&&(Ce*=-1),E.left+=Ce,E.right+=Ce),E}(A,F),v(W).css("top",E.top),G=v('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(E).appendTo(C),F&&G.addClass("mce-visual-caret-before"),function U(){le=p.setInterval(function(){v("div.mce-visual-caret",C).toggleClass("mce-visual-caret-hidden")},500)}(),(ie=A.ownerDocument.createRange()).setStart(W,0),ie.setEnd(W,0),ie):(W=L.insertInline(A,F),ie=A.ownerDocument.createRange(),_(W.nextSibling)?(ie.setStart(W,0),ie.setEnd(W,0)):(ie.setStart(W,1),ie.setEnd(W,1)),ie)},hide:Y,getCss:function X(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function ne(){p.clearInterval(le)}}}}),ve(ro,[B,ke,Mn],function(L,M,x){return{getClientRects:function w(v){function f(_){return L.map(_,function(C){return(C=x.clone(C)).node=v,C})}if(L.isArray(v))return L.reduce(v,function(_,C){return _.concat(w(C))},[]);if(M.isElement(v))return f(v.getClientRects());if(M.isText(v)){var p=v.ownerDocument.createRange();return p.setStart(v,0),p.setEnd(v,v.data.length),f(p.getClientRects())}}}}),ve(oo,[zt,B,ro,cn,an,Wn,Nn,Mn],function(L,M,x,w,v,f,p,_){function I(X,le,G,W,F,A){function E(Le){var tt,Ze,qe;for(qe=x.getClientRects(Le),-1==X&&(qe=qe.reverse()),tt=0;tt<qe.length;tt++)if(!G(Ze=qe[tt],Ce)){if(ae.length>0&&le(Ze,M.last(ae))&&ie++,Ze.line=ie,F(Ze))return!0;ae.push(Ze)}}var pe,Ce,ie=0,ae=[];return(Ce=M.last(A.getClientRects()))&&(E(pe=A.getNode()),function C(X,le,G,W){for(;W=v.findNode(W,X,w.isEditableCaretCandidate,le);)if(G(W))return}(X,W,E,pe)),ae}var Y=L.curry;return{upUntil:Y(I,-1,_.isAbove,_.isBelow),downUntil:Y(I,1,_.isBelow,_.isAbove),positionsUntil:function V(X,le,G,W){function F(qe){return M.last(qe.getClientRects())}var E,ie,pe,ae,tt,Ze,A=new f(le),Ce=[],Le=0;1==X?(E=A.next,ie=_.isBelow,pe=_.isAbove,ae=p.after(W)):(E=A.prev,ie=_.isAbove,pe=_.isBelow,ae=p.before(W)),Ze=F(ae);do{if(ae.isVisible()&&!pe(tt=F(ae),Ze)){if(Ce.length>0&&ie(tt,M.last(Ce))&&Le++,(tt=_.clone(tt)).position=ae,tt.line=Le,G(tt))return Ce;Ce.push(tt)}}while(ae=E(ae));return Ce},isAboveLine:Y(function N(X,le){return le.line>X}),isLine:Y(function z(X,le){return le.line===X})}}),ve(So,[zt,B,ke,ro,Mn,an,cn],function(L,M,x,w,v,f,p){function _(G,W){return Math.abs(G.left-W)}function C(G,W){return Math.abs(G.right-W)}function I(G,W){function F(A,E){return A>=E.left&&A<=E.right}return M.reduce(G,function(A,E){var ie,pe;return ie=Math.min(_(A,W),C(A,W)),pe=Math.min(_(E,W),C(E,W)),F(W,E)?E:F(W,A)?A:pe==ie&&ne(E.node)||pe<ie?E:A})}function N(G,W,F,A){for(;A=X(A,G,p.isEditableCaretCandidate,W);)if(F(A))return}function z(G,W){function F(E,ie){var pe;return pe=M.filter(w.getClientRects(ie),function(ae){return!E(ae,W)}),A=A.concat(pe),0===pe.length}var A=[];return A.push(W),N(-1,G,le(F,v.isAbove),W.node),N(1,G,le(F,v.isBelow),W.node),A}var ne=x.isContentEditableFalse,X=f.findNode,le=L.curry;return{findClosestClientRect:I,findLineNodeRects:z,closestCaret:function U(G,W,F){var A,E;return A=w.getClientRects(function V(G){return M.filter(M.toArray(G.getElementsByTagName("*")),ne)}(G)),(E=I(A=M.filter(A,function(ie){return F>=ie.top&&F<=ie.bottom}),W))&&(E=I(z(G,E),W))&&ne(E.node)?function Y(G,W){return{node:G.node,before:_(G,W)<C(G,W)}}(E,W):null}}}),ve(Ho,[],function(){var L=function(_){var C,I,N,z;return{top:(z=_.getBoundingClientRect()).top+(N=(C=_.ownerDocument).defaultView).pageYOffset-(I=C.documentElement).clientTop,left:z.left+N.pageXOffset-I.clientLeft}};return{calc:function(_,C){return function(_,C,I){return{pageX:I.left-_.left+C.left,pageY:I.top-_.top+C.top}}(function(_){return _.inline?L(_.getBody()):{left:0,top:0}}(_),function(_){var C=_.getBody();return _.inline?{left:C.scrollLeft,top:C.scrollTop}:{left:0,top:0}}(_),function(_,C){if(C.target.ownerDocument!==_.getDoc()){var I=L(_.getContentAreaContainer()),N=function(_){var C=_.getBody(),I=_.getDoc().documentElement;return _.inline?{left:C.scrollLeft,top:C.scrollTop}:{left:C.scrollLeft||I.scrollLeft,top:C.scrollTop||I.scrollTop}}(_);return{left:C.pageX-I.left+N.left,top:C.pageY-I.top+N.top}}return{left:C.pageX,top:C.pageY}}(_,C))}}}),ve(Er,[ke,B,zt,j,P,Ho],function(L,M,x,w,v,f){var p=L.isContentEditableFalse,_=L.isContentEditableTrue,U=function(Le){Le&&Le.parentNode&&Le.parentNode.removeChild(Le)},ie=function(Le){Le.dragging=!1,Le.element=null,U(Le.ghost)},pe=function(Le){var Ze,qe,$e,Qe,st,nt,tt={};Ze=v.DOM,nt=document,qe=function(Le,tt){return function(Ze){if(function(Le){return 0===Le.button}(Ze)){var qe=M.find(tt.dom.getParents(Ze.target),x.or(p,_));if(function(Le,tt){return p(tt)&&tt!==Le}(tt.getBody(),qe)){var $e=tt.dom.getPos(qe),Qe=tt.getBody(),st=tt.getDoc().documentElement;Le.element=qe,Le.screenX=Ze.screenX,Le.screenY=Ze.screenY,Le.maxX=(tt.inline?Qe.scrollWidth:st.offsetWidth)-2,Le.maxY=(tt.inline?Qe.scrollHeight:st.offsetHeight)-2,Le.relX=Ze.pageX-$e.x,Le.relY=Ze.pageY-$e.y,Le.width=qe.offsetWidth,Le.height=qe.offsetHeight,Le.ghost=function(Le,tt,Ze,qe){var $e=tt.cloneNode(!0);Le.dom.setStyles($e,{width:Ze,height:qe}),Le.dom.setAttrib($e,"data-mce-selected",null);var Qe=Le.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return Le.dom.setStyles(Qe,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:Ze,height:qe}),Le.dom.setStyles($e,{margin:0,boxSizing:"border-box"}),Qe.appendChild($e),Qe}(tt,qe,Le.width,Le.height)}}}}(tt,Le),$e=function(Le,tt){var Ze=w.throttle(function(qe,$e){tt._selectionOverrides.hideFakeCaret(),tt.selection.placeCaretAt(qe,$e)},0);return function(qe){var $e=Math.max(Math.abs(qe.screenX-Le.screenX),Math.abs(qe.screenY-Le.screenY));if(function(Le){return Le.element}(Le)&&!Le.dragging&&$e>10){if(tt.fire("dragstart",{target:Le.element}).isDefaultPrevented())return;Le.dragging=!0,tt.focus()}if(Le.dragging){var st=function(Le,tt){return{pageX:tt.pageX-Le.relX,pageY:tt.pageY+5}}(Le,f.calc(tt,qe));(function(Le,tt){Le.parentNode!==tt&&tt.appendChild(Le)})(Le.ghost,tt.getBody()),function(Le,tt,Ze,qe,$e,Qe){var st=0,nt=0;Le.style.left=tt.pageX+"px",Le.style.top=tt.pageY+"px",tt.pageX+Ze>$e&&(st=tt.pageX+Ze-$e),tt.pageY+qe>Qe&&(nt=tt.pageY+qe-Qe),Le.style.width=Ze-st+"px",Le.style.height=qe-nt+"px"}(Le.ghost,st,Le.width,Le.height,Le.maxX,Le.maxY),Ze(qe.clientX,qe.clientY)}}}(tt,Le),Qe=function(Le,tt){return function(Ze){if(Le.dragging&&function(Le,tt,Ze){return tt!==Ze&&!Le.dom.isChildOf(tt,Ze)&&!p(tt)}(tt,function(Le){var Ze=Le.getSel().getRangeAt(0).startContainer;return 3===Ze.nodeType?Ze.parentNode:Ze}(tt.selection),Le.element)){var qe=function(Le){var tt=Le.cloneNode(!0);return tt.removeAttribute("data-mce-selected"),tt}(Le.element),$e=tt.fire("drop",{targetClone:qe,clientX:Ze.clientX,clientY:Ze.clientY});$e.isDefaultPrevented()||(qe=$e.targetClone,tt.undoManager.transact(function(){U(Le.element),tt.insertContent(tt.dom.getOuterHTML(qe)),tt._selectionOverrides.hideFakeCaret()}))}ie(Le)}}(tt,Le),st=function(Le,tt){return function(){ie(Le),Le.dragging&&tt.fire("dragend")}}(tt,Le),Le.on("mousedown",qe),Le.on("mousemove",$e),Le.on("mouseup",Qe),Ze.bind(nt,"mousemove",$e),Ze.bind(nt,"mouseup",st),Le.on("remove",function(){Ze.unbind(nt,"mousemove",$e),Ze.unbind(nt,"mouseup",st)})};return{init:function(Le){pe(Le),function(Le){Le.on("drop",function(tt){var Ze=typeof tt.clientX<"u"?Le.getDoc().elementFromPoint(tt.clientX,tt.clientY):null;(p(Ze)||p(Le.dom.getContentEditableParent(Ze)))&&tt.preventDefault()})}(Le)}}}),ve(ra,[J,Wn,Nn,ue,an,Xr,oo,So,ke,Re,Mn,un,zt,B,j,Er],function(L,M,x,w,v,f,p,_,C,I,N,z,V,Y,U,ne){function X(ae,Ce){for(;Ce=ae(Ce);)if(Ce.isVisible())return Ce;return Ce}var G=V.curry,W=C.isContentEditableTrue,F=C.isContentEditableFalse,A=C.isElement,E=v.isAfterContentEditableFalse,ie=v.isBeforeContentEditableFalse,pe=I.getSelectedNode;return function le(ae){function tt(kt){return ae.dom.isBlock(kt)}function Ze(kt){kt&&ae.selection.setRng(kt)}function qe(){return ae.selection.getRng()}function $e(kt,jt){ae.selection.scrollIntoView(kt,jt)}function Qe(kt,jt,Xn){return ae.fire("ShowCaret",{target:jt,direction:kt,before:Xn}).isDefaultPrevented()?null:($e(jt,-1===kt),ii.show(Xn,jt))}function st(kt){return ae.fire("BeforeObjectSelected",{target:kt}).isDefaultPrevented()?null:function nt(kt){var jt=kt.ownerDocument.createRange();return jt.selectNode(kt),jt}(kt)}function Fe(kt,jt){return jt=v.normalizeRange(kt,Gn,jt),-1==kt?x.fromRangeStart(jt):x.fromRangeEnd(jt)}function Wt(kt,jt){var Fn,_t;if(jt.collapsed&&ae.settings.forced_root_block){if(!(Fn=ae.dom.getParent(jt.startContainer,"PRE")))return;(1==kt?Vn(x.fromRangeStart(jt)):vi(x.fromRangeStart(jt)))||(_t=function Xn(){var Dt=ae.dom.create(ae.settings.forced_root_block);return(!L.ie||L.ie>=11)&&(Dt.innerHTML='<br data-mce-bogus="1">'),Dt}(),1==kt?ae.$(Fn).after(_t):ae.$(Fn).before(_t),ae.selection.select(_t,!0),ae.selection.collapse())}}function ln(kt,jt,Xn,Fn){var ti;return(ti=function ct(kt,jt,Xn,Fn){var ti,_t,Dt,Be;return!Fn.collapsed&&(ti=pe(Fn),F(ti))?Qe(kt,ti,-1==kt):(Be=function et(kt){return w.isCaretContainerBlock(kt.startContainer)}(Fn),Xn(_t=Fe(kt,Fn))?st(_t.getNode(-1==kt)):(_t=jt(_t))?Xn(_t)?Qe(kt,_t.getNode(-1==kt),1==kt):Xn(Dt=jt(_t))&&function Ie(kt,jt){var Xn=v.isInSameBlock(kt,jt);return!(Xn||!C.isBr(kt.getNode()))||Xn}(_t,Dt)?Qe(kt,Dt.getNode(-1==kt),1==kt):Be?ze(_t.toRange()):null:Be?Fn:null)}(kt,jt,Xn,Fn))?ti:(ti=Wt(kt,Fn))||null}function mn(kt,jt,Xn){var Fn;return(Fn=function xt(kt,jt,Xn){var Fn,ti,_t,Dt,Be,rt,Ct,Bt,nn;if(nn=pe(Xn),Fn=Fe(kt,Xn),ti=jt(Gn,p.isAboveLine(1),Fn),_t=Y.filter(ti,p.isLine(1)),Be=Y.last(Fn.getClientRects()),ie(Fn)&&(nn=Fn.getNode()),E(Fn)&&(nn=Fn.getNode(!0)),!Be)return null;if((Dt=_.findClosestClientRect(_t,rt=Be.left))&&F(Dt.node))return Ct=Math.abs(rt-Dt.left),Bt=Math.abs(rt-Dt.right),Qe(kt,Dt.node,Ct<Bt);if(nn){var Vt=p.positionsUntil(kt,Gn,p.isAboveLine(1),nn);if((Dt=_.findClosestClientRect(Y.filter(Vt,p.isLine(1)),rt))||(Dt=Y.last(Y.filter(Vt,p.isLine(0)))))return ze(Dt.position.toRange())}}(kt,jt,Xn))?Fn:(Fn=Wt(kt,Xn))||null}function xn(kt){kt.hasAttribute("data-mce-caret")&&(w.showCaretContainerBlock(kt),Ze(qe()),$e(kt[0]))}function yt(kt){var jt,Xn;return kt=v.normalizeRange(1,Gn,kt),jt=x.fromRangeStart(kt),F(jt.getNode())?Qe(1,jt.getNode(),!jt.isAtEnd()):F(jt.getNode(!0))?Qe(1,jt.getNode(!0),!1):(Xn=ae.dom.getParent(jt.getNode(),V.or(F,W)),F(Xn)?Qe(1,Xn,!1):null)}function ze(kt){return kt&&kt.collapsed&&yt(kt)||kt}function Oe(kt){var jt,Xn,Fn,ti;return F(kt)?(F(kt.previousSibling)&&(Fn=kt.previousSibling),(Xn=vi(x.before(kt)))||(jt=Vn(x.after(kt))),jt&&A(jt.getNode())&&(ti=jt.getNode()),w.remove(kt.previousSibling),w.remove(kt.nextSibling),ae.dom.remove(kt),ae.dom.isEmpty(ae.getBody())?(ae.setContent(""),void ae.focus()):Fn?x.after(Fn).toRange():ti?x.before(ti).toRange():Xn?Xn.toRange():jt?jt.toRange():null):null}function ut(kt){var jt=ae.schema.getTextBlockElements();return kt.nodeName in jt}function St(kt){return ae.dom.isEmpty(kt)}function Ot(kt,jt,Xn){var ti,_t,Dt,Be,Fn=ae.dom;if(ti=Fn.getParent(jt.getNode(),Fn.isBlock),_t=Fn.getParent(Xn.getNode(),Fn.isBlock),-1===kt){if(Be=Xn.getNode(!0),E(Xn)&&tt(Be))return ut(ti)?(St(ti)&&Fn.remove(ti),x.after(Be).toRange()):Oe(Xn.getNode(!0))}else if(Be=jt.getNode(),ie(jt)&&tt(Be))return ut(_t)?(St(_t)&&Fn.remove(_t),x.before(Be).toRange()):Oe(jt.getNode());if(ti===_t||!ut(ti)||!ut(_t))return null;for(;Dt=ti.firstChild;)_t.appendChild(Dt);return ae.dom.remove(ti),Xn.toRange()}function Ft(kt,jt,Xn,Fn){var ti,_t,Dt,Be;return!Fn.collapsed&&(ti=pe(Fn),F(ti))?ze(Oe(ti)):Xn(_t=Fe(kt,Fn))&&w.isCaretContainerBlock(Fn.startContainer)?(Be=-1==kt?Yn.prev(_t):Yn.next(_t))?ze(Be.toRange()):Fn:jt(_t)?ze(Oe(_t.getNode(-1==kt))):jt(Dt=-1==kt?Yn.prev(_t):Yn.next(_t))?-1===kt?Ot(kt,_t,Dt):Ot(kt,Dt,_t):void 0}function Ue(kt){return w.isCaretContainer(kt)||w.startsWithCaretContainer(kt)||w.endsWithCaretContainer(kt)}function ot(kt){return Ue(kt.startContainer)||Ue(kt.endContainer)}function pt(kt){var jt,ti,_t,Dt,Be,rt,Ct,Bt,nn,Vt,Xn=ae.$,Fn=ae.dom;if(!kt)return null;if(kt.collapsed){if(!ot(kt)){if(Bt=Fe(1,kt),F(Bt.getNode()))return Qe(1,Bt.getNode(),!Bt.isAtEnd());if(F(Bt.getNode(!0)))return Qe(1,Bt.getNode(!0),!1)}return null}return Be=kt.startOffset,rt=kt.endOffset,3==(Dt=kt.startContainer).nodeType&&0==Be&&F(Dt.parentNode)&&(Be=Fn.nodeIndex(Dt=Dt.parentNode),Dt=Dt.parentNode),1!=Dt.nodeType?null:(rt==Be+1&&(jt=Dt.childNodes[Be]),F(jt)?(nn=Vt=jt.cloneNode(!0),(Ct=ae.fire("ObjectSelected",{target:jt,targetClone:nn})).isDefaultPrevented()?null:(nn=Ct.targetClone,0===(ti=Xn("#"+si)).length&&(ti=Xn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",si)).appendTo(ae.getBody()),kt=ae.dom.createRng(),nn===Vt&&L.ie?(ti.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(nn),kt.setStartAfter(ti[0].firstChild.firstChild),kt.setEndAfter(nn)):(ti.empty().append("\xa0").append(nn).append("\xa0"),kt.setStart(ti[0].firstChild,1),kt.setEnd(ti[0].lastChild,0)),ti.css({top:Fn.getPos(jt,ae.getBody()).y}),ti[0].focus(),(_t=ae.selection.getSel()).removeAllRanges(),_t.addRange(kt),ae.$("*[data-mce-selected]").removeAttr("data-mce-selected"),jt.setAttribute("data-mce-selected",1),Kt=jt,Hn(),kt)):null)}function Lt(){Kt&&(Kt.removeAttribute("data-mce-selected"),ae.$("#"+si).remove(),Kt=null)}function Hn(){ii.hide()}var Kt,Gn=ae.getBody(),Yn=new M(Gn),Vn=G(X,Yn.next),vi=G(X,Yn.prev),ii=new f(ae.getBody(),tt),si="sel-"+ae.dom.uniqueId(),$t=ae.$;return L.ceFalse&&(function Mt(){function kt(At,rn){if(!1===At.isDefaultPrevented()){var Ht=rn(qe());Ht&&(At.preventDefault(),Ze(Ht))}}function jt(At){for(var rn=ae.getBody();At&&At!=rn;){if(W(At)||F(At))return At;At=At.parentNode}return null}var Be=G(ln,1,Vn,ie),rt=G(ln,-1,vi,E),Ct=G(Ft,1,ie,E),Bt=G(Ft,-1,E,ie),nn=G(mn,-1,p.upUntil),Vt=G(mn,1,p.downUntil);ae.on("mouseup",function(){var At=qe();At.collapsed&&Ze(yt(At))}),ae.on("click",function(At){var rn;(rn=jt(At.target))&&(F(rn)&&(At.preventDefault(),ae.focus()),W(rn)&&ae.dom.isChildOf(rn,ae.selection.getNode())&&Lt())}),ae.on("blur NewBlock",function(){Lt(),Hn()});(function Fn(At){var rn=!1;At.on("touchstart",function(){rn=!1}),At.on("touchmove",function(){rn=!0}),At.on("touchend",function(Ht){var yn=jt(Ht.target);F(yn)&&(rn||(Ht.preventDefault(),pt(st(yn))))})})(ae),ae.on("mousedown",function(At){var rn;if(rn=jt(At.target))F(rn)?(At.preventDefault(),pt(st(rn))):function Xn(At,rn,Ht){return!Ht.collapsed&&Y.reduce(Ht.getClientRects(),function(yn,Dn){return yn||N.containsXY(Dn,At,rn)},!1)}(At.clientX,At.clientY,ae.selection.getRng())||ae.selection.placeCaretAt(At.clientX,At.clientY);else{Lt(),Hn();var Ht=_.closestCaret(Gn,At.clientX,At.clientY);Ht&&(function(At,rn){var Ht=ae.dom.getParent(At,ae.dom.isBlock),yn=ae.dom.getParent(rn,ae.dom.isBlock);return Ht&&!function(At,rn){return ae.dom.getParent(At,ae.dom.isBlock)===ae.dom.getParent(rn,ae.dom.isBlock)}(Ht,yn)&&function(At){var rn=new M(At);if(!At.firstChild)return!1;var Ht=x.before(At.firstChild),yn=rn.next(Ht);return yn&&!ie(yn)&&!E(yn)}(Ht)}(At.target,Ht.node)||(At.preventDefault(),ae.getBody().focus(),Ze(Qe(1,Ht.node,Ht.before))))}}),ae.on("keydown",function(At){if(!z.modifierPressed(At))switch(At.keyCode){case z.RIGHT:kt(At,Be);break;case z.DOWN:kt(At,Vt);break;case z.LEFT:kt(At,rt);break;case z.UP:kt(At,nn);break;case z.DELETE:kt(At,Ct);break;case z.BACKSPACE:kt(At,Bt);break;default:F(ae.selection.getNode())&&function(At){return!(At.keyCode>=112&&At.keyCode<=123)}(At)&&At.preventDefault()}}),ae.on("keyup compositionstart",function(At){(function _t(At){var rn=function wn(){return $t("*[data-mce-caret]")[0]}();if(rn)return"compositionstart"==At.type?(At.preventDefault(),At.stopPropagation(),void xn(rn)):void(w.hasContent(rn)&&xn(rn))})(At),function Dt(At){var rn;switch(At.keyCode){case z.DELETE:case z.BACKSPACE:rn=function ti(){var At,rn=jt(ae.selection.getNode());W(rn)&&tt(rn)&&ae.dom.isEmpty(rn)&&(At=ae.dom.create("br",{"data-mce-bogus":"1"}),ae.$(rn).empty().append(At),ae.selection.setRng(x.before(At).toRange()))}()}rn&&At.preventDefault()}(At)},!0),ae.on("cut",function(){var At=ae.selection.getNode();F(At)&&U.setEditorTimeout(ae,function(){Ze(ze(Oe(At)))})}),ae.on("getSelectionRange",function(At){var rn=At.range;if(Kt){if(!Kt.parentNode)return void(Kt=null);(rn=rn.cloneRange()).selectNode(Kt),At.range=rn}}),ae.on("setSelectionRange",function(At){var rn;(rn=pt(At.range))&&(At.range=rn)}),ae.on("AfterSetSelectionRange",function(At){var rn=At.range;ot(rn)||Hn(),function Ce(kt){return ae.dom.hasClass(kt,"mce-offscreen-selection")}(rn.startContainer.parentNode)||Lt()}),ae.on("focus",function(){U.setEditorTimeout(ae,function(){ae.selection.setRng(ze(ae.selection.getRng()))},0)}),ae.on("copy",function(At){var rn=At.clipboardData;if(!At.isDefaultPrevented()&&At.clipboardData&&!L.ie){var Ht=function Le(){var kt=ae.dom.get(si);return kt&&kt.getElementsByTagName("*")[0]}();Ht&&(At.preventDefault(),rn.clearData(),rn.setData("text/html",Ht.outerHTML),rn.setData("text/plain",Ht.outerText))}}),ne.init(ae)}(),function en(){var kt=ae.contentStyles,jt=".mce-content-body";kt.push(ii.getCss()),kt.push(jt+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+jt+" *[contentEditable=false] {cursor: default;}"+jt+" *[contentEditable=true] {cursor: text;}")}()),{showBlockCaretContainer:xn,hideFakeCaret:Hn,destroy:function tn(){ii.destroy(),Kt=null}}}}),ve(vo,[],function(){var L=0;return{uuid:function(w){return w+L+++function(){var w=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+w()+w()+w()}()}}}),ve(Dr,[],function(){return{add:function(M,x,w){var v=M.sidebars?M.sidebars:[];v.push({name:x,settings:w}),M.sidebars=v}}}),ve(yr,[P,de,xe,je,Je,Tt,on,yi,oi,gn,Ln,dn,ri,Yt,We,ee,hn,wi,ht,Nt,hi,J,K,j,Ci,gi,mi,zi,ra,vo,Dr,Ur],function(L,M,x,w,v,f,p,_,C,I,N,z,V,Y,U,ne,X,le,G,W,F,A,E,ie,pe,ae,Ce,Le,tt,Ze,qe,$e){function Qe(yt,ze,Oe){var St,Ot,Ft,ut=this;St=ut.documentBaseUrl=Oe.documentBaseURL,Ot=Oe.baseURI,ze=Fe({id:yt,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:St,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:ut.convertURL,url_converter_scope:ut,ie7_compat:!0},Ft=Oe.defaultSettings,ze),Ft&&Ft.external_plugins&&ze.external_plugins&&(ze.external_plugins=Fe({},Ft.external_plugins,ze.external_plugins)),ut.settings=ze,x.language=ze.language||"en",x.languageLoad=ze.language_load,x.baseURL=Oe.baseURL,ut.id=ze.id=yt,ut.setDirty(!1),ut.plugins={},ut.documentBaseURI=new Y(ze.document_base_url||St,{base_uri:Ot}),ut.baseURI=Ot,ut.contentCSS=[],ut.contentStyles=[],ut.shortcuts=new Ce(ut),ut.loadedCSS={},ut.editorCommands=new V(ut),ut.suffix=Oe.suffix,ut.editorManager=Oe,ut.inline=ze.inline,ut.settings.content_editable=ut.inline,ze.cache_suffix&&(A.cacheSuffix=ze.cache_suffix.replace(/^[\?\&]+/,"")),!1===ze.override_viewport&&(A.overrideViewPort=!1),Oe.fire("SetupEditor",ut),ut.execCallback("setup",ut),ut.$=M.overrideDefaults(function(){return{context:ut.inline?ut.getBody():ut.getDoc(),element:ut.getBody()}})}var st=L.DOM,nt=x.ThemeManager,Ie=x.PluginManager,Fe=E.extend,et=E.each,ct=E.explode,xt=E.inArray,Wt=E.trim,ln=E.resolve,mn=ne.Event,wn=A.gecko,xn=A.ie;return Qe.prototype={render:function(){var Oe=this,ut=Oe.settings,St=Oe.id,Ot=Oe.suffix;if(mn.domLoaded){if(Oe.getElement()&&A.contentEditable){ut.inline?Oe.inline=!0:(Oe.orgVisibility=Oe.getElement().style.visibility,Oe.getElement().style.visibility="hidden");var Ft=Oe.getElement().form||st.getParent(St,"form");Ft&&(Oe.formElement=Ft,ut.hidden_input&&!/TEXTAREA|INPUT/i.test(Oe.getElement().nodeName)&&(st.insertAfter(st.create("input",{type:"hidden",name:St}),St),Oe.hasHiddenInput=!0),Oe.formEventDelegate=function(Mt){Oe.fire(Mt.type,Mt)},st.bind(Ft,"submit reset",Oe.formEventDelegate),Oe.on("reset",function(){Oe.setContent(Oe.startContent,{format:"raw"})}),!ut.submit_patch||Ft.submit.nodeType||Ft.submit.length||Ft._mceOldSubmit||(Ft._mceOldSubmit=Ft.submit,Ft.submit=function(){return Oe.editorManager.triggerSave(),Oe.setDirty(!1),Ft._mceOldSubmit(Ft)})),Oe.windowManager=new X(Oe),Oe.notificationManager=new le(Oe),"xml"==ut.encoding&&Oe.on("GetContent",function(Mt){Mt.save&&(Mt.content=st.encode(Mt.content))}),ut.add_form_submit_trigger&&Oe.on("submit",function(){Oe.initialized&&Oe.save()}),ut.add_unload_trigger&&(Oe._beforeUnload=function(){!Oe.initialized||Oe.destroyed||Oe.isHidden()||Oe.save({format:"raw",no_events:!0,set_dirty:!1})},Oe.editorManager.on("BeforeUnload",Oe._beforeUnload)),Oe.editorManager.add(Oe),function ze(){var Mt=U.ScriptLoader;if(ut.language&&"en"!=ut.language&&!ut.language_url&&(ut.language_url=Oe.editorManager.baseURL+"/langs/"+ut.language+".js"),ut.language_url&&Mt.add(ut.language_url),ut.theme&&"function"!=typeof ut.theme&&"-"!=ut.theme.charAt(0)&&!nt.urls[ut.theme]){var en=ut.theme_url;en=en?Oe.documentBaseURI.toAbsolute(en):"themes/"+ut.theme+"/theme"+Ot+".js",nt.load(ut.theme,en)}E.isArray(ut.plugins)&&(ut.plugins=ut.plugins.join(" ")),et(ut.external_plugins,function(Ue,ot){Ie.load(ot,Ue),ut.plugins+=" "+ot}),et(ut.plugins.split(/[ ,]/),function(Ue){if((Ue=Wt(Ue))&&!Ie.urls[Ue])if("-"==Ue.charAt(0)){Ue=Ue.substr(1,Ue.length);var ot=Ie.dependencies(Ue);et(ot,function(pt){pt=Ie.createUrl({prefix:"plugins/",resource:pt,suffix:"/plugin"+Ot+".js"},pt),Ie.load(pt.resource,pt)})}else Ie.load(Ue,{prefix:"plugins/",resource:Ue,suffix:"/plugin"+Ot+".js"})}),Mt.loadQueue(function(){Oe.removed||Oe.init()},Oe,function(Ue){$e.pluginLoadError(Oe,Ue[0]),Oe.removed||Oe.init()})}()}}else st.bind(window,"ready",function yt(){st.unbind(window,"ready",yt),Oe.render()})},init:function(){var St,Ot,Ft,Mt,en,Ue,ot,pt,Lt,tn,Hn,ze=this,Oe=ze.settings,ut=ze.getElement(),Gn=[];if(ze.rtl=Oe.rtl_ui||ze.editorManager.i18n.rtl,ze.editorManager.i18n.setCode(Oe.language),Oe.aria_label=Oe.aria_label||st.getAttrib(ut,"aria-label",ze.getLang("aria.rich_text_area")),ze.fire("ScriptsLoaded"),Oe.theme&&("function"!=typeof Oe.theme?(Oe.theme=Oe.theme.replace(/-/,""),Ue=nt.get(Oe.theme),ze.theme=new Ue(ze,nt.urls[Oe.theme]),ze.theme.init&&ze.theme.init(ze,nt.urls[Oe.theme]||ze.documentBaseUrl.replace(/\/$/,""),ze.$)):ze.theme=Oe.theme),et(Oe.plugins.replace(/\-/g,"").split(/[ ,]/),function yt(ii){var Kt,$t,si=Ie.get(ii);if(Kt=Ie.urls[ii]||ze.documentBaseUrl.replace(/\/$/,""),ii=Wt(ii),si&&-1===xt(Gn,ii)){if(et(Ie.dependencies(ii),function(kt){yt(kt)}),ze.plugins[ii])return;$t=new si(ze,Kt,ze.$),ze.plugins[ii]=$t,$t.init&&($t.init(ze,Kt),Gn.push(ii))}}),Oe.render_ui&&ze.theme&&(ze.orgDisplay=ut.style.display,"function"!=typeof Oe.theme?(Ot=Oe.height||ut.style.height||ut.offsetHeight,Ft=Oe.min_height||100,(tn=/^[0-9\.]+(|px)$/i).test(""+(St=Oe.width||ut.style.width||ut.offsetWidth))&&(St=Math.max(parseInt(St,10),100)),tn.test(""+Ot)&&(Ot=Math.max(parseInt(Ot,10),Ft)),en=ze.theme.renderUI({targetNode:ut,width:St,height:Ot,deltaWidth:Oe.delta_width,deltaHeight:Oe.delta_height}),Oe.content_editable||(Ot=(en.iframeHeight||Ot)+("number"==typeof Ot?en.deltaHeight||0:""))<Ft&&(Ot=Ft)):((en=Oe.theme(ze,ut)).editorContainer.nodeType&&(en.editorContainer.id=en.editorContainer.id||ze.id+"_parent"),en.iframeContainer.nodeType&&(en.iframeContainer.id=en.iframeContainer.id||ze.id+"_iframecontainer"),Ot=en.iframeHeight||ut.offsetHeight),ze.editorContainer=en.editorContainer),Oe.content_css&&et(ct(Oe.content_css),function(ii){ze.contentCSS.push(ze.documentBaseURI.toAbsolute(ii))}),Oe.content_style&&ze.contentStyles.push(Oe.content_style),Oe.content_editable)return ut=Mt=en=null,ze.initContentBody();if(ze.iframeHTML=Oe.doctype+"<html><head>",Oe.document_base_url!=ze.documentBaseUrl&&(ze.iframeHTML+='<base href="'+ze.documentBaseURI.getURI()+'" />'),!A.caretAfter&&Oe.ie7_compat&&(ze.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),ze.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(Hn=0;Hn<ze.contentCSS.length;Hn++){var Yn=ze.contentCSS[Hn];ze.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+E._addCacheSuffix(Yn)+'" />',ze.loadedCSS[Yn]=!0}-1!=(pt=Oe.body_id||"tinymce").indexOf("=")&&(pt=(pt=ze.getParam("body_id","","hash"))[ze.id]||pt),-1!=(Lt=Oe.body_class||"").indexOf("=")&&(Lt=(Lt=ze.getParam("body_class","","hash"))[ze.id]||""),Oe.content_security_policy&&(ze.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+Oe.content_security_policy+'" />'),ze.iframeHTML+='</head><body id="'+pt+'" class="mce-content-body '+Lt+'" data-id="'+ze.id+'"><br></body></html>';var Vn='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+ze.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&A.ie&&A.ie<12&&(ot=Vn);var vi=st.create("iframe",{id:ze.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:ze.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:Ot,display:"block"}});if(vi.onload=function(){vi.onload=null,ze.fire("load")},st.setAttrib(vi,"src",ot||'javascript:""'),ze.contentAreaContainer=en.iframeContainer,ze.iframeElement=vi,Mt=st.add(en.iframeContainer,vi),xn)try{ze.getDoc()}catch{Mt.src=ot=Vn}en.editorContainer&&(st.get(en.editorContainer).style.display=ze.orgDisplay,ze.hidden=st.isHidden(en.editorContainer)),ze.getElement().style.display="none",st.setAttrib(ze.id,"aria-hidden",!0),ot||ze.initContentBody(),ut=Mt=en=null},initContentBody:function(yt){var Ot,Ft,ze=this,Oe=ze.settings,ut=ze.getElement(),St=ze.getDoc();Oe.inline||(ze.getElement().style.visibility=ze.orgVisibility),yt||Oe.content_editable||(St.open(),St.write(ze.iframeHTML),St.close()),Oe.content_editable&&(ze.on("remove",function(){var Mt=this.getBody();st.removeClass(Mt,"mce-content-body"),st.removeClass(Mt,"mce-edit-focus"),st.setAttrib(Mt,"contentEditable",null)}),st.addClass(ut,"mce-content-body"),ze.contentDocument=St=Oe.content_document||document,ze.contentWindow=Oe.content_window||window,ze.bodyElement=ut,Oe.content_document=Oe.content_window=null,Oe.root_name=ut.nodeName.toLowerCase()),(Ot=ze.getBody()).disabled=!0,ze.readonly=Oe.readonly,ze.readonly||(ze.inline&&"static"==st.getStyle(Ot,"position",!0)&&(Ot.style.position="relative"),Ot.contentEditable=ze.getParam("content_editable_state",!0)),Ot.disabled=!1,ze.editorUpload=new Le(ze),ze.schema=new G(Oe),ze.dom=new L(St,{keep_values:!0,url_converter:ze.convertURL,url_converter_scope:ze,hex_colors:Oe.force_hex_style_colors,class_filter:Oe.class_filter,update_styles:!0,root_element:ze.inline?ze.getBody():null,collect:Oe.content_editable,schema:ze.schema,onSetAttrib:function(Mt){ze.fire("SetAttrib",Mt)}}),ze.parser=new W(Oe,ze.schema),ze.parser.addAttributeFilter("src,href,style,tabindex",function(Mt,en){for(var ot,Lt,tn,Ue=Mt.length,pt=ze.dom;Ue--;)if(Lt=(ot=Mt[Ue]).attr(en),!ot.attributes.map[tn="data-mce-"+en]){if(0===Lt.indexOf("data:")||0===Lt.indexOf("blob:"))continue;"style"===en?((Lt=pt.serializeStyle(pt.parseStyle(Lt),ot.name)).length||(Lt=null),ot.attr(tn,Lt),ot.attr(en,Lt)):"tabindex"===en?(ot.attr(tn,Lt),ot.attr(en,null)):ot.attr(tn,ze.convertURL(Lt,en,ot.name))}}),ze.parser.addNodeFilter("script",function(Mt){for(var Ue,ot,en=Mt.length;en--;)0!==(ot=(Ue=Mt[en]).attr("type")||"no/type").indexOf("mce-")&&Ue.attr("type","mce-"+ot)}),ze.parser.addNodeFilter("#cdata",function(Mt){for(var Ue,en=Mt.length;en--;)(Ue=Mt[en]).type=8,Ue.name="#comment",Ue.value="[CDATA["+Ue.value+"]]"}),ze.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(Mt){for(var Ue,en=Mt.length,ot=ze.schema.getNonEmptyElements();en--;)(Ue=Mt[en]).isEmpty(ot)&&0===Ue.getAll("br").length&&(Ue.append(new v("br",1)).shortEnded=!0)}),ze.serializer=new f(Oe,ze),ze.selection=new _(ze.dom,ze.getWin(),ze.serializer,ze),ze.formatter=new C(ze),ze.undoManager=new I(ze),ze.forceBlocks=new z(ze),ze.enterKey=new N(ze),ze._nodeChangeDispatcher=new w(ze),ze._selectionOverrides=new tt(ze),ze.fire("PreInit"),Oe.browser_spellcheck||Oe.gecko_spellcheck||(St.body.spellcheck=!1,st.setAttrib(Ot,"spellcheck","false")),ze.quirks=new F(ze),ze.fire("PostRender"),Oe.directionality&&(Ot.dir=Oe.directionality),Oe.nowrap&&(Ot.style.whiteSpace="nowrap"),Oe.protect&&ze.on("BeforeSetContent",function(Mt){et(Oe.protect,function(en){Mt.content=Mt.content.replace(en,function(Ue){return"\x3c!--mce:protected "+escape(Ue)+"--\x3e"})})}),ze.on("SetContent",function(){ze.addVisual(ze.getBody())}),Oe.padd_empty_editor&&ze.on("PostProcess",function(Mt){Mt.content=Mt.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),ze.load({initial:!0,format:"html"}),ze.startContent=ze.getContent({format:"raw"}),ze.initialized=!0,ze.bindPendingEventDelegates(),ze.fire("init"),ze.focus(!0),ze.nodeChanged({initial:!0}),ze.execCallback("init_instance_callback",ze),ze.on("compositionstart compositionend",function(Mt){ze.composing="compositionstart"===Mt.type}),ze.contentStyles.length>0&&(Ft="",et(ze.contentStyles,function(Mt){Ft+=Mt+"\r\n"}),ze.dom.addStyle(Ft)),et(ze.contentCSS,function(Mt){ze.loadedCSS[Mt]||(ze.dom.loadCSS(Mt),ze.loadedCSS[Mt]=!0)}),Oe.auto_focus&&ie.setEditorTimeout(ze,function(){var Mt;(Mt=!0===Oe.auto_focus?ze:ze.editorManager.get(Oe.auto_focus)).destroyed||Mt.focus()},100),ut=St=Ot=null},focus:function(yt){var Ot,Ft,Ue,Oe=this,ut=Oe.selection,St=Oe.settings.content_editable,Mt=Oe.getDoc(),en=Oe.getBody();if(!yt){if((Ot=ut.getRng()).item&&(Ft=Ot.item(0)),Oe.quirks.refreshContentEditable(),Ue=function ze(ot){return Oe.dom.getParent(ot,function(pt){return"true"===Oe.dom.getContentEditable(pt)})}(ut.getNode()),Oe.$.contains(en,Ue))return Ue.focus(),ut.normalize(),void Oe.editorManager.setActive(Oe);if(St||(A.opera||Oe.getBody().focus(),Oe.getWin().focus()),wn||St){if(en.setActive)try{en.setActive()}catch{en.focus()}else en.focus();St&&ut.normalize()}Ft&&Ft.ownerDocument==Mt&&((Ot=Mt.body.createControlRange()).addElement(Ft),Ot.select())}Oe.editorManager.setActive(Oe)},execCallback:function(yt){var ut,ze=this,Oe=ze.settings[yt];if(Oe)return ze.callbackLookup&&(ut=ze.callbackLookup[yt])&&(Oe=ut.func,ut=ut.scope),"string"==typeof Oe&&(ut=(ut=Oe.replace(/\.\w+$/,""))?ln(ut):0,Oe=ln(Oe),ze.callbackLookup=ze.callbackLookup||{},ze.callbackLookup[yt]={func:Oe,scope:ut}),Oe.apply(ut||ze,Array.prototype.slice.call(arguments,1))},translate:function(yt){var ze=this.settings.language||"en",Oe=this.editorManager.i18n;return yt?(yt=Oe.data[ze+"."+yt]||yt.replace(/\{\#([^\}]+)\}/g,function(ut,St){return Oe.data[ze+"."+St]||"{#"+St+"}"}),this.editorManager.translate(yt)):""},getLang:function(yt,ze){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+yt]||(ze!==Ae?ze:"{#"+yt+"}")},getParam:function(yt,ze,Oe){var St,ut=yt in this.settings?this.settings[yt]:ze;return"hash"===Oe?(St={},"string"==typeof ut?et(ut.indexOf("=")>0?ut.split(/[;,](?![^=;,]*(?:[;,]|$))/):ut.split(","),function(Ot){Ot=Ot.split("="),St[Wt(Ot[0])]=Wt(Ot.length>1?Ot[1]:Ot)}):St=ut,St):ut},nodeChanged:function(yt){this._nodeChangeDispatcher.nodeChanged(yt)},addButton:function(yt,ze){var Oe=this;ze.cmd&&(ze.onclick=function(){Oe.execCommand(ze.cmd)}),ze.text||ze.icon||(ze.icon=yt),Oe.buttons=Oe.buttons||{},ze.tooltip=ze.tooltip||ze.title,Oe.buttons[yt]=ze},addSidebar:function(yt,ze){return qe.add(this,yt,ze)},addMenuItem:function(yt,ze){var Oe=this;ze.cmd&&(ze.onclick=function(){Oe.execCommand(ze.cmd)}),Oe.menuItems=Oe.menuItems||{},Oe.menuItems[yt]=ze},addContextToolbar:function(yt,ze){var ut,Oe=this;Oe.contextToolbars=Oe.contextToolbars||[],"string"==typeof yt&&(ut=yt,yt=function(St){return Oe.dom.is(St,ut)}),Oe.contextToolbars.push({id:Ze.uuid("mcet"),predicate:yt,items:ze})},addCommand:function(yt,ze,Oe){this.editorCommands.addCommand(yt,ze,Oe)},addQueryStateHandler:function(yt,ze,Oe){this.editorCommands.addQueryStateHandler(yt,ze,Oe)},addQueryValueHandler:function(yt,ze,Oe){this.editorCommands.addQueryValueHandler(yt,ze,Oe)},addShortcut:function(yt,ze,Oe,ut){this.shortcuts.add(yt,ze,Oe,ut)},execCommand:function(yt,ze,Oe,ut){return this.editorCommands.execCommand(yt,ze,Oe,ut)},queryCommandState:function(yt){return this.editorCommands.queryCommandState(yt)},queryCommandValue:function(yt){return this.editorCommands.queryCommandValue(yt)},queryCommandSupported:function(yt){return this.editorCommands.queryCommandSupported(yt)},show:function(){var yt=this;yt.hidden&&(yt.hidden=!1,yt.inline?yt.getBody().contentEditable=!0:(st.show(yt.getContainer()),st.hide(yt.id)),yt.load(),yt.fire("show"))},hide:function(){var yt=this,ze=yt.getDoc();yt.hidden||(xn&&ze&&!yt.inline&&ze.execCommand("SelectAll"),yt.save(),yt.inline?(yt.getBody().contentEditable=!1,yt==yt.editorManager.focusedEditor&&(yt.editorManager.focusedEditor=null)):(st.hide(yt.getContainer()),st.setStyle(yt.id,"display",yt.orgDisplay)),yt.hidden=!0,yt.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(yt,ze){this.fire("ProgressState",{state:yt,time:ze})},load:function(yt){var ut,Oe=this.getElement();if(Oe)return(yt=yt||{}).load=!0,ut=this.setContent(Oe.value!==Ae?Oe.value:Oe.innerHTML,yt),yt.element=Oe,yt.no_events||this.fire("LoadContent",yt),yt.element=Oe=null,ut},save:function(yt){var ut,St,ze=this,Oe=ze.getElement();if(Oe&&ze.initialized)return(yt=yt||{}).save=!0,yt.element=Oe,yt.content=ze.getContent(yt),yt.no_events||ze.fire("SaveContent",yt),"raw"==yt.format&&ze.fire("RawSaveContent",yt),ut=yt.content,/TEXTAREA|INPUT/i.test(Oe.nodeName)?Oe.value=ut:(ze.inline||(Oe.innerHTML=ut),(St=st.getParent(ze.id,"form"))&&et(St.elements,function(Ot){if(Ot.name==ze.id)return Ot.value=ut,!1})),yt.element=Oe=null,!1!==yt.set_dirty&&ze.setDirty(!1),ut},setContent:function(yt,ze){var St,Ot,Oe=this,ut=Oe.getBody();return(ze=ze||{}).format=ze.format||"html",ze.set=!0,ze.content=yt,ze.no_events||Oe.fire("BeforeSetContent",ze),0===(yt=ze.content).length||/^\s+$/.test(yt)?(Ot=xn&&xn<11?"":'<br data-mce-bogus="1">',"TABLE"==ut.nodeName?yt="<tr><td>"+Ot+"</td></tr>":/^(UL|OL)$/.test(ut.nodeName)&&(yt="<li>"+Ot+"</li>"),(St=Oe.settings.forced_root_block)&&Oe.schema.isValidChild(ut.nodeName.toLowerCase(),St.toLowerCase())?yt=Oe.dom.createHTML(St,Oe.settings.forced_root_block_attrs,yt=Ot):xn||yt||(yt='<br data-mce-bogus="1">'),Oe.dom.setHTML(ut,yt),Oe.fire("SetContent",ze)):("raw"!==ze.format&&(yt=new p({validate:Oe.validate},Oe.schema).serialize(Oe.parser.parse(yt,{isRootContent:!0}))),ze.content=Wt(yt),Oe.dom.setHTML(ut,ze.content),ze.no_events||Oe.fire("SetContent",ze)),ze.content},getContent:function(yt){var Oe,ze=this,ut=ze.getBody();return(yt=yt||{}).format=yt.format||"html",yt.get=!0,yt.getInner=!0,yt.no_events||ze.fire("BeforeGetContent",yt),Oe="raw"==yt.format?E.trim(ze.serializer.getTrimmedContent()):"text"==yt.format?ut.innerText||ut.textContent:ze.serializer.serialize(ut,yt),yt.content="text"!=yt.format?Wt(Oe):Oe,yt.no_events||ze.fire("GetContent",yt),yt.content},insertContent:function(yt,ze){ze&&(yt=Fe({content:yt},ze)),this.execCommand("mceInsertContent",!1,yt)},isDirty:function(){return!this.isNotDirty},setDirty:function(yt){var ze=!this.isNotDirty;this.isNotDirty=!yt,yt&&yt!=ze&&this.fire("dirty")},setMode:function(yt){ae.setMode(this,yt)},getContainer:function(){var yt=this;return yt.container||(yt.container=st.get(yt.editorContainer||yt.id+"_parent")),yt.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=st.get(this.id)),this.targetElm},getWin:function(){var ze;return this.contentWindow||(ze=this.iframeElement)&&(this.contentWindow=ze.contentWindow),this.contentWindow},getDoc:function(){var ze;return this.contentDocument||(ze=this.getWin())&&(this.contentDocument=ze.document),this.contentDocument},getBody:function(){var yt=this.getDoc();return this.bodyElement||(yt?yt.body:null)},convertURL:function(yt,ze,Oe){var St=this.settings;return St.urlconverter_callback?this.execCallback("urlconverter_callback",yt,Oe,!0,ze):!St.convert_urls||Oe&&"LINK"==Oe.nodeName||0===yt.indexOf("file:")||0===yt.length?yt:St.relative_urls?this.documentBaseURI.toRelative(yt):yt=this.documentBaseURI.toAbsolute(yt,St.remove_script_host)},addVisual:function(yt){var St,ze=this,Oe=ze.settings,ut=ze.dom;yt=yt||ze.getBody(),ze.hasVisual===Ae&&(ze.hasVisual=Oe.visual),et(ut.select("table,a",yt),function(Ot){var Ft;switch(Ot.nodeName){case"TABLE":return St=Oe.visual_table_class||"mce-item-table",void((Ft=ut.getAttrib(Ot,"border"))&&"0"!=Ft||!ze.hasVisual?ut.removeClass(Ot,St):ut.addClass(Ot,St));case"A":return void(ut.getAttrib(Ot,"href",!1)||(Ft=ut.getAttrib(Ot,"name")||Ot.id,St=Oe.visual_anchor_class||"mce-item-anchor",Ft&&ze.hasVisual?ut.addClass(Ot,St):ut.removeClass(Ot,St)))}}),ze.fire("VisualAid",{element:yt,hasVisual:ze.hasVisual})},remove:function(){var yt=this;yt.removed||(yt.save(),yt.removed=1,yt.unbindAllNativeEvents(),yt.hasHiddenInput&&st.remove(yt.getElement().nextSibling),yt.inline||(xn&&xn<10&&yt.getDoc().execCommand("SelectAll",!1,null),st.setStyle(yt.id,"display",yt.orgDisplay),yt.getBody().onload=null),yt.fire("remove"),yt.editorManager.remove(yt),st.remove(yt.getContainer()),yt._selectionOverrides.destroy(),yt.editorUpload.destroy(),yt.destroy())},destroy:function(yt){var Oe,ze=this;if(!ze.destroyed){if(!yt&&!ze.removed)return void ze.remove();yt||(ze.editorManager.off("beforeunload",ze._beforeUnload),ze.theme&&ze.theme.destroy&&ze.theme.destroy(),ze.selection.destroy(),ze.dom.destroy()),(Oe=ze.formElement)&&(Oe._mceOldSubmit&&(Oe.submit=Oe._mceOldSubmit,Oe._mceOldSubmit=null),st.unbind(Oe,"submit reset",ze.formEventDelegate)),ze.contentAreaContainer=ze.formElement=ze.container=ze.editorContainer=null,ze.bodyElement=ze.contentDocument=ze.contentWindow=null,ze.iframeElement=ze.targetElm=null,ze.selection&&(ze.selection=ze.selection.win=ze.selection.dom=ze.selection.dom.doc=null),ze.destroyed=1}},uploadImages:function(yt){return this.editorUpload.uploadImages(yt)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Fe(Qe.prototype,pe),Qe}),ve(Hr,[K],function(L){var M={},x="en";return{setCode:function(w){w&&(x=w,this.rtl=!!this.data[w]&&"rtl"===this.data[w]._dir)},getCode:function(){return x},rtl:!1,add:function(w,v){var f=M[w];for(var p in f||(M[w]=f={}),v)f[p]=v[p];this.setCode(w)},translate:function(w){function v(I){return L.is(I,"function")?Object.prototype.toString.call(I):f(I)?"":""+I}function f(I){return""===I||null===I||L.is(I,"undefined")}function p(I){return I=v(I),L.hasOwn(_,I)?v(_[I]):I}var _=M[x]||{};if(f(w))return"";if(L.is(w,"object")&&L.hasOwn(w,"raw"))return v(w.raw);if(L.is(w,"array")){var C=w.slice(1);w=p(w[0]).replace(/\{([0-9]+)\}/g,function(I,N){return L.hasOwn(C,N)?v(C[N]):I})}return p(w).replace(/{context:\w+}$/,"")},data:M}}),ve(hr,[P,j,J],function(L,M,x){function w(I){function N(){try{return document.activeElement}catch{return document.body}}I.on("AddEditor",function Y(ne){var X=ne.editor;X.on("init",function(){(X.inline||x.ie)&&("onbeforedeactivate"in document&&x.ie<9?X.dom.bind(X.getBody(),"beforedeactivate",function(le){if(le.target==X.getBody())try{X.lastRng=X.selection.getRng()}catch{}}):X.on("nodechange mouseup keyup",function(le){var G=N();"nodechange"==le.type&&le.selectionChange||(G&&G.id==X.id+"_ifr"&&(G=X.getBody()),X.dom.isChildOf(G,X.getBody())&&(X.lastRng=X.selection.getRng()))}),x.webkit&&!v&&(v=function(){var le=I.activeEditor;if(le&&le.selection){var G=le.selection.getRng();G&&!G.collapsed&&(X.lastRng=G)}},_.bind(document,"selectionchange",v)))}),X.on("setcontent",function(){X.lastRng=null}),X.on("mousedown",function(){X.selection.lastFocusBookmark=null}),X.on("focusin",function(){var G,le=I.focusedEditor;X.selection.lastFocusBookmark&&(G=function V(ne,X){var le;return X.startContainer?((le=ne.getDoc().createRange()).setStart(X.startContainer,X.startOffset),le.setEnd(X.endContainer,X.endOffset)):le=X,le}(X,X.selection.lastFocusBookmark),X.selection.lastFocusBookmark=null,X.selection.setRng(G)),le!=X&&(le&&le.fire("blur",{focusedEditor:X}),I.setActive(X),I.focusedEditor=X,X.fire("focus",{blurredEditor:le}),X.focus(!0)),X.lastRng=null}),X.on("focusout",function(){M.setEditorTimeout(X,function(){var le=I.focusedEditor;C(X,N())||le!=X||(X.fire("blur",{focusedEditor:null}),I.focusedEditor=null,X.selection&&(X.selection.lastFocusBookmark=null))})}),f||(f=function(le){var W,G=I.activeEditor;W=le.target,G&&W.ownerDocument==document&&(G.selection&&W!=G.getBody()&&(G.selection.lastFocusBookmark=function z(ne,X){return X&&X.startContainer?ne.isChildOf(X.startContainer,ne.getRoot())&&ne.isChildOf(X.endContainer,ne.getRoot())?{startContainer:X.startContainer,startOffset:X.startOffset,endContainer:X.endContainer,endOffset:X.endOffset}:void 0:X}(G.dom,G.lastRng)),W==document.body||C(G,W)||I.focusedEditor!=G||(G.fire("blur",{focusedEditor:null}),I.focusedEditor=null))},_.bind(document,"focusin",f)),X.inline&&!p&&(p=function(le){var G=I.activeEditor,W=G.dom;if(G.inline&&W&&!W.isChildOf(le.target,G.getBody())){var F=G.selection.getRng();F.collapsed||(G.lastRng=F)}},_.bind(document,"mouseup",p))}),I.on("RemoveEditor",function U(ne){I.focusedEditor==ne.editor&&(I.focusedEditor=null),I.activeEditor||(_.unbind(document,"selectionchange",v),_.unbind(document,"focusin",f),_.unbind(document,"mouseup",p),v=f=p=null)})}var v,f,p,_=L.DOM,C=function(I,N){var z=I?I.settings.custom_ui_selector:"";return null!==_.getParent(N,function(Y){return w.isEditorUIElement(Y)||!!z&&I.dom.is(Y,z)})};return w.isEditorUIElement=function(I){return-1!==I.className.toString().indexOf("mce-")},w._isUIElement=C,w}),ve(Ji,[yr,de,P,Yt,J,K,q,Pn,Hr,hr,xe],function(L,M,x,w,v,f,p,_,C,I,N){function z(ie){le(A.editors,function(pe){pe.fire("scroll"===ie.type?"ScrollWindow":"ResizeWindow",ie)})}function V(ie,pe){pe!==E&&(pe?M(window).on("resize scroll",z):M(window).off("resize scroll",z),E=pe)}function Y(ie){var ae,pe=A.editors;delete pe[ie.id];for(var Ce=0;Ce<pe.length;Ce++)if(pe[Ce]==ie){pe.splice(Ce,1),ae=!0;break}return A.activeEditor==ie&&(A.activeEditor=pe[0]),A.focusedEditor==ie&&(A.focusedEditor=null),ae}var F,A,ne=x.DOM,X=f.explode,le=f.each,G=f.extend,W=0,E=!1;return A={$:M,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:C,activeEditor:null,setup:function(){var pe,ae,Le,tt,ie=this,Ce="";if(ae=w.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(ae)&&(ae=ae.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(ae)||(ae+="/")),Le=window.tinymce||window.tinyMCEPreInit)pe=Le.base||Le.baseURL,Ce=Le.suffix;else{for(var Ze=document.getElementsByTagName("script"),qe=0;qe<Ze.length;qe++){var $e=(tt=Ze[qe].src).substring(tt.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(tt)){-1!=$e.indexOf(".min")&&(Ce=".min"),pe=tt.substring(0,tt.lastIndexOf("/"));break}}!pe&&document.currentScript&&(-1!=(tt=document.currentScript.src).indexOf(".min")&&(Ce=".min"),pe=tt.substring(0,tt.lastIndexOf("/")))}ie.baseURL=new w(ae).toAbsolute(pe),ie.documentBaseURL=ae,ie.baseURI=new w(ie.baseURL),ie.suffix=Ce,ie.focusManager=new I(ie)},overrideDefaults:function(ie){var pe;(pe=ie.base_url)&&(this.baseURL=new w(this.documentBaseURL).toAbsolute(pe.replace(/\/+$/,"")),this.baseURI=new w(this.baseURL)),ie.suffix&&(this.suffix=ie.suffix),this.defaultSettings=ie;var Ce=ie.plugin_base_urls;for(var Le in Ce)N.PluginManager.urls[Le]=Ce[Le]},init:function(ie){function Ce(Ie){var Fe=Ie.id;return Fe||(Fe=(Fe=Ie.name)&&!ne.get(Fe)?Ie.name:ne.uniqueId(),Ie.setAttribute("id",Fe)),Fe}function tt(Ie,Fe){return Fe.constructor===RegExp?Fe.test(Ie.className):ne.hasClass(Ie,Fe)}var Qe,st,$e=this;st=f.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var nt=function(Ie){Qe=Ie};return $e.settings=ie,ne.bind(window,"ready",function qe(){function Ie(xt,Wt,ln){var mn=new L(xt,Wt,$e);et.push(mn),mn.on("init",function(){++Fe===ct.length&&nt(et)}),mn.targetElm=mn.targetElm||ln,mn.render()}var ct,Fe=0,et=[];return ne.unbind(window,"ready",qe),function Le(Ie){var Fe=ie[Ie];if(Fe)Fe.apply($e,Array.prototype.slice.call(arguments,2))}("onpageload"),ct=M.unique(function Ze(Ie){var Fe,et=[];if(Ie.types)return le(Ie.types,function(ct){et=et.concat(ne.select(ct.selector))}),et;if(Ie.selector)return ne.select(Ie.selector);if(Ie.target)return[Ie.target];switch(Ie.mode){case"exact":(Fe=Ie.elements||"").length>0&&le(X(Fe),function(ct){var xt;(xt=ne.get(ct))?et.push(xt):le(document.forms,function(Wt){le(Wt.elements,function(ln){ln.name===ct&&(ct="mce_editor_"+W++,ne.setAttrib(ln,"id",ct),et.push(ln))})})});break;case"textareas":case"specific_textareas":le(ne.select("textarea"),function(ct){Ie.editor_deselector&&tt(ct,Ie.editor_deselector)||Ie.editor_selector&&!tt(ct,Ie.editor_selector)||et.push(ct)})}return et}(ie)),ie.types?void le(ie.types,function(xt){f.each(ct,function(Wt){return!ne.is(Wt,xt.selector)||(Ie(Ce(Wt),G({},ie,xt),Wt),!1)})}):(f.each(ct,function(xt){!function U(ie){ie&&ie.initialized&&!(ie.getContainer()||ie.getBody()).parentNode&&(Y(ie),ie.unbindAllNativeEvents(),ie.destroy(!0),ie.removed=!0,ie=null)}($e.get(xt.id))}),ct=f.grep(ct,function(xt){return!$e.get(xt.id)}),void le(ct,function(xt){!function pe(Ie,Fe){return Ie.inline&&Fe.tagName.toLowerCase()in st}(ie,xt)?Ie(Ce(xt),ie,xt):function ae(Ie,Fe){window.console&&!window.test&&window.console.log(Ie,Fe)}("Could not initialize inline editor on invalid inline target element",xt)}))}),new p(function(Ie){Qe?Ie(Qe):nt=function(Fe){Ie(Fe)}})},get:function(ie){return arguments.length?ie in this.editors?this.editors[ie]:null:this.editors},add:function(ie){var pe=this,ae=pe.editors;return ae[ie.id]=ie,ae.push(ie),V(0,!0),pe.activeEditor=ie,pe.fire("AddEditor",{editor:ie}),F||(F=function(){pe.fire("BeforeUnload")},ne.bind(window,"beforeunload",F)),ie},createEditor:function(ie,pe){return this.add(new L(ie,pe,this))},remove:function(ie){var ae,Le,pe=this,Ce=pe.editors;if(ie)return"string"==typeof ie?void le(ne.select(ie=ie.selector||ie),function(tt){(Le=Ce[tt.id])&&pe.remove(Le)}):Ce[(Le=ie).id]?(Y(Le)&&pe.fire("RemoveEditor",{editor:Le}),Ce.length||ne.unbind(window,"beforeunload",F),Le.remove(),V(0,Ce.length>0),Le):null;for(ae=Ce.length-1;ae>=0;ae--)pe.remove(Ce[ae])},execCommand:function(ie,pe,ae){var Ce=this,Le=Ce.get(ae);switch(ie){case"mceAddEditor":return Ce.get(ae)||new L(ae,Ce.settings,Ce).render(),!0;case"mceRemoveEditor":return Le&&Le.remove(),!0;case"mceToggleEditor":return Le?(Le.isHidden()?Le.show():Le.hide(),!0):(Ce.execCommand("mceAddEditor",0,ae),!0)}return!!Ce.activeEditor&&Ce.activeEditor.execCommand(ie,pe,ae)},triggerSave:function(){le(this.editors,function(ie){ie.save()})},addI18n:function(ie,pe){C.add(ie,pe)},translate:function(ie){return C.translate(ie)},setActive:function(ie){var pe=this.activeEditor;this.activeEditor!=ie&&(pe&&pe.fire("deactivate",{relatedTarget:ie}),ie.fire("activate",{relatedTarget:pe})),this.activeEditor=ie}},G(A,_),A.setup(),window.tinymce=window.tinyMCE=A,A}),ve("tinymce/LegacyInput",[Ji,K],function(L,M){var x=M.each,w=M.explode;L.on("AddEditor",function(v){var f=v.editor;f.on("preInit",function(){function p(V,Y){x(Y,function(U,ne){U&&N.setStyle(V,ne,U)}),N.rename(V,"span")}var C,I,N,z=f.settings;z.inline_styles&&(I=w(z.font_size_legacy_values),C={font:function(V,Y){p(Y,{backgroundColor:Y.style.backgroundColor,color:Y.color,fontFamily:Y.face,fontSize:I[parseInt(Y.size,10)-1]})},u:function(V,Y){"html4"===f.settings.schema&&p(Y,{textDecoration:"underline"})},strike:function(V,Y){p(Y,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",function _(V){N=f.dom,z.convert_fonts_to_spans&&x(N.select("font,u,strike",V.node),function(Y){C[Y.nodeName.toLowerCase()](N,Y)})}))})})}),ve(Co,[Pn,K],function(L,M){var x={send:function(w){function v(){!w.async||4==f.readyState||p++>1e4?(w.success&&p<1e4&&200==f.status?w.success.call(w.success_scope,""+f.responseText,f,w):w.error&&w.error.call(w.error_scope,p>1e4?"TIMED_OUT":"GENERAL",f,w),f=null):setTimeout(v,10)}var f,p=0;if(w.scope=w.scope||this,w.success_scope=w.success_scope||w.scope,w.error_scope=w.error_scope||w.scope,w.async=!1!==w.async,w.data=w.data||"",x.fire("beforeInitialize",{settings:w}),f=new XMLHttpRequest){if(f.overrideMimeType&&f.overrideMimeType(w.content_type),f.open(w.type||(w.data?"POST":"GET"),w.url,w.async),w.crossDomain&&(f.withCredentials=!0),w.content_type&&f.setRequestHeader("Content-Type",w.content_type),w.requestheaders&&M.each(w.requestheaders,function(_){f.setRequestHeader(_.key,_.value)}),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),(f=x.fire("beforeSend",{xhr:f,settings:w}).xhr).send(w.data),!w.async)return v();setTimeout(v,10)}}};return M.extend(x,L),x}),ve(Qi,[],function(){return{serialize:function L(M,x){var w,v,f,p;if(x=x||'"',null===M)return"null";if("string"==(f=typeof M))return v="\bb\tt\nn\ff\rr\"\"''\\\\",x+M.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(_,C){return'"'===x&&"'"===_?_:(w=v.indexOf(C))+1?"\\"+v.charAt(w+1):(_=C.charCodeAt().toString(16),"\\u"+"0000".substring(_.length)+_)})+x;if("object"==f){if(M.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(M)){for(w=0,v="[";w<M.length;w++)v+=(w>0?",":"")+L(M[w],x);return v+"]"}for(p in v="{",M)M.hasOwnProperty(p)&&(v+="function"!=typeof M[p]?(v.length>1?","+x:x)+p+x+":"+L(M[p],x):"");return v+"}"}return""+M},parse:function(M){try{return window[String.fromCharCode(101)+"val"]("("+M+")")}catch{}}}}),ve(Bi,[Qi,Co,K],function(L,M,x){function w(f){this.settings=v({},f),this.count=0}var v=x.extend;return w.sendRPC=function(f){return(new w).send(f)},w.prototype={send:function(f){var p=f.error,_=f.success;(f=v(this.settings,f)).success=function(C,I){typeof(C=L.parse(C))>"u"&&(C={error:"JSON Parse error."}),C.error?p.call(f.error_scope||f.scope,C.error,I):_.call(f.success_scope||f.scope,C.result)},f.error=function(C,I){p&&p.call(f.error_scope||f.scope,C,I)},f.data=L.serialize({id:f.id||"c"+this.count++,method:f.method,params:f.params}),f.content_type="application/json",M.send(f)}},w}),ve(Gr,[P],function(L){return{callbacks:{},count:0,send:function(M){var x=this,w=L.DOM,v=M.count!==Ae?M.count:x.count,f="tinymce_jsonp_"+v;x.callbacks[v]=function(p){w.remove(f),delete x.callbacks[v],M.callback(p)},w.add(w.doc.body,"script",{id:f,src:M.url,type:"text/javascript"}),x.count++}}}),ve(Vr,[],function(){function L(){for(var I in p=[],f)p.push(I);w.length=p.length}function x(){var I,N="";if(C){for(var z in f)I=f[z],N+=(N?",":"")+z.length.toString(32)+","+z+","+I.length.toString(32)+","+I;v.setAttribute(_,N);try{v.save(_)}catch{}L()}}var w,v,f,p,_,C;try{if(window.localStorage)return localStorage}catch{}return _="tinymce",v=document.documentElement,(C=!!v.addBehavior)&&v.addBehavior("#default#userData"),w={key:function(I){return p[I]},getItem:function(I){return I in f?f[I]:null},setItem:function(I,N){f[I]=""+N,x()},removeItem:function(I){delete f[I],x()},clear:function(){f={},x()}},function M(){function I(ne){var X,le;return-1===(le=ne!==Ae?Y+ne:z.indexOf(",",Y))||le>z.length?null:(X=z.substring(Y,le),Y=le+1,X)}var N,z,V,Y=0;if(f={},C){v.load(_),z=v.getAttribute(_)||"";do{var U=I();if(null===U)break;if(null!==(N=I(parseInt(U,32)||0))){if(null===(U=I()))break;V=I(parseInt(U,32)||0),N&&(f[N]=V)}}while(null!==N);L()}}(),w}),ve($i,[P,ee,We,xe,K,J],function(L,M,x,w,v,f){var p=window.tinymce;return p.DOM=L.DOM,p.ScriptLoader=x.ScriptLoader,p.PluginManager=w.PluginManager,p.ThemeManager=w.ThemeManager,p.dom=p.dom||{},p.dom.Event=M.Event,v.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(_){p[_]=v[_]}),v.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(_){p[_]=f[_.substr(2).toLowerCase()]}),{}}),ve(sr,[fn,K],function(L,M){return L.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(x){this.settings=M.extend({},this.Defaults,x)},preRender:function(x){x.bodyClasses.add(this.settings.containerClass)},applyClasses:function(x){var f,p,_,C,v=this.settings;f=v.firstControlClass,p=v.lastControlClass,x.each(function(I){I.classes.remove(f).remove(p).add(v.controlClass),I.visible()&&(_||(_=I),C=I)}),_&&_.classes.add(f),C&&C.classes.add(p)},renderHtml:function(x){var v="";return this.applyClasses(x.items()),x.items().each(function(f){v+=f.renderHtml()}),v},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),ve(br,[sr],function(L){return L.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(M){M.items().filter(":visible").each(function(x){var w=x.settings;x.layoutRect({x:w.x,y:w.y,w:w.w,h:w.h}),x.recalc&&x.recalc()})},renderHtml:function(M){return'<div id="'+M._id+'-absend" class="'+M.classPrefix+'abs-end"></div>'+this._super(M)}})}),ve(or,[Bn],function(L){return L.extend({Defaults:{classes:"widget btn",role:"button"},init:function(M){var w,x=this;x._super(M),M=x.settings,w=x.settings.size,x.on("click mousedown",function(v){v.preventDefault()}),x.on("touchstart",function(v){x.fire("click",v),v.preventDefault()}),M.subtype&&x.classes.add(M.subtype),w&&x.classes.add("btn-"+w),M.icon&&x.icon(M.icon)},icon:function(M){return arguments.length?(this.state.set("icon",M),this):this.state.get("icon")},repaint:function(){var x,M=this.getEl().firstChild;M&&((x=M.style).width=x.height="100%"),this._super()},renderHtml:function(){var f,M=this,x=M._id,w=M.classPrefix,v=M.state.get("icon"),p=M.state.get("text"),_="";return(f=M.settings.image)?(v="none","string"!=typeof f&&(f=window.getSelection?f[0]:f[1]),f=" style=\"background-image: url('"+f+"')\""):f="",p&&(M.classes.add("btn-has-text"),_='<span class="'+w+'txt">'+M.encode(p)+"</span>"),'<div id="'+x+'" class="'+M.classes+'" tabindex="-1" aria-labelledby="'+x+'"><button role="presentation" type="button" tabindex="-1">'+((v=v?w+"ico "+w+"i-"+v:"")?'<i class="'+v+'"'+f+"></i>":"")+_+"</button></div>"},bindStates:function(){function M(f){var p=w("span."+v,x.getEl());f?(p[0]||(w("button:first",x.getEl()).append('<span class="'+v+'"></span>'),p=w("span."+v,x.getEl())),p.html(x.encode(f))):p.remove(),x.classes.toggle("btn-has-text",!!f)}var x=this,w=x.$,v=x.classPrefix+"txt";return x.state.on("change:text",function(f){M(f.value)}),x.state.on("change:icon",function(f){var p=f.value,_=x.classPrefix;x.settings.icon=p,p=p?_+"ico "+_+"i-"+x.settings.icon:"";var C=x.getEl().firstChild,I=C.getElementsByTagName("i")[0];p?(I&&I==C.firstChild||(I=document.createElement("i"),C.insertBefore(I,C.firstChild)),I.className=p):I&&C.removeChild(I),M(x.state.get("text"))}),x._super()}})}),ve(To,[Fi],function(L){return L.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var M=this,x=M._layout;return M.classes.add("btn-group"),M.preRender(),x.preRender(M),'<div id="'+M._id+'" class="'+M.classes+'"><div id="'+M._id+'-body">'+(M.settings.html||"")+x.renderHtml(M)+"</div></div>"}})}),ve(Eo,[Bn],function(L){return L.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(M){var x=this;x._super(M),x.on("click mousedown",function(w){w.preventDefault()}),x.on("click",function(w){w.preventDefault(),x.disabled()||x.checked(!x.checked())}),x.checked(x.settings.checked)},checked:function(M){return arguments.length?(this.state.set("checked",M),this):this.state.get("checked")},value:function(M){return arguments.length?this.checked(M):this.checked()},renderHtml:function(){var M=this,x=M._id,w=M.classPrefix;return'<div id="'+x+'" class="'+M.classes+'" unselectable="on" aria-labelledby="'+x+'-al" tabindex="-1"><i class="'+w+"ico "+w+'i-checkbox"></i><span id="'+x+'-al" class="'+w+'label">'+M.encode(M.state.get("text"))+"</span></div>"},bindStates:function(){function M(w){x.classes.toggle("checked",w),x.aria("checked",w)}var x=this;return x.state.on("change:text",function(w){x.getEl("al").firstChild.data=x.translate(w.value)}),x.state.on("change:checked change:value",function(w){x.fire("change"),M(w.value)}),x.state.on("change:icon",function(w){var v=w.value,f=x.classPrefix;if(typeof v>"u")return x.settings.icon;x.settings.icon=v,v=v?f+"ico "+f+"i-"+x.settings.icon:"";var p=x.getEl().firstChild,_=p.getElementsByTagName("i")[0];v?(_&&_==p.firstChild||(_=document.createElement("i"),p.insertBefore(_,p.firstChild)),_.className=v):_&&p.removeChild(_)}),x.state.get("checked")&&M(!0),x._super()}})}),ve(Zr,[Bn,Mi,ai,de,un,K],function(L,M,x,w,v,f){return L.extend({init:function(p){var _=this;_._super(p),p=_.settings,_.classes.add("combobox"),_.subinput=!0,_.ariaTarget="inp",p.menu=p.menu||p.values,p.menu&&(p.icon="caret"),_.on("click",function(C){var I=C.target,N=_.getEl();if(w.contains(N,I)||I==N)for(;I&&I!=N;)I.id&&-1!=I.id.indexOf("-open")&&(_.fire("action"),p.menu&&(_.showMenu(),C.aria&&_.menu.items()[0].focus())),I=I.parentNode}),_.on("keydown",function(C){var I;13==C.keyCode&&"INPUT"===C.target.nodeName&&(C.preventDefault(),_.parents().reverse().each(function(N){if(N.toJSON)return I=N,!1}),_.fire("submit",{data:I.toJSON()}))}),_.on("keyup",function(C){if("INPUT"==C.target.nodeName){var I=_.state.get("value"),N=C.target.value;N!==I&&(_.state.set("value",N),_.fire("autocomplete",C))}}),_.on("mouseover",function(C){var I=_.tooltip().moveTo(-65535);if(_.statusLevel()&&-1!==C.target.className.indexOf(_.classPrefix+"status")){var N=_.statusMessage()||"Ok",z=I.text(N).show().testMoveRel(C.target,["bc-tc","bc-tl","bc-tr"]);I.classes.toggle("tooltip-n","bc-tc"==z),I.classes.toggle("tooltip-nw","bc-tl"==z),I.classes.toggle("tooltip-ne","bc-tr"==z),I.moveRel(C.target,z)}})},statusLevel:function(p){return arguments.length>0&&this.state.set("statusLevel",p),this.state.get("statusLevel")},statusMessage:function(p){return arguments.length>0&&this.state.set("statusMessage",p),this.state.get("statusMessage")},showMenu:function(){var C,p=this;p.menu||((C=p.settings.menu||[]).length?C={type:"menu",items:C}:C.type=C.type||"menu",p.menu=M.create(C).parent(p).renderTo(p.getContainerElm()),p.fire("createmenu"),p.menu.reflow(),p.menu.on("cancel",function(I){I.control===p.menu&&p.focus()}),p.menu.on("show hide",function(I){I.control.items().each(function(N){N.active(N.value()==p.value())})}).fire("show"),p.menu.on("select",function(I){p.value(I.control.value())}),p.on("focusin",function(I){"INPUT"==I.target.tagName.toUpperCase()&&p.menu.hide()}),p.aria("expanded",!0)),p.menu.show(),p.menu.layoutRect({w:p.layoutRect().w}),p.menu.moveRel(p.getEl(),p.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var N,z,p=this,_=p.getEl(),C=p.getEl("open"),I=p.layoutRect(),V=0,Y=_.firstChild;p.statusLevel()&&"none"!==p.statusLevel()&&(V=parseInt(x.getRuntimeStyle(Y,"padding-right"),10)-parseInt(x.getRuntimeStyle(Y,"padding-left"),10)),N=C?I.w-x.getSize(C).width-10:I.w-10;var U=document;return U.all&&(!U.documentMode||U.documentMode<=8)&&(z=p.layoutRect().h-2+"px"),w(Y).css({width:N-V,lineHeight:z}),p._super(),p},postRender:function(){var p=this;return w(this.getEl("inp")).on("change",function(_){p.state.set("value",_.target.value),p.fire("change",_)}),p._super()},renderHtml:function(){var z,V,ne,p=this,_=p._id,C=p.settings,I=p.classPrefix,N=p.state.get("value")||"",Y="",U="";return"spellcheck"in C&&(U+=' spellcheck="'+C.spellcheck+'"'),C.maxLength&&(U+=' maxlength="'+C.maxLength+'"'),C.size&&(U+=' size="'+C.size+'"'),C.subtype&&(U+=' type="'+C.subtype+'"'),ne='<i id="'+_+'-status" class="mce-status mce-ico" style="display: none"></i>',p.disabled()&&(U+=' disabled="disabled"'),(z=C.icon)&&"caret"!=z&&(z=I+"ico "+I+"i-"+C.icon),V=p.state.get("text"),(z||V)&&(Y='<div id="'+_+'-open" class="'+I+"btn "+I+'open" tabIndex="-1" role="button"><button id="'+_+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=z?'<i class="'+z+'"></i>':'<i class="'+I+'caret"></i>')+(V?(z?" ":"")+V:"")+"</button></div>",p.classes.add("has-open")),'<div id="'+_+'" class="'+p.classes+'"><input id="'+_+'-inp" class="'+I+'textbox" value="'+p.encode(N,!1)+'" hidefocus="1"'+U+' placeholder="'+p.encode(C.placeholder)+'" />'+ne+Y+"</div>"},value:function(p){return arguments.length?(this.state.set("value",p),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(p,_){var C=this;if(0!==p.length){var I=function(z,V){return function(){C.fire("selectitem",{title:V,value:z})}};C.menu?C.menu.items().remove():C.menu=M.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(C).renderTo(),f.each(p,function(z){C.menu.add({text:z.title,url:z.previewUrl,match:_,classes:"menu-item-ellipsis",onclick:I(z.value,z.title)})}),C.menu.renderNew(),C.hideMenu(),C.menu.on("cancel",function(z){z.control.parent()===C.menu&&(z.stopPropagation(),C.focus(),C.hideMenu())}),C.menu.on("select",function(){C.focus()});var N=C.layoutRect().w;C.menu.layoutRect({w:N,minW:0,maxW:N}),C.menu.reflow(),C.menu.show(),C.menu.moveRel(C.getEl(),C.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else C.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var p=this;p.state.on("change:value",function(C){p.getEl("inp").value!=C.value&&(p.getEl("inp").value=C.value)}),p.state.on("change:disabled",function(C){p.getEl("inp").disabled=C.value}),p.state.on("change:statusLevel",function(C){var I=p.getEl("status"),N=p.classPrefix,z=C.value;x.css(I,"display","none"===z?"none":""),x.toggleClass(I,N+"i-checkmark","ok"===z),x.toggleClass(I,N+"i-warning","warn"===z),x.toggleClass(I,N+"i-error","error"===z),p.classes.toggle("has-status","none"!==z),p.repaint()}),x.on(p.getEl("status"),"mouseleave",function(){p.tooltip().hide()}),p.on("cancel",function(C){p.menu&&p.menu.visible()&&(C.stopPropagation(),p.hideMenu())});var _=function(C,I){I&&I.items().length>0&&I.items().eq(C)[0].focus()};return p.on("keydown",function(C){var I=C.keyCode;"INPUT"===C.target.nodeName&&(I===v.DOWN?(C.preventDefault(),p.fire("autocomplete"),_(0,p.menu)):I===v.UP&&(C.preventDefault(),_(-1,p.menu)))}),p._super()},remove:function(){w(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),ve(lo,[Zr],function(L){return L.extend({init:function(M){var x=this;M.spellcheck=!1,M.onaction&&(M.icon="none"),x._super(M),x.classes.add("colorbox"),x.on("change keyup postrender",function(){x.repaintColor(x.value())})},repaintColor:function(M){var x=this.getEl("open"),w=x?x.getElementsByTagName("i")[0]:null;if(w)try{w.style.background=M}catch{}},bindStates:function(){var M=this;return M.state.on("change:value",function(x){M.state.get("rendered")&&M.repaintColor(x.value)}),M._super()}})}),ve(Vo,[or,wr],function(L,M){return L.extend({showPanel:function(){var x=this,w=x.settings;if(x.active(!0),x.panel)x.panel.show();else{var v=w.panel;v.type&&(v={layout:"grid",items:v}),v.role=v.role||"dialog",v.popover=!0,v.autohide=!0,v.ariaRoot=!0,x.panel=new M(v).on("hide",function(){x.active(!1)}).on("cancel",function(f){f.stopPropagation(),x.focus(),x.hidePanel()}).parent(x).renderTo(x.getContainerElm()),x.panel.fire("show"),x.panel.reflow()}x.panel.moveRel(x.getEl(),w.popoverAlign||(x.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var x=this;return x.aria("haspopup",!0),x.on("click",function(w){w.control===x&&(x.panel&&x.panel.visible()?x.hidePanel():(x.showPanel(),x.panel.focus(!!w.aria)))}),x._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),ve(No,[Vo,P],function(L,M){var x=M.DOM;return L.extend({init:function(w){this._super(w),this.classes.add("colorbutton")},color:function(w){return w?(this._color=w,this.getEl("preview").style.backgroundColor=w,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var w=this,v=w._id,f=w.classPrefix,p=w.state.get("text"),_=w.settings.icon?f+"ico "+f+"i-"+w.settings.icon:"",C=w.settings.image?" style=\"background-image: url('"+w.settings.image+"')\"":"",I="";return p&&(w.classes.add("btn-has-text"),I='<span class="'+f+'txt">'+w.encode(p)+"</span>"),'<div id="'+v+'" class="'+w.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(_?'<i class="'+_+'"'+C+"></i>":"")+'<span id="'+v+'-preview" class="'+f+'preview"></span>'+I+'</button><button type="button" class="'+f+'open" hidefocus="1" tabindex="-1"> <i class="'+f+'caret"></i></button></div>'},postRender:function(){var w=this,v=w.settings.onclick;return w.on("click",function(f){f.aria&&"down"==f.aria.key||f.control!=w||x.getParent(f.target,"."+w.classPrefix+"open")||(f.stopImmediatePropagation(),v.call(w,f))}),delete w.settings.onclick,w._super()}})}),ve(ir,[],function(){var M=Math.min,x=Math.max,w=Math.round;return function L(v){function N(ne){var X;return"object"==typeof ne?"r"in ne?(V=ne.r,Y=ne.g,U=ne.b):"v"in ne&&function p(ne,X,le){var G,W,F,A;if(ne=(parseInt(ne,10)||0)%360,X=parseInt(X,10)/100,le=parseInt(le,10)/100,X=x(0,M(X,1)),le=x(0,M(le,1)),0!==X){switch(G=ne/60,F=(W=le*X)*(1-Math.abs(G%2-1)),A=le-W,Math.floor(G)){case 0:V=W,Y=F,U=0;break;case 1:V=F,Y=W,U=0;break;case 2:V=0,Y=W,U=F;break;case 3:V=0,Y=F,U=W;break;case 4:V=F,Y=0,U=W;break;case 5:V=W,Y=0,U=F;break;default:V=Y=U=0}V=w(255*(V+A)),Y=w(255*(Y+A)),U=w(255*(U+A))}else V=Y=U=w(255*le)}(ne.h,ne.s,ne.v):(X=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(ne))?(V=parseInt(X[1],10),Y=parseInt(X[2],10),U=parseInt(X[3],10)):(X=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(ne))?(V=parseInt(X[1],16),Y=parseInt(X[2],16),U=parseInt(X[3],16)):(X=/#([0-F])([0-F])([0-F])/gi.exec(ne))&&(V=parseInt(X[1]+X[1],16),Y=parseInt(X[2]+X[2],16),U=parseInt(X[3]+X[3],16)),V=V<0?0:V>255?255:V,Y=Y<0?0:Y>255?255:Y,U=U<0?0:U>255?255:U,z}var z=this,V=0,Y=0,U=0;v&&N(v),z.toRgb=function C(){return{r:V,g:Y,b:U}},z.toHsv=function I(){return function f(ne,X,le){var W,F,E,ie;return W=0,F=0,(E=M(ne/=255,M(X/=255,le/=255)))==(ie=x(ne,x(X,le)))?{h:0,s:0,v:100*(F=E)}:(W=(ie-E)/ie,F=ie,{h:w(60*((ne==E?3:le==E?1:5)-(ne==E?X-le:le==E?ne-X:le-ne)/(ie-E))),s:w(100*W),v:w(100*F)})}(V,Y,U)},z.toHex=function _(){function ne(X){return(X=parseInt(X,10).toString(16)).length>1?X:"0"+X}return"#"+ne(V)+ne(Y)+ne(U)},z.parse=N}}),ve(Oi,[Bn,Ui,ai,ir],function(L,M,x,w){return L.extend({Defaults:{classes:"widget colorpicker"},init:function(v){this._super(v)},postRender:function(){function v(ne,X){var G,W,le=x.getPos(ne);return G=X.pageX-le.x,W=X.pageY-le.y,{x:G=Math.max(0,Math.min(G/ne.clientWidth,1)),y:W=Math.max(0,Math.min(W/ne.clientHeight,1))}}function f(ne,X){x.css(V,{top:(360-ne.h)/360*100+"%"}),X||x.css(U,{left:ne.s+"%",top:100-ne.v+"%"}),Y.style.background=new w({s:100,v:100,h:ne.h}).toHex(),C.color().parse({s:ne.s,v:ne.v,h:ne.h})}function p(ne){var X;X=v(Y,ne),N.s=100*X.x,N.v=100*(1-X.y),f(N),C.fire("change")}function _(ne){var X;X=v(z,ne),(N=I.toHsv()).h=360*(1-X.y),f(N,!0),C.fire("change")}var N,z,V,Y,U,C=this,I=C.color();z=C.getEl("h"),V=C.getEl("hp"),Y=C.getEl("sv"),U=C.getEl("svp"),C._repaint=function(){f(N=I.toHsv())},C._super(),C._svdraghelper=new M(C._id+"-sv",{start:p,drag:p}),C._hdraghelper=new M(C._id+"-h",{start:_,drag:_}),C._repaint()},rgb:function(){return this.color().toRgb()},value:function(v){var f=this;return arguments.length?(f.color().parse(v),void(f._rendered&&f._repaint())):f.color().toHex()},color:function(){return this._color||(this._color=new w),this._color},renderHtml:function(){var C,f=this,p=f._id,_=f.classPrefix,I="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return C='<div id="'+p+'-h" class="'+_+'colorpicker-h" style="background: -ms-linear-gradient(top,'+I+");background: linear-gradient(to bottom,"+I+');">'+function v(){var z,V,U,ne,Y="";for(U="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",z=0,V=(ne=I.split(",")).length-1;z<V;z++)Y+='<div class="'+_+'colorpicker-h-chunk" style="height:'+100/V+"%;"+U+ne[z]+",endColorstr="+ne[z+1]+");-ms-"+U+ne[z]+",endColorstr="+ne[z+1]+')"></div>';return Y}()+'<div id="'+p+'-hp" class="'+_+'colorpicker-h-marker"></div></div>','<div id="'+p+'" class="'+f.classes+'"><div id="'+p+'-sv" class="'+_+'colorpicker-sv"><div class="'+_+'colorpicker-overlay1"><div class="'+_+'colorpicker-overlay2"><div id="'+p+'-svp" class="'+_+'colorpicker-selector1"><div class="'+_+'colorpicker-selector2"></div></div></div></div></div>'+C+"</div>"}})}),ve(Kr,[Bn],function(L){return L.extend({init:function(M){var x=this;M.delimiter||(M.delimiter="\xbb"),x._super(M),x.classes.add("path"),x.canFocus=!0,x.on("click",function(w){var v;(v=w.target.getAttribute("data-index"))&&x.fire("select",{value:x.row()[v],index:v})}),x.row(x.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(M){return arguments.length?(this.state.set("row",M),this):this.state.get("row")},renderHtml:function(){var M=this;return'<div id="'+M._id+'" class="'+M.classes+'">'+M._getDataPathHtml(M.state.get("row"))+"</div>"},bindStates:function(){var M=this;return M.state.on("change:row",function(x){M.innerHtml(M._getDataPathHtml(x.value))}),M._super()},_getDataPathHtml:function(M){var v,f,x=this,w=M||[],p="",_=x.classPrefix;for(v=0,f=w.length;v<f;v++)p+=(v>0?'<div class="'+_+'divider" aria-hidden="true"> '+x.settings.delimiter+" </div>":"")+'<div role="button" class="'+_+"path-item"+(v==f-1?" "+_+"last":"")+'" data-index="'+v+'" tabindex="-1" id="'+x._id+"-"+v+'" aria-level="'+(v+1)+'">'+w[v].name+"</div>";return p||(p='<div class="'+_+'path-item">\xa0</div>'),p}})}),ve(uo,[Kr],function(L){return L.extend({postRender:function(){function M(v){return!(1!==v.nodeType||"BR"!=v.nodeName&&!v.getAttribute("data-mce-bogus")&&"bookmark"!==v.getAttribute("data-mce-type"))}var x=this,w=x.settings.editor;return!1!==w.settings.elementpath&&(x.on("select",function(v){w.focus(),w.selection.select(this.row()[v.index].element),w.nodeChanged()}),w.on("nodeChange",function(v){for(var f=[],p=v.parents,_=p.length;_--;)if(1==p[_].nodeType&&!M(p[_])){var C=w.fire("ResolveName",{name:p[_].nodeName.toLowerCase(),target:p[_]});if(C.isDefaultPrevented()||f.push({name:C.name,element:p[_]}),C.isPropagationStopped())break}x.row(f)})),x._super()}})}),ve(Nr,[Fi],function(L){return L.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var M=this,x=M._layout,w=M.classPrefix;return M.classes.add("formitem"),x.preRender(M),'<div id="'+M._id+'" class="'+M.classes+'" hidefocus="1" tabindex="-1">'+(M.settings.title?'<div id="'+M._id+'-title" class="'+w+'title">'+M.settings.title+"</div>":"")+'<div id="'+M._id+'-body" class="'+M.bodyClasses+'">'+(M.settings.html||"")+x.renderHtml(M)+"</div></div>"}})}),ve(qr,[Fi,Nr,K],function(L,M,x){return L.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var w=this,v=w.items();w.settings.formItemDefaults||(w.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),v.each(function(f){var p,_=f.settings.label;_&&((p=new M(x.extend({items:{type:"label",id:f._id+"-l",text:_,flex:0,forId:f._id,disabled:f.disabled()}},w.settings.formItemDefaults))).type="formitem",f.aria("labelledby",f._id+"-l"),typeof f.settings.flex>"u"&&(f.settings.flex=1),w.replace(f,p),p.add(f))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var w=this;w._super(),w.fromJSON(w.settings.data)},bindStates:function(){function w(){var _,C,f=0,p=[];if(!1!==v.settings.labelGapCalc)for(("children"==v.settings.labelGapCalc?v.find("formitem"):v.items()).filter("formitem").each(function(N){var z=N.items()[0],V=z.getEl().clientWidth;f=V>f?V:f,p.push(z)}),C=v.settings.labelGap||0,_=p.length;_--;)p[_].settings.minWidth=f+C}var v=this;v._super(),v.on("show",w),w()}})}),ve(co,[qr],function(L){return L.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var M=this,x=M._layout,w=M.classPrefix;return M.preRender(),x.preRender(M),'<fieldset id="'+M._id+'" class="'+M.classes+'" hidefocus="1" tabindex="-1">'+(M.settings.title?'<legend id="'+M._id+'-title" class="'+w+'fieldset-title">'+M.settings.title+"</legend>":"")+'<div id="'+M._id+'-body" class="'+M.bodyClasses+'">'+(M.settings.html||"")+x.renderHtml(M)+"</div></fieldset>"}})}),ve(Wo,[P,zt,B,vo,K,ke],function(L,M,x,w,v,f){var p=v.trim,_=function(ae,Ce,Le,tt,Ze){return{type:ae,title:Ce,url:Le,level:tt,attach:Ze}},N=function(ae){return ae.innerText||ae.textContent},Y=function(ae){return function(ae){return ae&&"A"===ae.nodeName&&(ae.id||ae.name)}(ae)&&ne(ae)},U=function(ae){return ae&&/^(H[1-6])$/.test(ae.nodeName)},ne=function(ae){return function(ae){for(;ae=ae.parentNode;){var Ce=ae.contentEditable;if(Ce&&"inherit"!==Ce)return f.isContentEditableTrue(ae)}return!1}(ae)&&!f.isContentEditableFalse(ae)},X=function(ae){return U(ae)&&ne(ae)},G=function(ae){var Ce=function(ae){return ae.id?ae.id:w.uuid("h")}(ae);return _("header",N(ae),"#"+Ce,function(ae){return U(ae)?parseInt(ae.nodeName.substr(1),10):0}(ae),function(){ae.id=Ce})},W=function(ae){var Ce=ae.id||ae.name,Le=N(ae);return _("anchor",Le||"#"+Ce,"#"+Ce,0,M.noop)},ie=function(ae){return p(ae.title).length>0};return{find:function(ae){var Ce=function(ae){return function(ae,Ce){return L.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",Ce)}(0,ae)}(ae);return x.filter(function(ae){return x.map(x.filter(ae,X),G)}(Ce).concat(function(ae){return x.map(x.filter(ae,Y),W)}(Ce)),ie)}}}),ve(oa,[Zr,K,B,zt,un,Wo],function(L,M,x,w,v,f){var p={},C=function(F){return{title:F.title,value:{title:{raw:F.title},url:F.url,attach:F.attach}}},N=function(F,A){return{title:F,value:{title:F,url:A,attach:w.noop}}},V=function(F,A,E){var ie=A in F?F[A]:E;return!1===ie?null:ie},ne=function(F,A){var E=F.toLowerCase(),ie=M.grep(A,function(pe){return-1!==pe.title.toLowerCase().indexOf(E)});return 1===ie.length&&ie[0].title===F?[]:ie},le=function(F,A,E,ie){var pe=function(ae){var Le=function(F,A,E,ie){var Ze,qe,$e,pe={title:"-"},ae=function(Ze){var qe=x.filter(Ze[E],function($e){return function(F,A){return!x.find(A,function(ie){return ie.url===F})}($e,A)});return M.map(qe,function($e){return{title:$e,value:{title:$e,url:$e,attach:w.noop}}})},Ce=function(Ze){return function(F){return M.map(F,C)}(x.filter(A,function($e){return $e.type==Ze}))};return!1===ie.typeahead_urls?[]:"file"===E?function(Ze){return x.reduce(Ze,function(qe,$e){return 0===qe.length||0===$e.length?qe.concat($e):qe.concat(pe,$e)},[])}([ne(F,ae(p)),ne(F,Ce("header")),ne(F,(Ze=Ce("anchor"),qe=V(ie,"anchor_top","#top"),$e=V(ie,"anchor_bottom","#bottom"),null!==qe&&Ze.unshift(N("<top>",qe)),null!==$e&&Ze.push(N("<bottom>",$e)),Ze))]):ne(F,ae(p))}(ae,f.find(E),ie,A);F.showAutoComplete(Le,ae)};F.on("autocomplete",function(){pe(F.value())}),F.on("selectitem",function(ae){var Ce=ae.value;F.value(Ce.url);var Le=function(F){var A=F.title;return A.raw?A.raw:A}(Ce);F.fire("change","image"===ie?{meta:{alt:Le,attach:Ce.attach}}:{meta:{text:Le,attach:Ce.attach}}),F.focus()}),F.on("click",function(ae){0===F.value().length&&"INPUT"===ae.target.nodeName&&pe("")}),F.on("PostRender",function(){F.getRoot().on("submit",function(ae){ae.isDefaultPrevented()||function(F,A){var E=p[A];/^https?/.test(F)&&(E?-1===x.indexOf(E,F)&&(p[A]=E.slice(0,5).concat(F)):p[A]=[F])}(F.value(),ie)})})};return L.extend({init:function(F){var pe,ae,Ce,A=this,E=tinymce.activeEditor,ie=E.settings,Le=F.filetype;F.spellcheck=!1,(Ce=ie.file_picker_types||ie.file_browser_callback_types)&&(Ce=M.makeMap(Ce,/[, ]/)),Ce&&!Ce[Le]||(!(ae=ie.file_picker_callback)||Ce&&!Ce[Le]?!(ae=ie.file_browser_callback)||Ce&&!Ce[Le]||(pe=function(){ae(A.getEl("inp").id,A.value(),Le,window)}):pe=function(){var tt=A.fire("beforecall").meta;tt=M.extend({filetype:Le},tt),ae.call(E,function(Ze,qe){A.value(Ze).fire("change",{meta:qe})},A.value(),tt)}),pe&&(F.icon="browse",F.onaction=pe),A._super(F),le(A,ie,E.getBody(),Le),function(F,A,E){var ie=A.filepicker_validator_handler;ie&&F.state.on("change:value",function(ae){!function(ae){0===ae.length?F.statusLevel("none"):ie({url:ae,type:E},function(Ce){var Le=function(F){var A=F.status,E=F.message;return"valid"===A?{status:"ok",message:E}:"unknown"===A||"invalid"===A?{status:"warn",message:E}:{status:"none",message:""}}(Ce);F.statusMessage(Le.message),F.statusLevel(Le.status)})}(ae.value)})}(A,ie,Le)}})}),ve(Lr,[br],function(L){return L.extend({recalc:function(M){var x=M.layoutRect(),w=M.paddingBox;M.items().filter(":visible").each(function(v){v.layoutRect({x:w.left,y:w.top,w:x.innerW-w.right-w.left,h:x.innerH-w.top-w.bottom}),v.recalc&&v.recalc()})}})}),ve(Wr,[br],function(L){return L.extend({recalc:function(M){var x,w,v,f,p,_,C,I,N,z,V,Y,U,ne,le,W,F,A,E,ie,pe,ae,Ce,Le,tt,Ze,qe,$e,Qe,st,nt,Ie,Fe,et,ct,xt,Wt,G=[],ln=Math.max,mn=Math.min;for(v=M.items().filter(":visible"),f=M.layoutRect(),p=M.paddingBox,_=M.settings,Y=M.isRtl()?_.direction||"row-reversed":_.direction,C=_.align,I=M.isRtl()?_.pack||"end":_.pack,N=_.spacing||0,"row-reversed"!=Y&&"column-reverse"!=Y||(v=v.set(v.toArray().reverse()),Y=Y.split("-")[0]),"column"==Y?(Le="y",ae="h",Ce="minH",tt="maxH",qe="innerH",Ze="top",$e="deltaH",Qe="contentH",et="left",Ie="w",st="x",nt="innerW",Fe="minW",ct="right",xt="deltaW",Wt="contentW"):(Le="x",ae="w",Ce="minW",tt="maxW",qe="innerW",Ze="left",$e="deltaW",Qe="contentW",et="top",Ie="h",st="y",nt="innerH",Fe="minH",ct="bottom",xt="deltaH",Wt="contentH"),V=f[qe]-p[Ze]-p[Ze],pe=z=0,x=0,w=v.length;x<w;x++)ne=(U=v[x]).layoutRect(),V-=x<w-1?N:0,(le=U.settings.flex)>0&&(z+=le,ne[tt]&&G.push(U),ne.flex=le),V-=ne[Ce],(W=p[et]+ne[Fe]+p[ct])>pe&&(pe=W);if((E={})[Ce]=V<0?f[Ce]-V+f[$e]:f[qe]-V+f[$e],E[Fe]=pe+f[xt],E[Qe]=f[qe]-V,E[Wt]=pe,E.minW=mn(E.minW,f.maxW),E.minH=mn(E.minH,f.maxH),E.minW=ln(E.minW,f.startMinWidth),E.minH=ln(E.minH,f.startMinHeight),!f.autoResize||E.minW==f.minW&&E.minH==f.minH){for(A=V/z,x=0,w=G.length;x<w;x++)(W=(ne=(U=G[x]).layoutRect())[Ce]+ne.flex*A)>(F=ne[tt])?(V-=ne[tt]-ne[Ce],z-=ne.flex,ne.flex=0,ne.maxFlexSize=F):ne.maxFlexSize=0;for(A=V/z,ie=p[Ze],E={},0===z&&("end"==I?ie=V+p[Ze]:"center"==I?(ie=Math.round(f[qe]/2-(f[qe]-V)/2)+p[Ze])<0&&(ie=p[Ze]):"justify"==I&&(ie=p[Ze],N=Math.floor(V/(v.length-1)))),E[st]=p[et],x=0,w=v.length;x<w;x++)W=(ne=(U=v[x]).layoutRect()).maxFlexSize||ne[Ce],"center"===C?E[st]=Math.round(f[nt]/2-ne[Ie]/2):"stretch"===C?(E[Ie]=ln(ne[Fe]||0,f[nt]-p[et]-p[ct]),E[st]=p[et]):"end"===C&&(E[st]=f[nt]-ne[Ie]-p.top),ne.flex>0&&(W+=ne.flex*A),E[ae]=W,E[Le]=ie,U.layoutRect(E),U.recalc&&U.recalc(),ie+=W+N}else if(E.w=E.minW,E.h=E.minH,M.layoutRect(E),this.recalc(M),null===M._lastRect){var wn=M.parent();wn&&(wn._lastRect=null,wn.recalc())}}})}),ve(Do,[sr],function(L){return L.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(M){M.items().filter(":visible").each(function(x){x.recalc&&x.recalc()})},isNative:function(){return!0}})}),ve(Jr,[P],function(L){var M=function(_,C,I){for(;I!==C;){if(I.style[_])return I.style[_];I=I.parentNode}return""},v=function(_,C){return L.DOM.getStyle(C,_,!0)};return{getFontSize:function(_,C){var I=M("fontSize",_,C);return""!==I?I:v("fontSize",C)},getFontFamily:function(_,C){var I=M("fontFamily",_,C),N=""!==I?I:v("fontFamily",C);return N!==Ae?function(_){return _.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}(N):""},toPt:function(_){return/[0-9.]+px$/.test(_)?Math.round(72*parseInt(_,10)/96)+"pt":_}}}),ve(Ar,[nr,Bn,wr,K,B,P,Ji,J,Jr],function(L,M,x,w,v,f,p,_,C){function z(U){function ne($e,Qe){return function(){var st=this;U.on("nodeChange",function(nt){var Ie=U.formatter,Fe=null;V(nt.parents,function(et){if(V($e,function(ct){if(Qe?Ie.matchNode(et,Qe,{value:ct.value})&&(Fe=ct.value):Ie.matchNode(et,ct.value)&&(Fe=ct.value),Fe)return!1}),Fe)return!1}),st.value(Fe)})}}function le($e){return function(){var Qe=this;U.on("nodeChange",function(st){var nt,Ie,Fe=null;nt=C.getFontSize(U.getBody(),st.element),Ie=C.toPt(nt),V($e,function(et){et.value===nt?Fe=nt:et.value===Ie&&(Fe=Ie)}),Qe.value(Fe),Fe||Qe.text(Ie)})}}function G($e){for(var Qe=($e=$e.replace(/;$/,"").split(";")).length;Qe--;)$e[Qe]=$e[Qe].split("=");return $e}function F($e){return function(){var Qe=this;U.formatter?U.formatter.formatChanged($e,function(st){Qe.active(st)}):U.on("init",function(){U.formatter.formatChanged($e,function(st){Qe.active(st)})})}}function A($e){return function(){function Qe(){return!!U.undoManager&&U.undoManager["redo"==$e?"hasRedo":"hasUndo"]()}var st=this;st.disabled(!Qe()),U.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){st.disabled(U.readonly||!Qe())})}}function ie($e){$e.control&&($e=$e.control.value()),$e&&U.execCommand("mceToggleFormat",!1,$e)}function pe($e){var Qe=$e.length;return w.each($e,function(st){st.menu&&(st.hidden=0===pe(st.menu));var nt=st.format;nt&&(st.hidden=!U.formatter.canApply(nt)),st.hidden&&Qe--}),Qe}function ae($e){var Qe=$e.items().length;return $e.items().each(function(st){st.menu&&st.visible(ae(st.menu)>0),!st.menu&&st.settings.menu&&st.visible(pe(st.settings.menu)>0);var nt=st.settings.format;nt&&st.visible(U.formatter.canApply(nt)),st.visible()||Qe--}),Qe}var Ce;Ce=function W(){function $e(Fe){var et=[];if(Fe)return V(Fe,function(ct){var xt={text:ct.title,icon:ct.icon};if(ct.items)xt.menu=$e(ct.items);else{var Wt=ct.format||"custom"+st++;ct.format||(ct.name=Wt,nt.push(ct)),xt.format=Wt,xt.cmd=ct.cmd}et.push(xt)}),et}var st=0,nt=[],Ie=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return U.on("init",function(){V(nt,function(Fe){U.formatter.register(Fe.name,Fe)})}),{type:"menu",items:function Qe(){return $e(U.settings.style_formats_merge?U.settings.style_formats?Ie.concat(U.settings.style_formats):Ie:U.settings.style_formats||Ie)}(),onPostRender:function(Fe){U.fire("renderFormatsMenu",{control:Fe.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return U.formatter.getCssText(this.settings.format)},onPostRender:function(){var Fe=this;Fe.parent().on("show",function(){var et,ct;(et=Fe.settings.format)&&(Fe.disabled(!U.formatter.canApply(et)),Fe.active(U.formatter.match(et))),(ct=Fe.settings.cmd)&&Fe.active(U.queryCommandState(ct))})},onclick:function(){this.settings.format&&ie(this.settings.format),this.settings.cmd&&U.execCommand(this.settings.cmd)}}}}(),V({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function($e,Qe){U.addButton(Qe,{tooltip:$e,onPostRender:F(Qe),onclick:function(){ie(Qe)}})}),V({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function($e,Qe){U.addButton(Qe,{tooltip:$e[0],cmd:$e[1]})}),V({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function($e,Qe){U.addButton(Qe,{tooltip:$e[0],cmd:$e[1],onPostRender:F(Qe)})});var tt=function($e){var Qe,st;if("string"==typeof $e)st=$e.split(" ");else if(w.isArray($e))return Y(w.map($e,tt));return Qe=w.grep(st,function(nt){return"|"===nt||nt in U.menuItems}),w.map(Qe,function(nt){return"|"===nt?{text:"-"}:U.menuItems[nt]})};U.addButton("undo",{tooltip:"Undo",onPostRender:A("undo"),cmd:"undo"}),U.addButton("redo",{tooltip:"Redo",onPostRender:A("redo"),cmd:"redo"}),U.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),U.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:A("undo"),cmd:"undo"}),U.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:A("redo"),cmd:"redo"}),U.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function E(){var $e=this;U.on("VisualAid",function(Qe){$e.active(Qe.hasVisual)}),$e.active(U.hasVisual)},cmd:"mceToggleVisualAid"}),U.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),U.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){var $e,Qe,st;this.menu.add(function($e){var Qe=$e;return Qe.length>0&&"-"===Qe[0].text&&(Qe=Qe.slice(1)),Qe.length>0&&"-"===Qe[Qe.length-1].text&&(Qe=Qe.slice(0,Qe.length-1)),Qe}(($e=U.settings).insert_button_items?tt($e.insert_button_items):(Qe=[{text:"-"}],st=w.grep(U.menuItems,function(nt){return"insert"===nt.context}),w.each(st,function(nt){"before"==nt.separator&&Qe.push({text:"|"}),nt.prependToContext?Qe.unshift(nt):Qe.push(nt),"after"==nt.separator&&Qe.push({text:"|"})}),Qe))),this.menu.renderNew()}}),V({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function($e,Qe){U.addMenuItem(Qe,{text:$e[0],icon:Qe,shortcut:$e[2],cmd:$e[1]})}),U.on("mousedown",function(){x.hideAll()}),U.addButton("styleselect",{type:"menubutton",text:"Formats",menu:Ce,onShowMenu:function(){U.settings.style_formats_autohide&&ae(this.menu)}}),U.addButton("formatselect",function(){var $e=[],Qe=G(U.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return V(Qe,function(st){$e.push({text:st[0],value:st[1],textStyle:function(){return U.formatter.getCssText(st[1])}})}),{type:"listbox",text:Qe[0][0],values:$e,fixedWidth:!0,onselect:ie,onPostRender:ne($e)}}),U.addButton("fontselect",function(){var $e,Qe=[],st=G(U.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return V(st,function(nt){Qe.push({text:{raw:nt[0]},value:nt[1],textStyle:-1==nt[1].indexOf("dings")?"font-family:"+nt[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:Qe,fixedWidth:!0,onPostRender:($e=Qe,function(){var Qe=this,st=function(nt){return nt?nt.split(",")[0]:""};U.on("nodeChange",function(nt){var Ie,Fe=null;Ie=C.getFontFamily(U.getBody(),nt.element),V($e,function(et){et.value.toLowerCase()===Ie.toLowerCase()&&(Fe=et.value)}),V($e,function(et){Fe||st(et.value).toLowerCase()!==st(Ie).toLowerCase()||(Fe=et.value)}),Qe.value(Fe),!Fe&&Ie&&Qe.text(st(Ie))})}),onselect:function(nt){nt.control.settings.value&&U.execCommand("FontName",!1,nt.control.settings.value)}}}),U.addButton("fontsizeselect",function(){var $e=[];return V((U.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(nt){var Ie=nt,Fe=nt,et=nt.split("=");et.length>1&&(Ie=et[0],Fe=et[1]),$e.push({text:Ie,value:Fe})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:$e,fixedWidth:!0,onPostRender:le($e),onclick:function(nt){nt.control.settings.value&&U.execCommand("FontSize",!1,nt.control.settings.value)}}}),U.addMenuItem("formats",{text:"Formats",menu:Ce})}var V=w.each,Y=function(U){return v.reduce(U,function(ne,X){return ne.concat(X)},[])};p.on("AddEditor",function(U){var ne=U.editor;(function N(U){U.on("ScriptsLoaded",function(){U.rtl&&(L.rtl=!0)})})(ne),z(ne),function I(U){U.settings.ui_container&&(_.container=f.DOM.select(U.settings.ui_container)[0])}(ne)}),L.translate=function(U){return p.translate(U)},M.tooltips=!_.iOS}),ve(yo,[br],function(L){return L.extend({recalc:function(M){var x,w,v,f,p,_,C,I,N,z,V,Y,U,ne,X,le,G,W,F,A,E,ie,pe,Le,tt,Ze,qe,$e,ae=[],Ce=[];for((x=M.settings,f=M.items().filter(":visible"),p=M.layoutRect(),v=x.columns||Math.ceil(Math.sqrt(f.length)),w=Math.ceil(f.length/v),W=x.spacingH||x.spacing||0,F=x.spacingV||x.spacing||0,A=x.alignH||x.align,E=x.alignV||x.align,le=M.paddingBox,$e="reverseRows"in x?x.reverseRows:M.isRtl(),A&&"string"==typeof A&&(A=[A]),E&&"string"==typeof E&&(E=[E]),V=0);V<v;V++)ae.push(0);for(Y=0;Y<w;Y++)Ce.push(0);for(Y=0;Y<w;Y++)for(V=0;V<v&&(z=f[Y*v+V]);V++)tt=(N=z.layoutRect()).minH,ae[V]=(Le=N.minW)>ae[V]?Le:ae[V],Ce[Y]=tt>Ce[Y]?tt:Ce[Y];for(Ze=p.innerW-le.left-le.right,ie=0,V=0;V<v;V++)ie+=ae[V]+(V>0?W:0),Ze-=(V>0?W:0)+ae[V];for(qe=p.innerH-le.top-le.bottom,pe=0,Y=0;Y<w;Y++)pe+=Ce[Y]+(Y>0?F:0),qe-=(Y>0?F:0)+Ce[Y];if(pe+=le.top+le.bottom,(I={}).minW=(ie+=le.left+le.right)+(p.w-p.innerW),I.minH=pe+(p.h-p.innerH),I.contentW=I.minW-p.deltaW,I.contentH=I.minH-p.deltaH,I.minW=Math.min(I.minW,p.maxW),I.minH=Math.min(I.minH,p.maxH),I.minW=Math.max(I.minW,p.startMinWidth),I.minH=Math.max(I.minH,p.startMinHeight),!p.autoResize||I.minW==p.minW&&I.minH==p.minH){var st;p.autoResize&&((I=M.layoutRect(I)).contentW=I.minW-p.deltaW,I.contentH=I.minH-p.deltaH),st="start"==x.packV?0:qe>0?Math.floor(qe/w):0;var nt=0,Ie=x.flexWidths;if(Ie)for(V=0;V<Ie.length;V++)nt+=Ie[V];else nt=v;var Fe=Ze/nt;for(V=0;V<v;V++)ae[V]+=Ie?Ie[V]*Fe:Fe;for(ne=le.top,Y=0;Y<w;Y++){for(U=le.left,C=Ce[Y]+st,V=0;V<v&&(z=f[$e?Y*v+v-1-V:Y*v+V]);V++)X=z.settings,N=z.layoutRect(),_=Math.max(ae[V],N.startMinWidth),N.x=U,N.y=ne,"center"==(G=X.alignH||(A?A[V]||A[0]:null))?N.x=U+_/2-N.w/2:"right"==G?N.x=U+_-N.w:"stretch"==G&&(N.w=_),"center"==(G=X.alignV||(E?E[V]||E[0]:null))?N.y=ne+C/2-N.h/2:"bottom"==G?N.y=ne+C-N.h:"stretch"==G&&(N.h=C),z.layoutRect(N),U+=_+W,z.recalc&&z.recalc();ne+=C+F}}else if(I.w=I.minW,I.h=I.minH,M.layoutRect(I),this.recalc(M),null===M._lastRect){var et=M.parent();et&&(et._lastRect=null,et.recalc())}}})}),ve(mr,[Bn,j],function(L,M){return L.extend({renderHtml:function(){var x=this;return x.classes.add("iframe"),x.canFocus=!1,'<iframe id="'+x._id+'" class="'+x.classes+'" tabindex="-1" src="'+(x.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(x){this.getEl().src=x},html:function(x,w){var v=this,f=this.getEl().contentWindow.document.body;return f?(f.innerHTML=x,w&&w()):M.setTimeout(function(){v.html(x)}),this}})}),ve(ho,[Bn],function(L){return L.extend({init:function(M){var x=this;x._super(M),x.classes.add("widget").add("infobox"),x.canFocus=!1},severity:function(M){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(M)},help:function(M){this.state.set("help",M)},renderHtml:function(){var M=this,x=M.classPrefix;return'<div id="'+M._id+'" class="'+M.classes+'"><div id="'+M._id+'-body">'+M.encode(M.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+x+"ico "+x+'i-help"></i></button></div></div>'},bindStates:function(){var M=this;return M.state.on("change:text",function(x){M.getEl("body").firstChild.data=M.encode(x.value),M.state.get("rendered")&&M.updateLayoutRect()}),M.state.on("change:help",function(x){M.classes.toggle("has-help",x.value),M.state.get("rendered")&&M.updateLayoutRect()}),M._super()}})}),ve(qo,[Bn,ai],function(L,M){return L.extend({init:function(x){var w=this;w._super(x),w.classes.add("widget").add("label"),w.canFocus=!1,x.multiline&&w.classes.add("autoscroll"),x.strong&&w.classes.add("strong")},initLayoutRect:function(){var x=this,w=x._super();return x.settings.multiline&&(M.getSize(x.getEl()).width>w.maxW&&(w.minW=w.maxW,x.classes.add("multiline")),x.getEl().style.width=w.minW+"px",w.startMinH=w.h=w.minH=Math.min(w.maxH,M.getSize(x.getEl()).height)),w},repaint:function(){var x=this;return x.settings.multiline||(x.getEl().style.lineHeight=x.layoutRect().h+"px"),x._super()},severity:function(x){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(x)},renderHtml:function(){var w,v,x=this,f=x.settings.forId;return!f&&(v=x.settings.forName)&&(w=x.getRoot().find("#"+v)[0])&&(f=w._id),f?'<label id="'+x._id+'" class="'+x.classes+'"'+(f?' for="'+f+'"':"")+">"+x.encode(x.state.get("text"))+"</label>":'<span id="'+x._id+'" class="'+x.classes+'">'+x.encode(x.state.get("text"))+"</span>"},bindStates:function(){var x=this;return x.state.on("change:text",function(w){x.innerHtml(x.encode(w.value)),x.state.get("rendered")&&x.updateLayoutRect()}),x._super()}})}),ve(bo,[Fi],function(L){return L.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(M){this._super(M),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(x){x.classes.add("toolbar-item")}),this._super()}})}),ve(Mr,[bo],function(L){return L.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),ve(xo,[or,Mi,Mr],function(L,M,x){var v=L.extend({init:function(f){var p=this;p._renderOpen=!0,p._super(f),f=p.settings,p.classes.add("menubtn"),f.fixedWidth&&p.classes.add("fixed-width"),p.aria("haspopup",!0),p.state.set("menu",f.menu||p.render())},showMenu:function(f){var _,p=this;return p.menu&&p.menu.visible()&&!1!==f?p.hideMenu():(p.menu||((_=p.state.get("menu")||[]).length?_={type:"menu",items:_}:_.type=_.type||"menu",p.menu=_.renderTo?_.parent(p).show().renderTo():M.create(_).parent(p).renderTo(),p.fire("createmenu"),p.menu.reflow(),p.menu.on("cancel",function(C){C.control.parent()===p.menu&&(C.stopPropagation(),p.focus(),p.hideMenu())}),p.menu.on("select",function(){p.focus()}),p.menu.on("show hide",function(C){C.control==p.menu&&p.activeMenu("show"==C.type),p.aria("expanded","show"==C.type)}).fire("show")),p.menu.show(),p.menu.layoutRect({w:p.layoutRect().w}),p.menu.moveRel(p.getEl(),p.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void p.fire("showmenu"))},hideMenu:function(){var f=this;f.menu&&(f.menu.items().each(function(p){p.hideMenu&&p.hideMenu()}),f.menu.hide())},activeMenu:function(f){this.classes.toggle("active",f)},renderHtml:function(){var I,f=this,p=f._id,_=f.classPrefix,C=f.settings.icon,N=f.state.get("text"),z="";return(I=f.settings.image)?(C="none","string"!=typeof I&&(I=window.getSelection?I[0]:I[1]),I=" style=\"background-image: url('"+I+"')\""):I="",N&&(f.classes.add("btn-has-text"),z='<span class="'+_+'txt">'+f.encode(N)+"</span>"),C=f.settings.icon?_+"ico "+_+"i-"+C:"",f.aria("role",f.parent()instanceof x?"menuitem":"button"),'<div id="'+p+'" class="'+f.classes+'" tabindex="-1" aria-labelledby="'+p+'"><button id="'+p+'-open" role="presentation" type="button" tabindex="-1">'+(C?'<i class="'+C+'"'+I+"></i>":"")+z+' <i class="'+_+'caret"></i></button></div>'},postRender:function(){var f=this;return f.on("click",function(p){p.control===f&&function w(f,p){for(;f;){if(p===f)return!0;f=f.parentNode}return!1}(p.target,f.getEl())&&(f.focus(),f.showMenu(!p.aria),p.aria&&f.menu.items().filter(":visible")[0].focus())}),f.on("mouseenter",function(p){var I,_=p.control,C=f.parent();_&&C&&_ instanceof v&&_.parent()==C&&(C.items().filter("MenuButton").each(function(N){N.hideMenu&&N!=_&&(N.menu&&N.menu.visible()&&(I=!0),N.hideMenu())}),I&&(_.focus(),_.showMenu()))}),f._super()},bindStates:function(){var f=this;return f.state.on("change:menu",function(){f.menu&&f.menu.remove(),f.menu=null}),f._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return v}),ve(Yo,[Bn,Mi,J,j],function(L,M,x,w){return L.extend({Defaults:{border:0,role:"menuitem"},init:function(v){var p,f=this;f._super(v),v=f.settings,f.classes.add("menu-item"),v.menu&&f.classes.add("menu-item-expand"),v.preview&&f.classes.add("menu-item-preview"),"-"!==(p=f.state.get("text"))&&"|"!==p||(f.classes.add("menu-item-sep"),f.aria("role","separator"),f.state.set("text","-")),v.selectable&&(f.aria("role","menuitemcheckbox"),f.classes.add("menu-item-checkbox"),v.icon="selected"),v.preview||v.selectable||f.classes.add("menu-item-normal"),f.on("mousedown",function(_){_.preventDefault()}),v.menu&&!v.ariaHideMenu&&f.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var p,v=this,f=v.settings,_=v.parent();if(_.items().each(function(I){I!==v&&I.hideMenu()}),f.menu){(p=v.menu)?p.show():((p=f.menu).length?p={type:"menu",items:p}:p.type=p.type||"menu",_.settings.itemDefaults&&(p.itemDefaults=_.settings.itemDefaults),(p=v.menu=M.create(p).parent(v).renderTo()).reflow(),p.on("cancel",function(I){I.stopPropagation(),v.focus(),p.hide()}),p.on("show hide",function(I){I.control.items&&I.control.items().each(function(N){N.active(N.settings.selected)})}).fire("show"),p.on("hide",function(I){I.control===p&&v.classes.remove("selected")}),p.submenu=!0),p._parentMenu=_,p.classes.add("menu-sub");var C=p.testMoveRel(v.getEl(),v.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);p.moveRel(v.getEl(),C),p.rel=C,C="menu-sub-"+C,p.classes.remove(p._lastRel).add(C),p._lastRel=C,v.classes.add("selected"),v.aria("expanded",!0)}},hideMenu:function(){var v=this;return v.menu&&(v.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),v.menu.hide(),v.aria("expanded",!1)),v},renderHtml:function(){function f(G){return G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(G){var W=N.match||"";return W?G.replace(new RegExp(f(W),"gi"),function(F){return"!mce~match["+F+"]mce~match!"}):G}function _(G){return G.replace(new RegExp(f("!mce~match["),"g"),"<b>").replace(new RegExp(f("]mce~match!"),"g"),"</b>")}var le,C=this,I=C._id,N=C.settings,z=C.classPrefix,V=C.state.get("text"),Y=C.settings.icon,U="",ne=N.shortcut,X=C.encode(N.url);return Y&&C.parent().classes.add("menu-has-icons"),N.image&&(U=" style=\"background-image: url('"+N.image+"')\""),ne&&(ne=function v(G){var W,F,A;for(A=x.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},G=G.split("+"),W=0;W<G.length;W++)(F=A[G[W].toLowerCase()])&&(G[W]=F);return G.join("+")}(ne)),Y=z+"ico "+z+"i-"+(C.settings.icon||"none"),le="-"!==V?'<i class="'+Y+'"'+U+"></i>\xa0":"",V=_(C.encode(p(V))),X=_(C.encode(p(X))),'<div id="'+I+'" class="'+C.classes+'" tabindex="-1">'+le+("-"!==V?'<span id="'+I+'-text" class="'+z+'text">'+V+"</span>":"")+(ne?'<div id="'+I+'-shortcut" class="'+z+'menu-shortcut">'+ne+"</div>":"")+(N.menu?'<div class="'+z+'caret"></div>':"")+(X?'<div class="'+z+'menu-item-link">'+X+"</div>":"")+"</div>"},postRender:function(){var v=this,f=v.settings,p=f.textStyle;if("function"==typeof p&&(p=p.call(this)),p){var _=v.getEl("text");_&&_.setAttribute("style",p)}return v.on("mouseenter click",function(C){C.control===v&&(f.menu||"click"!==C.type?(v.showMenu(),C.aria&&v.menu.focus(!0)):(v.fire("select"),w.requestAnimationFrame(function(){v.parent().hideAll()})))}),v._super(),v},hover:function(){var v=this;return v.parent().items().each(function(f){f.classes.remove("selected")}),v.classes.toggle("selected",!0),v},active:function(v){return typeof v<"u"&&this.aria("checked",v),this._super(v)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),ve(D,[de,nr,j],function(L,M,x){return function(w,v){var p,C,f=this,_=M.classPrefix;f.show=function(I,N){function z(){p&&(L(w).append('<div class="'+_+"throbber"+(v?" "+_+"throbber-inline":"")+'"></div>'),N&&N())}return f.hide(),p=!0,I?C=x.setTimeout(z,I):z(),f},f.hide=function(){var I=w.lastChild;return x.clearTimeout(C),I&&-1!=I.className.indexOf("throbber")&&I.parentNode.removeChild(I),p=!1,f}}}),ve(te,[wr,Yo,D,K],function(L,M,x,w){return L.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(v){if(v.autohide=!0,v.constrainToViewport=!0,"function"==typeof v.items&&(v.itemsFactory=v.items,v.items=[]),v.itemDefaults)for(var p=v.items,_=p.length;_--;)p[_]=w.extend({},v.itemDefaults,p[_]);this._super(v),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function v(){f.throbber&&(f.throbber.hide(),f.throbber=null)}var p,f=this;f.settings.itemsFactory&&(f.throbber||(f.throbber=new x(f.getEl("body"),!0),0===f.items().length?(f.throbber.show(),f.fire("loading")):f.throbber.show(100,function(){f.items().remove(),f.fire("loading")}),f.on("hide close",v)),f.requestTime=p=(new Date).getTime(),f.settings.itemsFactory(function(C){return 0===C.length?void f.hide():void(f.requestTime===p&&(f.getEl().style.width="",f.getEl("body").style.width="",v(),f.items().remove(),f.getEl("body").innerHTML="",f.add(C),f.renderNew(),f.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var v=this;return v.items().each(function(f){var p=f.settings;if(p.icon||p.image||p.selectable)return v._hasIcons=!0,!1}),v.settings.itemsFactory&&v.on("postrender",function(){v.settings.itemsFactory&&v.load()}),v._super()}})}),ve(ye,[xo,te],function(L,M){return L.extend({init:function(x){var f,p,_,C,v=this;v._super(x),v._values=f=(x=v.settings).values,f&&(typeof x.value<"u"&&function w(I){for(var N=0;N<I.length;N++){if(p=I[N].selected||x.value===I[N].value)return _=_||I[N].text,v.state.set("value",I[N].value),!0;if(I[N].menu&&w(I[N].menu))return!0}}(f),!p&&f.length>0&&(_=f[0].text,v.state.set("value",f[0].value)),v.state.set("menu",f)),v.state.set("text",x.text||_),v.classes.add("listbox"),v.on("select",function(I){var N=I.control;C&&(I.lastControl=C),x.multiple?N.active(!N.active()):v.value(I.control.value()),C=N})},bindStates:function(){function w(f,p){var _;if(f)for(var C=0;C<f.length;C++){if(f[C].value===p)return f[C];if(f[C].menu&&(_=w(f[C].menu,p)))return _}}var v=this;return v.on("show",function(f){!function x(f,p){f instanceof M&&f.items().each(function(_){_.hasMenus()||_.active(_.value()===p)})}(f.control,v.value())}),v.state.on("change:value",function(f){var p=w(v.state.get("menu"),f.value);v.text(p?p.text:v.settings.text)}),v._super()}})}),ve(_e,[Eo],function(L){return L.extend({Defaults:{classes:"radio",role:"radio"}})}),ve(Ee,[Bn,Ui],function(L,M){return L.extend({renderHtml:function(){var x=this,w=x.classPrefix;return x.classes.add("resizehandle"),"both"==x.settings.direction&&x.classes.add("resizehandle-both"),x.canFocus=!1,'<div id="'+x._id+'" class="'+x.classes+'"><i class="'+w+"ico "+w+'i-resize"></i></div>'},postRender:function(){var x=this;x._super(),x.resizeDragHelper=new M(this._id,{start:function(){x.fire("ResizeStart")},drag:function(w){"both"!=x.settings.direction&&(w.deltaX=0),x.fire("Resize",w)},stop:function(){x.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),ve(Xe,[Bn],function(L){function M(x){var w="";if(x)for(var v=0;v<x.length;v++)w+='<option value="'+x[v]+'">'+x[v]+"</option>";return w}return L.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(x){var w=this;w._super(x),w.settings.size&&(w.size=w.settings.size),w.settings.options&&(w._options=w.settings.options),w.on("keydown",function(v){var f;13==v.keyCode&&(v.preventDefault(),w.parents().reverse().each(function(p){if(p.toJSON)return f=p,!1}),w.fire("submit",{data:f.toJSON()}))})},options:function(x){return arguments.length?(this.state.set("options",x),this):this.state.get("options")},renderHtml:function(){var w,x=this,v="";return w=M(x._options),x.size&&(v=' size = "'+x.size+'"'),'<select id="'+x._id+'" class="'+x.classes+'"'+v+">"+w+"</select>"},bindStates:function(){var x=this;return x.state.on("change:options",function(w){x.getEl().innerHTML=M(w.value)}),x._super()}})}),ve(He,[Bn,Ui,ai],function(L,M,x){function w(p,_,C){return p<_&&(p=_),p>C&&(p=C),p}function v(p,_,C){p.setAttribute("aria-"+_,C)}function f(p,_){var C,I,N,z,Y;"v"==p.settings.orientation?(z="top",N="height",I="h"):(z="left",N="width",I="w"),Y=p.getEl("handle"),C=(p.layoutRect()[I]||100)-x.getSize(Y)[N],Y.style[z]=C*((_-p._minValue)/(p._maxValue-p._minValue))+"px",Y.style.height=p.layoutRect().h+"px",v(Y,"valuenow",_),v(Y,"valuetext",""+p.settings.previewFilter(_)),v(Y,"valuemin",p._minValue),v(Y,"valuemax",p._maxValue)}return L.extend({init:function(p){var _=this;p.previewFilter||(p.previewFilter=function(C){return Math.round(100*C)/100}),_._super(p),_.classes.add("slider"),"v"==p.orientation&&_.classes.add("vertical"),_._minValue=p.minValue||0,_._maxValue=p.maxValue||100,_._initValue=_.state.get("value")},renderHtml:function(){var p=this,_=p._id;return'<div id="'+_+'" class="'+p.classes+'"><div id="'+_+'-handle" class="'+p.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var z,V,Y,U,ne,X,N=this;z=N._minValue,V=N._maxValue,"v"==N.settings.orientation?(Y="screenY",U="top",ne="height",X="h"):(Y="screenX",U="left",ne="width",X="w"),N._super(),function C(le,G){function W(F){var A;A=N.value(),A=function _(le,G,W){return W*(G-le)-le}(le,G,function p(le,G,W){return(W+le)/(G-le)}(le,G,A)+.05*F),A=w(A,le,G),N.value(A),N.fire("dragstart",{value:A}),N.fire("drag",{value:A}),N.fire("dragend",{value:A})}N.on("keydown",function(F){switch(F.keyCode){case 37:case 38:W(-1);break;case 39:case 40:W(1)}})}(z,V,N.getEl("handle")),function I(le,G,W){var F,A,E,ie,pe;N._dragHelper=new M(N._id,{handle:N._id+"-handle",start:function(ae){F=ae[Y],A=parseInt(N.getEl("handle").style[U],10),E=(N.layoutRect()[X]||100)-x.getSize(W)[ne],N.fire("dragstart",{value:pe})},drag:function(ae){ie=w(A+(ae[Y]-F),0,E),W.style[U]=ie+"px",N.value(pe=le+ie/E*(G-le)),N.tooltip().text(""+N.settings.previewFilter(pe)).show().moveRel(W,"bc tc"),N.fire("drag",{value:pe})},stop:function(){N.tooltip().hide(),N.fire("dragend",{value:pe})}})}(z,V,N.getEl("handle"))},repaint:function(){this._super(),f(this,this.value())},bindStates:function(){var p=this;return p.state.on("change:value",function(_){f(p,_.value)}),p._super()}})}),ve(Ge,[Bn],function(L){return L.extend({renderHtml:function(){var M=this;return M.classes.add("spacer"),M.canFocus=!1,'<div id="'+M._id+'" class="'+M.classes+'"></div>'}})}),ve(ft,[xo,ai,de],function(L,M,x){return L.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var _,w=this,v=w.getEl(),f=w.layoutRect();return w._super(),_=v.lastChild,x(v.firstChild).css({width:f.w-M.getSize(_).width,height:f.h-2}),x(_).css({height:f.h-2}),w},activeMenu:function(w){x(this.getEl().lastChild).toggleClass(this.classPrefix+"active",w)},renderHtml:function(){var p,w=this,v=w._id,f=w.classPrefix,_=w.state.get("icon"),C=w.state.get("text"),I="";return(p=w.settings.image)?(_="none","string"!=typeof p&&(p=window.getSelection?p[0]:p[1]),p=" style=\"background-image: url('"+p+"')\""):p="",_=w.settings.icon?f+"ico "+f+"i-"+_:"",C&&(w.classes.add("btn-has-text"),I='<span class="'+f+'txt">'+w.encode(C)+"</span>"),'<div id="'+v+'" class="'+w.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(_?'<i class="'+_+'"'+p+"></i>":"")+I+'</button><button type="button" class="'+f+'open" hidefocus="1" tabindex="-1">'+(w._menuBtnText?(_?"\xa0":"")+w._menuBtnText:"")+' <i class="'+f+'caret"></i></button></div>'},postRender:function(){var w=this,v=w.settings.onclick;return w.on("click",function(f){var p=f.target;if(f.control==this)for(;p;){if(f.aria&&"down"!=f.aria.key||"BUTTON"==p.nodeName&&-1==p.className.indexOf("open"))return f.stopImmediatePropagation(),void(v&&v.call(this,f));p=p.parentNode}}),delete w.settings.onclick,w._super()}})}),ve(S,[Do],function(L){return L.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),ve(k,[ki,de,ai],function(L,M,x){return L.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(w){var v;this.activeTabId&&(v=this.getEl(this.activeTabId),M(v).removeClass(this.classPrefix+"active"),v.setAttribute("aria-selected","false")),this.activeTabId="t"+w,(v=this.getEl("t"+w)).setAttribute("aria-selected","true"),M(v).addClass(this.classPrefix+"active"),this.items()[w].show().fire("showtab"),this.reflow(),this.items().each(function(f,p){w!=p&&f.hide()})},renderHtml:function(){var w=this,v=w._layout,f="",p=w.classPrefix;return w.preRender(),v.preRender(w),w.items().each(function(_,C){var I=w._id+"-t"+C;_.aria("role","tabpanel"),_.aria("labelledby",I),f+='<div id="'+I+'" class="'+p+'tab" unselectable="on" role="tab" aria-controls="'+_._id+'" aria-selected="false" tabIndex="-1">'+w.encode(_.settings.title)+"</div>"}),'<div id="'+w._id+'" class="'+w.classes+'" hidefocus="1" tabindex="-1"><div id="'+w._id+'-head" class="'+p+'tabs" role="tablist">'+f+'</div><div id="'+w._id+'-body" class="'+w.bodyClasses+'">'+v.renderHtml(w)+"</div></div>"},postRender:function(){var w=this;w._super(),w.settings.activeTab=w.settings.activeTab||0,w.activateTab(w.settings.activeTab),this.on("click",function(v){var f=v.target.parentNode;if(f&&f.id==w._id+"-head")for(var p=f.childNodes.length;p--;)f.childNodes[p]==v.target&&w.activateTab(p)})},initLayoutRect:function(){var v,f,p,w=this;f=(f=x.getSize(w.getEl("head")).width)<0?0:f,p=0,w.items().each(function(C){f=Math.max(f,C.layoutRect().minW),p=Math.max(p,C.layoutRect().minH)}),w.items().each(function(C){C.settings.x=0,C.settings.y=0,C.settings.w=f,C.settings.h=p,C.layoutRect({x:0,y:0,w:f,h:p})});var _=x.getSize(w.getEl("head")).height;return w.settings.minWidth=f,w.settings.minHeight=p+_,(v=w._super()).deltaH+=_,v.innerH=v.h-v.deltaH,v}})}),ve(re,[Bn,K,ai],function(L,M,x){return L.extend({init:function(w){var v=this;v._super(w),v.classes.add("textbox"),w.multiline?v.classes.add("multiline"):(v.on("keydown",function(f){var p;13==f.keyCode&&(f.preventDefault(),v.parents().reverse().each(function(_){if(_.toJSON)return p=_,!1}),v.fire("submit",{data:p.toJSON()}))}),v.on("keyup",function(f){v.state.set("value",f.target.value)}))},repaint:function(){var v,f,p,_,I,w=this,C=0;v=w.getEl().style,f=w._layoutRect,I=w._lastRepaintRect||{};var N=document;return!w.settings.multiline&&N.all&&(!N.documentMode||N.documentMode<=8)&&(v.lineHeight=f.h-C+"px"),_=(p=w.borderBox).left+p.right+8,C=p.top+p.bottom+(w.settings.multiline?8:0),f.x!==I.x&&(v.left=f.x+"px",I.x=f.x),f.y!==I.y&&(v.top=f.y+"px",I.y=f.y),f.w!==I.w&&(v.width=f.w-_+"px",I.w=f.w),f.h!==I.h&&(v.height=f.h-C+"px",I.h=f.h),w._lastRepaintRect=I,w.fire("repaint",{},!1),w},renderHtml:function(){var f,p,w=this,v=w.settings;return f={id:w._id,hidefocus:"1"},M.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(_){f[_]=v[_]}),w.disabled()&&(f.disabled="disabled"),v.subtype&&(f.type=v.subtype),(p=x.create(v.multiline?"textarea":"input",f)).value=w.state.get("value"),p.className=w.classes,p.outerHTML},value:function(w){return arguments.length?(this.state.set("value",w),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var w=this;w.getEl().value=w.state.get("value"),w._super(),w.$el.on("change",function(v){w.state.set("value",v.target.value),w.fire("change",v)})},bindStates:function(){var w=this;return w.state.on("change:value",function(v){w.getEl().value!=v.value&&(w.getEl().value=v.value)}),w.state.on("change:disabled",function(v){w.getEl().disabled=v.value}),w._super()},remove:function(){this.$el.off(),this._super()}})}),ve("tinymce/Register",[],function(){var L=this||window;return"function"==typeof L.define&&(L.define.amd||L.define("ephox/tinymce",[],function(){return L.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function ge(L){var M,x,w,v,f;for(M=0;M<L.length;M++){x=be,v=(w=L[M]).split(/[.\/]/);for(var p=0;p<v.length-1;++p)x[v[p]]===Ae&&(x[v[p]]={}),x=x[v[p]];x[v[v.length-1]]=Q[w]}if(be.AMDLC_TESTS){for(w in f=be.privateModules||{},Q)f[w]=Q[w];for(M=0;M<L.length;M++)delete f[L[M]];be.privateModules=f}}([Z,q,j,J,ee,O,K,de,me,he,Ne,P,We,xe,Re,Je,ht,dt,Nt,bt,on,Tt,un,vn,On,yi,oi,gn,ri,Yt,fn,Tn,Pn,qn,$n,Zi,nr,Mi,gr,Fi,Ui,Vi,ki,pr,Wi,wr,io,Qt,hn,Un,Bn,Qn,bi,wi,Ci,mi,yr,Hr,hr,Ji,Co,Qi,Bi,Gr,Vr,$i,sr,br,or,To,Eo,Zr,lo,Vo,No,ir,Oi,Kr,uo,Nr,qr,co,oa,Lr,Wr,Do,Ar,yo,mr,ho,qo,bo,Mr,xo,Yo,D,te,ye,_e,Ee,Xe,He,Ge,ft,S,k,re])}(window),function(){var be={},ve=function(Z){var q=be[Z];if(void 0===q)throw"module ["+Z+"] was undefined";return void 0===q.instance&&function(Z){for(var q=be[Z],j=q.deps,J=q.defn,ee=j.length,O=new Array(ee),B=0;B<ee;++B)O[B]=ve(j[B]);var K=J.apply(null,O);if(void 0===K)throw"module ["+Z+"] returned undefined";q.instance=K}(Z),q.instance},ge=function(Z,q,j){if("string"!=typeof Z)throw"module id must be a string";if(void 0===q)throw"no dependencies for "+Z;if(void 0===j)throw"no definition function for "+Z;be[Z]={deps:q,defn:j,instance:void 0}},Q=function(Z,q){ge(Z,[],function(){return q})};Q("1",tinymce.Env),Q("2",tinymce.EditorManager),Q("3",tinymce.ThemeManager),Q("8",tinymce.util.Tools),Q("9",tinymce.ui.Factory),Q("a",tinymce.DOM),ge("b",["8","9"],function(Z,q){var J=function(O,B,K){var de,me=[];if(B)return Z.each(B.split(/[ ,]/),function(he){var Ne=function(){var Ye=O.selection;he.settings.stateSelector&&Ye.selectorChanged(he.settings.stateSelector,function(P){he.active(P)},!0),he.settings.disabledStateSelector&&Ye.selectorChanged(he.settings.disabledStateSelector,function(P){he.disabled(P)})};"|"==he?de=null:q.has(he)?(me.push(he={type:he,size:K}),de=null):(de||me.push(de={type:"buttongroup",items:[]}),O.buttons[he]&&("function"==typeof(he=O.buttons[he])&&(he=he()),he.type=he.type||"button",he.size=K,he=q.create(he),de.items.push(he),O.initialized?Ne():O.on("init",Ne)))}),{type:"toolbar",layout:"flow",items:me}};return{createToolbar:J,createToolbars:function(O,B){var K=[],de=O.settings,me=function(De){if(De)return K.push(J(O,De,B)),!0};if(Z.isArray(de.toolbar)){if(0===de.toolbar.length)return;Z.each(de.toolbar,function(De,Ne){de["toolbar"+(Ne+1)]=De}),delete de.toolbar}for(var he=1;he<10&&me(de["toolbar"+he]);he++);if(K.length||!1===de.toolbar||me(de.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),K.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:K}}}}),ge("c",["8"],function(Z){var q={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},j=function(O,B){return"|"==B?{text:"|"}:O[B]},J=function(O,B,K){var de,me,he,De,Ne;if(Ne=Z.makeMap((B.removed_menuitems||"").split(/[ ,]/)),B.menu?(me=B.menu[K],De=!0):me=q[K],me){de={text:me.title},he=[],Z.each((me.items||"").split(/[ ,]/),function(P){j(O,P)&&!Ne[P]&&he.push(j(O,P))}),De||Z.each(O,function(P){P.context==K&&("before"==P.separator&&he.push({text:"|"}),P.prependToContext?he.unshift(P):he.push(P),"after"==P.separator&&he.push({text:"|"}))});for(var Ye=0;Ye<he.length;Ye++)"|"==he[Ye].text&&(0!==Ye&&Ye!=he.length-1||he.splice(Ye,1));if(de.menu=he,!de.menu.length)return null}return de};return{createMenuButtons:function(O){var B,K=[],de=O.settings,me=[];if(de.menu)for(B in de.menu)me.push(B);else for(B in q)me.push(B);for(var he="string"==typeof de.menubar?de.menubar.split(/[ ,]/):me,De=0;De<he.length;De++){var Ne=he[De];(Ne=J(O.menuItems,O.settings,Ne))&&K.push(Ne)}return K}}}),Q("j",tinymce.util.Delay),Q("k",tinymce.geom.Rect),ge("d",["a","8","j","b","9","k"],function(Z,q,j,J,ee,O){var B=function(Ne){return{left:Ne.x,top:Ne.y,width:Ne.w,height:Ne.h,right:Ne.x+Ne.w,bottom:Ne.y+Ne.h}},de=function(Ne,Ye){Ne.moveTo(Ye.left,Ye.top)},he=function(Ne,Ye,P,We,xe,ke){return ke=B({x:Ye,y:P,w:ke.w,h:ke.h}),Ne&&(ke=Ne({elementRect:B(We),contentAreaRect:B(xe),panelRect:ke})),ke};return{addContextualToolbars:function(Ne){var Ye,P=Ne.settings,We=function(){return Ne.contextToolbars||[]},ke=function(ht,dt){var Nt,bt,on,Tt,Pt,un,vn,cn=P.inline_toolbar_position_handler;if(!Ne.removed){if(!ht||!ht.toolbar.panel)return void function(Ne){q.each(Ne.contextToolbars,function(Ye){Ye.panel&&Ye.panel.hide()})}(Ne);vn=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],Pt=ht.toolbar.panel,dt&&Pt.show(),on=function(ht){var dt,Nt,bt;return dt=Z.getPos(Ne.getContentAreaContainer()),Nt=Ne.dom.getRect(ht),"BODY"===(bt=Ne.dom.getRoot()).nodeName&&(Nt.x-=bt.ownerDocument.documentElement.scrollLeft||bt.scrollLeft,Nt.y-=bt.ownerDocument.documentElement.scrollTop||bt.scrollTop),Nt.x+=dt.x,Nt.y+=dt.y,Nt}(ht.element),bt=Z.getRect(Pt.getEl()),Tt=Z.getRect(Ne.getContentAreaContainer()||Ne.getBody()),"inline"!==Z.getStyle(ht.element,"display",!0)&&(on.w=ht.element.clientWidth,on.h=ht.element.clientHeight),Ne.inline||(Tt.w=Ne.getDoc().documentElement.offsetWidth),Ne.selection.controlSelection.isResizable(ht.element)&&on.w<25&&(on=O.inflate(on,0,8)),Nt=O.findBestRelativePosition(bt,on,Tt,vn),on=O.clamp(on,Tt),Nt?(un=O.relativePosition(bt,on,Nt),de(Pt,he(cn,un.x,un.y,on,Tt,bt))):(Tt.h+=bt.h,(on=O.intersect(Tt,on))?(Nt=O.findBestRelativePosition(bt,on,Tt,["bc-tc","bl-tl","br-tr"]))?(un=O.relativePosition(bt,on,Nt),de(Pt,he(cn,un.x,un.y,on,Tt,bt))):de(Pt,he(cn,on.x,on.y,on,Tt,bt)):Pt.hide()),function(Ne,Ye,P){Ye=Ye?Ye.substr(0,2):"",q.each({t:"down",b:"up"},function(We,xe){Ne.classes.toggle("arrow-"+We,P(xe,Ye.substr(0,1)))}),q.each({l:"left",r:"right"},function(We,xe){Ne.classes.toggle("arrow-"+We,P(xe,Ye.substr(1,1)))})}(Pt,Nt,function(Mn,Zt){return Mn===Zt})}},Ve=function(ht){return function(){j.requestAnimationFrame(function(){Ne.selection&&ke(Je(Ne.selection.getNode()),ht)})}},je=function(){q.each(We(),function(ht){ht.panel&&ht.panel.hide()})},Je=function(ht){var dt,Nt,bt,on=We();for(dt=(bt=Ne.$(ht).parents().add(ht)).length-1;dt>=0;dt--)for(Nt=on.length-1;Nt>=0;Nt--)if(on[Nt].predicate(bt[dt]))return{toolbar:on[Nt],element:bt[dt]};return null};Ne.on("click keyup setContent ObjectResized",function(ht){("setcontent"!==ht.type||ht.selection)&&j.setEditorTimeout(Ne,function(){var dt;(dt=Je(Ne.selection.getNode()))?(je(),function(ht){var dt;ht.toolbar.panel?(ht.toolbar.panel.show(),ke(ht)):(Ye||(Ye=Ne.selection.getScrollContainer()||Ne.getWin(),Z.bind(Ye,"scroll",Ve(!0)),Ne.on("remove",function(){Z.unbind(Ye,"scroll")})),dt=ee.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:J.createToolbar(Ne,ht.toolbar.items),oncancel:function(){Ne.focus()}}),ht.toolbar.panel=dt,dt.renderTo(document.body).reflow(),ke(ht))}(dt)):je()})}),Ne.on("blur hide contextmenu",je),Ne.on("ObjectResizeStart",function(){var ht=Je(Ne.selection.getNode());ht&&ht.toolbar.panel&&ht.toolbar.panel.hide()}),Ne.on("ResizeEditor ResizeWindow",Ve(!0)),Ne.on("nodeChange",Ve(!1)),Ne.on("remove",function(){q.each(We(),function(ht){ht.panel&&ht.panel.remove()}),Ne.contextToolbars={}}),Ne.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var ht=Je(Ne.selection.getNode());ht&&ht.toolbar.panel&&ht.toolbar.panel.items()[0].focus()})}}}),ge("e",[],function(){var Z=function(j,J){return function(){var ee=j.find(J)[0];ee&&ee.focus(!0)}};return{addKeys:function(j,J){j.shortcuts.add("Alt+F9","",Z(J,"menubar")),j.shortcuts.add("Alt+F10,F10","",Z(J,"toolbar")),j.shortcuts.add("Alt+F11","",Z(J,"elementpath")),J.on("cancel",function(){j.focus()})}}}),ge("f",["8","9","1"],function(Z,q,j){var ee=function(Ne,Ye,P){var We=Ne.settings[P];We&&We(function(Ne){return{element:function(){return Ne}}}(Ye.getEl("body")))},de=function(Ne,Ye,P){return function(We){var xe=We.control,ke=xe.parents().filter("panel")[0],Ve=ke.find("#"+Ye)[0],ue=function(Ne,Ye){return Z.grep(Ne,function(P){return P.name===Ye})[0]}(P,Ye);(function(Ne,Ye,P){Z.each(P,function(We){var xe=Ye.items().filter("#"+We.name)[0];xe&&xe.visible()&&We.name!==Ne&&(ee(We,xe,"onhide"),xe.visible(!1))})})(Ye,ke,P),function(Ne){Ne.items().each(function(Ye){Ye.active(!1)})}(xe.parent()),Ve&&Ve.visible()?(ee(ue,Ve,"onhide"),Ve.hide(),xe.active(!1)):(Ve?(Ve.show(),ee(ue,Ve,"onshow")):(Ve=q.create({type:"container",name:Ye,layout:"stack",classes:"sidebar-panel",html:""}),ke.prepend(Ve),ee(ue,Ve,"onrender"),ee(ue,Ve,"onshow")),xe.active(!0)),Ne.fire("ResizeEditor")}};return{hasSidebar:function(Ne){return!(j.ie&&!(j.ie>=11)||!Ne.sidebars)&&Ne.sidebars.length>0},createSidebar:function(Ne){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:Z.map(Ne.sidebars,function(P){var We=P.settings;return{type:"button",icon:We.icon,image:We.image,tooltip:We.tooltip,onclick:de(Ne,P.name,Ne.sidebars)}})}]}}}}),ge("g",[],function(){return{fireSkinLoaded:function(q){var j=function(){q._skinLoaded=!0,q.fire("SkinLoaded")};return function(){q.initialized?j():q.on("init",j)}}}}),ge("6",["a"],function(Z){var q=function(ee){return{width:ee.clientWidth,height:ee.clientHeight}},j=function(ee,O,B){var K,de,me,he,De=ee.settings;K=ee.getContainer(),de=ee.getContentAreaContainer().firstChild,me=q(K),he=q(de),null!==O&&(O=Math.max(De.min_width||100,O),O=Math.min(De.max_width||65535,O),Z.setStyle(K,"width",O+(me.width-he.width)),Z.setStyle(de,"width",O)),B=Math.max(De.min_height||100,B),B=Math.min(De.max_height||65535,B),Z.setStyle(de,"height",B),ee.fire("ResizeEditor")};return{resizeTo:j,resizeBy:function(ee,O,B){var K=ee.getContentAreaContainer();j(ee,K.clientWidth+O,K.clientHeight+B)}}}),ge("4",["8","9","a","b","c","d","e","f","g","6"],function(Z,q,j,J,ee,O,B,K,de,me){var De=function(P){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:P,html:""}},Ne=function(P){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[De("0"),K.createSidebar(P)]}};return{render:function(P,We,xe){var ke,Ve,ue,Re=P.settings;return xe.skinUiCss&&j.styleSheetLoader.load(xe.skinUiCss,de.fireSkinLoaded(P)),ke=We.panel=q.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===Re.menubar?null:{type:"menubar",border:"0 0 1 0",items:ee.createMenuButtons(P)},J.createToolbars(P,Re.toolbar_items_size),K.hasSidebar(P)?Ne(P):De("1 0 0 0")]}),!1!==Re.resize&&(Ve={type:"resizehandle",direction:Re.resize,onResizeStart:function(){var je=P.getContentAreaContainer().firstChild;ue={width:je.clientWidth,height:je.clientHeight}},onResize:function(je){me.resizeTo(P,"both"===Re.resize?ue.width+je.deltaX:null,ue.height+je.deltaY)}}),!1!==Re.statusbar&&ke.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:P},Ve]}),P.fire("BeforeRenderUI"),P.on("SwitchMode",function(P){return function(We){P.find("*").disabled("readonly"===We.mode)}}(ke)),ke.renderBefore(xe.targetNode).reflow(),Re.readonly&&P.setMode("readonly"),Re.width&&j.setStyle(ke.getEl(),"width",Re.width),P.on("remove",function(){ke.remove(),ke=null}),B.addKeys(P,ke),O.addContextualToolbars(P),{iframeContainer:ke.find("#iframe")[0].getEl(),editorContainer:ke.getEl()}}}}),Q("h",tinymce.ui.FloatPanel),ge("5",["8","9","a","h","b","c","d","e","g"],function(Z,q,j,J,ee,O,B,K,de){return{render:function(he,De,Ne){var Ye,P,We=he.settings;We.fixed_toolbar_container&&(P=j.select(We.fixed_toolbar_container)[0]);var xe=function(){if(Ye&&Ye.moveRel&&Ye.visible()&&!Ye._fixed){var Re=he.selection.getScrollContainer(),je=he.getBody(),Je=0,ht=0;if(Re){var dt=j.getPos(je),Nt=j.getPos(Re);Je=Math.max(0,Nt.x-dt.x),ht=Math.max(0,Nt.y-dt.y)}Ye.fixed(!1).moveRel(je,he.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(Je,ht)}},ke=function(){Ye&&(Ye.show(),xe(),j.addClass(he.getBody(),"mce-edit-focus"))},Ve=function(){Ye&&(Ye.hide(),J.hideAll(),j.removeClass(he.getBody(),"mce-edit-focus"))},ue=function(){return Ye?void(Ye.visible()||ke()):(Ye=De.panel=q.create({type:P?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!P,border:1,items:[!1===We.menubar?null:{type:"menubar",border:"0 0 1 0",items:O.createMenuButtons(he)},ee.createToolbars(he,We.toolbar_items_size)]}),he.fire("BeforeRenderUI"),Ye.renderTo(P||document.body).reflow(),K.addKeys(he,Ye),ke(),B.addContextualToolbars(he),he.on("nodeChange",xe),he.on("activate",ke),he.on("deactivate",Ve),void he.nodeChanged())};return We.content_editable=!0,he.on("focus",function(){Ne.skinUiCss?j.styleSheetLoader.load(Ne.skinUiCss,ue,ue):ue()}),he.on("blur hide",Ve),he.on("remove",function(){Ye&&(Ye.remove(),Ye=null)}),Ne.skinUiCss&&j.styleSheetLoader.load(Ne.skinUiCss,de.fireSkinLoaded(he)),{}}}}),Q("i",tinymce.ui.Throbber),ge("7",["i"],function(Z){return{setup:function(j,J){var ee;j.on("ProgressState",function(O){ee=ee||new Z(J.panel.getEl("body")),O.state?ee.show(O.time):ee.hide()})}}}),ge("0",["1","2","3","4","5","6","7"],function(Z,q,j,J,ee,O,B){return j.add("modern",function(de){return{renderUI:function(me){return function(de,me,he){var De=de.settings,Ne=!1!==De.skin&&(De.skin||"lightgray");if(Ne){var Ye=De.skin_url;Ye=Ye?de.documentBaseURI.toAbsolute(Ye):q.baseURL+"/skins/"+Ne,he.skinUiCss=Z.documentMode<=7?Ye+"/skin.ie7.min.css":Ye+"/skin.min.css",de.contentCSS.push(Ye+"/content"+(de.inline?".inline":"")+".min.css")}return B.setup(de,me),De.inline?ee.render(de,me,he):J.render(de,me,he)}(de,this,me)},resizeTo:function(me,he){return O.resizeTo(de,me,he)},resizeBy:function(me,he){return O.resizeBy(de,me,he)}}}),function(){}}),ve("0")()}(),tinymce.PluginManager.add("link",function(be){function Ae(he){return he&&"A"===he.nodeName&&he.href}function Sn(he){return tinymce.util.Tools.grep(he,Ae).length>0}function ve(he){return be.dom.getParent(he,"a[href]")}function at(){return ve(be.selection.getStart())}function j(he){if(he){var De=function ce(he){return he.getAttribute("data-mce-href")||he.getAttribute("href")}(he);if(/^#/.test(De)){var Ne=be.$(De);Ne.length&&be.selection.scrollIntoView(Ne[0],!0)}else!function q(he){if(!tinymce.Env.ie||tinymce.Env.ie>10){var De=document.createElement("a");De.target="_blank",De.href=he,De.rel="noreferrer noopener";var Ne=document.createEvent("MouseEvents");Ne.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function Z(he,De){document.body.appendChild(he),he.dispatchEvent(De),document.body.removeChild(he)}(De,Ne)}else{var Ye=window.open("","_blank");if(Ye){Ye.opener=null;var P=Ye.document;P.open(),P.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(he)+'">'),P.close()}}}(he.href)}}function J(){j(at())}function O(he){return function(){var De=be.settings.link_list;"string"==typeof De?tinymce.util.XHR.send({url:De,success:function(Ne){he(tinymce.util.JSON.parse(Ne))}}):"function"==typeof De?De(he):he(De)}}function B(he,De,Ne){return function Ye(P,We){return We=We||[],tinymce.each(P,function(xe){var ke={text:xe.text||xe.title};xe.menu?ke.menu=Ye(xe.menu):(ke.value=xe.value,De&&De(ke)),We.push(ke)}),We}(he,Ne||[])}function K(he){function De(zt){var cn=Re.find("#text");(!cn.value()||zt.lastControl&&cn.value()==zt.lastControl.text())&&cn.value(zt.control.text()),Re.find("#href").value(zt.control.value())}function Ye(){!ue&&0===Pt.text.length&&je&&this.parent().parent().find("#text")[0].value(this.value())}var ke,Ve,ue,Re,je,Je,ht,dt,Nt,bt,on,Tt,Pt={},un=be.selection,vn=be.dom;ke=un.getNode(),Ve=vn.getParent(ke,"a[href]"),je=function We(zt){var cn=un.getContent();if(/</.test(cn)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(cn)||-1==cn.indexOf("href=")))return!1;if(zt){var Mn,Zt=zt.childNodes;if(0===Zt.length)return!1;for(Mn=Zt.length-1;Mn>=0;Mn--)if(3!=Zt[Mn].nodeType)return!1}return!0}(),Pt.text=ue=Ve?Ve.innerText||Ve.textContent:un.getContent({format:"text"}),Pt.href=Ve?vn.getAttrib(Ve,"href"):"",Ve?Pt.target=vn.getAttrib(Ve,"target"):be.settings.default_link_target&&(Pt.target=be.settings.default_link_target),(Tt=vn.getAttrib(Ve,"rel"))&&(Pt.rel=Tt),(Tt=vn.getAttrib(Ve,"class"))&&(Pt.class=Tt),(Tt=vn.getAttrib(Ve,"title"))&&(Pt.title=Tt),je&&(Je={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){Pt.text=this.value()}}),he&&(ht={type:"listbox",label:"Link list",values:B(he,function(zt){zt.value=be.convertURL(zt.value||zt.url,"href")},[{text:"None",value:""}]),onselect:De,value:be.convertURL(Pt.href,"href"),onPostRender:function(){ht=this}}),!1!==be.settings.target_list&&(be.settings.target_list||(be.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),Nt={name:"target",type:"listbox",label:"Target",values:B(be.settings.target_list)}),be.settings.rel_list&&(dt={name:"rel",type:"listbox",label:"Rel",values:B(be.settings.rel_list)}),be.settings.link_class_list&&(bt={name:"class",type:"listbox",label:"Class",values:B(be.settings.link_class_list,function(zt){zt.value&&(zt.textStyle=function(){return be.formatter.getCssText({inline:"a",classes:[zt.value]})})})}),!1!==be.settings.link_title&&(on={name:"title",type:"textbox",label:"Title",value:Pt.title}),Re=be.windowManager.open({title:"Insert link",data:Pt,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function P(zt){var cn=zt.meta||{};ht&&ht.value(be.convertURL(this.value(),"href")),tinymce.each(zt.meta,function(Mn,Zt){var Nn=Re.find("#"+Zt);"text"===Zt?0===ue.length&&(Nn.value(Mn),Pt.text=Mn):Nn.value(Mn)}),cn.attach&&(de={href:this.value(),attach:cn.attach}),cn.text||Ye.call(this)},onkeyup:Ye,onbeforecall:function xe(zt){zt.meta=Re.toJSON()}},Je,on,function Ne(zt){var cn=[];if(tinymce.each(be.dom.select("a:not([href])"),function(Mn){var Zt=Mn.name||Mn.id;Zt&&cn.push({text:Zt,value:"#"+Zt,selected:-1!=zt.indexOf("#"+Zt)})}),cn.length)return cn.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:cn,onselect:De}}(Pt.href),ht,dt,Nt,bt],onSubmit:function(zt){function cn(On,yi){var ni=be.selection.getRng();tinymce.util.Delay.setEditorTimeout(be,function(){be.windowManager.confirm(On,function(Jn){be.selection.setRng(ni),yi(Jn)})})}function Zt(){var On={href:sn,target:Pt.target?Pt.target:null,rel:Pt.rel?Pt.rel:null,class:Pt.class?Pt.class:null,title:Pt.title?Pt.title:null};be.settings.allow_unsafe_link_target||(On.rel=function Mn(On,yi){function Jn(oi){var Ni=new RegExp("("+xi.replace(" ","|")+")","g");return oi&&(oi=tinymce.trim(oi.replace(Ni,""))),oi||null}var xi="noopener noreferrer";return yi?function ni(oi){return(oi=Jn(oi))?[oi,xi].join(" "):xi}(On):Jn(On)}(On.rel,"_blank"==On.target)),sn===de.href&&(de.attach(),de={}),Ve?(be.focus(),je&&Pt.text!=ue&&("innerText"in Ve?Ve.innerText=Pt.text:Ve.textContent=Pt.text),vn.setAttribs(Ve,On),un.select(Ve),be.undoManager.add()):je?be.insertContent(vn.createHTML("a",On,vn.encode(Pt.text))):be.execCommand("mceInsertLink",!1,On)}function Nn(){be.undoManager.transact(Zt)}var sn;return Pt=tinymce.extend(Pt,zt.data),(sn=Pt.href)?sn.indexOf("@")>0&&-1==sn.indexOf("//")&&-1==sn.indexOf("mailto:")?void cn("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(On){On&&(sn="mailto:"+sn),Nn()}):be.settings.link_assume_external_targets&&!/^\w+:/i.test(sn)||!be.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(sn)?void cn("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(On){On&&(sn="http://"+sn),Nn()}):void Nn():void be.execCommand("unlink")}})}var de={};be.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:O(K),stateSelector:"a[href]"}),be.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),be.addContextToolbar&&(be.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:J}),be.addContextToolbar(function Q(he){var De,Ne,Ye;return!!(be.settings.link_context_toolbar&&!function ge(){var he=be.plugins.contextmenu;return!!he&&he.isContextMenuVisible()}()&&Ae(he)&&(De=be.selection,Ne=De.getRng(),Ye=Ne.startContainer,3==Ye.nodeType&&De.isCollapsed()&&Ne.startOffset>0&&Ne.startOffset<Ye.data.length))},"openlink | link unlink")),be.addShortcut("Meta+K","",O(K)),be.addCommand("mceLink",O(K)),be.on("click",function(he){var De=ve(he.target);De&&tinymce.util.VK.metaKeyPressed(he)&&(he.preventDefault(),j(De))}),be.on("keydown",function(he){var De=at();De&&13===he.keyCode&&function(he){return!0===he.altKey&&!1===he.shiftKey&&!1===he.ctrlKey&&!1===he.metaKey}(he)&&(he.preventDefault(),j(De))}),this.showDialog=K,be.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:J,onPostRender:function ee(){var he=this,De=function(Ne){Sn(Ne.parents)?he.show():he.hide()};Sn(be.dom.getParents(be.selection.getStart()))||he.hide(),be.on("nodechange",De),he.on("remove",function(){be.off("nodechange",De)})},prependToContext:!0}),be.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:O(K),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),function(be,Ae){"use strict";function ve(Q,Z,q){if("string"!=typeof Q)throw"invalid module definition, module id must be defined and be a string";if(Z===Ae)throw"invalid module definition, dependencies must be specified";if(q===Ae)throw"invalid module definition, definition function must be specified";!function Sn(Q,Z){for(var q,j=[],J=0;J<Q.length;++J){if(!(q=ge[Q[J]]||at(Q[J])))throw"module definition dependecy not found: "+Q[J];j.push(q)}Z.apply(null,j)}(Z,function(){ge[Q]=q.apply(null,arguments)})}function at(Q){for(var Z=be,q=Q.split(/[.\/]/),j=0;j<q.length;++j){if(!Z[q[j]])return;Z=Z[q[j]]}return Z}var ge={};ve("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(Q,Z,q){function j(K,de){return Q.each(de,function(me){K=me.constructor==RegExp?K.replace(me,""):K.replace(me[0],me[1])}),K}return{filter:j,innerText:function J(K){var me=new q,he=new Z({},me),De="",Ne=me.getShortEndedElements(),Ye=Q.makeMap("script noscript style textarea video audio iframe object"," "),P=me.getBlockElements();return K=j(K,[/<!\[[^\]]+\]>/g]),function de(We){var xe=We.name,ke=We;if("br"!==xe)if(Ne[xe]&&(De+=" "),Ye[xe])De+=" ";else{if(3==We.type&&(De+=We.value),!We.shortEnded&&(We=We.firstChild))do{de(We)}while(We=We.next);P[xe]&&ke.next&&(De+="\n","p"==xe&&(De+="\n"))}else De+="\n"}(he.parse(K)),De},trimHtml:function ee(K){return j(function(K){var de="\x3c!--StartFragment--\x3e",me="\x3c!--EndFragment--\x3e",he=K.indexOf(de);if(-1!==he){var De=K.substr(he+de.length),Ne=De.indexOf(me);if(-1!==Ne&&/^<\/(p|h[1-6]|li)>/i.test(De.substr(Ne+me.length,5)))return De.substr(0,Ne)}return K}(K),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function de(me,he,De){return he||De?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function O(K){var de=0;return function(){return K+de++}}}}),ve("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(Q){var Z=function(me){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(me)},q=function(me){return Z(me)&&/.(gif|jpe?g|png)$/.test(me)},ee=function(me,he,De){return!(!1!==me.selection.isCollapsed()||!Z(he))&&function(me,he,De){return me.undoManager.extra(function(){De(me,he)},function(){me.execCommand("mceInsertLink",!1,he)}),!0}(me,he,De)},O=function(me,he,De){return!!q(he)&&function(me,he,De){return me.undoManager.extra(function(){De(me,he)},function(){me.insertContent('<img src="'+he+'">')}),!0}(me,he,De)},B=function(me,he){return me.insertContent(he,{merge:!1!==me.settings.paste_merge_formats,paste:!0}),!0};return{isImageUrl:q,isAbsoluteUrl:Z,insertContent:function(me,he){!1===me.settings.smart_paste?B(me,he):function(me,he){Q.each([ee,O,B],function(De){return!0!==De(me,he,B)})}(me,he)}}}),ve("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(Q,Z,q,j,J,ee){return function(O){function B(zt){var cn,Mn=O.dom;if(cn=O.fire("BeforePastePreProcess",{content:zt}),zt=(cn=O.fire("PastePreProcess",cn)).content,!cn.isDefaultPrevented()){if(O.hasEventListeners("PastePostProcess")&&!cn.isDefaultPrevented()){var Zt=Mn.add(O.getBody(),"div",{style:"display:none"},zt);cn=O.fire("PastePostProcess",{node:Zt}),Mn.remove(Zt),zt=cn.node.innerHTML}cn.isDefaultPrevented()||J.insertContent(O,zt)}}function K(zt){zt=O.dom.encode(zt).replace(/\r\n/g,"\n");var cn,Mn=O.dom.getParent(O.selection.getStart(),O.dom.isBlock),Zt=O.settings.forced_root_block;Zt&&(cn=(cn=O.dom.createHTML(Zt,O.settings.forced_root_block_attrs)).substr(0,cn.length-3)+">"),Mn&&/^(PRE|DIV)$/.test(Mn.nodeName)||!Zt?zt=j.filter(zt,[[/\n/g,"<br>"]]):-1!=(zt=j.filter(zt,[[/\n\n/g,"</p>"+cn],[/^(.*<\/p>)(<p>)$/,cn+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(zt=cn+zt),B(zt)}function de(){var cn,Mn=O.dom,Zt=O.getBody(),sn=O.dom.getViewPort(O.getWin()).y,On=20;if(dt=O.selection.getRng(),O.inline&&(cn=O.selection.getScrollContainer())&&cn.scrollTop>0&&(sn=cn.scrollTop),dt.getClientRects){var yi=function zt(Jn){var xi,oi,Ni,Jt=Jn.startContainer;if((xi=Jn.getClientRects()).length)return xi[0];if(Jn.collapsed&&1==Jt.nodeType){for(Ni=Jt.childNodes[dt.startOffset];Ni&&3==Ni.nodeType&&!Ni.data.length;)Ni=Ni.nextSibling;if(Ni)return"BR"==Ni.tagName&&(oi=Mn.doc.createTextNode("\ufeff"),Ni.parentNode.insertBefore(oi,Ni),(Jn=Mn.createRng()).setStartBefore(oi),Jn.setEndAfter(oi),xi=Jn.getClientRects(),Mn.remove(oi)),xi.length?xi[0]:void 0}}(dt);if(yi)On=sn+(yi.top-Mn.getPos(Zt).y);else{On=sn;var ni=dt.startContainer;ni&&(3==ni.nodeType&&ni.parentNode!=Zt&&(ni=ni.parentNode),1==ni.nodeType&&(On=Mn.getPos(ni,cn||Zt).y))}}ht=Mn.add(O.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+On+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},Pt),(Q.ie||Q.gecko)&&Mn.setStyle(ht,"left","rtl"==Mn.getStyle(Zt,"direction",!0)?65535:-65535),Mn.bind(ht,"beforedeactivate focusin focusout",function(Jn){Jn.stopPropagation()}),ht.focus(),O.selection.select(ht,!0)}function me(){if(ht){for(var zt;zt=O.dom.get("mcepastebin");)O.dom.remove(zt),O.dom.unbind(zt);dt&&O.selection.setRng(dt)}ht=dt=null}function he(){var zt,cn,Mn,Nn="";for(zt=O.dom.select("div[id=mcepastebin]"),cn=0;cn<zt.length;cn++)(Mn=zt[cn]).firstChild&&"mcepastebin"==Mn.firstChild.id&&(Mn=Mn.firstChild),Nn!=Pt&&(Nn+=Mn.innerHTML);return Nn}function De(zt){var cn={};if(zt){if(zt.getData){var Mn=zt.getData("Text");Mn&&Mn.length>0&&-1==Mn.indexOf(un)&&(cn["text/plain"]=Mn)}if(zt.types)for(var Zt=0;Zt<zt.types.length;Zt++){var Nn=zt.types[Zt];cn[Nn]=zt.getData(Nn)}}return cn}function Ye(zt){return Re(zt,"text/html")||Re(zt,"text/plain")}function xe(zt,cn,Mn){zt&&(O.selection.setRng(zt),zt=null);var Zt=cn.result,Nn=function P(zt){var cn;return-1!==(cn=zt.indexOf(","))?zt.substr(cn+1):null}(Zt),sn=new Image;if(sn.src=Zt,function We(zt,cn){return!zt.images_dataimg_filter||zt.images_dataimg_filter(cn)}(O.settings,sn)){var On,yi,ni=O.editorUpload.blobCache;(yi=ni.findFirst(function(Jn){return Jn.base64()===Nn}))?On=yi:(On=ni.create(vn(),Mn,Nn),ni.add(On)),B('<img src="'+On.blobUri()+'">')}else B('<img src="'+Zt+'">')}function ke(zt,cn){function Mn(Nn){var sn,On,yi,ni=!1;if(Nn)for(sn=0;sn<Nn.length;sn++)if(/^image\/(jpeg|png|gif|bmp)$/.test((On=Nn[sn]).type)){var Jn=On.getAsFile?On.getAsFile():On;(yi=new FileReader).onload=xe.bind(null,cn,yi,Jn),yi.readAsDataURL(Jn),zt.preventDefault(),ni=!0}return ni}var Zt=zt.clipboardData||zt.dataTransfer;if(O.settings.paste_data_images&&Zt)return Mn(Zt.items)||Mn(Zt.files)}function Re(zt,cn){return cn in zt&&zt[cn].length>0}function je(zt){return q.metaKeyPressed(zt)&&86==zt.keyCode||zt.shiftKey&&45==zt.keyCode}var ht,dt,Nt,bt=this,on=0,Tt=!1,Pt="%MCEPASTEBIN%",un="data:text/mce-internal,",vn=j.createIdGenerator("mceclip");bt.pasteHtml=B,bt.pasteText=K,bt.pasteImageData=ke,O.on("preInit",function(){(function Je(){function zt(Zt,Nn,sn){var On;return Re(Zt,"text/html")?On=Zt["text/html"]:(On=he())==Pt&&(sn=!0),On=j.trimHtml(On),ht&&ht.firstChild&&"mcepastebin"===ht.firstChild.id&&(sn=!0),me(),On.length||(sn=!0),sn&&(On=Re(Zt,"text/plain")&&-1==On.indexOf("</p>")?Zt["text/plain"]:j.innerText(On)),On==Pt?void(Nn||O.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(sn?K(On):B(On))}O.on("keydown",function(Zt){function Nn(sn){je(sn)&&!sn.isDefaultPrevented()&&me()}if(je(Zt)&&!Zt.isDefaultPrevented()){if((Nt=Zt.shiftKey&&86==Zt.keyCode)&&Q.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(Zt.stopImmediatePropagation(),on=(new Date).getTime(),Q.ie&&Nt)return Zt.preventDefault(),void O.fire("paste",{ieFake:!0});me(),de(),O.once("keyup",Nn),O.once("paste",function(){O.off("keyup",Nn)})}}),O.on("paste",function(Zt){var Nn=(new Date).getTime(),sn=function Ne(zt){return De(zt.clipboardData||O.getDoc().dataTransfer)}(Zt),On=(new Date).getTime()-Nn,yi=(new Date).getTime()-on-On<1e3,ni="text"==bt.pasteFormat||Nt;return Nt=!1,Zt.isDefaultPrevented()||function Ve(zt){var cn=zt.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&cn&&cn.items&&0===cn.items.length}(Zt)||!Ye(sn)&&ke(Zt,dt||O.selection.getRng())?void me():(yi||Zt.preventDefault(),!Q.ie||yi&&!Zt.ieFake||(de(),O.dom.bind(ht,"paste",function(Jn){Jn.stopPropagation()}),O.getDoc().execCommand("Paste",!1,null),sn["text/html"]=he()),void(Re(sn,"text/html")?(Zt.preventDefault(),zt(sn,yi,ni)):ee.setEditorTimeout(O,function(){zt(sn,yi,ni)},0)))}),O.on("dragstart dragend",function(Zt){Tt="dragstart"==Zt.type}),O.on("drop",function(Zt){var Nn,sn;if(sn=function ue(zt){return Z.getCaretRangeFromPoint(zt.clientX,zt.clientY,O.getDoc())}(Zt),!Zt.isDefaultPrevented()&&!Tt&&(Ye(Nn=De(Zt.dataTransfer))&&!function cn(Zt){var Nn=Zt["text/plain"];return!!Nn&&0===Nn.indexOf("file://")}(Nn)||!ke(Zt,sn))&&sn&&!1!==O.settings.paste_filter_drop){var On=Nn["mce-internal"]||Nn["text/html"]||Nn["text/plain"];On&&(Zt.preventDefault(),ee.setEditorTimeout(O,function(){O.undoManager.transact(function(){Nn["mce-internal"]&&O.execCommand("Delete"),O.selection.setRng(sn),On=j.trimHtml(On),Nn["text/html"]?B(On):K(On)})}))}}),O.on("dragover dragend",function(Zt){O.settings.paste_data_images&&Zt.preventDefault()})})(),O.parser.addNodeFilter("img",function(zt,cn,Mn){function Nn(Jn){Jn.attr("data-mce-object")||ni===Q.transparentSrc||Jn.remove()}if(!O.settings.paste_data_images&&function Zt(Jn){return Jn.data&&!0===Jn.data.paste}(Mn))for(var yi=zt.length;yi--;){var ni=zt[yi].attributes.map.src;ni&&(0===ni.indexOf("webkit-fake-url")||!O.settings.allow_html_data_urls&&0===ni.indexOf("data:"))&&Nn(zt[yi])}})})}}),ve("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(Q,Z,q,j,J,ee){function O(me){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(me)||/class="OutlineElement/.test(me)||/id="?docs\-internal\-guid\-/.test(me)}function B(me){var he,De;return De=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],me=me.replace(/^[\u00a0 ]+/,""),Q.each(De,function(Ne){if(Ne.test(me))return he=!0,!1}),he}function K(me){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(me)}function de(me){var he=me.settings;me.on("BeforePastePreProcess",function(De){function Ye(je,Je){var ht,dt={},Nt=me.dom.parseStyle(Je);return Q.each(Nt,function(bt,on){switch(on){case"mso-list":(ht=/\w+ \w+([0-9]+)/i.exec(Je))&&(je._listLevel=parseInt(ht[1],10)),/Ignore/i.test(bt)&&je.firstChild&&(je._listIgnore=!0,je.firstChild._listIgnore=!0);break;case"horiz-align":on="text-align";break;case"vert-align":on="vertical-align";break;case"font-color":case"mso-foreground":on="color";break;case"mso-background":case"mso-highlight":on="background";break;case"font-weight":case"font-style":return void("normal"!=bt&&(dt[on]=bt));case"mso-element":if(/^(comment|comment-list)$/i.test(bt))return void je.remove()}return 0===on.indexOf("mso-comment")?void je.remove():void(0!==on.indexOf("mso-")&&("all"==P||We&&We[on])&&(dt[on]=bt))}),/(bold)/i.test(dt["font-weight"])&&(delete dt["font-weight"],je.wrap(new J("b",1))),/(italic)/i.test(dt["font-style"])&&(delete dt["font-style"],je.wrap(new J("i",1))),(dt=me.dom.serializeStyle(dt,je.name))||null}var P,We,xe=De.content;if(xe=(xe=xe.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(P=he.paste_retain_style_properties)&&(We=Q.makeMap(P.split(/[, ]/))),!1!==he.paste_enable_default_filters&&O(De.content)){De.wordContent=!0,xe=ee.filter(xe,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(je,Je){return Je.length>0?Je.replace(/./," ").slice(Math.floor(Je.length/2)).split("").join("\xa0"):""}]]);var ke=he.paste_word_valid_elements;ke||(ke="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var Ve=new q({valid_elements:ke,valid_children:"-li[p]"});Q.each(Ve.elements,function(je){je.attributes.class||(je.attributes.class={},je.attributesOrder.push("class")),je.attributes.style||(je.attributes.style={},je.attributesOrder.push("style"))});var ue=new Z({},Ve);ue.addAttributeFilter("style",function(je){for(var Je,ht=je.length;ht--;)(Je=je[ht]).attr("style",Ye(Je,Je.attr("style"))),"span"==Je.name&&Je.parent&&!Je.attributes.length&&Je.unwrap()}),ue.addAttributeFilter("class",function(je){for(var Je,ht,dt=je.length;dt--;)ht=(Je=je[dt]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(ht)&&Je.remove(),Je.attr("class",null)}),ue.addNodeFilter("del",function(je){for(var Je=je.length;Je--;)je[Je].remove()}),ue.addNodeFilter("a",function(je){for(var Je,ht,dt,Nt=je.length;Nt--;)if(ht=(Je=je[Nt]).attr("href"),dt=Je.attr("name"),ht&&-1!=ht.indexOf("#_msocom_"))Je.remove();else if(ht&&0===ht.indexOf("file://")&&(ht=ht.split("#")[1])&&(ht="#"+ht),ht||dt){if(dt&&!/^_?(?:toc|edn|ftn)/i.test(dt)){Je.unwrap();continue}Je.attr({href:ht,name:dt})}else Je.unwrap()});var Re=ue.parse(xe);!1!==he.paste_convert_word_fake_lists&&function Ne(je){function Je(Zt){var Nn="";if(3===Zt.type)return Zt.value;if(Zt=Zt.firstChild)do{Nn+=Je(Zt)}while(Zt=Zt.next);return Nn}function ht(Zt,Nn){if(3===Zt.type&&Nn.test(Zt.value))return Zt.value=Zt.value.replace(Nn,""),!1;if(Zt=Zt.firstChild)do{if(!ht(Zt,Nn))return!1}while(Zt=Zt.next);return!0}function dt(Zt){if(Zt._listIgnore)Zt.remove();else if(Zt=Zt.firstChild)do{dt(Zt)}while(Zt=Zt.next)}function Nt(Zt,Nn,sn){var On=Zt._listLevel||Tt;On!=Tt&&(On<Tt?bt&&(bt=bt.parent.parent):(on=bt,bt=null)),bt&&bt.name==Nn?bt.append(Zt):(on=on||bt,bt=new J(Nn,1),sn>1&&bt.attr("start",""+sn),Zt.wrap(bt)),Zt.name="li",On>Tt&&on&&on.lastChild.append(bt),Tt=On,dt(Zt),ht(Zt,/^\u00a0+/),ht(Zt,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),ht(Zt,/^\u00a0+/)}for(var bt,on,Tt=1,Pt=[],un=je.firstChild;typeof un<"u"&&null!==un;)if(Pt.push(un),null!==(un=un.walk()))for(;typeof un<"u"&&un.parent!==je;)un=un.walk();for(var vn=0;vn<Pt.length;vn++)if("p"==(je=Pt[vn]).name&&je.firstChild){var zt=Je(je);if(K(zt)){Nt(je,"ul");continue}if(B(zt)){var cn=/([0-9]+)\./.exec(zt),Mn=1;cn&&(Mn=parseInt(cn[1],10)),Nt(je,"ol",Mn);continue}if(je._listLevel){Nt(je,"ul",1);continue}bt=null}else on=bt,bt=null}(Re),De.content=new j({validate:he.validate},Ve).serialize(Re)}})}return de.isWordContent=O,de}),ve("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(Q,Z,q,j){return function(J){function ee(me){J.on("BeforePastePreProcess",function(he){he.content=me(he.content)})}Q.webkit&&ee(function K(me){if(q.isWordContent(me))return me;var he=J.settings.paste_webkit_styles;if(!1===J.settings.paste_remove_styles_if_webkit||"all"==he)return me;if(he&&(he=he.split(/[, ]/)),he){var De=J.dom,Ne=J.selection.getNode();me=me.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Ye,P,We,xe){var ke=De.parseStyle(We,"span"),Ve={};if("none"===he)return P+xe;for(var ue=0;ue<he.length;ue++){var Re=ke[he[ue]],je=De.getStyle(Ne,he[ue],!0);/color/.test(he[ue])&&(Re=De.toHex(Re),je=De.toHex(je)),je!=Re&&(Ve[he[ue]]=Re)}return(Ve=De.serializeStyle(Ve,"span"))?P+' style="'+Ve+'"'+xe:P+xe})}else me=me.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return me.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Ye,P,We,xe){return P+' style="'+We+'"'+xe})}),Q.ie&&(ee(function B(me){if(!q.isWordContent(me))return me;var he=[];Z.each(J.schema.getBlockElements(),function(Ne,Ye){he.push(Ye)});var De=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+he.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return me=j.filter(me,[[De,"$1"]]),j.filter(me,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),function O(me){J.on("PastePostProcess",function(he){me(he.node)})}(function de(me){J.$("a",me).find("font,u").each(function(he,De){J.dom.remove(De,!0)})}))}}),ve("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(Q,Z,q,j){var J;Q.add("paste",function(ee){function B(){if("text"==de.pasteFormat)de.pasteFormat="html",ee.fire("PastePlainTextToggle",{state:!1});else if(de.pasteFormat="text",ee.fire("PastePlainTextToggle",{state:!0}),!function O(){return J||!1===ee.settings.paste_plaintext_inform}()){var De=ee.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");ee.notificationManager.open({text:De,type:"info"}),J=!0}ee.focus()}function K(){var De=this;De.active("text"===de.pasteFormat),ee.on("PastePlainTextToggle",function(Ne){De.active(Ne.state)})}var de,me=this,he=ee.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(he.plugins)&&Q.get("powerpaste")?void(typeof console<"u"&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(me.clipboard=de=new Z(ee),me.quirks=new j(ee),me.wordFilter=new q(ee),ee.settings.paste_as_text&&(me.clipboard.pasteFormat="text"),he.paste_preprocess&&ee.on("PastePreProcess",function(De){he.paste_preprocess.call(me,me,De)}),he.paste_postprocess&&ee.on("PastePostProcess",function(De){he.paste_postprocess.call(me,me,De)}),ee.addCommand("mceInsertClipboardContent",function(De,Ne){Ne.content&&me.clipboard.pasteHtml(Ne.content),Ne.text&&me.clipboard.pasteText(Ne.text)}),ee.settings.paste_block_drop&&ee.on("dragend dragover draggesture dragdrop drop drag",function(De){De.preventDefault(),De.stopPropagation()}),ee.settings.paste_data_images||ee.on("drop",function(De){var Ne=De.dataTransfer;Ne&&Ne.files&&Ne.files.length>0&&De.preventDefault()}),ee.addCommand("mceTogglePlainTextPaste",B),ee.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:B,onPostRender:K}),void ee.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:de.pasteFormat,onclick:B,onPostRender:K}))})}),function ce(Q){var Z,q,j,J,ee;for(Z=0;Z<Q.length;Z++){q=be,J=(j=Q[Z]).split(/[.\/]/);for(var O=0;O<J.length-1;++O)q[J[O]]===Ae&&(q[J[O]]={}),q=q[J[O]];q[J[J.length-1]]=ge[j]}if(be.AMDLC_TESTS){for(j in ee=be.privateModules||{},ge)ee[j]=ge[j];for(Z=0;Z<Q.length;Z++)delete ee[Q[Z]];be.privateModules=ee}}(["tinymce/pasteplugin/Utils"])}(window),function(be,Ae){"use strict";function ve(ge,Q,Z){if("string"!=typeof ge)throw"invalid module definition, module id must be defined and be a string";if(Q===Ae)throw"invalid module definition, dependencies must be specified";if(Z===Ae)throw"invalid module definition, definition function must be specified";!function Sn(ge,Q){for(var Z,q=[],j=0;j<ge.length;++j){if(!(Z=ce[ge[j]]||at(ge[j])))throw"module definition dependecy not found: "+ge[j];q.push(Z)}Q.apply(null,q)}(Q,function(){ce[ge]=Z.apply(null,arguments)})}function at(ge){for(var Q=be,Z=ge.split(/[.\/]/),q=0;q<Z.length;++q){if(!Q[Z[q]])return;Q=Q[Z[q]]}return Q}var ce={};ve("tinymce/tableplugin/Utils",["tinymce/Env"],function(ge){var Z=function(j){return function(J,ee){J&&(1===(ee=parseInt(ee,10))||0===ee?J.removeAttribute(j,1):J.setAttribute(j,ee,1))}},q=function(j){return function(J){return parseInt(J.getAttribute(j)||1,10)}};return{setColSpan:Z("colSpan"),setRowSpan:Z("rowspan"),getColSpan:q("colSpan"),getRowSpan:q("rowSpan"),setSpanVal:function(j,J,ee){Z(J)(j,ee)},getSpanVal:function(j,J){return q(J)(j)},paddCell:function Q(j){(!ge.ie||ge.ie>9)&&(j.hasChildNodes()||(j.innerHTML='<br data-mce-bogus="1" />'))}}}),ve("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(ge,Q){var Z=function(he,De,Ne){return he[Ne]?he[Ne][De]:null},q=function(he,De,Ne){var Ye=Z(he,De,Ne);return Ye?Ye.elm:null},j=function(he,De,Ne,Ye){var P,xe=0,ke=q(he,De,Ne);for(P=Ne;(Ye>0?P<he.length:P>=0)&&ke===Z(he,De,P).elm;P+=Ye)xe++;return xe},J=function(he,De,Ne){for(var Ye,P=he[Ne],We=De;We<P.length;We++)if((Ye=P[We]).real)return Ye.elm;return null},O=function(he,De){var Ye=he.elm.ownerDocument.createElement("td");return Q.setColSpan(Ye,Q.getColSpan(he.elm)),Q.setRowSpan(Ye,De),Q.paddCell(Ye),Ye},B=function(he,De,Ne,Ye){var P=J(he,Ne+1,Ye);P?P.parentNode.insertBefore(De,P):(P=J(he,0,Ye)).parentNode.appendChild(De)};return{splitAt:function(he,De,Ne,Ye){var P=function(he,De){for(var Ne,Ye=[],P=he[De],We=0;We<P.length;We++)Ye.push({elm:(Ne=P[We]).elm,above:j(he,We,De,-1)-1,below:j(he,We,De,1)-1}),We+=Q.getColSpan(Ne.elm)-1;return Ye}(he,Ne),We=q(he,De,Ne).parentNode,xe=[];return ge.each(P,function(ke,Ve){var ue=Ye?function(he,De,Ne,Ye){if(0!==De.above){Q.setRowSpan(De.elm,De.above);var P=O(De,De.below+1);return B(he,P,Ne,Ye),P}return null}(he,ke,Ve,Ne):function(he,De,Ne,Ye){if(0!==De.below){Q.setRowSpan(De.elm,De.above+1);var P=O(De,De.below);return B(he,P,Ne,Ye+1),P}return null}(he,ke,Ve,Ne);null!==ue&&xe.push(xe)}),{cells:xe,row:We}}}}),ve("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(ge,Q,Z,q){var j=ge.each,J=Z.getSpanVal,ee=Z.setSpanVal;return function(O,B,K){function de(){O.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function me(Yt){return Yt===O.getBody()}function he(Yt,fn){return Yt?(fn=ge.map(fn.split(","),function(Tn){return Tn.toLowerCase()}),ge.grep(Yt.childNodes,function(Tn){return-1!==ge.inArray(fn,Tn.nodeName.toLowerCase())})):[]}function De(){var Yt=0;dn=[],an=0,j(["thead","tbody","tfoot"],function(fn){var Tn=he(B,fn)[0],jn=he(Tn,"tr");j(jn,function(Pn,In){In+=Yt,j(he(Pn,"td,th"),function(qn,$n){var ai,di,_i,Zi;if(dn[In])for(;dn[In][$n];)$n++;for(_i=J(qn,"rowspan"),Zi=J(qn,"colspan"),di=In;di<In+_i;di++)for(dn[di]||(dn[di]=[]),ai=$n;ai<$n+Zi;ai++)dn[di][ai]={part:fn,real:di==In&&ai==$n,elm:qn,rowspan:_i,colspan:Zi};an=Math.max(an,$n+1)})}),Yt+=jn.length})}function Ne(Yt){return O.fire("newrow",{node:Yt}),Yt}function Ye(Yt){return O.fire("newcell",{node:Yt}),Yt}function P(Yt,fn){return(Yt=Yt.cloneNode(fn)).removeAttribute("id"),Yt}function We(Yt,fn){var Tn;if(Tn=dn[fn])return Tn[Yt]}function xe(Yt,fn){return Yt[fn]?Yt[fn]:null}function ke(Yt,fn){for(var Tn=[],jn=0;jn<Yt.length;jn++)Tn.push(We(fn,jn));return Tn}function Ve(Yt){return Yt&&(!!ri.getAttrib(Yt.elm,"data-mce-selected")||Yt==K)}function ue(){var Yt=[];return j(B.rows,function(fn){j(fn.cells,function(Tn){if(ri.getAttrib(Tn,"data-mce-selected")||K&&Tn==K.elm)return Yt.push(fn),!1})}),Yt}function Je(Yt){var fn,Tn={};return!1!==O.settings.table_clone_elements&&(Tn=ge.makeMap((O.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),ge.walk(Yt,function(jn){var Pn;if(3==jn.nodeType)return j(ri.getParents(jn.parentNode,null,Yt).reverse(),function(In){Tn[In.nodeName]&&(In=P(In,!1),fn?Pn&&Pn.appendChild(In):fn=Pn=In,Pn=In)}),Pn&&(Pn.innerHTML=Q.ie&&Q.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),Ye(Yt=P(Yt,!1)),ee(Yt,"rowSpan",1),ee(Yt,"colSpan",1),fn?Yt.appendChild(fn):Z.paddCell(Yt),Yt}function ht(){var Yt,fn=ri.createRng();return j(ri.select("tr",B),function(Tn){0===Tn.cells.length&&ri.remove(Tn)}),0===ri.select("tr",B).length?(fn.setStartBefore(B),fn.setEndBefore(B),Ii.setRng(fn),void ri.remove(B)):(j(ri.select("thead,tbody,tfoot",B),function(Tn){0===Tn.rows.length&&ri.remove(Tn)}),De(),void(Wn&&(Yt=dn[Math.min(dn.length-1,Wn.y)],Yt&&(Ii.select(Yt[Math.min(Yt.length-1,Wn.x)].elm,!0),Ii.collapse(!0)))))}function dt(Yt,fn,Tn,jn){var Pn,In,qn,$n,ai;for(Pn=dn[fn][Yt].elm.parentNode,qn=1;qn<=Tn;qn++)if(Pn=ri.getNext(Pn,"tr")){for(In=Yt;In>=0;In--)if((ai=dn[fn+qn][In].elm).parentNode==Pn){for($n=1;$n<=jn;$n++)ri.insertAfter(Je(ai),ai);break}if(-1==In)for($n=1;$n<=jn;$n++)Pn.insertBefore(Je(Pn.cells[0]),Pn.cells[0])}}function Nt(){j(dn,function(Yt,fn){j(Yt,function(Tn,jn){var Pn,In,qn;if(Ve(Tn)&&(Pn=J(Tn=Tn.elm,"colspan"),In=J(Tn,"rowspan"),Pn>1||In>1)){for(ee(Tn,"rowSpan",1),ee(Tn,"colSpan",1),qn=0;qn<Pn-1;qn++)ri.insertAfter(Je(Tn),Tn);dt(jn,fn,In-1,Pn)}})})}function bt(Yt,fn,Tn){for(var jn=[],Pn=0;Pn<Yt.length;Pn++)(Pn<fn||Pn>Tn)&&jn.push(Yt[Pn]);return jn}function on(Yt){return ge.grep(Yt,function(fn){return!1===fn.real})}function Tt(Yt){for(var fn=[],Tn=0;Tn<Yt.length;Tn++){var jn=Yt[Tn].elm;fn[fn.length-1]!==jn&&fn.push(jn)}return fn}function zt(Yt){var fn,Tn,jn,Pn,In,qn,$n,ai,di,_i;if(j(dn,function(Zi,nr){if(j(Zi,function(Mi){if(Ve(Mi)&&(qn=Ne(P(In=(Mi=Mi.elm).parentNode,!1)),fn=nr,Yt))return!1}),Yt)return fn===Ae}),fn!==Ae){for(Pn=0,_i=0;Pn<dn[0].length;Pn+=_i)if(dn[fn][Pn]&&(_i=J(Tn=dn[fn][Pn].elm,"colspan"),Tn!=jn)){if(Yt){if(fn>0&&dn[fn-1][Pn]&&(di=J(ai=dn[fn-1][Pn].elm,"rowSpan"))>1){ee(ai,"rowSpan",di+1);continue}}else if((di=J(Tn,"rowspan"))>1){ee(Tn,"rowSpan",di+1);continue}$n=Je(Tn),ee($n,"colSpan",Tn.colSpan),qn.appendChild($n),jn=Tn}qn.hasChildNodes()&&(Yt?In.parentNode.insertBefore(qn,In):ri.insertAfter(qn,In))}}function Mn(Yt){var fn,Tn;j(dn,function(jn){if(j(jn,function(Pn,In){if(Ve(Pn)&&(fn=In,Yt))return!1}),Yt)return fn===Ae}),j(dn,function(jn,Pn){var In,qn,$n;jn[fn]&&(In=jn[fn].elm)!=Tn&&($n=J(In,"colspan"),qn=J(In,"rowspan"),1==$n?Yt?(In.parentNode.insertBefore(Je(In),In),dt(fn,Pn,qn-1,$n)):(ri.insertAfter(Je(In),In),dt(fn,Pn,qn-1,$n)):ee(In,"colSpan",In.colSpan+1),Tn=In)})}function sn(Yt){var fn=[];return j(Yt,function(Tn){j(Tn,function(jn){fn.push(jn)})}),fn}function oi(Yt){var fn;return j(dn,function(Tn,jn){return j(Tn,function(Pn,In){if(Pn.elm==Yt)return fn={x:In,y:jn},!1}),!fn}),fn}var dn,an,Wn,ui,Ii=O.selection,ri=Ii.dom;B=B||ri.getParent(Ii.getStart(!0),"table"),De(),(K=K||ri.getParent(Ii.getStart(!0),"th,td"))&&(Wn=oi(K),ui=function Jt(){var Yt,fn;return Yt=fn=0,j(dn,function(Tn,jn){j(Tn,function(Pn,In){var qn,$n;Ve(Pn)&&(In>Yt&&(Yt=In),jn>fn&&(fn=jn),(Pn=dn[jn][In]).real&&((qn=Pn.colspan-1)&&In+qn>Yt&&(Yt=In+qn),($n=Pn.rowspan-1)&&jn+$n>fn&&(fn=jn+$n)))})}),{x:Yt,y:fn}}(),K=We(Wn.x,Wn.y)),ge.extend(this,{deleteTable:function je(){var Yt=ri.createRng();me(B)||(Yt.setStartAfter(B),Yt.setEndAfter(B),Ii.setRng(Yt),ri.remove(B))},split:Nt,merge:function vn(Yt,fn,Tn){var jn,Pn,In,qn,$n,ai,di,_i,Zi,nr,Mi,gr,Fi;if(Yt?(qn=(Pn=(jn=oi(Yt)).x)+(fn-1),$n=(In=jn.y)+(Tn-1)):(Wn=ui=null,j(dn,function(ki,pr){j(ki,function(Wi,wr){Ve(Wi)&&(Wn||(Wn={x:wr,y:pr}),ui={x:wr,y:pr})})}),Wn&&(Pn=Wn.x,In=Wn.y,qn=ui.x,$n=ui.y)),_i=We(Pn,In),Zi=We(qn,$n),_i&&Zi&&_i.part==Zi.part){Nt(),De(),gr=function Pt(Yt,fn,Tn,jn,Pn){var In=0;if(Pn-Tn<1)return 0;for(var qn=Tn+1;qn<=Pn;qn++){var $n=bt(xe(Yt,qn),fn,jn),ai=on($n);$n.length===ai.length&&(ge.each(Tt(ai),function(di){Z.setRowSpan(di,Z.getRowSpan(di)-1)}),In++)}return In}(dn,Pn,In,qn,$n),Fi=function un(Yt,fn,Tn,jn,Pn){var In=0;if(jn-fn<1)return 0;for(var qn=fn+1;qn<=jn;qn++){var $n=bt(ke(Yt,qn),Tn,Pn),ai=on($n);$n.length===ai.length&&(ge.each(Tt(ai),function(di){Z.setColSpan(di,Z.getColSpan(di)-1)}),In++)}return In}(dn,Pn,In,qn,$n),_i=We(Pn,In).elm;var Ui=qn-Pn-Fi+1,Vi=$n-In-gr+1;for(Ui===an&&Vi===dn.length&&(Ui=1,Vi=1),Ui===an&&Vi>1&&(Vi=1),ee(_i,"colSpan",Ui),ee(_i,"rowSpan",Vi),di=In;di<=$n;di++)for(ai=Pn;ai<=qn;ai++)dn[di]&&dn[di][ai]&&(Yt=dn[di][ai].elm)!=_i&&(nr=ge.grep(Yt.childNodes),j(nr,function(ki){_i.appendChild(ki)}),nr.length&&(nr=ge.grep(_i.childNodes),Mi=0,j(nr,function(ki){"BR"==ki.nodeName&&Mi++<nr.length-1&&_i.removeChild(ki)})),ri.remove(Yt));ht()}},insertRow:zt,insertRows:function cn(Yt,fn){fn=fn||ue().length||1;for(var Tn=0;Tn<fn;Tn++)zt(Yt)},insertCol:Mn,insertCols:function Zt(Yt,fn){fn=fn||function Re(){var Yt=0;return j(dn,function(fn){if(j(fn,function(Tn){Ve(Tn)&&Yt++}),Yt)return!1}),Yt}()||1;for(var Tn=0;Tn<fn;Tn++)Mn(Yt)},splitCols:function Ln(Yt){if(Wn){var fn=q.splitAt(dn,Wn.x,Wn.y,Yt);ge.each(fn.cells,Ye)}},deleteCols:function On(){var Yt=[];me(B)&&(1==dn[0].length||function Nn(Yt){return ge.grep(sn(Yt),Ve)}(dn).length==sn(dn).length)||(j(dn,function(fn){j(fn,function(Tn,jn){Ve(Tn)&&-1===ge.inArray(Yt,jn)&&(j(dn,function(Pn){var In,qn=Pn[jn].elm;(In=J(qn,"colSpan"))>1?ee(qn,"colSpan",In-1):ri.remove(qn)}),Yt.push(jn))})}),ht())},deleteRows:function yi(){var fn;fn=ue(),me(B)&&fn.length==B.rows.length||(j(fn.reverse(),function(Tn){!function Yt(Tn){var jn,Pn;j(Tn.cells,function(In){var qn=J(In,"rowSpan");qn>1&&(ee(In,"rowSpan",qn-1),dt((jn=oi(In)).x,jn.y,1,1))}),jn=oi(Tn.cells[0]),j(dn[jn.y],function(In){var qn;(In=In.elm)!=Pn&&((qn=J(In,"rowSpan"))<=1?ri.remove(In):ee(In,"rowSpan",qn-1),Pn=In)})}(Tn)}),ht())},cutRows:function ni(){var Yt=ue();if(!me(B)||Yt.length!=B.rows.length)return ri.remove(Yt),ht(),Yt},copyRows:function Jn(){var Yt=ue();return j(Yt,function(fn,Tn){Yt[Tn]=P(fn,!0)}),Yt},pasteRows:function xi(Yt,fn){var Tn,jn,Pn;Yt&&(Tn=q.splitAt(dn,Wn.x,Wn.y,fn),jn=Tn.row,ge.each(Tn.cells,Ye),Pn=ge.map(Yt,function(In){return In.cloneNode(!0)}),fn||Pn.reverse(),j(Pn,function(In){var qn,$n,ai=In.cells.length;for(Ne(In),qn=0;qn<ai;qn++)Ye($n=In.cells[qn]),ee($n,"colSpan",1),ee($n,"rowSpan",1);for(qn=ai;qn<an;qn++)In.appendChild(Ye(Je(In.cells[ai-1])));for(qn=an;qn<ai;qn++)ri.remove(In.cells[qn]);fn?jn.parentNode.insertBefore(In,jn):ri.insertAfter(In,jn)}),de())},getPos:oi,setStartCell:function Ni(Yt){Wn=oi(Yt)},setEndCell:function qt(Yt){var fn,Tn,jn,Pn,In,qn,$n,ai,di,_i;if(ui=oi(Yt),Wn&&ui){for(fn=Math.min(Wn.x,ui.x),Tn=Math.min(Wn.y,ui.y),In=jn=Math.max(Wn.x,ui.x),qn=Pn=Math.max(Wn.y,ui.y),_i=Tn;_i<=Pn;_i++)for(di=fn;di<=jn;di++)(Yt=dn[_i][di]).real&&(($n=Yt.colspan-1)&&di+$n>In&&(In=di+$n),(ai=Yt.rowspan-1)&&_i+ai>qn&&(qn=_i+ai));for(de(),_i=Tn;_i<=qn;_i++)for(di=fn;di<=In;di++)dn[_i][di]&&ri.setAttrib(dn[_i][di].elm,"data-mce-selected","1")}},moveRelIdx:function gn(Yt,fn){var Tn,jn,Pn;jn=(Tn=oi(Yt)).y*an+Tn.x;do{if(!(Pn=We((jn+=fn)%an,Math.floor(jn/an))))break;if(Pn.elm!=Yt)return Ii.select(Pn.elm,!0),ri.isEmpty(Pn.elm)&&Ii.collapse(!0),!0}while(Pn.elm==Yt);return!1},refresh:De})}}),ve("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(ge,Q,Z,q,j){var J=q.each,ee=j.getSpanVal;return function(O){function K(){O.on("KeyDown",function(Ye){var P,We,xe=O.dom;37!=Ye.keyCode&&38!=Ye.keyCode||(P=O.selection.getRng(),(We=xe.getParent(P.startContainer,"table"))&&O.getBody().firstChild==We&&function Ne(Ye,P){var We,xe=P.ownerDocument,ke=xe.createRange();return ke.setStartBefore(P),ke.setEnd(Ye.endContainer,Ye.endOffset),(We=xe.createElement("body")).appendChild(ke.cloneContents()),0===We.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(P,We)&&((P=xe.createRng()).setStartBefore(We),P.setEndBefore(We),O.selection.setRng(P),Ye.preventDefault()))})}function de(){O.on("KeyDown SetContent VisualAid",function(){var Ne;for(Ne=O.getBody().lastChild;Ne;Ne=Ne.previousSibling)if(3==Ne.nodeType){if(Ne.nodeValue.length>0)break}else if(1==Ne.nodeType&&("BR"==Ne.tagName||!Ne.getAttribute("data-mce-bogus")))break;Ne&&"TABLE"==Ne.nodeName&&(O.settings.forced_root_block?O.dom.add(O.getBody(),O.settings.forced_root_block,O.settings.forced_root_block_attrs,Z.ie&&Z.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):O.dom.add(O.getBody(),"br",{"data-mce-bogus":"1"}))}),O.on("PreProcess",function(Ne){var Ye=Ne.node.lastChild;Ye&&("BR"==Ye.nodeName||1==Ye.childNodes.length&&("BR"==Ye.firstChild.nodeName||"\xa0"==Ye.firstChild.nodeValue))&&Ye.previousSibling&&"TABLE"==Ye.previousSibling.nodeName&&O.dom.remove(Ye)})}(function he(){function Ne(P){O.selection.select(P,!0),O.selection.collapse(!0)}function Ye(P){O.$(P).empty(),j.paddCell(P)}O.on("keydown",function(P){var We,xe,ke,Ve;if((P.keyCode==ge.DELETE||P.keyCode==ge.BACKSPACE)&&!P.isDefaultPrevented()&&(We=O.dom.getParent(O.selection.getStart(),"table"))){if(xe=O.dom.select("td,th",We),0===(ke=q.grep(xe,function(ue){return!!O.dom.getAttrib(ue,"data-mce-selected")})).length)return Ve=O.dom.getParent(O.selection.getStart(),"td,th"),void(O.selection.isCollapsed()&&Ve&&O.dom.isEmpty(Ve)&&(P.preventDefault(),Ye(Ve),Ne(Ve)));P.preventDefault(),O.undoManager.transact(function(){xe.length==ke.length?O.execCommand("mceTableDelete"):(q.each(ke,Ye),Ne(ke[0]))})}})})(),function De(){var Ye=function(je,Je){var ht=O.selection.getRng(),dt=je.ownerDocument.createTextNode("\xa0");ht.startOffset?je.insertBefore(dt,je.firstChild):je.appendChild(dt),Je&&(O.selection.select(dt,!0),O.selection.collapse(!0))},We=function(je){return je.firstChild===je.lastChild&&je.firstChild},xe=function(je){return je&&3===je.nodeType},ke=function(je){var Je=We(je);return xe(Je)&&1===Je.data.length?Je.data:null},ue=function(je){return O.dom.isEmpty(je)||Re(ke(je))},Re=function(je){return"\xa0"===je};O.on("keydown",function(je){if(function(je){return(je.keyCode==ge.DELETE||je.keyCode==ge.BACKSPACE)&&!je.isDefaultPrevented()}(je)){var Je=O.dom.getParent(O.selection.getStart(),"caption");(function(je){return je&&"CAPTION"==je.nodeName&&"TABLE"==je.parentNode.nodeName})(Je)&&(Z.ie&&(O.selection.isCollapsed()?function(je){var Je=We(je),ht=ke(je);return Je&&!xe(Je)||ht&&!Re(ht)}(Je)&&Ye(Je):(O.undoManager.transact(function(){O.execCommand("Delete"),ue(Je)&&Ye(Je,!0)}),je.preventDefault())),ue(Je)&&je.preventDefault())}})}(),Z.webkit&&(function B(){function Ne(Ye){function P(un,vn){var zt=un?"previousSibling":"nextSibling",cn=O.dom.getParent(vn,"tr"),Mn=cn[zt];if(Mn)return Nt(0,vn,Mn,un),Ye.preventDefault(),!0;var Zt=O.dom.getParent(cn,"table"),Nn=cn.parentNode,sn=Nn.nodeName.toLowerCase();if("tbody"===sn||sn===(un?"tfoot":"thead")){var On=function We(un,vn,zt,cn){var Mn=O.dom.select(">"+cn,vn),Zt=Mn.indexOf(zt);return un&&0===Zt||!un&&Zt===Mn.length-1?function xe(un,vn){var cn=O.dom.select(">"+(un?"thead":"tfoot"),vn);return 0!==cn.length?cn[0]:null}(un,vn):-1===Zt?Mn["thead"===zt.tagName.toLowerCase()?0:Mn.length-1]:Mn[Zt+(un?-1:1)]}(un,Zt,Nn,"tbody");if(null!==On)return function ke(un,vn,zt){var cn=ue(vn,un);return cn&&Nt(0,zt,cn,un),Ye.preventDefault(),!0}(un,On,vn)}return function Ve(un,vn,zt,cn){var Mn=cn[zt];if(Mn)return Re(Mn),!0;var Zt=O.dom.getParent(cn,"td,th");return Zt?P(un,Zt):(Re(ue(vn,!un)),Ye.preventDefault(),!1)}(un,cn,zt,Zt)}function ue(un,vn){var zt=un&&un[vn?"lastChild":"firstChild"];return zt&&"BR"===zt.nodeName?O.dom.getParent(zt,"td,th"):zt}function Re(un){O.selection.setCursorLocation(un,0)}function Nt(un,vn,zt,cn){var Mn=function ht(un){for(var vn=0,zt=un;zt.previousSibling;)vn+=ee(zt=zt.previousSibling,"colspan");return vn}(O.dom.getParent(vn,"td,th")),Zt=function dt(un,vn){var zt=0,cn=0;return J(un.children,function(Mn,Zt){if(zt+=ee(Mn,"colspan"),cn=Zt,zt>vn)return!1}),cn}(zt,Mn),Nn=zt.childNodes[Zt];Re(ue(Nn,cn)||Nn)}var Tt=Ye.keyCode;if(function je(){return Tt==ge.UP||Tt==ge.DOWN}()&&function Je(un){var vn=un.selection.getNode();return null!==un.dom.getParent(vn,"tr")}(O)){var Pt=O.selection.getNode();Q.setEditorTimeout(O,function(){(function bt(un){var vn=O.selection.getNode(),zt=O.dom.getParent(vn,"td,th"),cn=O.dom.getParent(un,"td,th");return zt&&zt!==cn&&function on(un,vn){return O.dom.getParent(un,"TABLE")===O.dom.getParent(vn,"TABLE")}(zt,cn)})(Pt)&&P(!Ye.shiftKey&&Tt===ge.UP,Pt)},0)}}O.on("KeyDown",function(Ye){Ne(Ye)})}(),function me(){function Ye(){var P=O.selection.getRng(),We=O.selection.getNode(),xe=O.dom.getParent(P.startContainer,"TD,TH");if(function Ne(P,We,xe,ke){var Ve,Je=P.dom.getParent(We.startContainer,"TABLE");return Je&&(Ve=Je.parentNode),3==We.startContainer.nodeType&&0===We.startOffset&&0===We.endOffset&&ke&&("TR"==xe.nodeName||xe==Ve)||("TD"==xe.nodeName||"TH"==xe.nodeName)&&!ke}(O,P,We,xe)){xe||(xe=We);for(var ke=xe.lastChild;ke.lastChild;)ke=ke.lastChild;3==ke.nodeType&&(P.setEnd(ke,ke.data.length),O.selection.setRng(P))}}O.on("KeyDown",function(){Ye()}),O.on("MouseDown",function(P){2!=P.button&&Ye()})}()),Z.gecko&&(K(),de()),Z.ie>9&&(K(),de())}}),ve("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(ge,Q,Z){return function(q,j){function J(We){q.getBody().style.webkitUserSelect="",(We||Ye)&&(q.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),Ye=!1)}function ee(We,xe){return!(!We||!xe)&&We===Ne.getParent(xe,"table")}function O(We){var xe,ke,Ve=We.target;if(!he&&!De&&Ve!==me&&(me=Ve,de&&K)){if(ke=Ne.getParent(Ve,"td,th"),ee(de,ke)||(ke=Ne.getParent(de,"td,th")),K===ke&&!Ye)return;if(j(!0),ee(de,ke)){We.preventDefault(),B||(B=new ge(q,de,K),q.getBody().style.webkitUserSelect="none"),B.setEndCell(ke),Ye=!0,xe=q.selection.getSel();try{xe.removeAllRanges?xe.removeAllRanges():xe.empty()}catch{}}}}var B,K,de,me,he,De,Ne=q.dom,Ye=!0,P=function(){K=B=de=me=null,j(!1)};return q.on("SelectionChange",function(We){Ye&&We.stopImmediatePropagation()},!0),q.on("MouseDown",function(We){2==We.button||he||De||(J(),K=Ne.getParent(We.target,"td,th"),de=Ne.getParent(K,"table"))}),q.on("mouseover",O),q.on("remove",function(){Ne.unbind(q.getDoc(),"mouseover",O),J()}),q.on("MouseUp",function(){function We(Je,ht){var dt=new Q(Je,Je);do{if(3==Je.nodeType&&0!==Z.trim(Je.nodeValue).length)return void(ht?xe.setStart(Je,0):xe.setEnd(Je,Je.nodeValue.length));if("BR"==Je.nodeName)return void(ht?xe.setStartBefore(Je):xe.setEndBefore(Je))}while(Je=ht?dt.next():dt.prev())}var xe,ke,Ve,ue,Re,je=q.selection;if(K){if(B&&(q.getBody().style.webkitUserSelect=""),(ke=Ne.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(xe=Ne.createRng()).setStartBefore(ue=ke[0]),xe.setEndAfter(ue),We(ue,1),Ve=new Q(ue,Ne.getParent(ke[0],"table"));do{if("TD"==ue.nodeName||"TH"==ue.nodeName){if(!Ne.getAttrib(ue,"data-mce-selected"))break;Re=ue}}while(ue=Ve.next());We(Re),je.setRng(xe)}q.nodeChanged(),P()}}),q.on("KeyUp Drop SetContent",function(We){J("setcontent"==We.type),P(),he=!1}),q.on("ObjectResizeStart ObjectResized",function(We){he="objectresized"!=We.type}),q.on("dragstart",function(){De=!0}),q.on("drop dragend",function(){De=!1}),{clear:J}}}),ve("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(ge,Q){var Z=ge.each;return function(q){function j(){var Ye=q.settings.color_picker_callback;if(Ye)return function(){var P=this;Ye.call(q,function(We){P.value(We).fire("change")},P.value())}}function J(Ye){return{title:"Advanced",type:"form",defaults:{onchange:function(){me(Ye,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:j()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:j()}]}]}}function ee(Ye){return Ye?Ye.replace(/px$/,""):""}function O(Ye){return/^[0-9]+$/.test(Ye)&&(Ye+="px"),Ye}function B(Ye){Z("left center right".split(" "),function(P){q.formatter.remove("align"+P,{},Ye)})}function de(Ye,P,We){return function xe(ke,Ve){return Ve=Ve||[],ge.each(ke,function(ue){var Re={text:ue.text||ue.title};ue.menu?Re.menu=xe(ue.menu):(Re.value=ue.value,P&&P(Re)),Ve.push(Re)}),Ve}(Ye,We||[])}function me(Ye,P,We){var xe=P.toJSON(),ke=Ye.parseStyle(xe.style);We?(P.find("#borderColor").value(ke["border-color"]||"")[0].fire("change"),P.find("#backgroundColor").value(ke["background-color"]||"")[0].fire("change")):(ke["border-color"]=xe.borderColor,ke["background-color"]=xe.backgroundColor),P.find("#style").value(Ye.serializeStyle(Ye.parseStyle(Ye.serializeStyle(ke))))}function he(Ye,P,We){var xe=Ye.parseStyle(Ye.getAttrib(We,"style"));xe["border-color"]&&(P.borderColor=xe["border-color"]),xe["background-color"]&&(P.backgroundColor=xe["background-color"]),P.style=Ye.serializeStyle(xe)}var Ne=this;Ne.tableProps=function(){Ne.table(!0)},Ne.table=function(Ye){function P(){function dt(bt,on,Tt){if("TD"===bt.tagName||"TH"===bt.tagName)Je.setStyle(bt,on,Tt);else if(bt.children)for(var Pt=0;Pt<bt.children.length;Pt++)dt(bt.children[Pt],on,Tt)}var Nt;me(Je,this),!1===(ht=ge.extend(ht,this.toJSON())).class&&delete ht.class,q.undoManager.transact(function(){if(xe||(xe=q.plugins.table.insertTable(ht.cols||1,ht.rows||1)),q.dom.setAttribs(xe,{style:ht.style,class:ht.class}),q.settings.table_style_by_css){if((je=[]).push({name:"border",value:ht.border}),je.push({name:"border-spacing",value:O(ht.cellspacing)}),function De(Ye,P,We){var xe=Ye.parseStyle(Ye.getAttrib(P,"style"));Z(We,function(ke){xe[ke.name]=ke.value}),Ye.setAttrib(P,"style",Ye.serializeStyle(Ye.parseStyle(Ye.serializeStyle(xe))))}(Je,xe,je),Je.setAttribs(xe,{"data-mce-border-color":ht.borderColor,"data-mce-cell-padding":ht.cellpadding,"data-mce-border":ht.border}),xe.children)for(var bt=0;bt<xe.children.length;bt++)dt(xe.children[bt],"border",ht.border),dt(xe.children[bt],"padding",O(ht.cellpadding))}else q.dom.setAttribs(xe,{border:ht.border,cellpadding:ht.cellpadding,cellspacing:ht.cellspacing});Je.getAttrib(xe,"width")&&!q.settings.table_style_by_css?Je.setAttrib(xe,"width",ee(ht.width)):Je.setStyle(xe,"width",O(ht.width)),Je.setStyle(xe,"height",O(ht.height)),(Nt=Je.select("caption",xe)[0])&&!ht.caption&&Je.remove(Nt),!Nt&&ht.caption&&((Nt=Je.create("caption")).innerHTML=Q.ie?"\xa0":'<br data-mce-bogus="1"/>',xe.insertBefore(Nt,xe.firstChild)),B(xe),ht.align&&q.formatter.apply("align"+ht.align,{},xe),q.focus(),q.addVisual()})}function We(dt,Nt){return function bt(Pt,un){for(var vn=0;vn<un.length;vn++){var zt=Je.getStyle(un[vn],Nt);if(typeof Pt>"u"&&(Pt=zt),Pt!=zt)return""}return Pt}(undefined,q.dom.select("td,th",dt))}var xe,ke,Ve,ue,Re,je,Je=q.dom,ht={};!0===Ye?(xe=Je.getParent(q.selection.getStart(),"table"))&&(ht={width:ee(Je.getStyle(xe,"width")||Je.getAttrib(xe,"width")),height:ee(Je.getStyle(xe,"height")||Je.getAttrib(xe,"height")),cellspacing:ee(Je.getStyle(xe,"border-spacing")||Je.getAttrib(xe,"cellspacing")),cellpadding:Je.getAttrib(xe,"data-mce-cell-padding")||Je.getAttrib(xe,"cellpadding")||We(xe,"padding"),border:Je.getAttrib(xe,"data-mce-border")||Je.getAttrib(xe,"border")||We(xe,"border"),borderColor:Je.getAttrib(xe,"data-mce-border-color"),caption:!!Je.select("caption",xe)[0],class:Je.getAttrib(xe,"class")},Z("left center right".split(" "),function(dt){q.formatter.matchNode(xe,"align"+dt)&&(ht.align=dt)})):(ke={label:"Cols",name:"cols"},Ve={label:"Rows",name:"rows"}),q.settings.table_class_list&&(ht.class&&(ht.class=ht.class.replace(/\s*mce\-item\-table\s*/g,"")),ue={name:"class",type:"listbox",label:"Class",values:de(q.settings.table_class_list,function(dt){dt.value&&(dt.textStyle=function(){return q.formatter.getCssText({block:"table",classes:[dt.value]})})})}),Re={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==q.settings.table_appearance_options?[ke,Ve,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[ke,Ve,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},ue]},!1!==q.settings.table_advtab?(he(Je,ht,xe),q.windowManager.open({title:"Table properties",data:ht,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Re},J(Je)],onsubmit:P})):q.windowManager.open({title:"Table properties",data:ht,body:Re,onsubmit:P})},Ne.merge=function(Ye,P){q.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var We=this.toJSON();q.undoManager.transact(function(){Ye.merge(P,We.cols,We.rows)})}})},Ne.cell=function(){function Ye(Je,ht,dt){(1===Re.length||dt)&&ue.setAttrib(Je,ht,dt)}function P(Je,ht,dt){(1===Re.length||dt)&&ue.setStyle(Je,ht,dt)}function We(){me(ue,this),ke=ge.extend(ke,this.toJSON()),q.undoManager.transact(function(){Z(Re,function(Je){Ye(Je,"scope",ke.scope),Ye(Je,"style",ke.style),Ye(Je,"class",ke.class),P(Je,"width",O(ke.width)),P(Je,"height",O(ke.height)),ke.type&&Je.nodeName.toLowerCase()!==ke.type&&(Je=ue.rename(Je,ke.type)),1===Re.length&&(B(Je),function K(Ye){Z("top middle bottom".split(" "),function(P){q.formatter.remove("valign"+P,{},Ye)})}(Je)),ke.align&&q.formatter.apply("align"+ke.align,{},Je),ke.valign&&q.formatter.apply("valign"+ke.valign,{},Je)}),q.focus()})}var xe,ke,Ve,ue=q.dom,Re=[];if(Re=q.dom.select("td[data-mce-selected],th[data-mce-selected]"),xe=q.dom.getParent(q.selection.getStart(),"td,th"),!Re.length&&xe&&Re.push(xe),xe=xe||Re[0]){Re.length>1?ke={width:"",height:"",scope:"",class:"",align:"",style:"",type:xe.nodeName.toLowerCase()}:((ke={width:ee(ue.getStyle(xe,"width")||ue.getAttrib(xe,"width")),height:ee(ue.getStyle(xe,"height")||ue.getAttrib(xe,"height")),scope:ue.getAttrib(xe,"scope"),class:ue.getAttrib(xe,"class")}).type=xe.nodeName.toLowerCase(),Z("left center right".split(" "),function(Je){q.formatter.matchNode(xe,"align"+Je)&&(ke.align=Je)}),Z("top middle bottom".split(" "),function(Je){q.formatter.matchNode(xe,"valign"+Je)&&(ke.valign=Je)}),he(ue,ke,xe)),q.settings.table_cell_class_list&&(Ve={name:"class",type:"listbox",label:"Class",values:de(q.settings.table_cell_class_list,function(Je){Je.value&&(Je.textStyle=function(){return q.formatter.getCssText({block:"td",classes:[Je.value]})})})});var je={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},Ve]};q.windowManager.open(!1!==q.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:ke,body:[{title:"General",type:"form",items:je},J(ue)],onsubmit:We}:{title:"Cell properties",data:ke,body:je,onsubmit:We})}},Ne.row=function(){function Ye(dt,Nt,bt){(1===ht.length||bt)&&Je.setAttrib(dt,Nt,bt)}function We(){var dt,Nt,bt;me(Je,this),Re=ge.extend(Re,this.toJSON()),q.undoManager.transact(function(){var on=Re.type;Z(ht,function(Tt){Ye(Tt,"scope",Re.scope),Ye(Tt,"style",Re.style),Ye(Tt,"class",Re.class),function P(dt,Nt,bt){(1===ht.length||bt)&&Je.setStyle(dt,Nt,bt)}(Tt,"height",O(Re.height)),on!==Tt.parentNode.nodeName.toLowerCase()&&(dt=Je.getParent(Tt,"table"),Nt=Tt.parentNode,(bt=Je.select(on,dt)[0])||(bt=Je.create(on),dt.firstChild?dt.insertBefore(bt,dt.firstChild):dt.appendChild(bt)),bt.appendChild(Tt),Nt.hasChildNodes()||Je.remove(Nt)),1===ht.length&&B(Tt),Re.align&&q.formatter.apply("align"+Re.align,{},Tt)}),q.focus()})}var xe,ke,Ve,ue,Re,je,Je=q.dom,ht=[];xe=q.dom.getParent(q.selection.getStart(),"table"),ke=q.dom.getParent(q.selection.getStart(),"td,th"),Z(xe.rows,function(dt){Z(dt.cells,function(Nt){if(Je.getAttrib(Nt,"data-mce-selected")||Nt==ke)return ht.push(dt),!1})}),(Ve=ht[0])&&(ht.length>1?Re={height:"",scope:"",class:"",align:"",type:Ve.parentNode.nodeName.toLowerCase()}:((Re={height:ee(Je.getStyle(Ve,"height")||Je.getAttrib(Ve,"height")),scope:Je.getAttrib(Ve,"scope"),class:Je.getAttrib(Ve,"class")}).type=Ve.parentNode.nodeName.toLowerCase(),Z("left center right".split(" "),function(dt){q.formatter.matchNode(Ve,"align"+dt)&&(Re.align=dt)}),he(Je,Re,Ve)),q.settings.table_row_class_list&&(ue={name:"class",type:"listbox",label:"Class",values:de(q.settings.table_row_class_list,function(dt){dt.value&&(dt.textStyle=function(){return q.formatter.getCssText({block:"tr",classes:[dt.value]})})})}),je={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},ue]},q.windowManager.open(!1!==q.settings.table_row_advtab?{title:"Row properties",data:Re,bodyType:"tabpanel",body:[{title:"General",type:"form",items:je},J(Je)],onsubmit:We}:{title:"Row properties",data:Re,body:je,onsubmit:We}))}}}),ve("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(ge,Q){var Z;return function(q){function j(Qt,hn){return{index:Qt,y:q.dom.getPos(hn).y}}function J(Qt,hn){return{index:Qt,y:q.dom.getPos(hn).y+hn.offsetHeight}}function ee(Qt,hn){return{index:Qt,x:q.dom.getPos(hn).x}}function O(Qt,hn){return{index:Qt,x:q.dom.getPos(hn).x+hn.offsetWidth}}function B(){return"rtl"===q.getBody().dir}function K(){return q.inline}function de(){return K?q.getBody().ownerDocument.body:q.getBody()}function me(Qt,hn){return B()?O(Qt,hn):ee(Qt,hn)}function he(Qt,hn){return B()?ee(Qt,hn):O(Qt,hn)}function Ne(Qt,hn){var Un=q.dom.getStyle(Qt,hn,!0);return parseInt(Un,10)}function Ye(Qt){return Ne(Qt,"width")/Ne(Qt.parentElement,"width")*100}function xe(Qt,hn,Un){for(var Bn=[],Qn=1;Qn<Un.length;Qn++)Bn.push(Qt(Qn-1,Un[Qn].element));return Bn.push(hn(Un.length-1,Un[Un.length-1].element)),Bn}function ke(){var Qt=q.dom.select("."+ai,de());ge.each(Qt,function(hn){q.dom.remove(hn)})}function Ve(Qt){ke(),Tt(Qt)}function ue(Qt,hn,Un,Bn,Qn,bi,wi,Ai){var hi={"data-mce-bogus":"all",class:ai+" "+Qt,unselectable:"on","data-mce-resize":!1,style:"cursor: "+hn+"; margin: 0; padding: 0; position: absolute; left: "+Un+"px; top: "+Bn+"px; height: "+Qn+"px; width: "+bi+"px; "};return hi[wi]=Ai,hi}function Je(Qt){return ge.map(Qt.rows,function(hn){return{element:hn,cells:ge.map(hn.cells,function(Bn){var Qn=Bn.hasAttribute("rowspan")?parseInt(Bn.getAttribute("rowspan"),10):1,bi=Bn.hasAttribute("colspan")?parseInt(Bn.getAttribute("colspan"),10):1;return{element:Bn,rowspan:Qn,colspan:bi}})}})}function ht(Qt){function hn(Ci,gi){return Ci+","+gi}var bi={},wi=[],Ai=0,hi=0;return ge.each(Qt,function(Ci,gi){var mi=[];ge.each(Ci.cells,function(Li){for(var Ki=0;bi[hn(gi,Ki)]!==Ae;)Ki++;for(var ar={element:Li.element,colspan:Li.colspan,rowspan:Li.rowspan,rowIndex:gi,colIndex:Ki},Fr=0;Fr<Li.colspan;Fr++)for(var Sr=0;Sr<Li.rowspan;Sr++){var Ur=gi+Sr,zi=Ki+Fr;bi[hn(Ur,zi)]=ar,Ai=Math.max(Ai,Ur+1),hi=Math.max(hi,zi+1)}mi.push(ar)}),wi.push({element:Ci.element,cells:mi})}),{grid:{maxRows:Ai,maxCols:hi},getAt:function Un(Ci,gi){return bi[hn(Ci,gi)]},getAllCells:function Bn(){var Ci=[];return ge.each(wi,function(gi){Ci=Ci.concat(gi.cells)}),Ci},getAllRows:function Qn(){return wi}}}function dt(Qt,hn){for(var Un=[],Bn=Qt;Bn<hn;Bn++)Un.push(Bn);return Un}function Nt(Qt,hn,Un){for(var Bn,Qn=Qt(),bi=0;bi<Qn.length;bi++)hn(Qn[bi])&&(Bn=Qn[bi]);return Bn||Un()}function bt(Qt){var hn=dt(0,Qt.grid.maxCols),Un=dt(0,Qt.grid.maxRows);return ge.map(hn,function(Bn){return Nt(function Qn(){for(var Ai=[],hi=0;hi<Un.length;hi++){var Ci=Qt.getAt(hi,Bn);Ci&&Ci.colIndex===Bn&&Ai.push(Ci)}return Ai},function bi(Ai){return 1===Ai.colspan},function wi(){for(var Ai,hi=0;hi<Un.length;hi++)if(Ai=Qt.getAt(hi,Bn))return Ai;return null})})}function on(Qt){var hn=dt(0,Qt.grid.maxCols),Un=dt(0,Qt.grid.maxRows);return ge.map(Un,function(Bn){return Nt(function Qn(){for(var Ai=[],hi=0;hi<hn.length;hi++){var Ci=Qt.getAt(Bn,hi);Ci&&Ci.rowIndex===Bn&&Ai.push(Ci)}return Ai},function bi(Ai){return 1===Ai.rowspan},function wi(){return Qt.getAt(Bn,0)})})}function Tt(Qt){var Un=ht(Je(Qt)),Bn=on(Un),Qn=bt(Un),bi=q.dom.getPos(Qt),wi=Bn.length>0?xe(j,J,Bn):[],Ai=Qn.length>0?xe(me,he,Qn):[];(function Re(Qt,hn,Un){ge.each(Qt,function(Bn){var Qn=Un.x,bi=Bn.y-Vi/2,wi=Vi,Ai=hn;q.dom.add(de(),"div",ue(di,_i,Qn,bi,wi,Ai,Zi,Bn.index))})})(wi,Qt.offsetWidth,bi),function je(Qt,hn,Un){ge.each(Qt,function(Bn){var Qn=Bn.x-Vi/2,bi=Un.y,wi=hn,Ai=Vi;q.dom.add(de(),"div",ue(Mi,gr,Qn,bi,wi,Ai,Fi,Bn.index))})}(Ai,Qt.offsetHeight,bi)}function Pt(Qt,hn,Un,Bn){if(hn<0||hn>=Qt.length-1)return"";var Qn=Qt[hn];if(Qn)Qn={value:Qn,delta:0};else for(var bi=Qt.slice(0,hn).reverse(),wi=0;wi<bi.length;wi++)bi[wi]&&(Qn={value:bi[wi],delta:wi+1});var Ai=Qt[hn+1];if(Ai)Ai={value:Ai,delta:1};else for(var hi=Qt.slice(hn+1),Ci=0;Ci<hi.length;Ci++)hi[Ci]&&(Ai={value:hi[Ci],delta:Ci+1});var gi=Ai.delta-Qn.delta,mi=Math.abs(Ai.value-Qn.value)/gi;return Un?mi/Ne(Bn,"width")*100:mi}function un(Qt,hn){var Un=q.dom.getStyle(Qt,hn);return Un||(Un=q.dom.getAttrib(Qt,hn)),Un||(Un=q.dom.getStyle(Qt,hn,!0)),Un}function vn(Qt,hn,Un){var Bn=un(Qt,"width"),Qn=parseInt(Bn,10),bi=hn?function De(Qt,hn){return Ne(Qt,"width")/Ne(hn,"width")*100}(Qt,Un):Ne(Qt,"width");return(hn&&!ni(Bn)||!hn&&!Jn(Bn))&&(Qn=0),!isNaN(Qn)&&Qn>0?Qn:bi}function zt(Qt,hn,Un){for(var Bn=bt(Qt),Qn=ge.map(Bn,function(Ci){return me(Ci.colIndex,Ci.element).x}),bi=[],wi=0;wi<Bn.length;wi++){var hi=(Bn[wi].element.hasAttribute("colspan")?parseInt(Bn[wi].element.getAttribute("colspan"),10):1)>1?Pt(Qn,wi):vn(Bn[wi].element,hn,Un);bi.push(hi=hi||ki)}return bi}function cn(Qt){var hn=un(Qt,"height"),Un=parseInt(hn,10);return ni(hn)&&(Un=0),!isNaN(Un)&&Un>0?Un:Ne(Qt,"height")}function Mn(Qt){for(var hn=on(Qt),Un=ge.map(hn,function(Ai){return j(Ai.rowIndex,Ai.element).y}),Bn=[],Qn=0;Qn<hn.length;Qn++){var wi=(hn[Qn].element.hasAttribute("rowspan")?parseInt(hn[Qn].element.getAttribute("rowspan"),10):1)>1?Pt(Un,Qn):cn(hn[Qn].element);Bn.push(wi=wi||pr)}return Bn}function Zt(Qt,hn,Un,Bn,Qn){function bi(mi){return ge.map(mi,function(){return 0})}function Ai(mi,Li){var Ki,ar=bi(gi.slice(0,mi)),Fr=bi(gi.slice(Li+1));if(Un>=0){var Sr=Math.max(Bn,gi[Li]-Un);Ki=ar.concat([Un,Sr-gi[Li]]).concat(Fr)}else{var Ur=Math.max(Bn,gi[mi]+Un);Ki=ar.concat([Ur-gi[mi],gi[mi]-Ur]).concat(Fr)}return Ki}var gi=Qt.slice(0);return 0===Qt.length?[]:1===Qt.length?function wi(){return Qn?[100-gi[0]]:[Math.max(Bn,gi[0]+Un)-gi[0]]}():0===hn?Ai(0,1):hn>0&&hn<Qt.length-1?Ai(hn,hn+1):hn===Qt.length-1?function hi(mi,Li){var Ki,ar=bi(gi.slice(0,Li));if(Un>=0)Ki=ar.concat([Un]);else{var Fr=Math.max(Bn,gi[Li]+Un);Ki=ar.concat([Fr-gi[Li]])}return Ki}(0,hn):[]}function Nn(Qt,hn,Un){for(var Bn=0,Qn=Qt;Qn<hn;Qn++)Bn+=Un[Qn];return Bn}function sn(Qt,hn){var Un=Qt.getAllCells();return ge.map(Un,function(Bn){var Qn=Nn(Bn.colIndex,Bn.colIndex+Bn.colspan,hn);return{element:Bn.element,width:Qn,colspan:Bn.colspan}})}function On(Qt,hn){var Un=Qt.getAllCells();return ge.map(Un,function(Bn){var Qn=Nn(Bn.rowIndex,Bn.rowIndex+Bn.rowspan,hn);return{element:Bn.element,height:Qn,rowspan:Bn.rowspan}})}function yi(Qt,hn){var Un=Qt.getAllRows();return ge.map(Un,function(Bn,Qn){return{element:Bn.element,height:hn[Qn]}})}function ni(Qt){return wr.test(Qt)}function Jn(Qt){return io.test(Qt)}function xi(Qt,hn,Un){for(var hi=ht(Je(Qt)),Ci=ni(Qt.width)||ni(Qt.style.width),gi=zt(hi,Ci,Qt),mi=Ci?function P(Qt,hn){return hn/Ne(Qt,"width")*100}(Qt,hn):hn,Li=Zt(gi,Un,mi,ki,Ci),Ki=[],ar=0;ar<Li.length;ar++)Ki.push(Li[ar]+gi[ar]);var Fr=sn(hi,Ki),Sr=Ci?"%":"px",Ur=Ci?function Qn(){return Un<hi.grid.maxCols-1?Ye(Qt):Ye(Qt)+function We(Qt,hn){return hn/Ne(Qt.parentElement,"width")*100}(Qt,hn)}():function bi(){return Un<hi.grid.maxCols-1?Ne(Qt,"width"):Ne(Qt,"width")+hn}();q.undoManager.transact(function(){(function Bn(zi,Xr){ge.each(zi,function(ro){q.dom.setStyle(ro.element,"width",ro.width+Xr),q.dom.setAttrib(ro.element,"width",null)})})(Fr,Sr),function wi(zi,Xr,ro){Un!=hi.grid.maxCols-1&&ro||(q.dom.setStyle(Qt,"width",zi+Xr),q.dom.setAttrib(Qt,"width",null))}(Ur,Sr,Ci)})}function oi(Qt,hn,Un){for(var Qn=ht(Je(Qt)),bi=Mn(Qn),wi=[],Ai=0,hi=0;hi<bi.length;hi++)wi.push(hi===Un?hn+bi[hi]:bi[hi]),Ai+=Ai[hi];var Ci=On(Qn,wi),gi=yi(Qn,wi);q.undoManager.transact(function(){ge.each(gi,function(mi){q.dom.setStyle(mi.element,"height",mi.height+"px"),q.dom.setAttrib(mi.element,"height",null)}),ge.each(Ci,function(mi){q.dom.setStyle(mi.element,"height",mi.height+"px"),q.dom.setAttrib(mi.element,"height",null)}),q.dom.setStyle(Qt,"height",Ai+"px"),q.dom.setAttrib(Qt,"height",null)})}function Ln(){if(q.dom.remove(Pn),jn){var Qt,hn;if(q.dom.removeClass(In,Wi),jn=!1,an(In)){var Un=parseInt(q.dom.getAttrib(In,Ui),10),Bn=q.dom.getPos(In).x;Qt=parseInt(q.dom.getAttrib(In,Fi),10),hn=B()?Un-Bn:Bn-Un,Math.abs(hn)>=1&&xi(Z,hn,Qt)}else if(Wn(In)){var Qn=parseInt(q.dom.getAttrib(In,nr),10),bi=q.dom.getPos(In).y;Qt=parseInt(q.dom.getAttrib(In,Zi),10),hn=bi-Qn,Math.abs(hn)>=1&&oi(Z,hn,Qt)}Ve(Z),q.nodeChanged()}}function dn(Qt,hn){Pn=Pn||function qt(){var Qt=document.createElement("div");return Qt.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),Qt.setAttribute("data-mce-bogus","all"),Qt}(),jn=!0,q.dom.addClass(Qt,Wi),In=Qt,function gn(Qt,hn){q.dom.bind(Qt,"mouseup",function(){Ln()}),q.dom.bind(Qt,"mousemove",function(Un){(function Jt(){clearTimeout(Tn)})(),jn&&hn(Un)}),q.dom.bind(Qt,"mouseout",function(){!function Ni(){Tn=setTimeout(function(){Ln()},200)}()})}(Pn,hn),q.dom.add(de(),Pn)}function an(Qt){return q.dom.hasClass(Qt,Mi)}function Wn(Qt){return q.dom.hasClass(Qt,di)}function ui(Qt){var hn=Qt.clientX-(qn=qn!==Ae?qn:Qt.clientX);qn=Qt.clientX;var Un=q.dom.getPos(In).x;q.dom.setStyle(In,"left",Un+hn+"px")}function Ii(Qt){var hn=Qt.clientY-($n=$n!==Ae?$n:Qt.clientY);$n=Qt.clientY;var Un=q.dom.getPos(In).y;q.dom.setStyle(In,"top",Un+hn+"px")}function fn(Qt){var hn=Qt.target,Un=q.getBody();if(q.$.contains(Un,Z)||Z===Un)if(an(hn)){Qt.preventDefault();var Bn=q.dom.getPos(hn).x;q.dom.setAttrib(hn,Ui,Bn),function ri(Qt){qn=Ae,dn(Qt,ui)}(hn)}else if(Wn(hn)){Qt.preventDefault();var Qn=q.dom.getPos(hn).y;q.dom.setAttrib(hn,nr,Qn),function Yt(Qt){$n=Ae,dn(Qt,Ii)}(hn)}else ke()}var Tn,jn,Pn,In,qn,$n,ai="mce-resize-bar",di="mce-resize-bar-row",_i="row-resize",Zi="data-row",nr="data-initial-top",Mi="mce-resize-bar-col",gr="col-resize",Fi="data-col",Ui="data-initial-left",Vi=4,ki=10,pr=10,Wi="mce-resize-bar-dragging",wr=new RegExp(/(\d+(\.\d+)?%)/),io=new RegExp(/px|em/);return q.on("init",function(){q.dom.bind(de(),"mousedown",fn)}),q.on("ObjectResized",function(Qt){var hn=Qt.target;if("TABLE"===hn.nodeName){var Un=[];ge.each(hn.rows,function(Bn){ge.each(Bn.cells,function(Qn){var bi=q.dom.getStyle(Qn,"width",!0);Un.push({cell:Qn,width:bi})})}),ge.each(Un,function(Bn){q.dom.setStyle(Bn.cell,"width",Bn.width),q.dom.setAttrib(Bn.cell,"width",null)})}}),q.on("mouseover",function(Qt){if(!jn){var hn=q.dom.getParent(Qt.target,"table");("TABLE"===Qt.target.nodeName||hn)&&(Z=hn,Ve(hn))}}),q.on("keydown",function(Qt){switch(Qt.keyCode){case Q.LEFT:case Q.RIGHT:case Q.UP:case Q.DOWN:ke()}}),q.on("remove",function(){ke(),q.dom.unbind(de(),"mousedown",fn)}),{adjustWidth:xi,adjustHeight:oi,clearBars:ke,drawBars:Tt,determineDeltas:Zt,getTableGrid:ht,getTableDetails:Je,getWidths:zt,getPixelHeights:Mn,isPercentageBasedSize:ni,isPixelBasedSize:Jn,recalculateWidths:sn,recalculateCellHeights:On,recalculateRowHeights:yi}}}),ve("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(ge,Q,Z,q,j,J,ee,O,B){var de=J.each;B.add("table",function K(me){function he(Tt){return function(){me.execCommand(Tt)}}function De(Tt,Pt){var un,vn,zt,cn;for(zt='<table id="__mce"><tbody>',un=0;un<Pt;un++){for(zt+="<tr>",vn=0;vn<Tt;vn++)zt+="<td>"+(O.ie&&O.ie<10?"&nbsp;":"<br>")+"</td>";zt+="</tr>"}return zt+="</tbody></table>",me.undoManager.transact(function(){me.insertContent(zt),cn=me.dom.get("__mce"),me.dom.setAttrib(cn,"id",null),me.$("tr",cn).each(function(Mn,Zt){me.fire("newrow",{node:Zt}),me.$("th,td",Zt).each(function(Nn,sn){me.fire("newcell",{node:sn})})}),me.dom.setAttribs(cn,me.settings.table_default_attributes||{}),me.dom.setStyles(cn,me.settings.table_default_styles||{})}),cn}function Ne(Tt,Pt,un){function vn(){var zt,cn,Mn,Zt={},Nn=0;(zt=(cn=me.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(zt=me.selection.getStart()),un&&cn.length>0?(de(cn,function(sn){return Zt[sn.parentNode.parentNode.nodeName]=1}),de(Zt,function(sn){Nn+=sn}),Mn=1!==Nn):Mn=!me.dom.getParent(zt,Pt),Tt.disabled(Mn),me.selection.selectorChanged(Pt,function(sn){Tt.disabled(!sn)})}me.initialized?vn():me.on("init",vn)}function Ye(){Ne(this,"table")}function P(){Ne(this,"td,th")}function ke(Tt,Pt,un){var vn,zt,cn,Mn,Zt,Nn=un.getEl().getElementsByTagName("table")[0],sn=un.isRtl()||"tl-tr"==un.parent().rel;for(Nn.nextSibling.innerHTML=Tt+1+" x "+(Pt+1),sn&&(Tt=9-Tt),zt=0;zt<10;zt++)for(vn=0;vn<10;vn++)me.dom.toggleClass(Mn=Nn.rows[zt].childNodes[vn].firstChild,"mce-active",Zt=(sn?vn>=Tt:vn<=Tt)&&zt<=Pt),Zt&&(cn=Mn);return cn.parentNode}function ue(Tt){return me.dom.is(Tt,"table")&&me.getBody().contains(Tt)}var ht,dt,Nt=this,bt=new q(me);!me.settings.object_resizing||!1===me.settings.table_resize_bars||!0!==me.settings.object_resizing&&"table"!==me.settings.object_resizing||(dt=j(me)),me.addMenuItem("inserttable",!1===me.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:bt.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(Tt){Tt.aria&&(this.parent().hideAll(),Tt.stopImmediatePropagation(),bt.table())},onshow:function(){ke(0,0,this.menu.items()[0])},onhide:function(){var Tt=this.menu.items()[0].getEl().getElementsByTagName("a");me.dom.removeClass(Tt,"mce-active"),me.dom.addClass(Tt[0],"mce-active")},menu:[{type:"container",html:function xe(){var Tt="";Tt='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var Pt=0;Pt<10;Pt++){Tt+="<tr>";for(var un=0;un<10;un++)Tt+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*Pt+un)+'" href="#" data-mce-x="'+un+'" data-mce-y="'+Pt+'"></a></td>';Tt+="</tr>"}return(Tt+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(Tt){var Pt,un,vn=Tt.target;"A"==vn.tagName.toUpperCase()&&(Pt=parseInt(vn.getAttribute("data-mce-x"),10),un=parseInt(vn.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(Pt=9-Pt),Pt===this.lastX&&un===this.lastY||(ke(Pt,un,Tt.control),this.lastX=Pt,this.lastY=un))},onclick:function(Tt){var Pt=this;"A"==Tt.target.tagName.toUpperCase()&&(Tt.preventDefault(),Tt.stopPropagation(),Pt.parent().cancel(),me.undoManager.transact(function(){De(Pt.lastX+1,Pt.lastY+1)}),me.addVisual())}}]}),me.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:Ye,onclick:bt.tableProps}),me.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:Ye,cmd:"mceTableDelete"}),me.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:he("mceTableCellProps"),onPostRender:P},{text:"Merge cells",onclick:he("mceTableMergeCells"),onPostRender:function We(){Ne(this,"td,th",!0)}},{text:"Split cell",onclick:he("mceTableSplitCells"),onPostRender:P}]}),me.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:he("mceTableInsertRowBefore"),onPostRender:P},{text:"Insert row after",onclick:he("mceTableInsertRowAfter"),onPostRender:P},{text:"Delete row",onclick:he("mceTableDeleteRow"),onPostRender:P},{text:"Row properties",onclick:he("mceTableRowProps"),onPostRender:P},{text:"-"},{text:"Cut row",onclick:he("mceTableCutRow"),onPostRender:P},{text:"Copy row",onclick:he("mceTableCopyRow"),onPostRender:P},{text:"Paste row before",onclick:he("mceTablePasteRowBefore"),onPostRender:P},{text:"Paste row after",onclick:he("mceTablePasteRowAfter"),onPostRender:P}]}),me.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:he("mceTableInsertColBefore"),onPostRender:P},{text:"Insert column after",onclick:he("mceTableInsertColAfter"),onPostRender:P},{text:"Delete column",onclick:he("mceTableDeleteCol"),onPostRender:P}]});var on=[];de("inserttable tableprops deletetable | cell row column".split(" "),function(Tt){on.push("|"==Tt?{text:"-"}:me.menuItems[Tt])}),me.addButton("table",{type:"menubutton",title:"Table",menu:on}),O.isIE||me.on("click",function(Tt){"TABLE"===(Tt=Tt.target).nodeName&&(me.selection.select(Tt),me.nodeChanged())}),Nt.quirks=new Q(me),me.on("Init",function(){Nt.cellSelection=new Z(me,function(Tt){Tt&&dt&&dt.clearBars()}),Nt.resizeBars=dt}),me.on("PreInit",function(){me.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(Tt,Pt){for(var un=Tt.length;un--;)Tt[un].attr(Pt,null)})}),de({mceTableSplitCells:function(Tt){Tt.split()},mceTableMergeCells:function(Tt){var Pt;Pt=me.dom.getParent(me.selection.getStart(),"th,td"),me.dom.select("td[data-mce-selected],th[data-mce-selected]").length?Tt.merge():bt.merge(Tt,Pt)},mceTableInsertRowBefore:function(Tt){Tt.insertRows(!0)},mceTableInsertRowAfter:function(Tt){Tt.insertRows()},mceTableInsertColBefore:function(Tt){Tt.insertCols(!0)},mceTableInsertColAfter:function(Tt){Tt.insertCols()},mceTableDeleteCol:function(Tt){Tt.deleteCols()},mceTableDeleteRow:function(Tt){Tt.deleteRows()},mceTableCutRow:function(Tt){ht=Tt.cutRows()},mceTableCopyRow:function(Tt){ht=Tt.copyRows()},mceTablePasteRowBefore:function(Tt){Tt.pasteRows(ht,!0)},mceTablePasteRowAfter:function(Tt){Tt.pasteRows(ht)},mceSplitColsBefore:function(Tt){Tt.splitCols(!0)},mceSplitColsAfter:function(Tt){Tt.splitCols(!1)},mceTableDelete:function(Tt){dt&&dt.clearBars(),Tt.deleteTable()}},function(Tt,Pt){me.addCommand(Pt,function(){var un=new ge(me);un&&(Tt(un),me.execCommand("mceRepaint"),Nt.cellSelection.clear())})}),de({mceInsertTable:bt.table,mceTableProps:function(){bt.table(!0)},mceTableRowProps:bt.row,mceTableCellProps:bt.cell},function(Tt,Pt){me.addCommand(Pt,function(un,vn){Tt(vn)})}),function Ve(){me.addButton("tableprops",{title:"Table properties",onclick:bt.tableProps,icon:"table"}),me.addButton("tabledelete",{title:"Delete table",onclick:he("mceTableDelete")}),me.addButton("tablecellprops",{title:"Cell properties",onclick:he("mceTableCellProps")}),me.addButton("tablemergecells",{title:"Merge cells",onclick:he("mceTableMergeCells")}),me.addButton("tablesplitcells",{title:"Split cell",onclick:he("mceTableSplitCells")}),me.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:he("mceTableInsertRowBefore")}),me.addButton("tableinsertrowafter",{title:"Insert row after",onclick:he("mceTableInsertRowAfter")}),me.addButton("tabledeleterow",{title:"Delete row",onclick:he("mceTableDeleteRow")}),me.addButton("tablerowprops",{title:"Row properties",onclick:he("mceTableRowProps")}),me.addButton("tablecutrow",{title:"Cut row",onclick:he("mceTableCutRow")}),me.addButton("tablecopyrow",{title:"Copy row",onclick:he("mceTableCopyRow")}),me.addButton("tablepasterowbefore",{title:"Paste row before",onclick:he("mceTablePasteRowBefore")}),me.addButton("tablepasterowafter",{title:"Paste row after",onclick:he("mceTablePasteRowAfter")}),me.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:he("mceTableInsertColBefore")}),me.addButton("tableinsertcolafter",{title:"Insert column after",onclick:he("mceTableInsertColAfter")}),me.addButton("tabledeletecol",{title:"Delete column",onclick:he("mceTableDeleteCol")})}(),function Re(){var Tt=me.settings.table_toolbar;""!==Tt&&!1!==Tt&&(Tt||(Tt="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),me.addContextToolbar(ue,Tt))}(),!1!==me.settings.table_tab_navigation&&me.on("keydown",function(Tt){var Pt,un,vn;9==Tt.keyCode&&(Pt=me.dom.getParent(me.selection.getStart(),"th,td"))&&(Tt.preventDefault(),un=new ge(me),vn=Tt.shiftKey?-1:1,me.undoManager.transact(function(){!un.moveRelIdx(Pt,vn)&&vn>0&&(un.insertRow(),un.refresh(),un.moveRelIdx(Pt,vn))}))}),Nt.insertTable=De,Nt.setClipboardRows=function Je(Tt){ht=Tt},Nt.getClipboardRows=function je(){return ht}})})}(window),function(be,Ae){"object"==typeof exports&&typeof module<"u"?Ae(exports):"function"==typeof define&&define.amd?define(["exports"],Ae):Ae(be.echarts={})}(this,function(be){"use strict";var e,t,n,i,o,a,Ye,Ae=2311,Sn=function(){return Ae++},ve="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:(t={},n=(e=navigator.userAgent).match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(e),n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),o&&(t.edge=!0,t.version=o[1]),a&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!t.ie&&!t.edge,pointerEventsSupported:"onpointerdown"in window&&(t.edge||t.ie&&11<=t.version),domSupported:typeof document<"u"}),at={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},ce={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},ge=Object.prototype.toString,Q=Array.prototype,Z=Q.forEach,q=Q.filter,j=Q.slice,J=Q.map,ee=Q.reduce,O={};function B(e,t){"createCanvas"===e&&(Ye=null),O[e]=t}function K(e){if(null==e||"object"!=typeof e)return e;var t=e,n=ge.call(e);if("[object Array]"===n){if(!oi(e)){t=[];for(var i=0,o=e.length;i<o;i++)t[i]=K(e[i])}}else if(ce[n]){if(!oi(e)){var a=e.constructor;if(e.constructor.from)t=a.from(e);else for(t=new a(e.length),i=0,o=e.length;i<o;i++)t[i]=K(e[i])}}else if(!at[n]&&!oi(e)&&!zt(e))for(var s in t={},e)e.hasOwnProperty(s)&&(t[s]=K(e[s]));return t}function de(e,t,n){if(!Pt(t)||!Pt(e))return n?K(t):e;for(var i in t)if(t.hasOwnProperty(i)){var o=e[i],a=t[i];!Pt(a)||!Pt(o)||bt(a)||bt(o)||zt(a)||zt(o)||un(a)||un(o)||oi(a)||oi(o)?!n&&i in e||(e[i]=K(t[i])):de(o,a,n)}return e}function me(e,t){for(var n=e[0],i=1,o=e.length;i<o;i++)n=de(n,e[i],t);return n}function he(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function De(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function Ne(){return O.createCanvas()}function P(){return Ye=Ye||Ne().getContext("2d")}function We(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function xe(e,t){var n=e.prototype;function i(){}for(var o in i.prototype=t.prototype,e.prototype=new i,n)n.hasOwnProperty(o)&&(e.prototype[o]=n[o]);(e.prototype.constructor=e).superClass=t}function ke(e,t,n){De(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,n)}function Ve(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function ue(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Z)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function Re(e,t,n){if(e&&t){if(e.map&&e.map===J)return e.map(t,n);for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.call(n,e[o],o,e));return i}}function je(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===ee)return e.reduce(t,n,i);for(var o=0,a=e.length;o<a;o++)n=t.call(i,n,e[o],o,e);return n}}function Je(e,t,n){if(e&&t){if(e.filter&&e.filter===q)return e.filter(t,n);for(var i=[],o=0,a=e.length;o<a;o++)t.call(n,e[o],o,e)&&i.push(e[o]);return i}}function ht(e,t,n){if(e&&t)for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return e[i]}function dt(e,t){var n=j.call(arguments,2);return function(){return e.apply(t,n.concat(j.call(arguments)))}}function Nt(e){var t=j.call(arguments,1);return function(){return e.apply(this,t.concat(j.call(arguments)))}}function bt(e){return"[object Array]"===ge.call(e)}function on(e){return"function"==typeof e}function Tt(e){return"[object String]"===ge.call(e)}function Pt(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function un(e){return!!at[ge.call(e)]}function vn(e){return!!ce[ge.call(e)]}function zt(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function cn(e){return e!=e}function Mn(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function Zt(e,t){return e??t}function Nn(e,t,n){return e??t??n}function sn(){return Function.call.apply(j,arguments)}function On(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function yi(e,t){if(!e)throw new Error(t)}function ni(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}O.createCanvas=function(){return document.createElement("canvas")};var Jn="__ec_primitive__";function xi(e){e[Jn]=!0}function oi(e){return e[Jn]}function Ni(e){var t=bt(e);this.data={};var n=this;function i(o,a){t?n.set(o,a):n.set(a,o)}e instanceof Ni?e.each(i):e&&ue(e,i)}function Jt(e){return new Ni(e)}function qt(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var o=e.length;for(i=0;i<t.length;i++)n[i+o]=t[i];return n}function gn(){}Ni.prototype={constructor:Ni,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=dt(e,t)),this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}};var Ln=(Object.freeze||Object)({$override:B,clone:K,merge:de,mergeAll:me,extend:he,defaults:De,createCanvas:Ne,getContext:P,indexOf:We,inherits:xe,mixin:ke,isArrayLike:Ve,each:ue,map:Re,reduce:je,filter:Je,find:ht,bind:dt,curry:Nt,isArray:bt,isFunction:on,isString:Tt,isObject:Pt,isBuiltInObject:un,isTypedArray:vn,isDom:zt,eqNaN:cn,retrieve:Mn,retrieve2:Zt,retrieve3:Nn,slice:sn,normalizeCssArray:On,assert:yi,trim:ni,setAsPrimitive:xi,isPrimitive:oi,createHashMap:Jt,concatArray:qt,noop:gn}),dn=typeof Float32Array>"u"?Array:Float32Array;function an(e,t){var n=new dn(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function Wn(e,t){return e[0]=t[0],e[1]=t[1],e}function ui(e){var t=new dn(2);return t[0]=e[0],t[1]=e[1],t}function Ii(e,t,n){return e[0]=t,e[1]=n,e}function ri(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Yt(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function fn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Tn(e){return Math.sqrt(Pn(e))}function Pn(e){return e[0]*e[0]+e[1]*e[1]}function qn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function $n(e,t){var n=Tn(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function ai(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var di=ai;function _i(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Zi=_i;function nr(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function Mi(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e}function gr(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Fi(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var Ui=(Object.freeze||Object)({create:an,copy:Wn,clone:ui,set:Ii,add:ri,scaleAndAdd:Yt,sub:fn,len:Tn,length:Tn,lenSquare:Pn,lengthSquare:Pn,mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:qn,normalize:$n,distance:ai,dist:di,distanceSquare:_i,distSquare:Zi,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:nr,applyTransform:Mi,min:gr,max:Fi});function Vi(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function ki(e,t){return{target:e,topTarget:t&&t.topTarget}}Vi.prototype={constructor:Vi,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&((this._draggingTarget=t).dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(ki(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,o=n-this._x,a=i-this._y;this._x=n,this._y=i,t.drift(o,a,e),this.dispatchToElement(ki(t,e),"drag",e.event);var s=this.findHover(n,i,t).target,l=this._dropTarget;t!==(this._dropTarget=s)&&(l&&s!==l&&this.dispatchToElement(ki(l,e),"dragleave",e.event),s&&s!==l&&this.dispatchToElement(ki(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(ki(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(ki(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var pr=Array.prototype.slice,Wi=function(e){this._$handlers={},this._$eventProcessor=e};function wr(e,t,n,i,o,a){var m,y,s=e._$handlers;if("function"==typeof n&&(o=i,i=n,n=null),!i||!t)return e;y=e._$eventProcessor,null!=(m=n)&&y&&y.normalizeQuery&&(m=y.normalizeQuery(m)),n=m,s[t]||(s[t]=[]);for(var l=0;l<s[t].length;l++)if(s[t][l].h===i)return e;var u={h:i,one:a,query:n,ctx:o||e,callAtLast:i.zrEventfulCallAtLast},c=s[t].length-1,d=s[t][c];return d&&d.callAtLast?s[t].splice(c,0,u):s[t].push(u),e}Wi.prototype={constructor:Wi,one:function(e,t,n,i){return wr(this,e,t,n,i,!0)},on:function(e,t,n,i){return wr(this,e,t,n,i,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],o=0,a=n[e].length;o<a;o++)n[e][o].h!==t&&i.push(n[e][o]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,o=i.length;3<o&&(i=pr.call(i,1));for(var a=t.length,s=0;s<a;){var l=t[s];if(n&&n.filter&&null!=l.query&&!n.filter(e,l.query))s++;else{switch(o){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,i[1]);break;case 3:l.h.call(l.ctx,i[1],i[2]);break;default:l.h.apply(l.ctx,i)}l.one?(t.splice(s,1),a--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,o=i.length;4<o&&(i=pr.call(i,1,i.length-1));for(var a=i[i.length-1],s=t.length,l=0;l<s;){var u=t[l];if(n&&n.filter&&null!=u.query&&!n.filter(e,u.query))l++;else{switch(o){case 1:u.h.call(a);break;case 2:u.h.call(a,i[1]);break;case 3:u.h.call(a,i[1],i[2]);break;default:u.h.apply(a,i)}u.one?(t.splice(l,1),s--):l++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this}};var io=Math.log(2);function Qt(e,t,n,i,o,a){var s=i+"-"+o,l=e.length;if(a.hasOwnProperty(s))return a[s];if(1===t){var u=Math.round(Math.log((1<<l)-1&~o)/io);return e[n][u]}for(var c=i|1<<n,d=n+1;i&1<<d;)d++;for(var h=0,m=0,y=0;m<l;m++){var T=1<<m;T&o||(h+=(y%2?-1:1)*e[n][m]*Qt(e,t-1,d,c,o|T,a),y++)}return a[s]=h}function hn(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},o=Qt(n,8,0,0,0,i);if(0!==o){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==a[l]&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*Qt(n,7,0===s?1:0,1<<s,1<<l,i)/o*t[s];return function(u,c,d){var h=c*a[6]+d*a[7]+1;u[0]=(c*a[0]+d*a[1]+a[2])/h,u[1]=(c*a[3]+d*a[4]+a[5])/h}}}var Un="___zrEVENTSAVED",Bn=[];function Qn(e,t,n,i,o){if(t.getBoundingClientRect&&ve.domSupported&&!bi(t)){var a=t[Un]||(t[Un]={}),s=function(l,u,c){for(var d=c?"invTrans":"trans",h=u[d],m=u.srcCoords,y=!0,T=[],H=[],R=0;R<4;R++){var $=l[R].getBoundingClientRect(),se=2*R,oe=$.left,Se=$.top;T.push(oe,Se),y=y&&m&&oe===m[se]&&Se===m[1+se],H.push(l[R].offsetLeft,l[R].offsetTop)}return y&&h?h:(u.srcCoords=T,u[d]=c?hn(H,T):hn(T,H))}(function(l,u){var c=u.markers;if(c)return c;c=u.markers=[];for(var d=["left","right"],h=["top","bottom"],m=0;m<4;m++){var y=document.createElement("div"),H=m%2,R=(m>>1)%2;y.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",d[H]+":0",h[R]+":0",d[1-H]+":auto",h[1-R]+":auto",""].join("!important;"),l.appendChild(y),c.push(y)}return c}(t,a),a,o);if(s)return s(e,n,i),!0}return!1}function bi(e){return"CANVAS"===e.nodeName.toUpperCase()}var wi=typeof window<"u"&&!!window.addEventListener,Ai=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,hi=[];function Ci(e,t,n,i){return n=n||{},i||!ve.canvasSupported?gi(e,t,n):ve.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):gi(e,t,n),n}function gi(e,t,n){if(ve.domSupported&&e.getBoundingClientRect){var i=t.clientX,o=t.clientY;if(bi(e)){var a=e.getBoundingClientRect();return n.zrX=i-a.left,void(n.zrY=o-a.top)}if(Qn(hi,e,i,o))return n.zrX=hi[0],void(n.zrY=hi[1])}n.zrX=n.zrY=0}function mi(e){return e||window.event}function Li(e,t,n){if(null!=(t=mi(t)).zrX)return t;var i=t.type;if(i&&0<=i.indexOf("touch")){var o="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];o&&Ci(e,o,t,n)}else Ci(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var a=t.button;return null==t.which&&void 0!==a&&Ai.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Ki(e,t,n,i){wi?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)}var ar=wi?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function Fr(e){return 2===e.which||3===e.which}function Sr(){this._track=[]}function Ur(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}Sr.prototype={constructor:Sr,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var o={points:[],touches:[],target:t,event:e},a=0,s=i.length;a<s;a++){var l=i[a],u=Ci(n,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(e){for(var t in zi)if(zi.hasOwnProperty(t)){var n=zi[t](this._track,e);if(n)return n}}};var zi={pinch:function(e,t){var l,n=e.length;if(n){var i=(e[n-1]||{}).points,o=(e[n-2]||{}).points||i;if(o&&1<o.length&&i&&1<i.length){var a=Ur(i)/Ur(o);isFinite(a)||(a=1),t.pinchScale=a;var s=[((l=i)[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},Xr="silent";function ro(){ar(this.event)}function oo(){}function So(e,t,n,i){Wi.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new oo,this.proxy=null,this._hovered={},Vi.call(this),this.setHandlerProxy(n)}oo.prototype.dispose=function(){};var Ho=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];function Er(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i,o=e;o;){if(o.clipPath&&!o.clipPath.contain(t,n))return!1;o.silent&&(i=!0),o=o.parent}return!i||Xr}return!1}function ra(e,t,n){var i=e.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}So.prototype={constructor:So,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(ue(Ho,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=ra(this,t,n),o=this._hovered,a=o.target;a&&!a.__zr&&(a=(o=this.findHover(o.x,o.y)).target);var s=this._hovered=i?{x:t,y:n}:this.findHover(t,n),l=s.target,u=this.proxy;u.setCursor&&u.setCursor(l?l.cursor:"default"),a&&l!==a&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(s,"mousemove",e),l&&l!==a&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,n=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&(n||this.trigger("globalout",{type:"globalout",event:e}))},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var l,u,i=(e=e||{}).target;if(!i||!i.silent){for(var o="on"+t,a={type:t,event:u=n,target:(l=e).target,topTarget:l.topTarget,cancelBubble:!1,offsetX:u.zrX,offsetY:u.zrY,gestureEvent:u.gestureEvent,pinchX:u.pinchX,pinchY:u.pinchY,pinchScale:u.pinchScale,wheelDelta:u.zrDelta,zrByTouch:u.zrByTouch,which:u.which,stop:ro};i&&(i[o]&&(a.cancelBubble=i[o].call(i,a)),i.trigger(t,a),i=i.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(t,a),this.painter&&this.painter.eachOtherLayer(function(s){"function"==typeof s[o]&&s[o].call(s,a),s.trigger&&s.trigger(t,a)}))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),o={x:e,y:t},a=i.length-1;0<=a;a--){var s;if(i[a]!==n&&!i[a].ignore&&(s=Er(i[a],e,t))&&(o.topTarget||(o.topTarget=i[a]),s!==Xr)){o.target=i[a];break}}return o},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new Sr);var n=this._gestureMgr;"start"===t&&n.clear();var i=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),i){var o=i.type;e.gestureEvent=o,this.dispatchToElement({target:i.target},o,i.event)}}},ue(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){So.prototype[e]=function(t){var n,i,o=t.zrX,a=t.zrY,s=ra(this,o,a);if("mouseup"===e&&s||(i=(n=this.findHover(o,a)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||4<di(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),ke(So,Wi),ke(So,Vi);var vo=typeof Float32Array>"u"?Array:Float32Array;function Dr(){var e=new vo(6);return yr(e),e}function yr(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Hr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function hr(e,t,n){var o=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=o,e[2]=a,e[3]=s,e[4]=l,e[5]=u,e}function Ji(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function xr(e,t,n){var i=t[0],o=t[2],a=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),d=Math.cos(n);return e[0]=i*d+s*c,e[1]=-i*c+s*d,e[2]=o*d+l*c,e[3]=-o*c+d*l,e[4]=d*a+c*u,e[5]=d*u-c*a,e}function Co(e,t,n){var i=n[0],o=n[1];return e[0]=t[0]*i,e[1]=t[1]*o,e[2]=t[2]*i,e[3]=t[3]*o,e[4]=t[4]*i,e[5]=t[5]*o,e}function Qi(e,t){var n=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=n*s-a*i;return u?(e[0]=s*(u=1/u),e[1]=-a*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*l-s*o)*u,e[5]=(a*o-n*l)*u,e):null}function Bi(e){var t=Dr();return Hr(t,e),t}var Gr=(Object.freeze||Object)({create:Dr,identity:yr,copy:Hr,mul:hr,translate:Ji,rotate:xr,scale:Co,invert:Qi,clone:Bi}),Vr=yr;function $i(e){return 5e-5<e||e<-5e-5}var sr=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},br=sr.prototype;br.transform=null,br.needLocalTransform=function(){return $i(this.rotation)||$i(this.position[0])||$i(this.position[1])||$i(this.scale[0]-1)||$i(this.scale[1]-1)};var or=[];br.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;if(n||t){i=i||Dr(),n?this.getLocalTransform(i):Vr(i),t&&(n?hr(i,e.transform,i):Hr(i,e.transform)),this.transform=i;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(or);var a=or[0]<0?-1:1,s=or[1]<0?-1:1,l=((or[0]-a)*o+a)/or[0]||0,u=((or[1]-s)*o+s)/or[1]||0;i[0]*=l,i[1]*=l,i[2]*=u,i[3]*=u}this.invTransform=this.invTransform||Dr(),Qi(this.invTransform,i)}else i&&Vr(i)},br.getLocalTransform=function(e){return sr.getLocalTransform(this,e)},br.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},br.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var To=[],Eo=Dr();br.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=this.position,o=this.scale;$i(t-1)&&(t=Math.sqrt(t)),$i(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),i[0]=e[4],i[1]=e[5],o[0]=t,o[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/t)}},br.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(hr(To,e.invTransform,t),t=To);var n=this.origin;n&&(n[0]||n[1])&&(Eo[4]=n[0],Eo[5]=n[1],hr(To,t,Eo),To[4]-=n[0],To[5]-=n[1],t=To),this.setLocalTransform(t)}},br.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1])):(e[0]=1,e[1]=1),e},br.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Mi(n,n,i),n},br.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Mi(n,n,i),n},sr.getLocalTransform=function(e,t){Vr(t=t||[]);var n=e.origin,i=e.scale||[1,1],o=e.rotation||0,a=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),Co(t,t,i),o&&xr(t,t,o),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=a[0],t[5]+=a[1],t};var Zr={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){return e*e*(2.70158*e-1.70158)},backOut:function(e){return--e*e*(2.70158*e+1.70158)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)},bounceIn:function(e){return 1-Zr.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*Zr.bounceIn(2*e):.5*Zr.bounceOut(2*e-1)+.5}};function lo(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function Vo(){this.head=null,this.tail=null,this._len=0}lo.prototype={constructor:lo,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,o="string"==typeof i?Zr[i]:i,a="function"==typeof o?o(n):n;return this.fire("frame",a),1===n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var No=Vo.prototype;function ir(e){this._list=new Vo,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null}No.insert=function(e){var t=new Oi(e);return this.insertEntry(t),t},No.insertEntry=function(e){this.head?((this.tail.next=e).prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},No.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},No.len=function(){return this._len},No.clear=function(){this.head=this.tail=null,this._len=0};var Oi=function(e){this.value=e},Kr=ir.prototype;Kr.put=function(e,t){var n=this._list,i=this._map,o=null;if(null==i[e]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&0<a){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new Oi(t),s.key=e,n.insertEntry(s),i[e]=s}return o},Kr.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},Kr.clear=function(){this._list.clear(),this._map={}};var uo={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Nr(e){return(e=Math.round(e))<0?0:255<e?255:e}function qr(e){return e<0?0:1<e?1:e}function co(e){return e.length&&"%"===e.charAt(e.length-1)?Nr(parseFloat(e)/100*255):Nr(parseInt(e,10))}function Wo(e){return e.length&&"%"===e.charAt(e.length-1)?qr(parseFloat(e)/100):qr(parseFloat(e))}function oa(e,t,n){return n<0?n+=1:1<n&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Lr(e,t,n){return e+(t-e)*n}function Wr(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}function Do(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Jr=new ir(20),Ar=null;function yo(e,t){Ar&&Do(Ar,t),Ar=Jr.put(e,Ar||t.slice())}function mr(e,t){if(e){t=t||[];var n=Jr.get(e);if(n)return Do(t,n);var i,o=(e+="").replace(/ /g,"").toLowerCase();if(o in uo)return Do(t,uo[o]),yo(e,t),t;if("#"===o.charAt(0))return 4===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=4095?(Wr(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),yo(e,t),t):void Wr(t,0,0,0,1):7===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=16777215?(Wr(t,(16711680&i)>>16,(65280&i)>>8,255&i,1),yo(e,t),t):void Wr(t,0,0,0,1):void 0;var a=o.indexOf("("),s=o.indexOf(")");if(-1!==a&&s+1===o.length){var l=o.substr(0,a),u=o.substr(a+1,s-(a+1)).split(","),c=1;switch(l){case"rgba":if(4!==u.length)return void Wr(t,0,0,0,1);c=Wo(u.pop());case"rgb":return 3!==u.length?void Wr(t,0,0,0,1):(Wr(t,co(u[0]),co(u[1]),co(u[2]),c),yo(e,t),t);case"hsla":return 4!==u.length?void Wr(t,0,0,0,1):(u[3]=Wo(u[3]),ho(u,t),yo(e,t),t);case"hsl":return 3!==u.length?void Wr(t,0,0,0,1):(ho(u,t),yo(e,t),t);default:return}}Wr(t,0,0,0,1)}}function ho(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=Wo(e[1]),o=Wo(e[2]),a=o<=.5?o*(i+1):o+i-o*i,s=2*o-a;return Wr(t=t||[],Nr(255*oa(s,a,n+1/3)),Nr(255*oa(s,a,n)),Nr(255*oa(s,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function qo(e,t){var n=mr(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,255<n[i]?n[i]=255:e[i]<0&&(n[i]=0);return _e(n,4===n.length?"rgba":"rgb")}}function bo(e){var t=mr(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Mr(e,t,n){if(t&&t.length&&0<=e&&e<=1){n=n||[];var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=t[o],l=t[a],u=i-o;return n[0]=Nr(Lr(s[0],l[0],u)),n[1]=Nr(Lr(s[1],l[1],u)),n[2]=Nr(Lr(s[2],l[2],u)),n[3]=qr(Lr(s[3],l[3],u)),n}}function Yo(e,t,n){if(t&&t.length&&0<=e&&e<=1){var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=mr(t[o]),l=mr(t[a]),u=i-o,c=_e([Nr(Lr(s[0],l[0],u)),Nr(Lr(s[1],l[1],u)),Nr(Lr(s[2],l[2],u)),qr(Lr(s[3],l[3],u))],"rgba");return n?{color:c,leftIndex:o,rightIndex:a,value:i}:c}}function te(e,t,n,i){if(e=mr(e))return e=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,c=o[2]/255,d=Math.min(l,u,c),h=Math.max(l,u,c),m=h-d,y=(h+d)/2;if(0==m)s=a=0;else{s=y<.5?m/(h+d):m/(2-h-d);var T=((h-l)/6+m/2)/m,H=((h-u)/6+m/2)/m,R=((h-c)/6+m/2)/m;l===h?a=R-H:u===h?a=1/3+T-R:c===h&&(a=2/3+H-T),a<0&&(a+=1),1<a&&(a-=1)}var $=[360*a,s,y];return null!=o[3]&&$.push(o[3]),$}}(e),null!=t&&(e[0]=function(o){return(o=Math.round(o))<0?0:360<o?360:o}(t)),null!=n&&(e[1]=Wo(n)),null!=i&&(e[2]=Wo(i)),_e(ho(e),"rgba")}function ye(e,t){if((e=mr(e))&&null!=t)return e[3]=qr(t),_e(e,"rgba")}function _e(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}var Ee=(Object.freeze||Object)({parse:mr,lift:qo,toHex:bo,fastLerp:Mr,fastMapToColor:Mr,lerp:Yo,mapToColor:Yo,modifyHSL:te,modifyAlpha:ye,stringify:_e}),Xe=Array.prototype.slice;function He(e,t){return e[t]}function Ge(e,t,n){e[t]=n}function ft(e,t,n){return(t-e)*n+e}function S(e,t,n){return.5<n?t:e}function k(e,t,n,i,o){var a=e.length;if(1===o)for(var s=0;s<a;s++)i[s]=ft(e[s],t[s],n);else{var l=a&&e[0].length;for(s=0;s<a;s++)for(var u=0;u<l;u++)i[s][u]=ft(e[s][u],t[s][u],n)}}function re(e,t,n){var i=e.length,o=t.length;if(i!==o)if(o<i)e.length=o;else for(var a=i;a<o;a++)e.push(1===n?t[a]:Xe.call(t[a]));var s=e[0]&&e[0].length;for(a=0;a<e.length;a++)if(1===n)isNaN(e[a])&&(e[a]=t[a]);else for(var l=0;l<s;l++)isNaN(e[a][l])&&(e[a][l]=t[a][l])}function fe(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(var o=0;o<i;o++)if(e[o]!==t[o])return!1}else{var a=e[0].length;for(o=0;o<i;o++)for(var s=0;s<a;s++)if(e[o][s]!==t[o][s])return!1}return!0}function L(e,t,n,i,o,a,s,l,u){var c=e.length;if(1===u)for(var d=0;d<c;d++)l[d]=M(e[d],t[d],n[d],i[d],o,a,s);else{var h=e[0].length;for(d=0;d<c;d++)for(var m=0;m<h;m++)l[d][m]=M(e[d][m],t[d][m],n[d][m],i[d][m],o,a,s)}}function M(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function x(e){if(Ve(e)){var t=e.length;if(Ve(e[0])){for(var n=[],i=0;i<t;i++)n.push(Xe.call(e[i]));return n}return Xe.call(e)}return e}function w(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function v(e,t,n,i,o,a){var Rt,It,s=e._getter,l=e._setter,u="spline"===t,c=i.length;if(c){var d,h=Ve(i[0].value),m=!1,y=!1,T=h?Ve((It=(Rt=i)[Rt.length-1].value)&&It[0])?2:1:0;i.sort(function(Rt,It){return Rt.time-It.time}),d=i[c-1].time;for(var H=[],R=[],$=i[0].value,se=!0,oe=0;oe<c;oe++){H.push(i[oe].time/d);var Se=i[oe].value;if(h&&fe(Se,$,T)||!h&&Se===$||(se=!1),"string"==typeof($=Se)){var we=mr(Se);we?(Se=we,m=!0):y=!0}R.push(Se)}if(a||!se){var Te=R[c-1];for(oe=0;oe<c-1;oe++)h?re(R[oe],Te,T):!isNaN(R[oe])||isNaN(Te)||y||m||(R[oe]=Te);h&&re(s(e._target,o),Te,T);var Me,Pe,Ke,it,lt,mt=0,vt=0;if(m)var wt=[0,0,0,0];var Et=new lo({target:e._target,life:d,loop:e._loop,delay:e._delay,onframe:function(Rt,It){var Gt;if(It<0)Gt=0;else if(It<vt){for(Gt=Math.min(mt+1,c-1);0<=Gt&&!(H[Gt]<=It);Gt--);Gt=Math.min(Gt,c-2)}else{for(Gt=mt;Gt<c&&!(H[Gt]>It);Gt++);Gt=Math.min(Gt-1,c-2)}vt=It;var bn=H[(mt=Gt)+1]-H[Gt];if(0!=bn)if(Me=(It-H[Gt])/bn,u)if(Ke=R[Gt],Pe=R[0===Gt?Gt:Gt-1],it=R[c-2<Gt?c-1:Gt+1],lt=R[c-3<Gt?c-1:Gt+2],h)L(Pe,Ke,it,lt,Me,Me*Me,Me*Me*Me,s(Rt,o),T);else{if(m)Cn=L(Pe,Ke,it,lt,Me,Me*Me,Me*Me*Me,wt,1),Cn=w(wt);else{if(y)return S(Ke,it,Me);Cn=M(Pe,Ke,it,lt,Me,Me*Me,Me*Me*Me)}l(Rt,o,Cn)}else if(h)k(R[Gt],R[Gt+1],Me,s(Rt,o),T);else{var Cn;if(m)k(R[Gt],R[Gt+1],Me,wt,1),Cn=w(wt);else{if(y)return S(R[Gt],R[Gt+1],Me);Cn=ft(R[Gt],R[Gt+1],Me)}l(Rt,o,Cn)}},ondestroy:n});return t&&"spline"!==t&&(Et.easing=t),Et}}}function f(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||He,this._setter=i||Ge,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}f.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var o=this._getter(this._target,i);if(null==o)continue;0!==e&&n[i].push({time:0,value:x(o)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){function n(){--a||o._doneCallback()}var i,o=this,a=0;for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var l=v(this,e,n,this._tracks[s],s,t);l&&(this._clipList.push(l),a++,this.animation&&this.animation.addClip(l),i=l)}if(i){var u=i.onframe;i.onframe=function(c,d){u(c,d);for(var h=0;h<o._onframeList.length;h++)o._onframeList[h](c,d)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var o=t[i];e&&o.onframe(this._target,1),n&&n.removeClip(o)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var p=1;typeof window<"u"&&(p=Math.max(window.devicePixelRatio||1,1));var _=p;function I(){this.animators=[]}function z(e,t,n,i,o,a,s,l){Tt(i)?(a=o,o=i,i=0):on(o)?(a=o,o="linear",i=0):on(i)?(a=i,i=0):n=on(n)?(a=n,500):n||500,e.stopAnimation(),function m(y,T,H,R,$,se,oe){var Se={},we=0;for(var Te in R)R.hasOwnProperty(Te)&&(null!=H[Te]?Pt(R[Te])&&!Ve(R[Te])?m(y,T?T+"."+Te:Te,H[Te],R[Te],$,se,oe):(oe?(Se[Te]=H[Te],V(y,T,Te,R[Te])):Se[Te]=R[Te],we++):null==R[Te]||oe||V(y,T,Te,R[Te]));0<we&&y.animate(T,!1).when($??500,Se).delay(se||0)}(e,"",e,t,n,i,l);var u=e.animators.slice(),c=u.length;function d(){--c||a&&a()}c||a&&a();for(var h=0;h<u.length;h++)u[h].done(d).start(o,s)}function V(e,t,n,i){if(t){var o={};o[t]={},o[t][n]=i,e.attr(o)}else e.attr(n,i)}I.prototype={constructor:I,animate:function(e,t){var n,i=!1,o=this,a=this.__zr;if(e){var s=e.split("."),l=o;i="shape"===s[0];for(var u=0,c=s.length;u<c;u++)l=l&&l[s[u]];l&&(n=l)}else n=o;if(n){var d=o.animators,h=new f(n,t);return h.during(function(m){o.dirty(i)}).done(function(){d.splice(We(d,h),1)}),d.push(h),a&&a.animation.addAnimator(h),h}},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,o,a){z(this,e,t,n,i,o,a)},animateFrom:function(e,t,n,i,o,a){z(this,e,t,n,i,o,a,!0)}};var Y=function(e){sr.call(this,e),Wi.call(this,e),I.call(this,e),this.id=e.id||Sn()};Y.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;(n=n||(this.transform=[1,0,0,1,0,0]))[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];(n=n||(this[e]=[]))[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(Pt(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),(this.clipPath=e).__zr=t,(e.__clipTarget=this).dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},ke(Y,I),ke(Y,sr),ke(Y,Wi);var U,ne,X,le,G=Mi,W=Math.min,F=Math.max;function A(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}A.prototype={constructor:A,union:function(e){var t=W(e.x,this.x),n=W(e.y,this.y);this.width=F(e.x+e.width,this.x+this.width)-t,this.height=F(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:(U=[],ne=[],X=[],le=[],function(e){if(e){U[0]=X[0]=this.x,U[1]=le[1]=this.y,ne[0]=le[0]=this.x+this.width,ne[1]=X[1]=this.y+this.height,G(U,U,e),G(ne,ne,e),G(X,X,e),G(le,le,e),this.x=W(U[0],ne[0],X[0],le[0]),this.y=W(U[1],ne[1],X[1],le[1]);var t=F(U[0],ne[0],X[0],le[0]),n=F(U[1],ne[1],X[1],le[1]);this.width=t-this.x,this.height=n-this.y}}),calculateTransform:function(e){var t=e.width/this.width,n=e.height/this.height,i=Dr();return Ji(i,i,[-this.x,-this.y]),Co(i,i,[t,n]),Ji(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof A||(e=A.create(e));var t=this;return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new A(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},A.create=function(e){return new A(e.x,e.y,e.width,e.height)};var E=function(e){for(var t in Y.call(this,e=e||{}),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};E.prototype={constructor:E,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);0<=i&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e);var t=(e.parent=this).__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof E&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,o=We(i,e);return o<0||(i.splice(o,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof E&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof E&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++)e.call(t,n[i],i);return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof E&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof E&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new A(0,0,0,0),i=e||this._children,o=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(o);u?(n.copy(l),n.applyTransform(u),(t=t||n.clone()).union(n)):(t=t||l.clone()).union(l)}}return t||n}},xe(E,Y);var ie=32,pe=7;function ae(e,t,n,i){var o=t+1;if(o===n)return 1;if(i(e[o++],e[t])<0){for(;o<n&&i(e[o],e[o-1])<0;)o++;!function(a,s,l){for(l--;s<l;){var u=a[s];a[s++]=a[l],a[l--]=u}}(e,t,o)}else for(;o<n&&0<=i(e[o],e[o-1]);)o++;return o-t}function Ce(e,t,n,i,o){for(i===t&&i++;i<n;i++){for(var a,s=e[i],l=t,u=i;l<u;)o(s,e[a=l+u>>>1])<0?u=a:l=1+a;var c=i-l;switch(c){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;0<c;)e[l+c]=e[l+c-1],c--}e[l]=s}}function Le(e,t,n,i,o,a){var s=0,l=0,u=1;if(0<a(e,t[n+o])){for(l=i-o;u<l&&0<a(e,t[n+o+u]);)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l),s+=o,u+=o}else{for(l=o+1;u<l&&a(e,t[n+o-u])<=0;)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l);var c=s;s=o-u,u=o-c}for(s++;s<u;){var d=s+(u-s>>>1);0<a(e,t[n+d])?s=d+1:u=d}return u}function tt(e,t,n,i,o,a){var s=0,l=0,u=1;if(a(e,t[n+o])<0){for(l=o+1;u<l&&a(e,t[n+o-u])<0;)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l);var c=s;s=o-u,u=o-c}else{for(l=i-o;u<l&&0<=a(e,t[n+o+u]);)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l),s+=o,u+=o}for(s++;s<u;){var d=s+(u-s>>>1);a(e,t[n+d])<0?u=d:s=d+1}return u}function Ze(e,t){var n,i,o=pe,a=0,s=[];function l(u){var c=n[u],d=i[u],h=n[u+1],m=i[u+1];i[u]=d+m,u===a-3&&(n[u+1]=n[u+2],i[u+1]=i[u+2]),a--;var y=tt(e[h],e,c,d,0,t);c+=y,0!=(d-=y)&&0!==(m=Le(e[c+d-1],e,h,m,m-1,t))&&(d<=m?function(T,H,R,$){var se=0;for(se=0;se<H;se++)s[se]=e[T+se];var oe=0,Se=R,we=T;if(e[we++]=e[Se++],0!=--$){if(1===H){for(se=0;se<$;se++)e[we+se]=e[Se+se];return e[we+$]=s[oe]}for(var Te,Me,Pe,Ke=o;;){Me=Te=0,Pe=!1;do{if(t(e[Se],s[oe])<0){if(e[we++]=e[Se++],Me++,(Te=0)==--$){Pe=!0;break}}else if(e[we++]=s[oe++],Te++,Me=0,1==--H){Pe=!0;break}}while((Te|Me)<Ke);if(Pe)break;do{if(0!==(Te=tt(e[Se],s,oe,H,0,t))){for(se=0;se<Te;se++)e[we+se]=s[oe+se];if(we+=Te,oe+=Te,(H-=Te)<=1){Pe=!0;break}}if(e[we++]=e[Se++],0==--$){Pe=!0;break}if(0!==(Me=Le(s[oe],e,Se,$,0,t))){for(se=0;se<Me;se++)e[we+se]=e[Se+se];if(we+=Me,Se+=Me,0==($-=Me)){Pe=!0;break}}if(e[we++]=s[oe++],1==--H){Pe=!0;break}Ke--}while(pe<=Te||pe<=Me);if(Pe)break;Ke<0&&(Ke=0),Ke+=2}if((o=Ke)<1&&(o=1),1===H){for(se=0;se<$;se++)e[we+se]=e[Se+se];e[we+$]=s[oe]}else{if(0===H)throw new Error;for(se=0;se<H;se++)e[we+se]=s[oe+se]}}else for(se=0;se<H;se++)e[we+se]=s[oe+se]}(c,d,h,m):function(T,H,R,$){var se=0;for(se=0;se<$;se++)s[se]=e[R+se];var oe=T+H-1,Se=$-1,we=R+$-1,Te=0,Me=0;if(e[we--]=e[oe--],0!=--H){if(1===$){for(Me=1+(we-=H),Te=1+(oe-=H),se=H-1;0<=se;se--)e[Me+se]=e[Te+se];return e[we]=s[Se]}for(var Pe=o;;){var Ke=0,it=0,lt=!1;do{if(t(s[Se],e[oe])<0){if(e[we--]=e[oe--],Ke++,(it=0)==--H){lt=!0;break}}else if(e[we--]=s[Se--],it++,Ke=0,1==--$){lt=!0;break}}while((Ke|it)<Pe);if(lt)break;do{if(0!=(Ke=H-tt(s[Se],e,T,H,H-1,t))){for(H-=Ke,Me=1+(we-=Ke),Te=1+(oe-=Ke),se=Ke-1;0<=se;se--)e[Me+se]=e[Te+se];if(0===H){lt=!0;break}}if(e[we--]=s[Se--],1==--$){lt=!0;break}if(0!=(it=$-Le(e[oe],s,0,$,$-1,t))){for($-=it,Me=1+(we-=it),Te=1+(Se-=it),se=0;se<it;se++)e[Me+se]=s[Te+se];if($<=1){lt=!0;break}}if(e[we--]=e[oe--],0==--H){lt=!0;break}Pe--}while(pe<=Ke||pe<=it);if(lt)break;Pe<0&&(Pe=0),Pe+=2}if((o=Pe)<1&&(o=1),1===$){for(Me=1+(we-=H),Te=1+(oe-=H),se=H-1;0<=se;se--)e[Me+se]=e[Te+se];e[we]=s[Se]}else{if(0===$)throw new Error;for(Te=we-($-1),se=0;se<$;se++)e[Te+se]=s[se]}}else for(Te=we-($-1),se=0;se<$;se++)e[Te+se]=s[se]}(c,d,h,m))}n=[],i=[],this.mergeRuns=function(){for(;1<a;){var u=a-2;if(1<=u&&i[u-1]<=i[u]+i[u+1]||2<=u&&i[u-2]<=i[u]+i[u-1])i[u-1]<i[u+1]&&u--;else if(i[u]>i[u+1])break;l(u)}},this.forceMergeRuns=function(){for(;1<a;){var u=a-2;0<u&&i[u-1]<i[u+1]&&u--,l(u)}},this.pushRun=function(u,c){n[a]=u,i[a]=c,a+=1}}function qe(e,t,n,i){var o=(i=i||e.length)-(n=n||0);if(!(o<2)){var a=0;if(o<ie)Ce(e,n,i,n+(a=ae(e,n,i,t)),t);else{var s=new Ze(e,t),l=function(c){for(var d=0;ie<=c;)d|=1&c,c>>=1;return c+d}(o);do{if((a=ae(e,n,i,t))<l){var u=o;l<u&&(u=l),Ce(e,n,n+u,n+a,t),a=u}s.pushRun(n,a),s.mergeRuns(),o-=a,n+=a}while(0!==o);s.forceMergeRuns()}}}function $e(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function Qe(){this._roots=[],this._displayList=[],this._displayListLen=0}Qe.prototype={constructor:Qe,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,ve.canvasSupported&&qe(n,$e)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),o=(a=o).clipPath}if(e.isGroup){for(var s=e._children,l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof E&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof E&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var i=e.length;t<i;t++)this.delRoot(e[t])}else{var o=We(this._roots,e);0<=o&&(this.delFromStorage(e),this._roots.splice(o,1),e instanceof E&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:$e};var st={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},nt=function(e,t,n){return st.hasOwnProperty(t)?n*e.dpr:n},Ie={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Fe=9,et=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ct=function(e){this.extendFrom(e,!1)};function xt(e,t,n){var i=null==t.x?0:t.x,o=null==t.x2?1:t.x2,a=null==t.y?0:t.y,s=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,o=o*n.width+n.x,a=a*n.height+n.y,s=s*n.height+n.y),i=isNaN(i)?0:i,o=isNaN(o)?1:o,a=isNaN(a)?0:a,s=isNaN(s)?0:s,e.createLinearGradient(i,a,o,s)}function Wt(e,t,n){var i=n.width,o=n.height,a=Math.min(i,o),s=null==t.x?.5:t.x,l=null==t.y?.5:t.y,u=null==t.r?.5:t.r;return t.global||(s=s*i+n.x,l=l*o+n.y,u*=a),e.createRadialGradient(s,l,0,s,l,u)}ct.prototype={constructor:ct,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){var i=this,o=n&&n.style,a=!o||e.__attrCachedBy!==Ie.STYLE_BIND;e.__attrCachedBy=Ie.STYLE_BIND;for(var s=0;s<et.length;s++){var l=et[s],u=l[0];!a&&i[u]===o[u]||(e[u]=nt(e,u,i[u]||l[1]))}!a&&i.fill===o.fill||(e.fillStyle=i.fill),!a&&i.stroke===o.stroke||(e.strokeStyle=i.stroke),!a&&i.opacity===o.opacity||(e.globalAlpha=null==i.opacity?1:i.opacity),!a&&i.blend===o.blend||(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(e.lineWidth=i.lineWidth/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&0<this.lineWidth},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=("radial"===t.type?Wt:xt)(e,t,n),o=t.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}};for(var ln=ct.prototype,mn=0;mn<et.length;mn++){var wn=et[mn];wn[0]in ln||(ln[wn[0]]=wn[1])}function xn(e,t){this.image=e,this.repeat=t,this.type="pattern"}function yt(){return!1}function ze(e,t,n){var i=Ne(),o=t.getWidth(),a=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",i.setAttribute("data-zr-dom-id",e)),i.width=o*n,i.height=a*n,i}function Oe(e,t,n){var i;n=n||_,"string"==typeof e?i=ze(e,t,n):Pt(e)&&(e=(i=e).id),this.id=e;var o=(this.dom=i).style;o&&(i.onselectstart=yt,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n}ct.getGradient=ln.getGradient,Oe.prototype={constructor:Oe,__dirty:!0,__used:!(xn.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=ze("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,o=i.style,a=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),i.width=e*n,i.height=t*n,a&&(a.width=e*n,a.height=t*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(e,t){var n,i=this.dom,o=this.ctx,a=i.width,s=i.height,l=(t=t||this.clearColor,this.motionBlur&&!e),u=this.lastFrameAlpha,c=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,a/c,s/c)),o.clearRect(0,0,a,s),t&&"transparent"!==t&&(t.colorStops?(n=t.__canvasGradient||ct.getGradient(o,t,{x:0,y:0,width:a,height:s}),t.__canvasGradient=n):t.image&&(n=xn.prototype.getCanvasPattern.call(t,o)),o.save(),o.fillStyle=n||t,o.fillRect(0,0,a,s),o.restore()),l){var d=this.domBack;o.save(),o.globalAlpha=u,o.drawImage(d,0,0,a,s),o.restore()}}};var ut=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},St=new ir(50);function Ot(e){if("string"!=typeof e)return e;var t=St.get(e);return t&&t.image}function Ft(e,t,n,i,o){if(e){if("string"!=typeof e)return e;if(t&&t.__zrImageSrc===e||!n)return t;var a=St.get(e),s={hostEl:n,cb:i,cbPayload:o};return a?en(t=a.image)||a.pending.push(s):((t=new Image).onload=t.onerror=Mt,St.put(e,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=e),t}return t}function Mt(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function en(e){return e&&e.width&&e.height}var Ue={},ot=0,pt=5e3,Lt=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,tn="12px sans-serif",Hn={};function Gn(e,t){var n=e+":"+(t=t||tn);if(Ue[n])return Ue[n];for(var i,o,a=(e+"").split("\n"),s=0,l=0,u=a.length;l<u;l++)s=Math.max((i=a[l],o=t,Hn.measureText(i,o)).width,s);return pt<ot&&(ot=0,Ue={}),ot++,Ue[n]=s}function Yn(e,t,n,i,o,a,s,l){return s?(h=i,se=(R=Fn(e,{rich:s,truncate:l,font:t,textAlign:d=n,textPadding:o,textLineHeight:a})).outerHeight,new A(Vn(0,$=R.outerWidth,d),vi(0,se,h),$,se)):function(u,c,d,h,m,y,T){var H=Xn(u,c,m,y,T),R=Gn(u,c);m&&(R+=m[1]+m[3]);var $=H.outerHeight,Se=new A(Vn(0,R,d),vi(0,$,h),R,$);return Se.lineHeight=H.lineHeight,Se}(e,t,n,i,o,a,l);var d,h,R,$,se}function Vn(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function vi(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function ii(e,t,n){var o=t.textDistance,a=n.x,s=n.y;o=o||0;var l=n.height,u=n.width,c=l/2,d="left",h="top";switch(t.textPosition){case"left":a-=o,s+=c,d="right",h="middle";break;case"right":a+=o+u,s+=c,h="middle";break;case"top":a+=u/2,s-=o,d="center",h="bottom";break;case"bottom":a+=u/2,s+=l+o,d="center";break;case"inside":a+=u/2,s+=c,d="center",h="middle";break;case"insideLeft":a+=o,s+=c,h="middle";break;case"insideRight":a+=u-o,s+=c,d="right",h="middle";break;case"insideTop":a+=u/2,s+=o,d="center";break;case"insideBottom":a+=u/2,s+=l-o,d="center",h="bottom";break;case"insideTopLeft":a+=o,s+=o;break;case"insideTopRight":a+=u-o,s+=o,d="right";break;case"insideBottomLeft":a+=o,s+=l-o,h="bottom";break;case"insideBottomRight":a+=u-o,s+=l-o,d="right",h="bottom"}return(e=e||{}).x=a,e.y=s,e.textAlign=d,e.textVerticalAlign=h,e}function si(e,t,n,i,o){if(!t)return"";var a=(e+"").split("\n");o=Kt(t,n,i,o);for(var s=0,l=a.length;s<l;s++)a[s]=$t(a[s],o);return a.join("\n")}function Kt(e,t,n,i){(i=he({},i)).font=t,n=Zt(n,"..."),i.maxIterations=Zt(i.maxIterations,2);var o=i.minChar=Zt(i.minChar,0);i.cnCharWidth=Gn("\u56fd",t);var a=i.ascCharWidth=Gn("a",t);i.placeholder=Zt(i.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<o&&a<=s;l++)s-=a;var u=Gn(n,t);return s<u&&(n="",u=0),s=e-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=e,i}function $t(e,t){var n=t.containerWidth,i=t.font,o=t.contentWidth;if(!n)return"";var a=Gn(e,i);if(a<=n)return e;for(var s=0;;s++){if(a<=o||s>=t.maxIterations){e+=t.ellipsis;break}var l=0===s?kt(e,o,t.ascCharWidth,t.cnCharWidth):0<a?Math.floor(e.length*o/a):0;a=Gn(e=e.substr(0,l),i)}return""===e&&(e=t.placeholder),e}function kt(e,t,n,i){for(var o=0,a=0,s=e.length;a<s&&o<t;a++){var l=e.charCodeAt(a);o+=0<=l&&l<=127?n:i}return a}function jt(e){return Gn("\u56fd",e)}function Xn(e,t,n,i,o){null!=e&&(e+="");var a=Zt(i,jt(t)),s=e?e.split("\n"):[],l=s.length*a,u=l,c=!0;if(n&&(u+=n[0]+n[2]),e&&o){c=!1;var d=o.outerHeight,h=o.outerWidth;if(null!=d&&d<u)e="",s=[];else if(null!=h)for(var m=Kt(h-(n?n[1]+n[3]:0),t,o.ellipsis,{minChar:o.minChar,placeholder:o.placeholder}),y=0,T=s.length;y<T;y++)s[y]=$t(s[y],m)}return{lines:s,height:l,outerHeight:u,lineHeight:a,canCacheByTextString:c}}function Fn(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var i,o=Lt.lastIndex=0;null!=(i=Lt.exec(e));){var a=i.index;o<a&&ti(n,e.substring(o,a)),ti(n,i[2],i[1]),o=Lt.lastIndex}o<e.length&&ti(n,e.substring(o,e.length));var s=n.lines,l=0,u=0,c=[],d=t.textPadding,h=t.truncate,m=h&&h.outerWidth,y=h&&h.outerHeight;d&&(null!=m&&(m-=d[1]+d[3]),null!=y&&(y-=d[0]+d[2]));for(var T=0;T<s.length;T++){for(var H=s[T],R=0,$=0,se=0;se<H.tokens.length;se++){var oe=(vt=H.tokens[se]).styleName&&t.rich[vt.styleName]||{},Se=vt.textPadding=oe.textPadding,we=vt.font=oe.font||t.font,Te=vt.textHeight=Zt(oe.textHeight,jt(we));if(Se&&(Te+=Se[0]+Se[2]),vt.height=Te,vt.lineHeight=Nn(oe.textLineHeight,t.textLineHeight,Te),vt.textAlign=oe&&oe.textAlign||t.textAlign,vt.textVerticalAlign=oe&&oe.textVerticalAlign||"middle",null!=y&&l+vt.lineHeight>y)return{lines:[],width:0,height:0};vt.textWidth=Gn(vt.text,we);var Me=oe.textWidth,Pe=null==Me||"auto"===Me;if("string"==typeof Me&&"%"===Me.charAt(Me.length-1))vt.percentWidth=Me,c.push(vt),Me=0;else{if(Pe){Me=vt.textWidth;var Ke=oe.textBackgroundColor,it=Ke&&Ke.image;it&&en(it=Ot(it))&&(Me=Math.max(Me,it.width*Te/it.height))}var lt=Se?Se[1]+Se[3]:0;Me+=lt;var mt=null!=m?m-$:null;null!=mt&&mt<Me&&(!Pe||mt<lt?(vt.text="",vt.textWidth=Me=0):(vt.text=si(vt.text,mt-lt,we,h.ellipsis,{minChar:h.minChar}),vt.textWidth=Gn(vt.text,we),Me=vt.textWidth+lt))}$+=vt.width=Me,oe&&(R=Math.max(R,vt.lineHeight))}H.width=$,l+=H.lineHeight=R,u=Math.max(u,$)}for(n.outerWidth=n.width=Zt(t.textWidth,u),n.outerHeight=n.height=Zt(t.textHeight,l),d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]),T=0;T<c.length;T++){var vt,wt=(vt=c[T]).percentWidth;vt.width=parseInt(wt,10)/100*u}return n}function ti(e,t,n){for(var i=""===t,o=t.split("\n"),a=e.lines,s=0;s<o.length;s++){var l=o[s],u={styleName:n,text:l,isLineHolder:!l&&!i};if(s)a.push({tokens:[u]});else{var c=(a[a.length-1]||(a[0]={tokens:[]})).tokens,d=c.length;1===d&&c[0].isLineHolder?c[0]=u:!l&&d&&!i||c.push(u)}}}function _t(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&ni(t)||e.textFont||e.font}function Dt(e,t){var n,i,o,a,s,l=t.x,u=t.y,c=t.width,d=t.height,h=t.r;c<0&&(l+=c,c=-c),d<0&&(u+=d,d=-d),"number"==typeof h?n=i=o=a=h:h instanceof Array?1===h.length?n=i=o=a=h[0]:2===h.length?(n=o=h[0],i=a=h[1]):3===h.length?(n=h[0],i=a=h[1],o=h[2]):(n=h[0],i=h[1],o=h[2],a=h[3]):n=i=o=a=0,c<n+i&&(n*=c/(s=n+i),i*=c/s),c<o+a&&(o*=c/(s=o+a),a*=c/s),d<i+o&&(i*=d/(s=i+o),o*=d/s),d<n+a&&(n*=d/(s=n+a),a*=d/s),e.moveTo(l+n,u),e.lineTo(l+c-i,u),0!==i&&e.arc(l+c-i,u+i,i,-Math.PI/2,0),e.lineTo(l+c,u+d-o),0!==o&&e.arc(l+c-o,u+d-o,o,0,Math.PI/2),e.lineTo(l+a,u+d),0!==a&&e.arc(l+a,u+d-a,a,Math.PI/2,Math.PI),e.lineTo(l,u+n),0!==n&&e.arc(l+n,u+n,n,Math.PI,1.5*Math.PI)}Hn.measureText=function(e,t){var n=P();return n.font=t||tn,n.measureText(e)};var Be=tn,rt={left:1,right:1,center:1},Ct={top:1,bottom:1,middle:1},Bt=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],nn={},Vt={};function gt(e){return Ut(e),ue(e.rich,Ut),e}function Ut(e){if(e){e.font=_t(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||rt[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||Ct[n]?n:"top",e.textPadding&&(e.textPadding=On(e.textPadding))}}function Xt(e,t,n,i,o,a){i.rich?function(s,l,u,c,d,h){h!==Fe&&(l.__attrCachedBy=Ie.NONE);var m=s.__textCotentBlock;m&&!s.__dirtyText||(m=s.__textCotentBlock=Fn(u,c)),function(y,T,H,R,$){var se=H.width,oe=H.outerWidth,Se=H.outerHeight,we=R.textPadding,Te=Dn(Vt,y,R,$),Me=Te.baseX,Pe=Te.baseY,Ke=Te.textAlign,it=Te.textVerticalAlign;kn(T,R,$,Me,Pe);var lt=Vn(Me,oe,Ke),mt=vi(Pe,Se,it),vt=lt,wt=mt;we&&(vt+=we[3],wt+=we[0]);var Et=vt+se;rn(R)&&Ht(y,T,R,lt,mt,oe,Se);for(var Rt=0;Rt<H.lines.length;Rt++){for(var It,Gt=H.lines[Rt],bn=Gt.tokens,Cn=bn.length,pn=Gt.lineHeight,zn=Gt.width,Zn=0,fi=vt,En=Et,ci=Cn-1;Zn<Cn&&(!(It=bn[Zn]).textAlign||"left"===It.textAlign);)At(y,T,It,R,pn,wt,fi,"left"),zn-=It.width,fi+=It.width,Zn++;for(;0<=ci&&"right"===(It=bn[ci]).textAlign;)At(y,T,It,R,pn,wt,En,"right"),zn-=It.width,En-=It.width,ci--;for(fi+=(se-(fi-vt)-(Et-En)-zn)/2;Zn<=ci;)At(y,T,It=bn[Zn],R,pn,wt,fi+It.width/2,"center"),fi+=It.width,Zn++;wt+=pn}}(s,l,m,c,d)}(e,t,n,i,o,a):function(s,l,u,c,d,h){var m,y=rn(c),T=!1,H=l.__attrCachedBy===Ie.PLAIN_TEXT;h!==Fe?(h&&(m=h.style,T=!y&&H&&m),l.__attrCachedBy=y?Ie.NONE:Ie.PLAIN_TEXT):H&&(l.__attrCachedBy=Ie.NONE);var R=c.font||Be;T&&R===(m.font||Be)||(l.font=R);var $=s.__computedFont;s.__styleFont!==R&&(s.__styleFont=R,$=s.__computedFont=l.font);var se=c.textPadding,Se=s.__textCotentBlock;Se&&!s.__dirtyText||(Se=s.__textCotentBlock=Xn(u,$,se,c.textLineHeight,c.truncate));var we=Se.outerHeight,Te=Se.lines,Me=Se.lineHeight,Pe=Dn(Vt,s,c,d),Ke=Pe.baseX,it=Pe.baseY,lt=Pe.textAlign||"left",mt=Pe.textVerticalAlign;kn(l,c,d,Ke,it);var vt=vi(it,we,mt),wt=Ke,Et=vt;if(y||se){var Rt=Gn(u,$);se&&(Rt+=se[1]+se[3]);var It=Vn(Ke,Rt,lt);y&&Ht(s,l,c,It,vt,Rt,we),se&&(wt=Ti(Ke,lt,se),Et+=se[0])}l.textAlign=lt,l.textBaseline="middle",l.globalAlpha=c.opacity||1;for(var Gt=0;Gt<Bt.length;Gt++){var bn=Bt[Gt],Cn=bn[0],pn=bn[1],zn=c[Cn];T&&zn===m[Cn]||(l[pn]=nt(l,pn,zn||bn[2]))}Et+=Me/2;var Zn=c.textStrokeWidth,En=!T||Zn!==(T?m.textStrokeWidth:null),ci=!T||En||c.textStroke!==m.textStroke,pi=An(c.textStroke,Zn),Si=Rn(c.textFill);if(pi&&(En&&(l.lineWidth=Zn),ci&&(l.strokeStyle=pi)),Si&&(T&&c.textFill===m.textFill||(l.fillStyle=Si)),1===Te.length)pi&&l.strokeText(Te[0],wt,Et),Si&&l.fillText(Te[0],wt,Et);else for(Gt=0;Gt<Te.length;Gt++)pi&&l.strokeText(Te[Gt],wt,Et),Si&&l.fillText(Te[Gt],wt,Et),Et+=Me}(e,t,n,i,o,a)}function kn(e,t,n,i,o){if(n&&t.textRotation){var a=t.textOrigin;"center"===a?(i=n.width/2+n.x,o=n.height/2+n.y):a&&(i=a[0]+n.x,o=a[1]+n.y),e.translate(i,o),e.rotate(-t.textRotation),e.translate(-i,-o)}}function At(e,t,n,i,o,a,s,l){var u=i.rich[n.styleName]||{};u.text=n.text;var c=n.textVerticalAlign,d=a+o/2;"top"===c?d=a+n.height/2:"bottom"===c&&(d=a+o-n.height/2),!n.isLineHolder&&rn(u)&&Ht(e,t,u,"right"===l?s-n.width:"center"===l?s-n.width/2:s,d-n.height/2,n.width,n.height);var h=n.textPadding;h&&(s=Ti(s,l,h),d-=n.height/2-h[2]-n.textHeight/2),_n(t,"shadowBlur",Nn(u.textShadowBlur,i.textShadowBlur,0)),_n(t,"shadowColor",u.textShadowColor||i.textShadowColor||"transparent"),_n(t,"shadowOffsetX",Nn(u.textShadowOffsetX,i.textShadowOffsetX,0)),_n(t,"shadowOffsetY",Nn(u.textShadowOffsetY,i.textShadowOffsetY,0)),_n(t,"textAlign",l),_n(t,"textBaseline","middle"),_n(t,"font",n.font||Be);var m=An(u.textStroke||i.textStroke,T),y=Rn(u.textFill||i.textFill),T=Zt(u.textStrokeWidth,i.textStrokeWidth);m&&(_n(t,"lineWidth",T),_n(t,"strokeStyle",m),t.strokeText(n.text,s,d)),y&&(_n(t,"fillStyle",y),t.fillText(n.text,s,d))}function rn(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function Ht(e,t,n,i,o,a,s){var l=n.textBackgroundColor,u=n.textBorderWidth,c=n.textBorderColor,d=Tt(l);if(_n(t,"shadowBlur",n.textBoxShadowBlur||0),_n(t,"shadowColor",n.textBoxShadowColor||"transparent"),_n(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),_n(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),d||u&&c){t.beginPath();var h=n.textBorderRadius;h?Dt(t,{x:i,y:o,width:a,height:s,r:h}):t.rect(i,o,a,s),t.closePath()}if(d)if(_n(t,"fillStyle",l),null!=n.fillOpacity){var m=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=m}else t.fill();else if(Pt(l)){var y=l.image;(y=Ft(y,null,e,yn,l))&&en(y)&&t.drawImage(y,i,o,a,s)}u&&c&&(_n(t,"lineWidth",u),_n(t,"strokeStyle",c),null!=n.strokeOpacity?(m=t.globalAlpha,t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=m):t.stroke())}function yn(e,t){t.image=e}function Dn(e,t,n,i){var o=n.x||0,a=n.y||0,s=n.textAlign,l=n.textVerticalAlign;if(i){var u=n.textPosition;if(u instanceof Array)o=i.x+ei(u[0],i.width),a=i.y+ei(u[1],i.height);else{var c=t&&t.calculateTextPosition?t.calculateTextPosition(nn,n,i):ii(nn,n,i);o=c.x,a=c.y,s=s||c.textAlign,l=l||c.textVerticalAlign}var d=n.textOffset;d&&(o+=d[0],a+=d[1])}return(e=e||{}).baseX=o,e.baseY=a,e.textAlign=s,e.textVerticalAlign=l,e}function _n(e,t,n){return e[t]=nt(e,t,n),e[t]}function An(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function Rn(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function ei(e,t){return"string"==typeof e?0<=e.lastIndexOf("%")?parseFloat(e)/100*t:parseFloat(e):e}function Ti(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function li(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function Pi(){}var lr=new A;function Ei(e){for(var t in Y.call(this,e=e||{}),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new ct(e.style,this),this._rect=null,this.__clipPaths=null}function ji(e){Ei.call(this,e)}Ei.prototype={constructor:Ei,type:"displayable",__dirty:!0,invisible:!(Pi.prototype={constructor:Pi,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&gt(n);var i=n.text;if(null!=i&&(i+=""),li(i,n)){e.save();var o=this.transform;n.transformText?this.setTransform(e):o&&(lr.copy(t),lr.applyTransform(o),t=lr),Xt(this,e,i,n,t,Fe),e.restore()}}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?Y.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new ct(e,this),this.dirty(!1),this},calculateTextPosition:null},xe(Ei,Y),ke(Ei,Pi),ji.prototype={constructor:ji,type:"image",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var o=this._image=Ft(i,this._image,this,this.onload);if(o&&en(o)){var a=n.x||0,s=n.y||0,l=n.width,u=n.height,c=o.width/o.height;if(null==l&&null!=u?l=u*c:null==u&&null!=l?u=l/c:null==l&&null==u&&(l=o.width,u=o.height),this.setTransform(e),n.sWidth&&n.sHeight){var d=n.sx||0,h=n.sy||0;e.drawImage(o,d,h,n.sWidth,n.sHeight,a,s,l,u)}else if(n.sx&&n.sy){var m=l-(d=n.sx),y=u-(h=n.sy);e.drawImage(o,d,h,m,y,a,s,l,u)}else e.drawImage(o,a,s,l,u);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new A(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},xe(ji,Ei);var jr=314159;function _o(e){return parseInt(e,10)}var vr=new A(0,0,0,0),Rr=new A(0,0,0,0);function Xo(e,t,n){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=he({},n||{}),this.dpr=n.devicePixelRatio||_,this._singleCanvas=i;var o=(this.root=e).style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var h,m,y,a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var l=e.width,u=e.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,e.width=l*this.dpr,e.height=u*this.dpr,this._width=l,this._height=u;var c=new Oe(e,this,this.dpr);c.__builtin__=!0,c.initContext(),(s[jr]=c).zlevel=jr,a.push(jr),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=(h=this._width,m=this._height,(y=document.createElement("div")).style.cssText=["position:relative","width:"+h+"px","height:"+m+"px","padding:0","margin:0","border-width:0"].join(";")+";",y);e.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]}function sd(e){this.stage=(e=e||{}).stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,Wi.call(this)}Xo.prototype={constructor:Xo,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var a=this._layers[n[i]];!a.__builtin__&&a.refresh&&a.refresh(0===i?this._backgroundColor:null)}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return(n.__from=e).__hoverMir=n,t&&n.setStyle(t),this._hoverElements.push(n),n}},removeHover:function(e){var n=this._hoverElements,i=We(n,e.__hoverMir);0<=i&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){qe(e,this.storage.displayableSortFunc);var i={};(n=n||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var o=0;o<t;){var a=e[o],s=a.__from;s&&s.__zr?(o++,s.invisible||(a.transform=s.transform,a.invTransform=s.invTransform,a.__clipPaths=s.__clipPaths,this._doPaintEl(a,n,!0,i))):(e.splice(o,1),s.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var o=this;ut(function(){o._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(jr).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++)(l=this._layers[this._zlevelList[i]]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||t)&&n.push(l);for(var a=!0,s=0;s<n.length;s++){var l,u=(l=n[s]).ctx,c={};u.save();var d=t?l.__startIndex:l.__drawIndex,h=!t&&l.incremental&&Date.now,m=h&&Date.now(),y=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,y);else if(d===l.__startIndex){var T=e[d];T.incremental&&T.notClear&&!t||l.clear(!1,y)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=l.__startIndex);for(var H=d;H<l.__endIndex;H++){var R=e[H];if(this._doPaintEl(R,l,t,c),R.__dirty=R.__dirtyText=!1,h&&15<Date.now()-m)break}l.__drawIndex=H,l.__drawIndex<l.__endIndex&&(a=!1),c.prevElClipPaths&&u.restore(),u.restore()}return ve.wxa&&ue(this._layers,function($){$&&$.ctx&&$.ctx.draw&&$.ctx.draw()}),a},_doPaintEl:function(e,t,n,i){var u,c,d,o=t.ctx,a=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!a||a[0]||a[3])&&(!e.culling||(c=this._width,d=this._height,vr.copy((u=e).getBoundingRect()),u.transform&&vr.applyTransform(u.transform),Rr.width=c,Rr.height=d,vr.intersect(Rr)))){var s=e.__clipPaths,l=i.prevElClipPaths;l&&!function(u,c){if(u===c)return!1;if(!u||!c||u.length!==c.length)return!0;for(var d=0;d<u.length;d++)if(u[d]!==c[d])return!0;return!1}(s,l)||(l&&(o.restore(),i.prevElClipPaths=null,i.prevEl=null),s&&(o.save(),function(u,c){for(var d=0;d<u.length;d++){var h=u[d];h.setTransform(c),c.beginPath(),h.buildPath(c,h.shape),c.clip(),h.restoreTransform(c)}}(s,o),i.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(o),e.brush(o,i.prevEl||null),(i.prevEl=e).afterBrush&&e.afterBrush(o)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=jr);var n=this._layers[e];return n||((n=new Oe("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?de(n,this._layerConfig[e],!0):this._layerConfig[e-.01]&&de(n,this._layerConfig[e-.01],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var c,n=this._layers,i=this._zlevelList,o=i.length,a=null,s=-1,l=this._domRoot;if(n[e]);else if((c=t)&&(c.__builtin__||"function"==typeof c.resize&&"function"==typeof c.refresh)){if(0<o&&e>i[0]){for(s=0;s<o-1&&!(i[s]<e&&i[s+1]>e);s++);a=n[i[s]]}if(i.splice(s+1,0,e),!(n[e]=t).virtual)if(a){var u=a.dom;u.nextSibling?l.insertBefore(t.dom,u.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)}},eachLayer:function(e,t){var n,i,o=this._zlevelList;for(i=0;i<o.length;i++)e.call(t,this._layers[n=o[i]],n)},eachBuiltinLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(c){o&&(o.__endIndex!==c&&(o.__dirty=!0),o.__endIndex=c)}if(this.eachBuiltinLayer(function(c,d){c.__dirty=c.__used=!1}),this._singleCanvas)for(var n=1;n<e.length;n++)if((s=e[n]).zlevel!==e[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}var i,o=null,a=0;for(n=0;n<e.length;n++){var s,l,u=(s=e[n]).zlevel;i!==u&&(i=u,a=0),s.incremental?((l=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(u+(0<a?.01:0),this._needsManuallyCompositing),l!==o&&(l.__used=!0,l.__startIndex!==n&&(l.__dirty=!0),l.__startIndex=n,l.__drawIndex=l.incremental?-1:n,t(n),o=l),s.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=n))}t(n),this.eachBuiltinLayer(function(c,d){!c.__used&&0<c.getElementCount()&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?de(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(o===e||o===e+.01)&&de(this._layers[o],n[e],!0)}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(We(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);ue(this._progressiveLayers,function(a){a.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(jr).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[jr].dom;var t=new Oe("image",this,(e=e||{}).pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,o=t.ctx;this.eachLayer(function(c){c.__builtin__?o.drawImage(c.dom,0,0,n,i):c.renderToCanvas&&(t.ctx.save(),c.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var a={},s=this.storage.getDisplayList(!0),l=0;l<s.length;l++)this._doPaintEl(s[l],t,!0,a);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||_o(l[n])||_o(s.style[n]))-(_o(l[o])||0)-(_o(l[a])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=e.getBoundingRect(),a=e.style,s=a.shadowBlur*t,l=a.shadowOffsetX*t,u=a.shadowOffsetY*t,c=a.hasStroke()?a.lineWidth:0,d=Math.max(c/2,s-l),h=Math.max(c/2,l+s),m=Math.max(c/2,s-u),y=Math.max(c/2,u+s),T=o.width+d+h,H=o.height+m+y;n.width=T*t,n.height=H*t,i.scale(t,t),i.clearRect(0,0,T,H),i.dpr=t;var R={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[d-o.x,m-o.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var $=new ji({style:{x:0,y:0,image:n}});return null!=R.position&&($.position=e.position=R.position),null!=R.rotation&&($.rotation=e.rotation=R.rotation),null!=R.scale&&($.scale=e.scale=R.scale),$}},sd.prototype={constructor:sd,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=We(this._clips,e);0<=t&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,o=[],a=[],s=0;s<i;s++){var l=n[s],u=l.step(e,t);u&&(o.push(u),a.push(l))}for(s=0;s<i;)n[s]._needsRemove?(n[s]=n[i-1],n.pop(),i--):s++;for(i=o.length,s=0;s<i;s++)a[s].fire(o[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,ut(function t(){e._running&&(ut(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){var n=new f(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},ke(sd,Wi);var S0,C0,Bf=ve.domSupported,zf=(C0={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:S0=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:Re(S0,function(e){var t=e.replace("mouse","pointer");return C0.hasOwnProperty(t)?t:e})}),T0={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function D0(e){return"mousewheel"===e&&ve.browser.firefox?"DOMMouseScroll":e}function Ff(e){var t=e.pointerType;return"pen"===t||"touch"===t}function Hf(e){e&&(e.zrByTouch=!0)}function A0(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}function M0(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Vf=M0.prototype;Vf.stopPropagation=Vf.stopImmediatePropagation=Vf.preventDefault=gn;var Aa={mousedown:function(e){e=Li(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Li(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||Uf(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Li(this.dom,e),Uf(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Li(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout"),e.zrIsToLocalDOM=A0(this,e.toElement||e.relatedTarget),this.trigger("mouseout",e)},touchstart:function(e){Hf(e=Li(this.dom,e)),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Aa.mousemove.call(this,e),Aa.mousedown.call(this,e)},touchmove:function(e){Hf(e=Li(this.dom,e)),this.handler.processGesture(e,"change"),Aa.mousemove.call(this,e)},touchend:function(e){Hf(e=Li(this.dom,e)),this.handler.processGesture(e,"end"),Aa.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&Aa.click.call(this,e)},pointerdown:function(e){Aa.mousedown.call(this,e)},pointermove:function(e){Ff(e)||Aa.mousemove.call(this,e)},pointerup:function(e){Aa.mouseup.call(this,e)},pointerout:function(e){Ff(e)||Aa.mouseout.call(this,e)}};ue(["click","mousewheel","dblclick","contextmenu"],function(e){Aa[e]=function(t){t=Li(this.dom,t),this.trigger(e,t)}});var Wf={pointermove:function(e){Ff(e)||Wf.mousemove.call(this,e)},pointerup:function(e){Wf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Uf(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function ld(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,Ki(e.domTarget,D0(t),n,i)}function jf(e){var t,n,i,a=e.mounted;for(var s in a)a.hasOwnProperty(s)&&(t=e.domTarget,n=D0(s),i=a[s],wi?t.removeEventListener(n,i,e.listenerOpts[s]):t.detachEvent("on"+n,i));e.mounted={}}function Uf(e,t){if(e._mayPointerCapture=null,Bf&&e._pointerCapturing^t){e._pointerCapturing=t;var n=e._globalHandlerScope;t?function VT(e,t){function n(i){ld(t,i,function(o){o=mi(o),A0(e,o.target)||(o=function(a,s){return Li(a.dom,new M0(a,s),!0)}(e,o),t.domHandlers[i].call(e,o))},{capture:!0})}ve.pointerEventsSupported?ue(T0.pointer,n):ve.touchEventsSupported||ue(T0.mouse,n)}(e,n):jf(n)}}function I0(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Gf(e,t){Wi.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new I0(e,Aa),Bf&&(this._globalHandlerScope=new I0(document,Wf)),this._pointerCapturing=!1,this._mayPointerCapture=null,function HT(e,t){var n=t.domHandlers;ve.pointerEventsSupported?ue(zf.pointer,function(i){ld(t,i,function(o){n[i].call(e,o)})}):(ve.touchEventsSupported&&ue(zf.touch,function(i){ld(t,i,function(o){n[i].call(e,o),function(a){a.touching=!0,null!=a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}(t)})}),ue(zf.mouse,function(i){ld(t,i,function(o){o=mi(o),t.touching||n[i].call(e,o)})}))}(this,this._localHandlerScope)}var k0=Gf.prototype;k0.dispose=function(){jf(this._localHandlerScope),Bf&&jf(this._globalHandlerScope)},k0.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},ke(Gf,Wi);var WT=!ve.canvasSupported,ud={canvas:Xo},Ys={};function qf(e,t){var n=new Xf(Sn(),e,t);return Ys[n.id]=n}function Yf(e,t){ud[e]=t}var Xf=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,o=new Qe,a=n.renderer;if(WT){if(!ud.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&ud[a]||(a="canvas");var s=new ud[a](t,o,n,e);this.storage=o,this.painter=s;var l=ve.node||ve.worker?null:new Gf(s.getViewportRoot(),s.root);this.handler=new So(o,s,l,s.root),this.animation=new sd({stage:{update:dt(this.flush,this)}}),this.animation.start();var u=o.delFromStorage,c=o.addToStorage;o.delFromStorage=function(d){u.call(o,d),d&&d.removeSelfFromZr(i)},o.addToStorage=function(d){c.call(o,d),d.addSelfToZr(i)}};Xf.prototype={constructor:Xf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var n=this.painter.addHover(e,t);return this.refreshHover(),n}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(e){delete Ys[e]}(this.id)}};var jT=(Object.freeze||Object)({version:"4.3.2",init:qf,dispose:function(e){if(e)e.dispose();else{for(var t in Ys)Ys.hasOwnProperty(t)&&Ys[t].dispose();Ys={}}return this},getInstance:function(e){return Ys[e]},registerPainter:Yf}),Ol=ue,Bl=Pt,UT=bt,E0="series\0";function Ao(e){return e instanceof Array?e:null==e?[]:[e]}function Xs(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var N0=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function ku(e){return!Bl(e)||UT(e)||e instanceof Date?e:e.value}function Zf(e,t){t=(t||[]).slice();var n=Re(e||[],function(i,o){return{exist:i}});return Ol(t,function(i,o){if(Bl(i)){for(var a=0;a<n.length;a++)if(!n[a].option&&null!=i.id&&n[a].exist.id===i.id+"")return n[a].option=i,void(t[o]=null);for(a=0;a<n.length;a++){var s=n[a].exist;if(!(n[a].option||null!=s.id&&null!=i.id||null==i.name||cd(i)||cd(s)||s.name!==i.name+""))return n[a].option=i,void(t[o]=null)}}}),Ol(t,function(i,o){if(Bl(i)){for(var a=0;a<n.length;a++)if(!n[a].option&&!cd(n[a].exist)&&null==i.id){n[a].option=i;break}a>=n.length&&n.push({option:i})}}),n}function L0(e){var t=Jt();Ol(e,function(n,i){var o=n.exist;o&&t.set(o.id,n)}),Ol(e,function(n,i){var o=n.option;yi(!o||null==o.id||!t.get(o.id)||t.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&t.set(o.id,n),n.keyInfo||(n.keyInfo={})}),Ol(e,function(n,i){var o=n.exist,a=n.option,s=n.keyInfo;if(Bl(a)){if(s.name=null!=a.name?a.name+"":o?o.name:E0+i,o)s.id=o.id;else if(null!=a.id)s.id=a.id+"";else for(var l=0;s.id="\0"+s.name+"\0"+l++,t.get(s.id););t.set(s.id,n)}})}function Kf(e){var t=e.name;return!(!t||!t.indexOf(E0))}function cd(e){return Bl(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function dd(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?bt(t.dataIndex)?Re(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?bt(t.name)?Re(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name):void 0}function Zo(){var e="__\0ec_inner_"+GT+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var GT=0;function hd(e,t,n){if(Tt(t)){var i={};i[t+"Index"]=0,t=i}var o=n&&n.defaultMainType;!o||Jf(t,o+"Index")||Jf(t,o+"Id")||Jf(t,o+"Name")||(t[o+"Index"]=0);var a={};return Ol(t,function(s,l){if(s=t[l],"dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||null==s||"index"===d&&"none"===s||n&&n.includeMainTypes&&We(n.includeMainTypes,c)<0)){var h={mainType:c};"index"===d&&"all"===s||(h[d]=s);var m=e.queryComponents(h);a[c+"Models"]=m,a[c+"Model"]=m[0]}}else a[l]=s}),a}function Jf(e,t){return e&&e.hasOwnProperty(t)}function R0(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function P0(e){return"auto"===e?ve.domSupported?"html":"richText":e||"html"}function Qf(e,t){var n=Jt(),i=[];return ue(e,function(o){var a=t(o);(n.get(a)||(i.push(a),n.set(a,[]))).push(o)}),{keys:i,buckets:n}}var qT=".",Zs="___EC__COMPONENT__CONTAINER___";function gs(e){var t={main:"",sub:""};return e&&(e=e.split(qT),t.main=e[0]||"",t.sub=e[1]||""),t}function Eu(e){(e.$constructor=e).extend=function(t){function n(){t.$constructor?t.$constructor.apply(this,arguments):i.apply(this,arguments)}var i=this;return he(n.prototype,t),n.extend=this.extend,n.superCall=XT,n.superApply=ZT,xe(n,this),n.superClass=i,n}}var YT=0;function fd(e){var t=["__\0is_clz",YT++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!(!n||!n[t])}}function XT(e,t){var n=sn(arguments,2);return this.superClass.prototype[t].apply(e,n)}function ZT(e,t,n){return this.superClass.prototype[t].apply(e,n)}function pd(e,t){t=t||{};var n={};if(e.registerClass=function(o,a){return a&&(yi(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(s=a),'componentType "'+s+'" illegal'),(a=gs(a)).sub?a.sub!==Zs&&((function(s){var l=n[s.main];return l&&l[Zs]||((l=n[s.main]={})[Zs]=!0),l}(a))[a.sub]=o):n[a.main]=o),o;var s},e.getClass=function(o,a,s){var l=n[o];if(l&&l[Zs]&&(l=a?l[a]:null),s&&!l)throw new Error(a?"Component "+o+"."+(a||"")+" not exists. Load it first.":o+".type should be specified.");return l},e.getClassesByMainType=function(o){o=gs(o);var a=[],s=n[o.main];return s&&s[Zs]?ue(s,function(l,u){u!==Zs&&a.push(l)}):a.push(s),a},e.hasClass=function(o){return o=gs(o),!!n[o.main]},e.getAllClassMainTypes=function(){var o=[];return ue(n,function(a,s){o.push(s)}),o},e.hasSubTypes=function(o){o=gs(o);var a=n[o.main];return a&&a[Zs]},e.parseClassType=gs,t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(o){var a=i.call(this,o);return e.registerClass(a,o.type)})}return e}function zl(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(n,i,o){for(var a={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&0<=We(i,l)||o&&We(o,l)<0)){var u=n.getShallow(l);null!=u&&(a[e[s][0]]=u)}}return a}}var KT=zl([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),JT={getLineStyle:function(e){var t=KT(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),i=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[i,i]:[n,n])}},QT=zl([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),$T={getAreaStyle:function(e,t){return QT(this,e,t)}},gd=Math.pow,ms=Math.sqrt,md=1e-8,O0=1e-4,B0=ms(3),vd=1/3,Pa=an(),ma=an(),Fl=an();function vs(e){return-md<e&&e<md}function z0(e){return md<e||e<-md}function jo(e,t,n,i,o){var a=1-o;return a*a*(a*e+3*o*t)+o*o*(o*i+3*a*n)}function F0(e,t,n,i,o){var a=1-o;return 3*(((t-e)*a+2*(n-t)*o)*a+(i-n)*o*o)}function H0(e,t,n,i,o){var a=6*n-12*t+6*e,s=9*t+3*i-3*e-9*n,l=3*t-3*e,u=0;if(vs(s))z0(a)&&0<=(d=-l/a)&&d<=1&&(o[u++]=d);else{var c=a*a-4*s*l;if(vs(c))o[0]=-a/(2*s);else if(0<c){var d,h=ms(c),m=(-a-h)/(2*s);0<=(d=(-a+h)/(2*s))&&d<=1&&(o[u++]=d),0<=m&&m<=1&&(o[u++]=m)}}return u}function V0(e,t,n,i,o,a){var s=(t-e)*o+e,l=(n-t)*o+t,u=(i-n)*o+n,c=(l-s)*o+s,d=(u-l)*o+l,h=(d-c)*o+c;a[0]=e,a[1]=s,a[2]=c,a[3]=h,a[4]=h,a[5]=d,a[6]=u,a[7]=i}function Lo(e,t,n,i){var o=1-i;return o*(o*e+2*i*t)+i*i*n}function $f(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function W0(e,t,n){var i=e+n-2*t;return 0==i?.5:(e-t)/i}function ep(e,t,n,i,o){var a=(t-e)*i+e,s=(n-t)*i+t,l=(s-a)*i+a;o[0]=e,o[1]=a,o[2]=l,o[3]=l,o[4]=s,o[5]=n}var Ko=Math.min,Jo=Math.max,tp=Math.sin,np=Math.cos,Ks=2*Math.PI,yd=an(),bd=an(),xd=an();function Nu(e,t,n){if(0!==e.length){var i,o=e[0],a=o[0],s=o[0],l=o[1],u=o[1];for(i=1;i<e.length;i++)a=Ko(a,(o=e[i])[0]),s=Jo(s,o[0]),l=Ko(l,o[1]),u=Jo(u,o[1]);t[0]=a,t[1]=l,n[0]=s,n[1]=u}}function j0(e,t,n,i,o,a){o[0]=Ko(e,n),o[1]=Ko(t,i),a[0]=Jo(e,n),a[1]=Jo(t,i)}var U0=[],G0=[];function eD(e,t,n,i,o,a,s,l,u,c){var d,h=H0,m=jo,y=h(e,n,o,s,U0);for(u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0,d=0;d<y;d++){var T=m(e,n,o,s,U0[d]);u[0]=Ko(T,u[0]),c[0]=Jo(T,c[0])}for(y=h(t,i,a,l,G0),d=0;d<y;d++){var H=m(t,i,a,l,G0[d]);u[1]=Ko(H,u[1]),c[1]=Jo(H,c[1])}u[0]=Ko(e,u[0]),c[0]=Jo(e,c[0]),u[0]=Ko(s,u[0]),c[0]=Jo(s,c[0]),u[1]=Ko(t,u[1]),c[1]=Jo(t,c[1]),u[1]=Ko(l,u[1]),c[1]=Jo(l,c[1])}function tD(e,t,n,i,o,a,s,l,u){var c=gr,d=Fi,h=Math.abs(o-a);if(h%Ks<1e-4&&1e-4<h)return l[0]=e-n,l[1]=t-i,u[0]=e+n,void(u[1]=t+i);if(yd[0]=np(o)*n+e,yd[1]=tp(o)*i+t,bd[0]=np(a)*n+e,bd[1]=tp(a)*i+t,c(l,yd,bd),d(u,yd,bd),(o%=Ks)<0&&(o+=Ks),(a%=Ks)<0&&(a+=Ks),a<o&&!s?a+=Ks:o<a&&s&&(o+=Ks),s){var m=a;a=o,o=m}for(var y=0;y<a;y+=Math.PI/2)o<y&&(xd[0]=np(y)*n+e,xd[1]=tp(y)*i+t,c(l,xd,l),d(u,xd,u))}var Yr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Oa=[],ys=[],Ba=[],za=[],q0=Math.min,Y0=Math.max,Lu=Math.cos,Ru=Math.sin,_d=Math.sqrt,Hl=Math.abs,ip=typeof Float32Array<"u",Qo=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};function bs(e,t,n,i,o,a,s){if(0===o)return!1;var u,l=o;if(t+l<s&&i+l<s||s<t-l&&s<i-l||e+l<a&&n+l<a||a<e-l&&a<n-l)return!1;if(e===n)return Math.abs(a-e)<=l/2;var c=(u=(t-i)/(e-n))*a-s+(e*i-n*t)/(e-n);return c*c/(u*u+1)<=l/2*l/2}function nD(e,t,n,i,o,a,s,l,u,c,d){if(0===u)return!1;var h=u;return!(t+h<d&&i+h<d&&a+h<d&&l+h<d||d<t-h&&d<i-h&&d<a-h&&d<l-h||e+h<c&&n+h<c&&o+h<c&&s+h<c||c<e-h&&c<n-h&&c<o-h&&c<s-h)&&function(m,y,T,H,R,$,se,oe,Se,we,Te){var Me,Pe,Ke,it,lt,mt=.005,vt=1/0;Pa[0]=Se,Pa[1]=we;for(var wt=0;wt<1;wt+=.05)ma[0]=jo(m,T,R,se,wt),ma[1]=jo(y,H,$,oe,wt),(it=Zi(Pa,ma))<vt&&(Me=wt,vt=it);vt=1/0;for(var Et=0;Et<32&&!(mt<O0);Et++)Ke=Me+mt,ma[0]=jo(m,T,R,se,Pe=Me-mt),ma[1]=jo(y,H,$,oe,Pe),it=Zi(ma,Pa),0<=Pe&&it<vt?(Me=Pe,vt=it):(Fl[0]=jo(m,T,R,se,Ke),Fl[1]=jo(y,H,$,oe,Ke),lt=Zi(Fl,Pa),Ke<=1&&lt<vt?(Me=Ke,vt=lt):mt*=.5);return ms(vt)}(e,t,n,i,o,a,s,l,c,d)<=h/2}function X0(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;return!(t+c<u&&i+c<u&&a+c<u||u<t-c&&u<i-c&&u<a-c||e+c<l&&n+c<l&&o+c<l||l<e-c&&l<n-c&&l<o-c)&&function(d,h,m,y,T,H,R,$,se){var oe,Se=.005,we=1/0;Pa[0]=R,Pa[1]=$;for(var Te=0;Te<1;Te+=.05)ma[0]=Lo(d,m,T,Te),ma[1]=Lo(h,y,H,Te),(it=Zi(Pa,ma))<we&&(oe=Te,we=it);we=1/0;for(var Me=0;Me<32&&!(Se<O0);Me++){var Pe=oe-Se,Ke=oe+Se;ma[0]=Lo(d,m,T,Pe),ma[1]=Lo(h,y,H,Pe);var it=Zi(ma,Pa);if(0<=Pe&&it<we)oe=Pe,we=it;else{Fl[0]=Lo(d,m,T,Ke),Fl[1]=Lo(h,y,H,Ke);var lt=Zi(Fl,Pa);Ke<=1&&lt<we?(oe=Ke,we=lt):Se*=.5}}return ms(we)}(e,t,n,i,o,a,l,u)<=c/2}Qo.prototype={constructor:Qo,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,n){this._ux=Hl((n=n||0)/_/e)||0,this._uy=Hl(n/_/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return(this._ctx=e)&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(Yr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=Hl(e-this._xi)>this._ux||Hl(t-this._yi)>this._uy||this._len<5;return this.addData(Yr.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,o,a){return this.addData(Yr.C,e,t,n,i,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,o,a):this._ctx.bezierCurveTo(e,t,n,i,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(e,t,n,i){return this.addData(Yr.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,o,a){return this.addData(Yr.A,e,t,n,n,i,o-i,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,i,o,a),this._xi=Lu(o)*n+e,this._yi=Ru(o)*n+t,this},arcTo:function(e,t,n,i,o){return this._ctx&&this._ctx.arcTo(e,t,n,i,o),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(Yr.R,e,t,n,i),this},closePath:function(){this.addData(Yr.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;for(var t=this._dashIdx=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!ip||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,o=0;o<t;o++)n+=e[o].len();for(ip&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),o=0;o<t;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,o=this._dashSum,a=this._dashOffset,s=this._lineDash,l=this._ctx,u=this._xi,c=this._yi,d=e-u,h=t-c,m=_d(d*d+h*h),y=u,T=c,H=s.length;for(a<0&&(a=o+a),y-=(a%=o)*(d/=m),T-=a*(h/=m);0<d&&y<=e||d<0&&e<=y||0===d&&(0<h&&T<=t||h<0&&t<=T);)y+=d*(n=s[i=this._dashIdx]),T+=h*n,this._dashIdx=(i+1)%H,0<d&&y<u||d<0&&u<y||0<h&&T<c||h<0&&c<T||l[i%2?"moveTo":"lineTo"](0<=d?q0(y,e):Y0(y,e),0<=h?q0(T,t):Y0(T,t));this._dashOffset=-_d((d=y-e)*d+(h=T-t)*h)},_dashedBezierTo:function(e,t,n,i,o,a){var s,l,u,c,d,h=this._dashSum,m=this._dashOffset,y=this._lineDash,T=this._ctx,H=this._xi,R=this._yi,$=jo,se=0,oe=this._dashIdx,Se=y.length,we=0;for(m<0&&(m=h+m),m%=h,s=0;s<1;s+=.1)l=$(H,e,n,o,s+.1)-$(H,e,n,o,s),u=$(R,t,i,a,s+.1)-$(R,t,i,a,s),se+=_d(l*l+u*u);for(;oe<Se&&!(m<(we+=y[oe]));oe++);for(s=(we-m)/se;s<=1;)c=$(H,e,n,o,s),d=$(R,t,i,a,s),oe%2?T.moveTo(c,d):T.lineTo(c,d),s+=y[oe]/se,oe=(oe+1)%Se;oe%2!=0&&T.lineTo(o,a),this._dashOffset=-_d((l=o-c)*l+(u=a-d)*u)},_dashedQuadraticTo:function(e,t,n,i){var o=n,a=i;n=(n+2*e)/3,i=(i+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,n,i,o,a)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,ip&&(this.data=new Float32Array(e)))},getBoundingRect:function(){Oa[0]=Oa[1]=Ba[0]=Ba[1]=Number.MAX_VALUE,ys[0]=ys[1]=za[0]=za[1]=-Number.MAX_VALUE;for(var e,t,n,i,o,a,s,l,u,c,d,h,m,y,T=this.data,H=0,R=0,$=0,se=0,oe=0;oe<T.length;){var Se=T[oe++];switch(1===oe&&($=H=T[oe],se=R=T[oe+1]),Se){case Yr.M:H=$=T[oe++],R=se=T[oe++],Ba[0]=$,Ba[1]=se,za[0]=$,za[1]=se;break;case Yr.L:j0(H,R,T[oe],T[oe+1],Ba,za),H=T[oe++],R=T[oe++];break;case Yr.C:eD(H,R,T[oe++],T[oe++],T[oe++],T[oe++],T[oe],T[oe+1],Ba,za),H=T[oe++],R=T[oe++];break;case Yr.Q:t=R,n=T[oe++],i=T[oe++],a=T[oe+1],s=Ba,l=za,c=u=void 0,c=Lo,d=Jo(Ko((u=W0)(e=H,n,o=T[oe]),1),0),h=Jo(Ko(u(t,i,a),1),0),m=c(e,n,o,d),y=c(t,i,a,h),s[0]=Ko(e,o,m),s[1]=Ko(t,a,y),l[0]=Jo(e,o,m),l[1]=Jo(t,a,y),H=T[oe++],R=T[oe++];break;case Yr.A:var we=T[oe++],Te=T[oe++],Me=T[oe++],Pe=T[oe++],Ke=T[oe++],it=T[oe++]+Ke;oe+=1;var lt=1-T[oe++];1===oe&&($=Lu(Ke)*Me+we,se=Ru(Ke)*Pe+Te),tD(we,Te,Me,Pe,Ke,it,lt,Ba,za),H=Lu(it)*Me+we,R=Ru(it)*Pe+Te;break;case Yr.R:j0($=H=T[oe++],se=R=T[oe++],$+T[oe++],se+T[oe++],Ba,za);break;case Yr.Z:H=$,R=se}gr(Oa,Oa,Ba),Fi(ys,ys,za)}return 0===oe&&(Oa[0]=Oa[1]=ys[0]=ys[1]=0),new A(Oa[0],Oa[1],ys[0]-Oa[0],ys[1]-Oa[1])},rebuildPath:function(e){for(var t,n,i,o,a,s,l=this.data,u=this._ux,c=this._uy,d=this._len,h=0;h<d;){var m=l[h++];switch(1===h&&(t=i=l[h],n=o=l[h+1]),m){case Yr.M:t=i=l[h++],n=o=l[h++],e.moveTo(i,o);break;case Yr.L:a=l[h++],s=l[h++],(Hl(a-i)>u||Hl(s-o)>c||h===d-1)&&(e.lineTo(a,s),i=a,o=s);break;case Yr.C:e.bezierCurveTo(l[h++],l[h++],l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case Yr.Q:e.quadraticCurveTo(l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case Yr.A:var y=l[h++],T=l[h++],H=l[h++],R=l[h++],$=l[h++],se=l[h++],oe=l[h++],Se=l[h++],we=R<H?H:R,Te=R<H?1:H/R,Me=R<H?R/H:1,Pe=$+se;.001<Math.abs(H-R)?(e.translate(y,T),e.rotate(oe),e.scale(Te,Me),e.arc(0,0,we,$,Pe,1-Se),e.scale(1/Te,1/Me),e.rotate(-oe),e.translate(-y,-T)):e.arc(y,T,we,$,Pe,1-Se),1===h&&(t=Lu($)*H+y,n=Ru($)*R+T),i=Lu(Pe)*H+y,o=Ru(Pe)*R+T;break;case Yr.R:t=i=l[h],n=o=l[h+1],e.rect(l[h++],l[h++],l[h++],l[h++]);break;case Yr.Z:e.closePath(),i=t,o=n}}}},Qo.CMD=Yr;var Z0=2*Math.PI;function xs(e){return(e%=Z0)<0&&(e+=Z0),e}var Pu=2*Math.PI;function iD(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;l-=e,u-=t;var d=Math.sqrt(l*l+u*u);if(n<d-c||d+c<n)return!1;if(Math.abs(i-o)%Pu<1e-4)return!0;if(a){var h=i;i=xs(o),o=xs(h)}else i=xs(i),o=xs(o);o<i&&(o+=Pu);var m=Math.atan2(u,l);return m<0&&(m+=Pu),i<=m&&m<=o||i<=m+Pu&&m+Pu<=o}function es(e,t,n,i,o,a){if(t<a&&i<a||a<t&&a<i||i===t)return 0;var s=i<t?1:-1,l=(a-t)/(i-t);1!=l&&0!=l||(s=i<t?.5:-.5);var u=l*(n-e)+e;return u===o?1/0:o<u?s:0}var _s=Qo.CMD,Vl=2*Math.PI,rD=1e-4,Uo=[-1,-1,-1],va=[-1,-1];function oD(e,t,n,i,o,a,s,l,u,c){if(t<c&&i<c&&a<c&&l<c||c<t&&c<i&&c<a&&c<l)return 0;var d,h=function(oe,Se,we,Te,Me,Pe){var Ke=Te+3*(Se-we)-oe,it=3*(we-2*Se+oe),lt=3*(Se-oe),mt=oe-Me,vt=it*it-3*Ke*lt,wt=it*lt-9*Ke*mt,Et=lt*lt-3*it*mt,Rt=0;if(vs(vt)&&vs(wt))vs(it)?Pe[0]=0:0<=(pi=-lt/it)&&pi<=1&&(Pe[Rt++]=pi);else{var It=wt*wt-4*vt*Et;if(vs(It)){var Gt=wt/vt,bn=-Gt/2;0<=(pi=-it/Ke+Gt)&&pi<=1&&(Pe[Rt++]=pi),0<=bn&&bn<=1&&(Pe[Rt++]=bn)}else if(0<It){var Cn=ms(It),pn=vt*it+1.5*Ke*(-wt+Cn),zn=vt*it+1.5*Ke*(-wt-Cn);0<=(pi=(-it-((pn=pn<0?-gd(-pn,vd):gd(pn,vd))+(zn=zn<0?-gd(-zn,vd):gd(zn,vd))))/(3*Ke))&&pi<=1&&(Pe[Rt++]=pi)}else{var Zn=(2*vt*it-3*Ke*wt)/(2*ms(vt*vt*vt)),fi=Math.acos(Zn)/3,En=ms(vt),ci=Math.cos(fi),pi=(-it-2*En*ci)/(3*Ke),Si=(bn=(-it+En*(ci+B0*Math.sin(fi)))/(3*Ke),(-it+En*(ci-B0*Math.sin(fi)))/(3*Ke));0<=pi&&pi<=1&&(Pe[Rt++]=pi),0<=bn&&bn<=1&&(Pe[Rt++]=bn),0<=Si&&Si<=1&&(Pe[Rt++]=Si)}}return Rt}(t,i,a,l,c,Uo);if(0===h)return 0;for(var m,y,T=0,H=-1,R=0;R<h;R++){var $=Uo[R],se=0===$||1===$?.5:1;jo(e,n,o,s,$)<u||(H<0&&(H=H0(t,i,a,l,va),va[1]<va[0]&&1<H&&(d=va[0],va[0]=va[1],va[1]=d),m=jo(t,i,a,l,va[0]),1<H&&(y=jo(t,i,a,l,va[1]))),T+=2===H?$<va[0]?m<t?se:-se:$<va[1]?y<m?se:-se:l<y?se:-se:$<va[0]?m<t?se:-se:l<m?se:-se)}return T}function aD(e,t,n,i,o,a,s,l){if(t<l&&i<l&&a<l||l<t&&l<i&&l<a)return 0;var u=function(T,H,R,$,se){var oe=T-2*H+R,Se=2*(H-T),we=T-$,Te=0;if(vs(oe))z0(Se)&&0<=(Pe=-we/Se)&&Pe<=1&&(se[Te++]=Pe);else{var Me=Se*Se-4*oe*we;if(vs(Me))0<=(Pe=-Se/(2*oe))&&Pe<=1&&(se[Te++]=Pe);else if(0<Me){var Pe,Ke=ms(Me),it=(-Se-Ke)/(2*oe);0<=(Pe=(-Se+Ke)/(2*oe))&&Pe<=1&&(se[Te++]=Pe),0<=it&&it<=1&&(se[Te++]=it)}}return Te}(t,i,a,l,Uo);if(0===u)return 0;var c=W0(t,i,a);if(0<=c&&c<=1){for(var d=0,h=Lo(t,i,a,c),m=0;m<u;m++){var y=0===Uo[m]||1===Uo[m]?.5:1;Lo(e,n,o,Uo[m])<s||(d+=Uo[m]<c?h<t?y:-y:a<h?y:-y)}return d}return y=0===Uo[0]||1===Uo[0]?.5:1,Lo(e,n,o,Uo[0])<s?0:a<t?y:-y}function sD(e,t,n,i,o,a,s,l){if(n<(l-=t)||l<-n)return 0;var u=Math.sqrt(n*n-l*l);Uo[0]=-u,Uo[1]=u;var c=Math.abs(i-o);if(c<1e-4)return 0;if(c%Vl<1e-4){o=Vl;var d=a?1:-1;return s>=Uo[i=0]+e&&s<=Uo[1]+e?d:0}a?(u=i,i=xs(o),o=xs(u)):(i=xs(i),o=xs(o)),o<i&&(o+=Vl);for(var h=0,m=0;m<2;m++){var y=Uo[m];if(s<y+e){var T=Math.atan2(l,y);d=a?1:-1,T<0&&(T=Vl+T),(i<=T&&T<=o||i<=T+Vl&&T+Vl<=o)&&(T>Math.PI/2&&T<1.5*Math.PI&&(d=-d),h+=d)}}return h}function K0(e,t,n,i,o){for(var a=0,s=0,l=0,u=0,c=0,d=0;d<e.length;){var h=e[d++];switch(h===_s.M&&1<d&&(n||(a+=es(s,l,u,c,i,o))),1===d&&(u=s=e[d],c=l=e[d+1]),h){case _s.M:s=u=e[d++],l=c=e[d++];break;case _s.L:if(n){if(bs(s,l,e[d],e[d+1],t,i,o))return!0}else a+=es(s,l,e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case _s.C:if(n){if(nD(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=oD(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case _s.Q:if(n){if(X0(s,l,e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=aD(s,l,e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case _s.A:var m=e[d++],y=e[d++],T=e[d++],H=e[d++],R=e[d++],$=e[d++];d+=1;var se=1-e[d++],oe=Math.cos(R)*T+m,Se=Math.sin(R)*H+y;1<d?a+=es(s,l,oe,Se,i,o):(u=oe,c=Se);var we=(i-m)*H/T+m;if(n){if(iD(m,y,H,R,R+$,se,t,we,o))return!0}else a+=sD(m,y,H,R,R+$,se,we,o);s=Math.cos(R+$)*T+m,l=Math.sin(R+$)*H+y;break;case _s.R:if(u=s=e[d++],c=l=e[d++],oe=u+e[d++],Se=c+e[d++],n){if(bs(u,c,oe,c,t,i,o)||bs(oe,c,oe,Se,t,i,o)||bs(oe,Se,u,Se,t,i,o)||bs(u,Se,u,c,t,i,o))return!0}else a+=es(oe,c,oe,Se,i,o),a+=es(u,Se,u,c,i,o);break;case _s.Z:if(n){if(bs(s,l,u,c,t,i,o))return!0}else a+=es(s,l,u,c,i,o);s=u,l=c}}return n||Math.abs(l-c)<rD||(a+=es(s,l,u,c,i,o)||0),0!==a}var J0=xn.prototype.getCanvasPattern,rp=Math.abs,lD=new Qo(!0);function Gi(e){Ei.call(this,e),this.path=null}function Q0(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}Gi.prototype={constructor:Gi,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var n,i=this.style,o=this.path||lD,a=i.hasStroke(),s=i.hasFill(),l=i.fill,u=i.stroke,c=s&&!!l.colorStops,d=a&&!!u.colorStops,h=s&&!!l.image,m=a&&!!u.image;i.bind(e,this,t),this.setTransform(e),this.__dirty&&(c&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(e,l,n)),d&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(e,u,n))),c?e.fillStyle=this._fillGradient:h&&(e.fillStyle=J0.call(l,e)),d?e.strokeStyle=this._strokeGradient:m&&(e.strokeStyle=J0.call(u,e));var y=i.lineDash,T=i.lineDashOffset,H=!!e.setLineDash,R=this.getGlobalScale();if(o.setScale(R[0],R[1],this.segmentIgnoreThreshold),this.__dirtyPath||y&&!H&&a?(o.beginPath(e),y&&!H&&(o.setLineDash(y),o.setLineDashOffset(T)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),s)if(null!=i.fillOpacity){var $=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,o.fill(e),e.globalAlpha=$}else o.fill(e);y&&H&&(e.setLineDash(y),e.lineDashOffset=T),a&&(null!=i.strokeOpacity?($=e.globalAlpha,e.globalAlpha=i.strokeOpacity*i.opacity,o.stroke(e),e.globalAlpha=$):o.stroke(e)),y&&H&&e.setLineDash([]),null!=i.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new Qo},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i=i||(this.path=new Qo),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){o.copy(e);var a=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1e-10<s&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),o=this.style;if(i.contain(e=n[0],t=n[1])){var a=this.path.data;if(o.hasStroke()){var s=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(1e-10<l&&(o.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),K0(a,s/l,!0,e,t)))return!0}if(o.hasFill())return K0(a,0,!1,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Ei.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(Pt(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&1e-10<rp(e[0]-1)&&1e-10<rp(e[3]-1)?Math.sqrt(rp(e[0]*e[3]-e[2]*e[1])):1}},Gi.extend=function(e){function t(i){Gi.call(this,i),e.style&&this.style.extendFrom(e.style,!1);var o=e.shape;if(o){this.shape=this.shape||{};var a=this.shape;for(var s in o)!a.hasOwnProperty(s)&&o.hasOwnProperty(s)&&(a[s]=o[s])}e.init&&e.init.call(this,i)}for(var n in xe(t,Gi),e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},xe(Gi,Ei);var Wl=Qo.CMD,uD=[[],[],[]],$0=Math.sqrt,cD=Math.atan2,dD=function(e,t){var n,i,o,a,s,l=e.data,u=Wl.M,c=Wl.C,d=Wl.L,h=Wl.R,m=Wl.A,y=Wl.Q;for(a=o=0;o<l.length;){switch(n=l[o++],a=o,i=0,n){case u:case d:i=1;break;case c:i=3;break;case y:i=2;break;case m:var T=t[4],H=t[5],R=$0(t[0]*t[0]+t[1]*t[1]),$=$0(t[2]*t[2]+t[3]*t[3]),se=cD(-t[1]/$,t[0]/R);l[o]*=R,l[o++]+=T,l[o]*=$,l[o++]+=H,l[o++]*=R,l[o++]*=$,l[o++]+=se,l[o++]+=se,a=o+=2;break;case h:oe[0]=l[o++],oe[1]=l[o++],Mi(oe,oe,t),l[a++]=oe[0],l[a++]=oe[1],oe[0]+=l[o++],oe[1]+=l[o++],Mi(oe,oe,t),l[a++]=oe[0],l[a++]=oe[1]}for(s=0;s<i;s++){var oe;(oe=uD[s])[0]=l[o++],oe[1]=l[o++],Mi(oe,oe,t),l[a++]=oe[0],l[a++]=oe[1]}}},op=Math.sqrt,wd=Math.sin,Sd=Math.cos,Cd=Math.PI,ap=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(Q0(e)*Q0(t))},ey=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(ap(e,t))};function ty(e,t,n,i,o,a,s,l,u,c,d){var h=u*(Cd/180),m=Sd(h)*(e-n)/2+wd(h)*(t-i)/2,y=-1*wd(h)*(e-n)/2+Sd(h)*(t-i)/2,T=m*m/(s*s)+y*y/(l*l);1<T&&(s*=op(T),l*=op(T));var H=(o===a?-1:1)*op((s*s*(l*l)-s*s*(y*y)-l*l*(m*m))/(s*s*(y*y)+l*l*(m*m)))||0,R=H*s*y/l,$=H*-l*m/s,se=(e+n)/2+Sd(h)*R-wd(h)*$,oe=(t+i)/2+wd(h)*R+Sd(h)*$,Se=ey([1,0],[(m-R)/s,(y-$)/l]),we=[(m-R)/s,(y-$)/l],Te=[(-1*m-R)/s,(-1*y-$)/l],Me=ey(we,Te);ap(we,Te)<=-1&&(Me=Cd),1<=ap(we,Te)&&(Me=0),0===a&&0<Me&&(Me-=2*Cd),1===a&&Me<0&&(Me+=2*Cd),d.addData(c,se,oe,s,l,Se,Me,h,a)}var hD=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,fD=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ny(e,t){var n=function(i){if(!i)return new Qo;for(var o,a=0,s=0,l=a,u=s,c=new Qo,d=Qo.CMD,h=i.match(hD),m=0;m<h.length;m++){for(var y,T=h[m],H=T.charAt(0),R=T.match(fD)||[],$=R.length,se=0;se<$;se++)R[se]=parseFloat(R[se]);for(var oe=0;oe<$;){var Se,we,Te,Me,Pe,Ke,it,lt=a,mt=s;switch(H){case"l":a+=R[oe++],s+=R[oe++],c.addData(y=d.L,a,s);break;case"L":a=R[oe++],s=R[oe++],c.addData(y=d.L,a,s);break;case"m":a+=R[oe++],s+=R[oe++],c.addData(y=d.M,a,s),l=a,u=s,H="l";break;case"M":a=R[oe++],s=R[oe++],c.addData(y=d.M,a,s),l=a,u=s,H="L";break;case"h":a+=R[oe++],c.addData(y=d.L,a,s);break;case"H":a=R[oe++],c.addData(y=d.L,a,s);break;case"v":s+=R[oe++],c.addData(y=d.L,a,s);break;case"V":s=R[oe++],c.addData(y=d.L,a,s);break;case"C":c.addData(y=d.C,R[oe++],R[oe++],R[oe++],R[oe++],R[oe++],R[oe++]),a=R[oe-2],s=R[oe-1];break;case"c":c.addData(y=d.C,R[oe++]+a,R[oe++]+s,R[oe++]+a,R[oe++]+s,R[oe++]+a,R[oe++]+s),a+=R[oe-2],s+=R[oe-1];break;case"S":Se=a,we=s;var vt=c.len(),wt=c.data;o===d.C&&(Se+=a-wt[vt-4],we+=s-wt[vt-3]),lt=R[oe++],mt=R[oe++],a=R[oe++],s=R[oe++],c.addData(y=d.C,Se,we,lt,mt,a,s);break;case"s":Se=a,we=s,vt=c.len(),wt=c.data,o===d.C&&(Se+=a-wt[vt-4],we+=s-wt[vt-3]),lt=a+R[oe++],mt=s+R[oe++],a+=R[oe++],s+=R[oe++],c.addData(y=d.C,Se,we,lt,mt,a,s);break;case"Q":lt=R[oe++],mt=R[oe++],a=R[oe++],s=R[oe++],c.addData(y=d.Q,lt,mt,a,s);break;case"q":lt=R[oe++]+a,mt=R[oe++]+s,a+=R[oe++],s+=R[oe++],c.addData(y=d.Q,lt,mt,a,s);break;case"T":Se=a,we=s,vt=c.len(),wt=c.data,o===d.Q&&(Se+=a-wt[vt-4],we+=s-wt[vt-3]),a=R[oe++],s=R[oe++],c.addData(y=d.Q,Se,we,a,s);break;case"t":Se=a,we=s,vt=c.len(),wt=c.data,o===d.Q&&(Se+=a-wt[vt-4],we+=s-wt[vt-3]),a+=R[oe++],s+=R[oe++],c.addData(y=d.Q,Se,we,a,s);break;case"A":Te=R[oe++],Me=R[oe++],Pe=R[oe++],Ke=R[oe++],it=R[oe++],ty(lt=a,mt=s,a=R[oe++],s=R[oe++],Ke,it,Te,Me,Pe,y=d.A,c);break;case"a":Te=R[oe++],Me=R[oe++],Pe=R[oe++],Ke=R[oe++],it=R[oe++],ty(lt=a,mt=s,a+=R[oe++],s+=R[oe++],Ke,it,Te,Me,Pe,y=d.A,c)}}"z"!==H&&"Z"!==H||(c.addData(y=d.Z),a=l,s=u),o=y}return c.toStatic(),c}(e);return(t=t||{}).buildPath=function(i){if(i.setData)i.setData(n.data),(o=i.getContext())&&i.rebuildPath(o);else{var o=i;n.rebuildPath(o)}},t.applyTransform=function(i){dD(n,i),this.dirty(!0)},t}function iy(e,t){return new Gi(ny(e,t))}var Hi=function(e){Ei.call(this,e)};function sp(e){return ve.browser.ie&&11<=ve.browser.version?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=a&&a.shape,l=a&&a.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var u=0;u<ws.length;u++)ws[u][2]=i[ws[u][0]],i[ws[u][0]]=ws[u][1];t=!0;break}}if(e.apply(this,arguments),t)for(u=0;u<ws.length;u++)i[ws[u][0]]=ws[u][2]}:e}Hi.prototype={constructor:Hi,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&gt(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),li(i,n)?(this.setTransform(e),Xt(this,e,i,n,null,t),this.restoreTransform(e)):e.__attrCachedBy=Ie.NONE},getBoundingRect:function(){var e=this.style;if(this.__dirty&&gt(e),!this._rect){var t=e.text;null!=t?t+="":t="";var n=Yn(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,An(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},xe(Hi,Ei);var Fa=Gi.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),ws=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Ma=Gi.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:sp(Gi.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=t.startAngle,l=t.endAngle,u=t.clockwise,c=Math.cos(s),d=Math.sin(s);e.moveTo(c*o+n,d*o+i),e.lineTo(c*a+n,d*a+i),e.arc(n,i,a,s,l,!u),e.lineTo(Math.cos(l)*o+n,Math.sin(l)*o+i),0!==o&&e.arc(n,i,o,l,s,u),e.closePath()}}),Td=Gi.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,o,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,o,!0)}});function ry(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function oy(e,t,n){var i=t.points,o=t.smooth;if(i&&2<=i.length){if(o&&"spline"!==o){var a=function(m,y,T,H){var R,$,se,oe,Se=[],we=[],Te=[],Me=[];if(H){se=[1/0,1/0],oe=[-1/0,-1/0];for(var Pe=0,Ke=m.length;Pe<Ke;Pe++)gr(se,se,m[Pe]),Fi(oe,oe,m[Pe]);gr(se,se,H[0]),Fi(oe,oe,H[1])}for(Pe=0,Ke=m.length;Pe<Ke;Pe++){var it=m[Pe];if(T)R=m[Pe?Pe-1:Ke-1],$=m[(Pe+1)%Ke];else{if(0===Pe||Pe===Ke-1){Se.push(ui(m[Pe]));continue}R=m[Pe-1],$=m[Pe+1]}fn(we,$,R),qn(we,we,y);var lt=ai(it,R),mt=ai(it,$),vt=lt+mt;0!==vt&&(lt/=vt,mt/=vt),qn(Te,we,-lt),qn(Me,we,mt);var wt=ri([],it,Te),Et=ri([],it,Me);H&&(Fi(wt,wt,se),gr(wt,wt,oe),Fi(Et,Et,se),gr(Et,Et,oe)),Se.push(wt),Se.push(Et)}return T&&Se.push(Se.shift()),Se}(i,o,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,l=0;l<(n?s:s-1);l++){var u=a[2*l],c=a[2*l+1],d=i[(l+1)%s];e.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===o&&(i=function(m,y){for(var T=m.length,H=[],R=0,$=1;$<T;$++)R+=ai(m[$-1],m[$]);var se=R/2;for(se=se<T?T:se,$=0;$<se;$++){var oe,Se,we,Te=$/(se-1)*(y?T:T-1),Me=Math.floor(Te),Pe=Te-Me,Ke=m[Me%T];we=y?(oe=m[(Me-1+T)%T],Se=m[(Me+1)%T],m[(Me+2)%T]):(oe=m[0===Me?Me:Me-1],Se=m[T-2<Me?T-1:Me+1],m[T-3<Me?T-1:Me+2]);var it=Pe*Pe,lt=Pe*it;H.push([ry(oe[0],Ke[0],Se[0],we[0],Pe,it,lt),ry(oe[1],Ke[1],Se[1],we[1],Pe,it,lt)])}return H}(i,n)),e.moveTo(i[0][0],i[0][1]),l=1;for(var h=i.length;l<h;l++)e.lineTo(i[l][0],i[l][1])}n&&e.closePath()}}var $o=Gi.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){oy(e,t,!0)}}),ya=Gi.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){oy(e,t,!1)}}),jl=Math.round;function ay(e,t,n){if(t){var i=t.x1,o=t.x2,a=t.y1,s=t.y2;e.x1=i,e.x2=o,e.y1=a,e.y2=s;var l=n&&n.lineWidth;l&&(jl(2*i)===jl(2*o)&&(e.x1=e.x2=Js(i,l,!0)),jl(2*a)===jl(2*s)&&(e.y1=e.y2=Js(a,l,!0)))}}function sy(e,t,n){if(t){var i=t.x,o=t.y,a=t.width,s=t.height;e.x=i,e.y=o,e.width=a,e.height=s;var l=n&&n.lineWidth;l&&(e.x=Js(i,l,!0),e.y=Js(o,l,!0),e.width=Math.max(Js(i+a,l,!1)-e.x,0===a?0:1),e.height=Math.max(Js(o+s,l,!1)-e.y,0===s?0:1))}}function Js(e,t,n){if(!t)return e;var i=jl(2*e);return(i+jl(t))%2==0?i/2:(i+(n?1:-1))/2}var Qs={},er=Gi.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n,i,o,a;this.subPixelOptimize?(sy(Qs,t,this.style),n=Qs.x,i=Qs.y,o=Qs.width,a=Qs.height,Qs.r=t.r,t=Qs):(n=t.x,i=t.y,o=t.width,a=t.height),t.r?Dt(e,t):e.rect(n,i,o,a),e.closePath()}}),Ou={},Mo=Gi.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n,i,o,a;a=this.subPixelOptimize?(ay(Ou,t,this.style),n=Ou.x1,i=Ou.y1,o=Ou.x2,Ou.y2):(n=t.x1,i=t.y1,o=t.x2,t.y2);var s=t.percent;0!==s&&(e.moveTo(n,i),s<1&&(o=n*(1-s)+o*s,a=i*(1-s)+a*s),e.lineTo(o,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),ea=[];function ly(e,t,n){return null===e.cpx2||null===e.cpy2?[(n?F0:jo)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?F0:jo)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?$f:Lo)(e.x1,e.cpx1,e.x2,t),(n?$f:Lo)(e.y1,e.cpy1,e.y2,t)]}function Ha(e){this.colorStops=e||[]}var Dd=Gi.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.cpx1,l=t.cpy1,u=t.cpx2,c=t.cpy2,d=t.percent;0!==d&&(e.moveTo(n,i),null==u||null==c?(d<1&&(ep(n,s,o,d,ea),s=ea[1],o=ea[2],ep(i,l,a,d,ea),l=ea[1],a=ea[2]),e.quadraticCurveTo(s,l,o,a)):(d<1&&(V0(n,s,u,o,d,ea),s=ea[1],u=ea[2],o=ea[3],V0(i,l,c,a,d,ea),l=ea[1],c=ea[2],a=ea[3]),e.bezierCurveTo(s,l,u,c,o,a)))},pointAt:function(e){return ly(this.shape,e,!1)},tangentAt:function(e){var t=ly(this.shape,e,!0);return $n(t,t)}}),lp=Gi.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(a),c=Math.sin(a);e.moveTo(u*o+n,c*o+i),e.arc(n,i,o,a,s,!l)}}),uy=Gi.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Gi.prototype.getBoundingRect.call(this)}});function $s(e,t,n,i,o,a){this.x=e??0,this.y=t??0,this.x2=n??1,this.y2=i??0,this.type="linear",this.global=a||!1,Ha.call(this,o)}function Ad(e,t,n,i,o){this.x=e??.5,this.y=t??.5,this.r=n??.5,this.type="radial",this.global=o||!1,Ha.call(this,i)}function aa(e){Ei.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}Ha.prototype={constructor:Ha,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},$s.prototype={constructor:$s},xe($s,Ha),Ad.prototype={constructor:Ad},xe(Ad,Ha),aa.prototype.incremental=!0,aa.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},aa.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},aa.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},aa.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},aa.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},aa.prototype.brush=function(e,t){for(var n=this._cursor;n<this._displayables.length;n++)(i=this._displayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e);for(this._cursor=n,n=0;n<this._temporaryDisplayables.length;n++){var i;(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var pD=[];aa.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new A(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(pD)),e.union(i)}this._rect=e}return this._rect},aa.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0;return!1},xe(aa,Ei);var Md=Math.max,Id=Math.min,kd={},Bu=1,cy={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},dy="emphasis",hy="normal",fy=1,py={},up={};function ba(e){return Gi.extend(e)}function Va(e,t){up[e]=t}function cp(e){if(up.hasOwnProperty(e))return up[e]}function Ed(e,t,n,i){var o=iy(e,t);return n&&("center"===i&&(n=my(n,o.getBoundingRect())),vy(o,n)),o}function gy(e,t,n){var i=new ji({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){"center"===n&&i.setStyle(my(t,{width:o.width,height:o.height}))}});return i}function my(e,t){var n,i=t.width/t.height,o=e.height*i;return n=o<=e.width?e.height:(o=e.width)/i,{x:e.x+e.width/2-o/2,y:e.y+e.height/2-n/2,width:o,height:n}}var xa=function(e,t){for(var n=[],i=e.length,o=0;o<i;o++){var a=e[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var s=new Gi(t);return s.createPathProxy(),s.buildPath=function(l){l.appendPath(n);var u=l.getContext();u&&l.rebuildPath(u)},s};function vy(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}var Nd=Js;function yy(e){return null!=e&&"none"!==e}var by=Jt(),xy=0;function dp(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var n=e.__zr,i=e.useHoverLayer&&n&&"canvas"===n.painter.type;if(e.__highlighted=i?"layer":"plain",!(e.isGroup||!n&&e.useHoverLayer)){var o=e,a=e.style;i&&(a=(o=n.addHover(e)).style),Pd(a),i||function(s){if(s.__hoverStlDirty){s.__hoverStlDirty=!1;var l=s.__hoverStl;if(l){var u=s.__cachedNormalStl={};s.__cachedNormalZ2=s.z2;var c=s.style;for(var d in l)null!=l[d]&&(u[d]=c[d]);u.fill=c.fill,u.stroke=c.stroke}else s.__cachedNormalStl=s.__cachedNormalZ2=null}}(o),a.extendFrom(t),_y(a,t,"fill"),_y(a,t,"stroke"),Hu(a),i||(e.dirty(!1),e.z2+=Bu)}}}function _y(e,t,n){!yy(t[n])&&yy(e[n])&&(e[n]=function(i){if("string"!=typeof i)return i;var o=by.get(i);return o||(o=qo(i,-.1),xy<1e4&&(by.set(i,o),xy++)),o}(e[n]))}function hp(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var n=e.style,i=e.__cachedNormalStl;i&&(Pd(n),e.setStyle(i),Hu(n));var o=e.__cachedNormalZ2;null!=o&&e.z2-o===Bu&&(e.z2=o)}}function zu(e,t,n){var i,o=hy,a=hy;e.__highlighted&&(o=dy,i=!0),t(e,n),e.__highlighted&&(a=dy,i=!0),e.isGroup&&e.traverse(function(s){s.isGroup||t(s,n)}),i&&e.__highDownOnUpdate&&e.__highDownOnUpdate(o,a)}function Fu(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,hp(e),dp(e))}function gD(e){wy(this,e)||this.__highByOuter||zu(this,dp)}function mD(e){wy(this,e)||this.__highByOuter||zu(this,hp)}function vD(e){this.__highByOuter|=1<<(e||0),zu(this,dp)}function yD(e){(this.__highByOuter&=~(1<<(e||0)))||zu(this,hp)}function wy(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Cr(e,t){el(e,!0),zu(e,Fu,t)}function el(e,t){var n=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!n||e.__highDownDispatcher){var i=n?"off":"on";e[i]("mouseover",gD)[i]("mouseout",mD),e[i]("emphasis",vD)[i]("normal",yD),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n}}function Ld(e){return!(!e||!e.__highDownDispatcher)}function Sy(e){var t=py[e];return null==t&&fy<=32&&(t=py[e]=fy++),t}function sa(e,t,n,i,o,a,s){var l,u=(o=o||kd).labelFetcher,c=o.labelDataIndex,d=o.labelDimIndex,h=o.labelProp,m=n.getShallow("show"),y=i.getShallow("show");(m||y)&&(u&&(l=u.getFormattedLabel(c,"normal",null,d,h)),null==l&&(l=on(o.defaultText)?o.defaultText(c,o):o.defaultText));var T=m?l:null,H=y?Zt(u?u.getFormattedLabel(c,"emphasis",null,d,h):null,l):null;null==T&&null==H||(Pr(e,n,a,o),Pr(t,i,s,o,!0)),e.text=T,t.text=H}function fp(e,t,n){var i=e.style;t&&(Pd(i),e.setStyle(t),Hu(i)),i=e.__hoverStl,n&&i&&(Pd(i),he(i,n),Hu(i))}function Pr(e,t,n,i,o){return Cy(e,t,i,o),n&&he(e,n),e}function Cy(e,t,n,i){if((n=n||kd).isRectText){var o;n.getTextPosition?o=n.getTextPosition(t,i):"outside"===(o=t.getShallow("position")||(i?null:"inside"))&&(o="top"),e.textPosition=o,e.textOffset=t.getShallow("offset");var a=t.getShallow("rotate");null!=a&&(a*=Math.PI/180),e.textRotation=a,e.textDistance=Zt(t.getShallow("distance"),i?null:5)}var s,l=t.ecModel,u=l&&l.option.textStyle,c=function(m){for(var y;m&&m!==m.ecModel;){var T=(m.option||kd).rich;if(T)for(var H in y=y||{},T)T.hasOwnProperty(H)&&(y[H]=1);m=m.parentModel}return y}(t);if(c)for(var d in s={},c)if(c.hasOwnProperty(d)){var h=t.getModel(["rich",d]);Ty(s[d]={},h,u,n,i)}return e.rich=s,Ty(e,t,u,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function Ty(e,t,n,i,o,a){n=!o&&n||kd,e.textFill=Rd(t.getShallow("color"),i)||n.color,e.textStroke=Rd(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=Zt(t.getShallow("textBorderWidth"),n.textBorderWidth),o||(a&&(e.insideRollbackOpt=i,Hu(e)),null==e.textFill&&(e.textFill=i.autoColor)),e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),a&&i.disableBox||(e.textBackgroundColor=Rd(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=Rd(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Rd(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Hu(e){var t,n=e.textPosition,i=e.insideRollbackOpt;if(i&&null==e.textFill){var o=i.autoColor,s=i.useInsideStyle,l=!1!==s&&(!0===s||i.isRectText&&n&&"string"==typeof n&&0<=n.indexOf("inside")),u=!l&&null!=o;(l||u)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),l&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=o,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),u&&(e.textFill=o)}e.insideRollback=t}function Pd(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function pp(e,t){var n=t&&t.getModel("textStyle");return ni([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function Dy(e,t,n,i,o,a){if("function"==typeof o&&(a=o,o=null),i&&i.isAnimationEnabled()){var s=e?"Update":"",l=i.getShallow("animationDuration"+s),u=i.getShallow("animationEasing"+s),c=i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(o,i.getAnimationDelayParams?i.getAnimationDelayParams(t,o):null)),"function"==typeof l&&(l=l(o)),0<l?t.animateTo(n,l,c||0,u,a,!!a):(t.stopAnimation(),t.attr(n),a&&a())}else t.stopAnimation(),t.attr(n),a&&a()}function Ri(e,t,n,i,o){Dy(!0,e,t,n,i,o)}function Ro(e,t,n,i,o){Dy(!1,e,t,n,i,o)}function tl(e,t){for(var n=yr([]);e&&e!==t;)hr(n,e.getLocalTransform(),n),e=e.parent;return n}function Wa(e,t,n){return t&&!Ve(t)&&(t=sr.getLocalTransform(t)),n&&(t=Qi([],t)),Mi([],e,t)}function gp(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===e?-i:"right"===e?i:0,"top"===e?-o:"bottom"===e?o:0];return a=Wa(a,t,n),Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function Od(e,t,n,i){if(e&&t){var o,a=(o={},e.traverse(function(l){!l.isGroup&&l.anid&&(o[l.anid]=l)}),o);t.traverse(function(l){if(!l.isGroup&&l.anid){var u=a[l.anid];if(u){var c=s(l);l.attr(s(u)),Ri(l,c,n,l.dataIndex)}}})}function s(l){var u={position:ui(l.position),rotation:l.rotation};return l.shape&&(u.shape=he({},l.shape)),u}}function Ay(e,t){return Re(e,function(n){var i=n[0];i=Md(i,t.x),i=Id(i,t.x+t.width);var o=n[1];return o=Md(o,t.y),[i,o=Id(o,t.y+t.height)]})}function Ul(e,t,n){var i=(t=he({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),De(i,n),new ji(t)):Ed(e.replace("path://",""),t,n,"center")}function Vu(e,t,n,i,o){for(var a=0,s=o[o.length-1];a<o.length;a++){var l=o[a];if(My(e,t,n,i,l[0],l[1],s[0],s[1]))return!0;s=l}}function My(e,t,n,i,o,a,s,l){var $,u=n-e,c=i-t,d=s-o,h=l-a,m=mp(d,h,u,c);if(($=m)<=1e-6&&-1e-6<=$)return!1;var y=e-o,T=t-a,H=mp(y,T,u,c)/m;if(H<0||1<H)return!1;var R=mp(y,T,d,h)/m;return!(R<0||1<R)}function mp(e,t,n,i){return e*i-n*t}Va("circle",Fa),Va("sector",Ma),Va("ring",Td),Va("polygon",$o),Va("polyline",ya),Va("rect",er),Va("line",Mo),Va("bezierCurve",Dd),Va("arc",lp);var ts=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Bu,CACHED_LABEL_STYLE_PROPERTIES:cy,extendShape:ba,extendPath:function(e,t){return function(n,i){return Gi.extend(ny(n,i))}(e,t)},registerShape:Va,getShapeClass:cp,makePath:Ed,makeImage:gy,mergePath:xa,resizePath:vy,subPixelOptimizeLine:function(e){return ay(e.shape,e.shape,e.style),e},subPixelOptimizeRect:function(e){return sy(e.shape,e.shape,e.style),e},subPixelOptimize:Nd,setElementHoverStyle:Fu,setHoverStyle:Cr,setAsHighDownDispatcher:el,isHighDownDispatcher:Ld,getHighlightDigit:Sy,setLabelStyle:sa,modifyLabelStyle:fp,setTextStyle:Pr,setText:function(e,t,n){var i,o={isRectText:!0};!1===n?i=!0:o.autoColor=n,Cy(e,t,o,i)},getFont:pp,updateProps:Ri,initProps:Ro,getTransform:tl,applyTransform:Wa,transformDirection:gp,groupTransition:Od,clipPointsByRect:Ay,clipRectByRect:function(e,t){var n=Md(e.x,t.x),i=Id(e.x+e.width,t.x+t.width),o=Md(e.y,t.y),a=Id(e.y+e.height,t.y+t.height);if(n<=i&&o<=a)return{x:n,y:o,width:i-n,height:a-o}},createIcon:Ul,linePolygonIntersect:Vu,lineLineIntersect:My,Group:E,Image:ji,Text:Hi,Circle:Fa,Sector:Ma,Ring:Td,Polygon:$o,Polyline:ya,Rect:er,Line:Mo,BezierCurve:Dd,Arc:lp,IncrementalDisplayable:aa,CompoundPath:uy,LinearGradient:$s,RadialGradient:Ad,BoundingRect:A}),bD=["textStyle","color"],xD={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(bD):null)},getFont:function(){return pp({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return Yn(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},_D=zl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),wD={getItemStyle:function(e,t){var n=_D(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},Bd=ke,Iy=Zo();function qi(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function ky(e,t,n){for(var i=0;i<t.length&&(!t[i]||null!=(e=e&&"object"==typeof e?e[t[i]]:null));i++);return null==e&&n&&(e=n.get(t)),e}function vp(e,t){var n=Iy(e).getParent;return n?n.call(e,t):e.parentModel}qi.prototype={constructor:qi,init:null,mergeOption:function(e){de(this.option,e,!0)},get:function(e,t){return null==e?this.option:ky(this.option,this.parsePath(e),!t&&vp(this,e))},getShallow:function(e,t){var n=this.option,i=null==n?n:n[e],o=!t&&vp(this,e);return null==i&&o&&(i=o.getShallow(e)),i},getModel:function(e,t){var n;return new qi(null==e?this.option:ky(this.option,e=this.parsePath(e)),t=t||(n=vp(this,e))&&n.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(K(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){Iy(this).getParent=e},isAnimationEnabled:function(){if(!ve.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Eu(qi),fd(qi),Bd(qi,JT),Bd(qi,$T),Bd(qi,xD),Bd(qi,wD);var SD=0;function Wu(e){return[e||"",SD++,Math.random().toFixed(5)].join("_")}var Ey=1e-4;function Tr(e,t,n,i){var o=t[1]-t[0],a=n[1]-n[0];if(0==o)return 0==a?n[0]:(n[0]+n[1])/2;if(i)if(0<o){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/o*a+n[0]}function Kn(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?function(n){return n.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function ao(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function nl(e){return e.sort(function(t,n){return t-n}),e}function Ny(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function zd(e){var t=e.toString(),n=t.indexOf("e");if(0<n){var i=+t.slice(n+1);return i<0?-i:0}var o=t.indexOf(".");return o<0?0:t.length-1-o}function yp(e,t){var n=Math.log,i=Math.LN10,o=Math.floor(n(e[1]-e[0])/i),a=Math.round(n(Math.abs(t[1]-t[0]))/i),s=Math.min(Math.max(-o+a,0),20);return isFinite(s)?s:20}function Ly(e,t,n){if(!e[t])return 0;var i=je(e,function(T,H){return T+(isNaN(H)?0:H)},0);if(0===i)return 0;for(var o=Math.pow(10,n),a=Re(e,function(T){return(isNaN(T)?0:T)/i*o*100}),s=100*o,l=Re(a,function(T){return Math.floor(T)}),u=je(l,function(T,H){return T+H},0),c=Re(a,function(T,H){return T-l[H]});u<s;){for(var d=Number.NEGATIVE_INFINITY,h=null,m=0,y=c.length;m<y;++m)c[m]>d&&(d=c[m],h=m);++l[h],c[h]=0,++u}return l[t]/o}var bp=9007199254740991;function xp(e){var t=2*Math.PI;return(e%t+t)%t}function ju(e){return-Ey<e&&e<Ey}var CD=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Uu(e){if(e instanceof Date)return e;if("string"!=typeof e)return null==e?new Date(NaN):new Date(Math.round(e));var t=CD.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}function Ry(e){return Math.pow(10,_p(e))}function _p(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return 10<=e/Math.pow(10,t)&&t++,t}function wp(e,t){var n=_p(e),i=Math.pow(10,n),o=e/i;return e=(t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*i,-20<=n?+e.toFixed(n<0?-n:0):e}function Sp(e){e.sort(function(l,u){return function c(d,h,m){return d.interval[m]<h.interval[m]||d.interval[m]===h.interval[m]&&(d.close[m]-h.close[m]==(m?-1:1)||!m&&c(d,h,1))}(l,u,0)?-1:1});for(var t=-1/0,n=1,i=0;i<e.length;){for(var o=e[i].interval,a=e[i].close,s=0;s<2;s++)o[s]<=t&&(o[s]=t,a[s]=s?1:1-n),t=o[s],n=a[s];o[0]===o[1]&&a[0]*a[1]!=1?e.splice(i,1):i++}return e}function Py(e){return 0<=e-parseFloat(e)}var TD=(Object.freeze||Object)({linearMap:Tr,parsePercent:Kn,round:ao,asc:nl,getPrecision:Ny,getPrecisionSafe:zd,getPixelPrecision:yp,getPercentWithPrecision:Ly,MAX_SAFE_INTEGER:bp,remRadian:xp,isRadianAroundZero:ju,parseDate:Uu,quantity:Ry,quantityExponent:_p,nice:wp,quantile:function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),o=+e[i-1],a=n-i;return a?o+a*(e[i]-o):o},reformIntervals:Sp,isNumeric:Py});function Ss(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<e.length?"."+e[1]:"")}function Oy(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var il=On,DD=/([&<>"'])/g,AD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ir(e){return null==e?"":(e+"").replace(DD,function(t,n){return AD[n]})}function Cp(e,t){return"{"+e+(t??"")+"}"}var By=["a","b","c","d","e","f","g"];function Tp(e,t,n){bt(t)||(t=[t]);var i=t.length;if(!i)return"";for(var o=t[0].$vars||[],a=0;a<o.length;a++){var s=By[a];e=e.replace(Cp(s),Cp(s,0))}for(var l=0;l<i;l++)for(var u=0;u<o.length;u++){var c=t[l][o[u]];e=e.replace(Cp(By[u],l),n?Ir(c):c)}return e}function zy(e,t,n){return ue(t,function(i,o){e=e.replace("{"+o+"}",n?Ir(i):i)}),e}function Fd(e,t){var n=(e=Tt(e)?{color:e,extraCssText:t}:e||{}).color,o=(t=e.extraCssText,e.renderMode||"html"),a=e.markerId||"X";return n?"html"===o?"subItem"===e.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ir(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Ir(n)+";"+(t||"")+'"></span>':{renderMode:o,content:"{marker"+a+"|}  ",style:{color:n}}:""}function Gl(e,t){return"0000".substr(0,t-(e+="").length)+e}function Dp(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var i=Uu(t),o=n?"UTC":"",a=i["get"+o+"FullYear"](),s=i["get"+o+"Month"]()+1,l=i["get"+o+"Date"](),u=i["get"+o+"Hours"](),c=i["get"+o+"Minutes"](),d=i["get"+o+"Seconds"](),h=i["get"+o+"Milliseconds"]();return e.replace("MM",Gl(s,2)).replace("M",s).replace("yyyy",a).replace("yy",a%100).replace("dd",Gl(l,2)).replace("d",l).replace("hh",Gl(u,2)).replace("h",u).replace("mm",Gl(c,2)).replace("m",c).replace("ss",Gl(d,2)).replace("s",d).replace("SSS",Gl(h,3))}function Hd(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}var Fy=si;function Gu(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location=e}else window.open(e,t)}var MD=(Object.freeze||Object)({addCommas:Ss,toCamelCase:Oy,normalizeCssArray:il,encodeHTML:Ir,formatTpl:Tp,formatTplSimple:zy,getTooltipMarker:Fd,formatTime:Dp,capitalFirst:Hd,truncateText:Fy,getTextBoundingRect:function(e){return Yn(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)},getTextRect:function(e,t,n,i,o,a,s,l){return Yn(e,t,n,i,o,l,a,s)},windowOpen:Gu}),Vd=ue,Hy=["left","right","top","bottom","width","height"],rl=[["width","left","right"],["height","top","bottom"]];function Ap(e,t,n,i,o){var a=0,s=0;null==i&&(i=1/0),null==o&&(o=1/0);var l=0;t.eachChild(function(u,c){var d,h,m=u.position,y=u.getBoundingRect(),T=t.childAt(c+1),H=T&&T.getBoundingRect();if("horizontal"===e){var R=y.width+(H?-H.x+y.x:0);l=i<(d=a+R)||u.newline?(a=0,d=R,s+=l+n,y.height):Math.max(l,y.height)}else{var $=y.height+(H?-H.y+y.y:0);l=o<(h=s+$)||u.newline?(a+=l+n,s=0,h=$,y.width):Math.max(l,y.width)}u.newline||(m[0]=a,m[1]=s,"horizontal"===e?a=d+n:s=h+n)})}var ol=Ap;function Qr(e,t,n){n=il(n||0);var i=t.width,o=t.height,a=Kn(e.left,i),s=Kn(e.top,o),l=Kn(e.right,i),u=Kn(e.bottom,o),c=Kn(e.width,i),d=Kn(e.height,o),h=n[2]+n[0],m=n[1]+n[3],y=e.aspect;switch(isNaN(c)&&(c=i-l-m-a),isNaN(d)&&(d=o-u-h-s),null!=y&&(isNaN(c)&&isNaN(d)&&(i/o<y?c=.8*i:d=.8*o),isNaN(c)&&(c=y*d),isNaN(d)&&(d=c/y)),isNaN(a)&&(a=i-l-c-m),isNaN(s)&&(s=o-u-d-h),e.left||e.right){case"center":a=i/2-c/2-n[3];break;case"right":a=i-c-m}switch(e.top||e.bottom){case"middle":case"center":s=o/2-d/2-n[0];break;case"bottom":s=o-d-h}a=a||0,s=s||0,isNaN(c)&&(c=i-m-a-(l||0)),isNaN(d)&&(d=o-h-s-(u||0));var T=new A(a+n[3],s+n[0],c,d);return T.margin=n,T}function Wd(e,t,n,i,o){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(a||s){var u;if("raw"===l)u="group"===e.type?new A(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();(u=u.clone()).applyTransform(c)}t=Qr(De({width:u.width,height:u.height},t),n,i);var d=e.position,h=a?t.x-u.x:0,m=s?t.y-u.y:0;e.attr("position","raw"===l?[h,m]:[d[0]+h,d[1]+m])}}function Cs(e,t,n){Pt(n)||(n={});var i=n.ignoreSize;bt(i)||(i=[i,i]);var o=s(rl[0],0),a=s(rl[1],1);function s(d,h){var m={},y=0,T={},H=0;if(Vd(d,function(se){T[se]=e[se]}),Vd(d,function(se){l(t,se)&&(m[se]=T[se]=t[se]),u(m,se)&&y++,u(T,se)&&H++}),i[h])return u(t,d[1])?T[d[2]]=null:u(t,d[2])&&(T[d[1]]=null),T;if(2!==H&&y){if(2<=y)return m;for(var R=0;R<d.length;R++){var $=d[R];if(!l(m,$)&&l(e,$)){m[$]=e[$];break}}return m}return T}function l(d,h){return d.hasOwnProperty(h)}function u(d,h){return null!=d[h]&&"auto"!==d[h]}function c(d,h,m){Vd(d,function(y){h[y]=m[y]})}c(rl[0],e,o),c(rl[1],e,a)}function ql(e){return Vy({},e)}function Vy(e,t){return t&&e&&Vd(Hy,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}Nt(Ap,"vertical"),Nt(Ap,"horizontal");var Mp,jd,Wy,ID=Zo(),tr=qi.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){qi.call(this,e,t,n,i),this.uid=Wu("ec_cpt_model")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?ql(e):{};de(e,t.getTheme().get(this.mainType)),de(e,this.getDefaultOption()),n&&Cs(e,i,n)},mergeOption:function(e,t){de(this.option,e,!0);var n=this.layoutMode;n&&Cs(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=ID(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var o={},a=t.length-1;0<=a;a--)o=de(o,t[a],!0);e.defaultOption=o}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});function jy(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}pd(tr,{registerWhenExtend:!0}),jd={},(Mp=tr).registerSubTypeDefaulter=function(e,t){e=gs(e),jd[e.main]=t},Mp.determineSubType=function(e,t){var n=t.type;if(!n){var i=gs(e).main;Mp.hasSubTypes(e)&&jd[i]&&(n=jd[i](t))}return n},Wy=function(e){var t=[];return ue(tr.getClassesByMainType(e),function(n){t=t.concat(n.prototype.dependencies||[])}),t=Re(t,function(n){return gs(n).main}),"dataset"!==e&&We(t,"dataset")<=0&&t.unshift("dataset"),t},tr.topologicalTravel=function(e,t,n,i){if(e.length){var o=(T={},H=[],ue(y=t,function(R){var oe,Se,we,$=jy(T,R),se=(oe=$.originalDeps=Wy(R),Se=y,we=[],ue(oe,function(Te){0<=We(Se,Te)&&we.push(Te)}),we);$.entryCount=se.length,0===$.entryCount&&H.push(R),ue(se,function(oe){We($.predecessor,oe)<0&&$.predecessor.push(oe);var Se=jy(T,oe);We(Se.successor,oe)<0&&Se.successor.push(R)})}),{graph:T,noEntryList:H}),a=o.graph,s=o.noEntryList,l={};for(ue(e,function(y){l[y]=!0});s.length;){var u=s.pop(),c=a[u],d=!!l[u];d&&(n.call(i,u,c.originalDeps.slice()),delete l[u]),ue(c.successor,d?m:h)}ue(l,function(){throw new Error("Circle dependency may exists")})}var y,T,H;function h(y){a[y].entryCount--,0===a[y].entryCount&&s.push(y)}function m(y){l[y]=!0,h(y)}},ke(tr,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var Uy="";typeof navigator<"u"&&(Uy=navigator.platform||"");var kD={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Uy.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ip=Zo(),kp={clearColorPalette:function(){Ip(this).colorIdx=0,Ip(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=Ip(t=t||this),o=i.colorIdx||0,a=i.colorNameMap=i.colorNameMap||{};if(a.hasOwnProperty(e))return a[e];var s=Ao(this.get("color",!0)),l=this.get("colorLayer",!0),u=null!=n&&l?function(d,h){for(var m=d.length,y=0;y<m;y++)if(d[y].length>h)return d[y];return d[m-1]}(l,n):s;if((u=u||s)&&u.length){var c=u[o];return e&&(a[e]=c),i.colorIdx=(o+1)%u.length,c}}},al="original",qu="arrayRows",Yu="objectRows",Xu="keyedColumns",Gy="unknown",Ud="typedArray",qy="column",Ep="row";function Ia(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===Xu?{}:[]),this.sourceFormat=e.sourceFormat||Gy,this.seriesLayoutBy=e.seriesLayoutBy||qy,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&Jt(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}Ia.seriesDataToSource=function(e){return new Ia({data:e,sourceFormat:vn(e)?Ud:al,fromDataset:!1})},fd(Ia);var Po={Must:1,Might:2,Not:3},Yl=Zo();function Yy(e){var t=e.option,n=t.data,i=vn(n)?Ud:al,o=!1,a=t.seriesLayoutBy,s=t.sourceHeader,l=t.dimensions,u=Lp(e);if(u){var c=u.option;n=c.source,i=Yl(u).sourceFormat,o=!0,a=a||c.seriesLayoutBy,null==s&&(s=c.sourceHeader),l=l||c.dimensions}var d=function(h,m,y,T,H){if(!h)return{dimensionsDefine:Xy(H)};var R,$;if(m===qu)"auto"===T||null==T?Zy(function(oe){null!=oe&&"-"!==oe&&(Tt(oe)?null==$&&($=1):$=0)},y,h,10):$=T?1:0,H||1!==$||(H=[],Zy(function(oe,Se){H[Se]=oe??""},y,h)),R=H?H.length:y===Ep?h.length:h[0]?h[0].length:null;else if(m===Yu)H=H||function(oe){for(var Se,we=0;we<oe.length&&!(Se=oe[we++]););if(Se){var Te=[];return ue(Se,function(Me,Pe){Te.push(Pe)}),Te}}(h);else if(m===Xu)H||(H=[],ue(h,function(oe,Se){H.push(Se)}));else if(m===al){var se=ku(h[0]);R=bt(se)&&se.length||1}return{startIndex:$,dimensionsDefine:Xy(H),dimensionsDetectCount:R}}(n,i,a,s,l);Yl(e).source=new Ia({data:n,fromDataset:o,seriesLayoutBy:a,sourceFormat:i,dimensionsDefine:d.dimensionsDefine,startIndex:d.startIndex,dimensionsDetectCount:d.dimensionsDetectCount,encodeDefine:t.encode})}function Xy(e){if(e){var t=Jt();return Re(e,function(n,i){if(null==(n=he({},Pt(n)?n:{name:n})).name)return n;n.name+="",null==n.displayName&&(n.displayName=n.name);var o=t.get(n.name);return o?n.name+="-"+o.count++:t.set(n.name,{count:1}),n})}}function Zy(e,t,n,i){if(null==i&&(i=1/0),t===Ep)for(var o=0;o<n.length&&o<i;o++)e(n[o]?n[o][0]:null,o);else{var a=n[0]||[];for(o=0;o<a.length&&o<i;o++)e(a[o],o)}}function Ky(e,t,n){var i={},o=Lp(t);if(!o||!e)return i;var a,s,l=[],u=[],d=Yl(t.ecModel).datasetMap,h=o.uid+"_"+n.seriesLayoutBy;ue(e=e.slice(),function(H,R){Pt(H)||(e[R]={name:H}),"ordinal"===H.type&&null==a&&(s=T(e[a=R])),i[H.name]=[]});var m=d.get(h)||d.set(h,{categoryWayDim:s,valueWayDim:0});function y(H,R,$){for(var se=0;se<$;se++)H.push(R+se)}function T(H){var R=H.dimsDef;return R?R.length:1}return ue(e,function(H,R){var $=H.name,se=T(H);if(null==a){var oe=m.valueWayDim;y(i[$],oe,se),y(u,oe,se),m.valueWayDim+=se}else a===R?(y(i[$],0,se),y(l,0,se)):(y(i[$],oe=m.categoryWayDim,se),y(u,oe,se),m.categoryWayDim+=se)}),l.length&&(i.itemName=l),u.length&&(i.seriesName=u),i}function Np(e,t,n){var i={};if(!Lp(e))return i;var o,a=t.sourceFormat,s=t.dimensionsDefine;a!==Yu&&a!==Xu||ue(s,function(c,d){"name"===(Pt(c)?c.name:c)&&(o=d)});var l=function(){for(var c={},d={},h=[],m=0,y=Math.min(5,n);m<y;m++){var T=Jy(t.data,a,t.seriesLayoutBy,s,t.startIndex,m);h.push(T);var H=T===Po.Not;if(H&&null==c.v&&m!==o&&(c.v=m),null!=c.n&&c.n!==c.v&&(H||h[c.n]!==Po.Not)||(c.n=m),R(c)&&h[c.n]!==Po.Not)return c;H||(T===Po.Might&&null==d.v&&m!==o&&(d.v=m),null!=d.n&&d.n!==d.v||(d.n=m))}function R($){return null!=$.v&&null!=$.n}return R(c)?c:R(d)?d:null}();if(l){i.value=l.v;var u=o??l.n;i.itemName=[u],i.seriesName=[u]}return i}function Lp(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function Jy(e,t,n,i,o,a){var s,l,u;if(vn(e))return Po.Not;if(i){var c=i[a];Pt(c)?(l=c.name,u=c.type):Tt(c)&&(l=c)}if(null!=u)return"ordinal"===u?Po.Must:Po.Not;if(t===qu)if(n===Ep){for(var d=e[a],h=0;h<(d||[]).length&&h<5;h++)if(null!=(s=H(d[o+h])))return s}else for(h=0;h<e.length&&h<5;h++){var m=e[o+h];if(m&&null!=(s=H(m[a])))return s}else if(t===Yu){if(!l)return Po.Not;for(h=0;h<e.length&&h<5;h++)if((y=e[h])&&null!=(s=H(y[l])))return s}else if(t===Xu){if(!l||!(d=e[l])||vn(d))return Po.Not;for(h=0;h<d.length&&h<5;h++)if(null!=(s=H(d[h])))return s}else if(t===al)for(h=0;h<e.length&&h<5;h++){var y,T=ku(y=e[h]);if(!bt(T))return Po.Not;if(null!=(s=H(T[a])))return s}function H(R){var $=Tt(R);return null!=R&&isFinite(R)&&""!==R?$?Po.Might:Po.Not:$&&"-"!==R?Po.Must:void 0}return Po.Not}var Rp="\0_ec_inner",Pp=qi.extend({init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new qi(n),this._optionManager=i},setOption:function(e,t){yi(!(Rp in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var i=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(i)):function(s){var l,c;this.option={},this.option[Rp]=1,this._componentsMap=Jt({series:[]}),c=(l=s).color&&!l.colorLayer,ue(this._theme.option,function(d,h){"colorLayer"===h&&c||tr.hasClass(h)||("object"==typeof d?l[h]=l[h]?de(l[h],d,!1):K(d):null==l[h]&&(l[h]=d))}),de(s,kD,!1),this.mergeOption(s)}.call(this,i),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||"recreate"===e||"media"===e){var a=n.getMediaOption(this,this._api);a.length&&ue(a,function(s){this.mergeOption(s,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,i=[];(function(o){Yl(o).datasetMap=Jt()})(this),ue(e,function(o,a){null!=o&&(tr.hasClass(a)?a&&i.push(a):t[a]=null==t[a]?K(o):de(t[a],o,!0))}),tr.topologicalTravel(i,tr.getAllClassMainTypes(),function(o,a){var s=Ao(e[o]),l=Zf(n.get(o),s);L0(l),ue(l,function(c,d){var y,T,h=c.option;Pt(h)&&(c.keyInfo.mainType=o,c.keyInfo.subType=(T=c.exist,(y=h).type?y.type:T?T.subType:tr.determineSubType(o,y)))});var u=function(c,d){bt(d)||(d=d?[d]:[]);var h={};return ue(d,function(m){h[m]=(c.get(m)||[]).slice()}),h}(n,a);t[o]=[],n.set(o,[]),ue(l,function(c,d){var h=c.exist,m=c.option;if(yi(Pt(m)||h,"Empty component definition"),m){var y=tr.getClass(o,c.keyInfo.subType,!0);if(h&&h.constructor===y)h.name=c.keyInfo.name,h.mergeOption(m,this),h.optionUpdated(m,!1);else{var T=he({dependentModels:u,componentIndex:d},c.keyInfo);he(h=new y(m,this,this,T),T),h.init(m,this,this,T),h.optionUpdated(null,!0)}}else h.mergeOption({},this),h.optionUpdated({},!1);n.get(o)[d]=h,t[o][d]=h.option},this),"series"===o&&Op(this,n.get("series"))},this),this._seriesIndicesMap=Jt(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=K(this.option);return ue(e,function(t,n){if(tr.hasClass(n)){for(var i=(t=Ao(t)).length-1;0<=i;i--)cd(t[i])&&t.splice(i,1);e[n]=t}}),delete e[Rp],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,o=e.id,a=e.name,s=this._componentsMap.get(t);if(!s||!s.length)return[];if(null!=i)bt(i)||(i=[i]),n=Je(Re(i,function(c){return s[c]}),function(c){return!!c});else if(null!=o){var l=bt(o);n=Je(s,function(c){return l&&0<=We(o,c.id)||!l&&c.id===o})}else if(null!=a){var u=bt(a);n=Je(s,function(c){return u&&0<=We(a,c.name)||!u&&c.name===a})}else n=s.slice();return Qy(n,e)},findComponents:function(e){var t,n,i,o,a,l=e.mainType,u=(n=l+"Index",i=l+"Id",o=l+"Name",!(t=e.query)||null==t[n]&&null==t[i]&&null==t[o]?null:{mainType:l,index:t[n],id:t[i],name:t[o]});return a=Qy(u?this.queryComponents(u):this._componentsMap.get(l),e),e.filter?Je(a,e.filter):a},eachComponent:function(e,t,n){var i=this._componentsMap;"function"==typeof e?(n=t,t=e,i.each(function(o,a){ue(o,function(s,l){t.call(n,a,s,l)})})):Tt(e)?ue(i.get(e),t,n):Pt(e)&&ue(this.findComponents(e),t,n)},getSeriesByName:function(e){return Je(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){return Je(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){ue(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){ue(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){ue(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===e&&t.call(n,o,i)},this)},eachRawSeriesByType:function(e,t,n){return ue(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){Op(this,Je(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;Op(this,t.get("series"));var n=[];t.each(function(i,o){n.push(o)}),tr.topologicalTravel(n,tr.getAllClassMainTypes(),function(i,o){ue(t.get(i),function(a){"series"===i&&function(s,l){if(l){var u=l.seiresIndex,c=l.seriesId,d=l.seriesName;return null!=u&&s.componentIndex!==u||null!=c&&s.id!==c||null!=d&&s.name!==d}}(a,e)||a.restoreData()})})}});function Op(e,t){e._seriesIndicesMap=Jt(e._seriesIndices=Re(t,function(n){return n.componentIndex})||[])}function Qy(e,t){return t.hasOwnProperty("subType")?Je(e,function(n){return n.subType===t.subType}):e}ke(Pp,kp);var ED=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function $y(e){ue(ED,function(t){this[t]=dt(e[t],e)},this)}var Bp={};function Oo(){this._coordinateSystems=[]}Oo.prototype={constructor:Oo,create:function(e,t){var n=[];ue(Bp,function(i,o){var a=i.create(e,t);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(e,t){ue(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Oo.register=function(e,t){Bp[e]=t},Oo.get=function(e){return Bp[e]};var Gd=ue,sl=K,qd=Re,e1=de,ND=/^(min|max)?(.+)$/;function zp(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function LD(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return ue(e,function(a,s){var d,h,m,l=s.match(ND);if(l&&l[1]&&l[2]){var u=l[1],c=l[2].toLowerCase();d=i[c],h=a,!("min"===(m=u)?h<=d:"max"===m?d<=h:d===h)&&(o=!1)}}),o}zp.prototype={constructor:zp,setOption:function(e,t){e&&ue(Ao(e.series),function(o){o&&o.data&&vn(o.data)&&xi(o.data)}),e=sl(e);var n=this._optionBackup,i=function(o,a,s){var l,u,c=[],d=[],h=o.timeline;return o.baseOption&&(u=o.baseOption),(h||o.options)&&(u=u||{},c=(o.options||[]).slice()),o.media&&(u=u||{},Gd(o.media,function(y){y&&y.option&&(y.query?d.push(y):l=l||y)})),(u=u||o).timeline||(u.timeline=h),Gd([u].concat(c).concat(Re(d,function(y){return y.option})),function(y){Gd(a,function(T){T(y,s)})}),{baseOption:u,timelineOptions:c,mediaDefault:l,mediaList:d}}.call(this,e,t,!n);this._newBaseOption=i.baseOption,n?(function(o,a){Gd(a=a||{},function(s,l){if(null!=s){var u=o[l];if(tr.hasClass(l)){s=Ao(s);var c=Zf(u=Ao(u),s);o[l]=qd(c,function(d){return d.option&&d.exist?e1(d.exist,d.option,!0):d.exist||d.option})}else o[l]=e1(u,s,!0)}})}(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=qd(t.timelineOptions,sl),this._mediaList=qd(t.mediaList,sl),this._mediaDefault=sl(t.mediaDefault),this._currentMediaIndices=[],sl(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=sl(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var d,t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,u=i.length;l<u;l++)LD(i[l].query,t,n)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&(d=this._currentMediaIndices,!(a.join(",")===d.join(",")))&&(s=qd(a,function(c){return sl(-1===c?o.option:i[c].option)})),this._currentMediaIndices=a,s}};var ka=ue,Zu=Pt,t1=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Fp(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=t1.length;n<i;n++){var o=t1[n],a=t.normal,s=t.emphasis;a&&a[o]&&(e[o]=e[o]||{},e[o].normal?de(e[o].normal,a[o]):e[o].normal=a[o],a[o]=null),s&&s[o]&&(e[o]=e[o]||{},e[o].emphasis?de(e[o].emphasis,s[o]):e[o].emphasis=s[o],s[o]=null)}}function Bo(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,o=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,De(e[t],i)):e[t]=i),o&&(e.emphasis=e.emphasis||{},e.emphasis[t]=o)}}function Ku(e){Bo(e,"itemStyle"),Bo(e,"lineStyle"),Bo(e,"areaStyle"),Bo(e,"label"),Bo(e,"labelLine"),Bo(e,"upperLabel"),Bo(e,"edgeLabel")}function $r(e,t){var n=Zu(e)&&e[t],i=Zu(n)&&n.textStyle;if(i)for(var o=0,a=N0.length;o<a;o++)i.hasOwnProperty(t=N0[o])&&(n[t]=i[t])}function _a(e){e&&(Ku(e),$r(e,"label"),e.emphasis&&$r(e.emphasis,"label"))}function ns(e){return bt(e)?e:e?[e]:[]}function n1(e){return(bt(e)?e[0]:e)||{}}function i1(e){ue(PD,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var PD=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],OD=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],r1=function(e,t){(function RD(e,t){ka(ns(e.series),function(i){Zu(i)&&function(o){if(Zu(o)){Fp(o),Ku(o),$r(o,"label"),$r(o,"upperLabel"),$r(o,"edgeLabel"),o.emphasis&&($r(o.emphasis,"label"),$r(o.emphasis,"upperLabel"),$r(o.emphasis,"edgeLabel")),(s=o.markPoint)&&(Fp(s),_a(s)),(l=o.markLine)&&(Fp(l),_a(l));var a=o.markArea;a&&_a(a);var s,l,u=o.data;if("graph"===o.type){u=u||o.nodes;var c=o.links||o.edges;if(c&&!vn(c))for(var d=0;d<c.length;d++)_a(c[d]);ue(o.categories,function(y){Ku(y)})}if(u&&!vn(u))for(d=0;d<u.length;d++)_a(u[d]);if((s=o.markPoint)&&s.data){var h=s.data;for(d=0;d<h.length;d++)_a(h[d])}if((l=o.markLine)&&l.data){var m=l.data;for(d=0;d<m.length;d++)bt(m[d])?(_a(m[d][0]),_a(m[d][1])):_a(m[d])}"gauge"===o.type?($r(o,"axisLabel"),$r(o,"title"),$r(o,"detail")):"treemap"===o.type?(Bo(o.breadcrumb,"itemStyle"),ue(o.levels,function(y){Ku(y)})):"tree"===o.type&&Ku(o.leaves)}}(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),ka(n,function(i){ka(ns(e[i]),function(o){o&&($r(o,"axisLabel"),$r(o.axisPointer,"label"))})}),ka(ns(e.parallel),function(i){var o=i&&i.parallelAxisDefault;$r(o,"axisLabel"),$r(o&&o.axisPointer,"label")}),ka(ns(e.calendar),function(i){Bo(i,"itemStyle"),$r(i,"dayLabel"),$r(i,"monthLabel"),$r(i,"yearLabel")}),ka(ns(e.radar),function(i){$r(i,"name")}),ka(ns(e.geo),function(i){Zu(i)&&(_a(i),ka(ns(i.regions),function(o){_a(o)}))}),ka(ns(e.timeline),function(i){_a(i),Bo(i,"label"),Bo(i,"itemStyle"),Bo(i,"controlStyle",!0);var o=i.data;bt(o)&&ue(o,function(a){Pt(a)&&(Bo(a,"label"),Bo(a,"itemStyle"))})}),ka(ns(e.toolbox),function(i){Bo(i,"iconStyle"),ka(i.feature,function(o){Bo(o,"iconStyle")})}),$r(n1(e.axisPointer),"label"),$r(n1(e.tooltip).axisPointer,"label")})(e,t),e.series=Ao(e.series),ue(e.series,function(n){if(Pt(n)){var i=n.type;if("line"===i)null!=n.clipOverflow&&(n.clip=n.clipOverflow);else if("pie"===i||"gauge"===i)null!=n.clockWise&&(n.clockwise=n.clockWise);else if("gauge"===i){var o=function(a,s){s=s.split(",");for(var l=a,u=0;u<s.length&&null!=(l=l&&l[s[u]]);u++);return l}(n,"pointer.color");null!=o&&function(a,s,l,u){s=s.split(",");for(var c,d=a,h=0;h<s.length-1;h++)null==d[c=s[h]]&&(d[c]={}),d=d[c];null!=d[s[h]]||(d[s[h]]=l)}(n,"itemStyle.color",o)}i1(n)}}),e.dataRange&&(e.visualMap=e.dataRange),ue(OD,function(n){var i=e[n];i&&(bt(i)||(i=[i]),ue(i,function(o){i1(o)}))})};function BD(e){ue(e,function(t,n){var i=[],o=[NaN,NaN],s=t.data,l=t.isStackedByIndex,u=s.map([t.stackResultDimension,t.stackedOverDimension],function(c,d,h){var m,y,T=s.get(t.stackedDimension,h);if(isNaN(T))return o;l?y=s.getRawIndex(h):m=s.get(t.stackedByDimension,h);for(var H=NaN,R=n-1;0<=R;R--){var $=e[R];if(l||(y=$.data.rawIndexOf($.stackedByDimension,m)),0<=y){var se=$.data.getByRawIndex($.stackResultDimension,y);if(0<=T&&0<se||T<=0&&se<0){T+=se,H=se;break}}}return i[0]=T,i[1]=H,i});s.hostModel.setData(u),t.data=u})}function o1(e,t){Ia.isInstance(e)||(e=Ia.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===Ud&&(this._offset=0,this._dimSize=t,this._data=n),he(this,zD[i===qu?i+"_"+e.seriesLayoutBy:i])}var Hp=o1.prototype;Hp.pure=!1;var zD={arrayRows_column:{pure:Hp.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Vp},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var o=n[i];t.push(o?o[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:a1,getItem:s1,appendData:Vp},keyedColumns:{pure:!0,count:function(){var t=this._data[this._source.dimensionsDefine[0].name];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var o=this._data[n[i].name];t.push(o?o[e]:null)}return t},appendData:function(e){var t=this._data;ue(e,function(n,i){for(var o=t[i]||(t[i]=[]),a=0;a<(n||[]).length;a++)o.push(n[a])})}},original:{count:a1,getItem:s1,appendData:Vp},typedArray:{persistent:!(Hp.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){t=t||[];for(var n=this._dimSize*(e-=this._offset),i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function a1(){return this._data.length}function s1(e){return this._data[e]}function Vp(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var FD={arrayRows:Wp,objectRows:function(e,t,n,i){return null!=n?e[i]:e},keyedColumns:Wp,original:function(e,t,n,i){var o=ku(e);return null!=n&&o instanceof Array?o[n]:o},typedArray:Wp};function Wp(e,t,n,i){return null!=n?e[n]:e}var l1={arrayRows:u1,objectRows:function(e,t,n,i){return jp(e[t],this._dimensionInfos[t])},keyedColumns:u1,original:function(e,t,n,i){var o=e&&(null==e.value?e:e.value);return!this._rawData.pure&&function(a){return Bl(a)&&!(a instanceof Array)}(e)&&(this.hasItemOption=!0),jp(o instanceof Array?o[i]:o,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}};function u1(e,t,n,i){return jp(e[i],this._dimensionInfos[t])}function jp(e,t){var n=t&&t.type;if("ordinal"!==n)return"time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+Uu(e)),null==e||""===e?NaN:+e;var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}function ll(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var o,a,s=e.getProvider().getSource().sourceFormat,l=e.getDimensionInfo(n);return l&&(o=l.name,a=l.index),FD[s](i,t,a,o)}}}function c1(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===al||i===Yu){var o=e.getRawDataItem(t);return i!==al||Pt(o)||(o=null),o?o[n]:void 0}}}var HD=/\{@(.+?)\}/g,Up={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),o=n.getRawIndex(e),a=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"color"),u=n.getItemVisual(e,"borderColor"),c=this.ecModel.getComponent("tooltip"),d=P0(c&&c.get("renderMode")),h=this.mainType,m="series"===h,y=n.userOutput;return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:a,dataIndex:o,data:s,dataType:t,value:i,color:l,borderColor:u,dimensionNames:y?y.dimensionNames:null,encode:y?y.encode:null,marker:Fd({color:l,renderMode:d}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,i,o){t=t||"normal";var a=this.getData(n),s=a.getItemModel(e),l=this.getDataParams(e,n);null!=i&&l.value instanceof Array&&(l.value=l.value[i]);var u=s.get("normal"===t?[o||"label","formatter"]:[t,o||"label","formatter"]);return"function"==typeof u?(l.status=t,l.dimensionIndex=i,u(l)):"string"==typeof u?Tp(u,l).replace(HD,function(c,d){var h=d.length;return"["===d.charAt(0)&&"]"===d.charAt(h-1)&&(d=+d.slice(1,h-1)),ll(a,e,d)}):void 0},getRawValue:function(e,t){return ll(this.getData(t),e)},formatTooltip:function(){}};function Ju(e){return new d1(e)}function d1(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}var Ts=d1.prototype;Ts.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));var a,s=d(this._modBy),l=this._modDataCount||0,u=d(e&&e.modBy),c=e&&e.modDataCount||0;function d($){return 1<=$||($=1),$}s===u&&l===c||(t="reset"),!this._dirty&&"reset"!==t||(this._dirty=!1,a=function($,se){var oe,Se;$._dueIndex=$._outputDueEnd=$._dueEnd=0,$._settedOutputEnd=null,!se&&$._reset&&((oe=$._reset($.context))&&oe.progress&&(Se=oe.forceFirstProgress,oe=oe.progress),bt(oe)&&!oe.length&&(oe=null)),$._progress=oe,$._modBy=$._modDataCount=null;var we=$._downstream;return we&&we.dirty(),Se}(this,i)),this._modBy=u,this._modDataCount=c;var h=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var m=this._dueIndex,y=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(a||m<y)){var T=this._progress;if(bt(T))for(var H=0;H<T.length;H++)p1(this,T[H],m,y,u,c);else p1(this,T,m,y,u,c)}this._dueIndex=y,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Gp,Ds,Yd,Xd,qp,h1,f1=h1={reset:function(e,t,n,i){Ds=e,Gp=t,Yd=n,Xd=i,qp=Math.ceil(Xd/Yd),h1.next=1<Yd&&0<Xd?WD:VD}};function VD(){return Ds<Gp?Ds++:null}function WD(){var e=Ds%qp*Yd+Math.ceil(Ds/qp),t=Gp<=Ds?null:e<Xd?e:Ds;return Ds++,t}function p1(e,t,n,i,o,a){f1.reset(n,i,o,a),e._callingProgress=t,e._callingProgress({start:n,end:i,count:i-n,next:f1.next},e.context)}Ts.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Ts.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Ts.pipe=function(e){this._downstream===e&&!this._dirty||((this._downstream=e)._upstream=this,e.dirty())},Ts.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Ts.getUpstream=function(){return this._upstream},Ts.getDownstream=function(){return this._downstream},Ts.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var Qu=Zo(),Or=tr.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Ju({count:jD,reset:UD}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),Yy(this);var o=this.getInitialData(e,n);m1(o,this),this.dataTask.context.data=o,Qu(this).dataBeforeProcessed=o,g1(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?ql(e):{},o=this.subType;tr.hasClass(o)&&(o+="Series"),de(e,t.getTheme().get(this.subType)),de(e,this.getDefaultOption()),Xs(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Cs(e,i,n)},mergeOption:function(e,t){e=de(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Cs(this.option,e,n),Yy(this);var i=this.getInitialData(e,t);m1(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Qu(this).dataBeforeProcessed=i,g1(this)},fillDataTextStyle:function(e){if(e&&!vn(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&Xs(e[n],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=Yp(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return Qu(this).data},setData:function(e){var t=Yp(this);if(t){var n=t.context;n.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}Qu(this).data=e},getSource:function(){return function(e){return Yl(e).source}(this)},getRawData:function(){return Qu(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n,i){var o=this,a="html"===(i=i||"html")?"<br/>":"\n",s="richText"===i,l={},u=0,d=this.getData(),h=d.mapDimension("defaultedTooltip",!0),m=h.length,y=this.getRawValue(e),T=bt(y),H=d.getItemVisual(e,"color");Pt(H)&&H.colorStops&&(H=(H.colorStops[0]||{}).color),H=H||"transparent";var R=(1<m||T&&!m?function(Te){var Me=je(Te,function(mt,vt,wt){var Et=d.getDimensionInfo(wt);return mt|(Et&&!1!==Et.tooltip&&null!=Et.displayName)},0),Pe=[];function Ke(mt,vt){var wt=d.getDimensionInfo(vt);if(wt&&!1!==wt.otherDims.tooltip){var Et=wt.type,Rt="sub"+o.seriesIndex+"at"+u,It=Fd({color:H,type:"subItem",renderMode:i,markerId:Rt}),bn=(Me?("string"==typeof It?It:It.content)+Ir(wt.displayName||"-")+": ":"")+Ir("ordinal"===Et?mt+"":"time"===Et?t?"":Dp("yyyy/MM/dd hh:mm:ss",mt):Ss(mt));bn&&Pe.push(bn),s&&(l[Rt]=H,++u)}}h.length?ue(h,function(mt){Ke(ll(d,e,mt),mt)}):ue(Te,Ke);var it=Me?s?"\n":"<br/>":"",lt=it+Pe.join(it||", ");return{renderMode:i,content:lt,style:l}}(y):function c(Te){return{renderMode:i,content:Ir(Ss(Te)),style:l}}(m?ll(d,e,h[0]):T?y[0]:y)).content,$=o.seriesIndex+"at"+u,se=Fd({color:H,type:"item",renderMode:i,markerId:$});l[$]=H,++u;var oe=d.getName(e),Se=this.name;Kf(this)||(Se=""),Se=Se?Ir(Se)+(t?": ":a):"";var we="string"==typeof se?se:se.content;return{html:t?we+Se+R:Se+we+(oe?Ir(oe)+": "+R:R),markers:l}},isAnimationEnabled:function(){if(ve.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel;return kp.getColorFromPalette.call(this,e,t,n)||i.getColorFromPalette(e,t,n)},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function g1(e){var t=e.name;Kf(e)||(e.name=function(n){var i=n.getRawData(),o=i.mapDimension("seriesName",!0),a=[];return ue(o,function(s){var l=i.getDimensionInfo(s);l.displayName&&a.push(l.displayName)}),a.join(" ")}(e)||t)}function jD(e){return e.model.getRawData().count()}function UD(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),GD}function GD(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function m1(e,t){ue(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,Nt(qD,t))})}function qD(e){var t=Yp(e);t&&t.setOutputEnd(this.count())}function Yp(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(e.uid))}return i}}ke(Or,Up),ke(Or,kp);var ja=function(){this.group=new E,this.uid=Wu("viewComponent")};ja.prototype={constructor:ja,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){},filterForExposedEvent:null};var Xp=ja.prototype;function Xl(){var e=Zo();return function(t){var n=e(t),i=t.pipelineContext,o=n.large,a=n.progressiveRender,s=n.large=i&&i.large,l=n.progressiveRender=i&&i.progressiveRender;return!!(o^s||a^l)&&"reset"}}Xp.updateView=Xp.updateLayout=Xp.updateVisual=function(e,t,n,i){},Eu(ja),pd(ja,{registerWhenExtend:!0});var v1=Zo(),YD=Xl();function wo(){this.group=new E,this.uid=Wu("viewChart"),this.renderTask=Ju({plan:XD,reset:ZD}),this.renderTask.context={view:this}}var Zp=wo.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){y1(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){y1(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function Kp(e,t,n){if(e&&(e.trigger(t,n),e.isGroup&&!Ld(e)))for(var i=0,o=e.childCount();i<o;i++)Kp(e.childAt(i),t,n)}function y1(e,t,n){var i=dd(e,t),o=t&&null!=t.highlightKey?Sy(t.highlightKey):null;null!=i?ue(Ao(i),function(a){Kp(e.getItemGraphicEl(a),n,o)}):e.eachItemGraphicEl(function(a){Kp(a,n,o)})}function XD(e){return YD(e.model)}function ZD(e){var t=e.model,n=e.ecModel,i=e.api,o=e.payload,a=t.pipelineContext.progressiveRender,s=e.view,l=o&&v1(o).updateMethod,u=a?"incrementalPrepareRender":l&&s[l]?l:"render";return"render"!==u&&s[u](t,n,i,o),KD[u]}Zp.updateView=Zp.updateLayout=Zp.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},Eu(wo),pd(wo,{registerWhenExtend:!0}),wo.markUpdateMethod=function(e,t){v1(e).updateMethod=t};var KD={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Zd="\0__throttleOriginMethod",b1="\0__throttleRate",x1="\0__throttleType";function Kd(e,t,n){var i,o,a,s,l,u=0,c=0,d=null;function h(){c=(new Date).getTime(),d=null,e.apply(a,s||[])}function m(){i=(new Date).getTime(),a=this,s=arguments;var y=l||t,T=l||n;l=null,o=i-(T?u:c)-y,clearTimeout(d),T?d=setTimeout(h,y):0<=o?h():d=setTimeout(h,-o),u=i}return t=t||0,m.clear=function(){d&&(clearTimeout(d),d=null)},m.debounceNextCall=function(y){l=y},m}function $u(e,t,n,i){var o=e[t];if(o){var a=o[Zd]||o;if(o[b1]!==n||o[x1]!==i){if(null==n||!i)return e[t]=a;(o=e[t]=Kd(a,n,"debounce"===i))[Zd]=a,o[x1]=i,o[b1]=n}return o}}function _1(e,t){var n=e[t];n&&n[Zd]&&(e[t]=n[Zd])}var JD={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),o=e.get(i),a=!on(o)||o instanceof Ha?null:o;o&&!a||(o=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual("color",o);var s=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),l=e.get(s);if(n.setVisual("borderColor",l),!t.isSeriesFiltered(e))return a&&n.each(function(u){n.setItemVisual(u,"color",a(e.getDataParams(u)))}),{dataEach:n.hasItemOption?function(u,c){var d=u.getItemModel(c),h=d.get(i,!0),m=d.get(s,!0);null!=h&&u.setItemVisual(c,"color",h),null!=m&&u.setItemVisual(c,"borderColor",m)}:null}}},is={legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},QD=function(e,t){var m,n=t.getModel("aria");if(n.get("show"))if(n.get("description"))e.setAttribute("aria-label",n.get("description"));else{var i=0;t.eachSeries(function(m,y){++i},this);var o,a=n.get("data.maxCount")||10,s=n.get("series.maxCount")||10,l=Math.min(i,s);if(!(i<1)){var u=((m=t.getModel("title").option)&&m.length&&(m=m[0]),m&&m.text);o=u?d(h("general.withTitle"),{title:u}):h("general.withoutTitle");var c=[];o+=d(h(1<i?"series.multiple.prefix":"series.single.prefix"),{seriesCount:i}),t.eachSeries(function(m,y){if(y<l){var T,H=m.get("name"),R="series."+(1<i?"multiple":"single")+".";T=d(T=h(H?R+"withName":R+"withoutName"),{seriesId:m.seriesIndex,seriesName:m.get("name"),seriesType:(Te=m.subType,is.series.typeNames[Te]||"\u81ea\u5b9a\u4e49\u56fe")});var $=m.getData();(window.data=$).count()>a?T+=d(h("data.partialData"),{displayCnt:a}):T+=h("data.allData");for(var se=[],oe=0;oe<$.count();oe++)if(oe<a){var Se=$.getName(oe),we=ll($,oe);se.push(d(h(Se?"data.withName":"data.withoutName"),{name:Se,value:we}))}T+=se.join(h("data.separator.middle"))+h("data.separator.end"),c.push(T)}var Te}),o+=c.join(h("series.multiple.separator.middle"))+h("series.multiple.separator.end"),e.setAttribute("aria-label",o)}}function d(m,y){if("string"!=typeof m)return m;var T=m;return ue(y,function(H,R){T=T.replace(new RegExp("\\{\\s*"+R+"\\s*\\}","g"),H)}),T}function h(m){var y=n.get(m);if(null!=y)return y;for(var T=m.split("."),H=is.aria,R=0;R<T.length;++R)H=H[T[R]];return H}},Jd=Math.PI;function Qd(e,t,n,i){this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i),this._stageTaskMap=Jt()}var wa=Qd.prototype;function w1(e,t,n,i,o){var a;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}o=o||{},ue(t,function(l,u){if(!o.visualType||o.visualType===l.visualType){var c=e._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var m,y=h.agentStubMap;y.each(function(H){s(o,H)&&(H.dirty(),m=!0)}),m&&h.dirty(),S1(h,i);var T=e.getPerformArgs(h,o.block);y.each(function(H){H.perform(T)}),a|=h.perform(T)}else d&&d.each(function(H,R){s(o,H)&&H.dirty();var $=e.getPerformArgs(H,o.block);$.skip=!l.performRawSeries&&n.isSeriesFiltered(H.context.model),S1(H,i),a|=H.perform($)})}}),e.unfinished|=a}wa.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},wa.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,o=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,a=i&&i.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},wa.getPipeline=function(e){return this._pipelineMap.get(e)},wa.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,a=e.get("large")&&i>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:s,large:a}},wa.restorePipelines=function(e){var t=this,n=t._pipelineMap=Jt();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;n.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),$d(t,i,i.dataTask)})},wa.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;ue(this._allHandlers,function(i){var o=e.get(i.uid)||e.set(i.uid,[]);i.reset&&function(a,s,l,u,c){var d=l.seriesTaskMap||(l.seriesTaskMap=Jt()),h=s.seriesType,m=s.getTargetSeries;function y(H){var R=H.uid,$=d.get(R)||d.set(R,Ju({plan:iA,reset:rA,count:aA}));$.context={model:H,ecModel:u,api:c,useClearVisual:s.isVisual&&!s.isLayout,plan:s.plan,reset:s.reset,scheduler:a},$d(a,H,$)}s.createOnAllSeries?u.eachRawSeries(y):h?u.eachRawSeriesByType(h,y):m&&m(u,c).each(y);var T=a._pipelineMap;d.each(function(H,R){T.get(R)||(H.dispose(),d.removeKey(R))})}(this,i,o,t,n),i.overallReset&&function(a,s,l,u,c){var d=l.overallTask=l.overallTask||Ju({reset:$D});d.context={ecModel:u,api:c,overallReset:s.overallReset,scheduler:a};var h=d.agentStubMap=d.agentStubMap||Jt(),m=s.seriesType,y=s.getTargetSeries,T=!0,H=s.modifyOutputEnd;function R(se){var oe=se.uid,Se=h.get(oe);Se||(Se=h.set(oe,Ju({reset:eA,onDirty:nA})),d.dirty()),Se.context={model:se,overallProgress:T,modifyOutputEnd:H},Se.agent=d,Se.__block=T,$d(a,se,Se)}m?u.eachRawSeriesByType(m,R):y?y(u,c).each(R):(T=!1,ue(u.getSeries(),R));var $=a._pipelineMap;h.each(function(se,oe){$.get(oe)||(se.dispose(),d.dirty(),h.removeKey(oe))})}(this,i,o,t,n)},this)},wa.prepareView=function(e,t,n,i){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=n,a.api=i,o.__block=!e.incrementalPrepareRender,$d(this,t,o)},wa.performDataProcessorTasks=function(e,t){w1(this,this._dataProcessorHandlers,e,t,{block:!0})},wa.performVisualTasks=function(e,t,n){w1(this,this._visualHandlers,e,t,n)},wa.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t|=n.dataTask.perform()}),this.unfinished|=t},wa.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var S1=wa.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};function $D(e){e.overallReset(e.ecModel,e.api,e.payload)}function eA(e,t){return e.overallProgress&&tA}function tA(){this.agent.dirty(),this.getDownstream().dirty()}function nA(){this.agent&&this.agent.dirty()}function iA(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function rA(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Ao(e.reset(e.model,e.ecModel,e.api,e.payload));return 1<t.length?Re(t,function(n,i){return C1(i)}):oA}var oA=C1(0);function C1(e){return function(t,n){var i=n.data,o=n.resetDefines[e];if(o&&o.dataEach)for(var a=t.start;a<t.end;a++)o.dataEach(i,a);else o&&o.progress&&o.progress(t,i)}}function aA(e){return e.data.count()}function $d(e,t,n){var o=e._pipelineMap.get(t.uid);o.head||(o.head=n),o.tail&&o.tail.pipe(n),(o.tail=n).__idxInPipeline=o.count++,n.__pipeline=o}Qd.wrapStageHandler=function(e,t){return on(e)&&(e={overallReset:e,seriesType:function(n){eh=null;try{n(ec,T1)}catch{}return eh}(e)}),e.uid=Wu("stageHandler"),t&&(e.visualType=t),e};var eh,ec={},T1={};function D1(e,t){for(var n in t.prototype)e[n]=gn}function th(){return{axisLine:{lineStyle:{color:Io}},axisTick:{lineStyle:{color:Io}},axisLabel:{textStyle:{color:Io}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Io}}}}D1(ec,Pp),D1(T1,$y),ec.eachSeriesByType=ec.eachRawSeriesByType=function(e){eh=e},ec.eachComponent=function(e){"series"===e.mainType&&e.subType&&(eh=e.subType)};var A1=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],sA={color:A1,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],A1]},Io="#eee",Jp=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],M1={color:Jp,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:Io},crossStyle:{color:Io},label:{color:"#000"}}},legend:{textStyle:{color:Io}},textStyle:{color:Io},title:{textStyle:{color:Io}},toolbox:{iconStyle:{normal:{borderColor:Io}}},dataZoom:{textStyle:{color:Io}},visualMap:{textStyle:{color:Io}},timeline:{lineStyle:{color:Io},itemStyle:{normal:{color:Jp[1]}},label:{normal:{textStyle:{color:Io}}},controlStyle:{normal:{color:Io,borderColor:Io}}},timeAxis:th(),logAxis:th(),valueAxis:th(),categoryAxis:th(),line:{symbol:"circle"},graph:{color:Jp},gauge:{title:{textStyle:{color:Io}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};M1.categoryAxis.splitLine.show=!1,tr.extend({type:"dataset",defaultOption:{seriesLayoutBy:qy,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(e){var t=e.option.source,n=Gy;if(vn(t))n=Ud;else if(bt(t)){0===t.length&&(n=qu);for(var i=0,o=t.length;i<o;i++){var a=t[i];if(null!=a){if(bt(a)){n=qu;break}if(Pt(a)){n=Yu;break}}}}else if(Pt(t)){for(var s in t)if(t.hasOwnProperty(s)&&Ve(t[s])){n=Xu;break}}else if(null!=t)throw new Error("Invalid data");Yl(e).sourceFormat=n}(this)}}),ja.extend({type:"dataset"});var lA=Gi.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.rx,a=t.ry,s=.5522848*o,l=.5522848*a;e.moveTo(n-o,i),e.bezierCurveTo(n-o,i-l,n-s,i-a,n,i-a),e.bezierCurveTo(n+s,i-a,n+o,i-l,n+o,i),e.bezierCurveTo(n+o,i+l,n+s,i+a,n,i+a),e.bezierCurveTo(n-s,i+a,n-o,i+l,n-o,i),e.closePath()}}),As=/[\s,]+/;function I1(e){for(Tt(e)&&(e=(new DOMParser).parseFromString(e,"text/xml")),9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}function nh(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}nh.prototype.parse=function(e,t){t=t||{};var n=I1(e);if(!n)throw new Error("Illegal svg");var i=new E;this._root=i;var o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||t.width),s=parseFloat(n.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),la(n,i,null,!0);for(var l,u,c=n.firstChild;c;)this._parseNode(c,i),c=c.nextSibling;if(o){var d=ni(o).split(As);4<=d.length&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=a&&null!=s&&(u=L1(l,a,s),!t.ignoreViewBox)){var h=i;(i=new E).add(h),h.scale=u.scale.slice(),h.position=u.position.slice()}return t.ignoreRootClip||null==a||null==s||i.setClipPath(new er({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:u}},nh.prototype._parseNode=function(e,t){var n,i,o=e.nodeName.toLowerCase();if("defs"===o?this._isDefine=!0:"text"===o&&(this._isText=!0),this._isDefine){if(i=cA[o]){var a=i.call(this,e),s=e.getAttribute("id");s&&(this._defs[s]=a)}}else(i=uA[o])&&(n=i.call(this,e,t),t.add(n));for(var l=e.firstChild;l;)1===l.nodeType&&this._parseNode(l,n),3===l.nodeType&&this._isText&&this._parseText(l,n),l=l.nextSibling;"defs"===o?this._isDefine=!1:"text"===o&&(this._isText=!1)},nh.prototype._parseText=function(e,t){if(1===e.nodeType){var n=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var o=new Hi({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Sa(t,o),la(e,o,this._defs);var a=o.style.fontSize;a&&a<9&&(o.style.fontSize=9,o.scale=o.scale||[1,1],o.scale[0]*=a/9,o.scale[1]*=a/9);var s=o.getBoundingRect();return this._textX+=s.width,t.add(o),o};var uA={g:function(e,t){var n=new E;return Sa(t,n),la(e,n,this._defs),n},rect:function(e,t){var n=new er;return Sa(t,n),la(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),n},circle:function(e,t){var n=new Fa;return Sa(t,n),la(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),n},line:function(e,t){var n=new Mo;return Sa(t,n),la(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),n},ellipse:function(e,t){var n=new lA;return Sa(t,n),la(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),n},polygon:function(e,t){var n=e.getAttribute("points");n=n&&k1(n);var i=new $o({shape:{points:n||[]}});return Sa(t,i),la(e,i,this._defs),i},polyline:function(e,t){var n=new Gi;Sa(t,n),la(e,n,this._defs);var i=e.getAttribute("points");return i=i&&k1(i),new ya({shape:{points:i||[]}})},image:function(e,t){var n=new ji;return Sa(t,n),la(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||0,i=e.getAttribute("y")||0,o=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(a);var s=new E;return Sa(t,s),la(e,s,this._defs),s},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var o=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0,s=new E;return Sa(t,s),la(e,s,this._defs),this._textX+=o,this._textY+=a,s},path:function(e,t){var n=iy(e.getAttribute("d")||"");return Sa(t,n),la(e,n,this._defs),n}},cA={lineargradient:function(e){var a=new $s(parseInt(e.getAttribute("x1")||0,10),parseInt(e.getAttribute("y1")||0,10),parseInt(e.getAttribute("x2")||10,10),parseInt(e.getAttribute("y2")||0,10));return function(s,l){for(var u=s.firstChild;u;){if(1===u.nodeType){var c=u.getAttribute("offset");c=0<c.indexOf("%")?parseInt(c,10)/100:c?parseFloat(c):0;var d=u.getAttribute("stop-color")||"#000000";l.addColorStop(c,d)}u=u.nextSibling}}(e,a),a},radialgradient:function(e){}};function Sa(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),De(t.__inheritedStyle,e.__inheritedStyle))}function k1(e){for(var t=ni(e).split(As),n=[],i=0;i<t.length;i+=2){var o=parseFloat(t[i]),a=parseFloat(t[i+1]);n.push([o,a])}return n}var Zl={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function la(e,t,n,i){var o=t.__inheritedStyle||{},a="text"===t.type;if(1===e.nodeType&&(function(h,m){var y=h.getAttribute("transform");if(y){y=y.replace(/,/g," ");var T=null,H=[];y.replace(hA,function(oe,Se,we){H.push(Se,we)});for(var R=H.length-1;0<R;R-=2){var $=H[R],se=H[R-1];switch(T=T||Dr(),se){case"translate":$=ni($).split(As),Ji(T,T,[parseFloat($[0]),parseFloat($[1]||0)]);break;case"scale":$=ni($).split(As),Co(T,T,[parseFloat($[0]),parseFloat($[1]||$[0])]);break;case"rotate":$=ni($).split(As),xr(T,T,parseFloat($[0]));break;case"skew":$=ni($).split(As),console.warn("Skew transform is not supported yet");break;case"matrix":$=ni($).split(As),T[0]=parseFloat($[0]),T[1]=parseFloat($[1]),T[2]=parseFloat($[2]),T[3]=parseFloat($[3]),T[4]=parseFloat($[4]),T[5]=parseFloat($[5])}}m.setLocalTransform(T)}}(e,t),he(o,function(h){var m=h.getAttribute("style"),y={};if(!m)return y;var T,H={};for(N1.lastIndex=0;null!=(T=N1.exec(m));)H[T[1]]=T[2];for(var R in Zl)Zl.hasOwnProperty(R)&&null!=H[R]&&(y[Zl[R]]=H[R]);return y}(e)),!i))for(var s in Zl)if(Zl.hasOwnProperty(s)){var l=e.getAttribute(s);null!=l&&(o[Zl[s]]=l)}var u=a?"textFill":"fill",c=a?"textStroke":"stroke";t.style=t.style||new ct;var d=t.style;null!=o.fill&&d.set(u,E1(o.fill,n)),null!=o.stroke&&d.set(c,E1(o.stroke,n)),ue(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){null!=o[h]&&d.set("lineWidth"===h&&a?"textStrokeWidth":h,parseFloat(o[h]))}),o.textBaseline&&"auto"!==o.textBaseline||(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),ue(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(h){null!=o[h]&&d.set(h,o[h])}),o.lineDash&&(t.style.lineDash=ni(o.lineDash).split(As)),d[c]&&"none"!==d[c]&&(t[c]=!0),t.__inheritedStyle=o}var dA=/url\(\s*#(.*?)\)/;function E1(e,t){var n=t&&e&&e.match(dA);return n?t[ni(n[1])]:e}var hA=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,N1=/([^\s:;]+)\s*:\s*([^:;]+)/g;function L1(e,t,n){var a=Math.min(t/e.width,n/e.height);return{scale:[a,a],position:[-(e.x+e.width/2)*a+t/2,-(e.y+e.height/2)*a+n/2]}}var R1=Jt(),ih={registerMap:function(e,t,n){var i;return ue(i=bt(t)?t:t.svg?[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),[{type:"geoJSON",source:t,specialAreas:n}]),function(o){var a=o.type;"geoJson"===a&&(a=o.type="geoJSON"),(0,fA[a])(o)}),R1.set(e,i)},retrieveMap:function(e){return R1.get(e)}},fA={geoJSON:function(e){var t=e.source;e.geoJSON=Tt(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=I1(e.source)}},pA=yi,fo=ue,gA=on,tc=Pt,Qp=tr.parseClassType,Ua={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},Ga="__flagInMainProcess",Ms="__optionUpdated",P1=/^[a-zA-Z0-9_]+$/;function Kl(e,t){return function(n,i,o){!t&&this._disposed||(n=n&&n.toLowerCase(),Wi.prototype[e].call(this,n,i,o))}}function nc(){Wi.call(this)}function ic(e,t,n){n=n||{},"string"==typeof t&&(t=G1[t]),this._dom=e;var i=this._zr=qf(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=Kd(dt(i.flush,i),17),(t=K(t))&&r1(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Oo;var s,l,o=this._api=(l=(s=this)._coordSysMgr,he(new $y(s),{getCoordinateSystems:dt(l.getCoordinateSystems,l),getComponentByElement:function(u){for(;u;){var c=u.__ecComponentInfo;if(null!=c)return s._model.getComponent(c.mainType,c.index);u=u.parent}}}));function a(s,l){return s.__prio-l.__prio}qe(lh,a),qe(ig,a),this._scheduler=new Qd(this,o,ig,lh),Wi.call(this,this._ecEventProcessor=new ng),this._messageCenter=new nc,this._initEvents(),this.resize=dt(this.resize,this),this._pendingActions=[],i.animation.on("frame",this._onframe,this),function(s,l){s.on("rendered",function(){l.trigger("rendered"),!s.animation.isFinished()||l[Ms]||l._scheduler.unfinished||l._pendingActions.length||l.trigger("finished")})}(i,this),xi(this)}nc.prototype.on=Kl("on",!0),nc.prototype.off=Kl("off",!0),nc.prototype.one=Kl("one",!0),ke(nc,Wi);var ur=ic.prototype;function O1(e,t,n){if(!this._disposed){var i,o=this._model,a=this._coordSysMgr.getCoordinateSystems();t=hd(o,t);for(var s=0;s<a.length;s++){var l=a[s];if(l[e]&&null!=(i=l[e](o,t,n)))return i}}}ur._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[Ms]){var t=this[Ms].silent;this[Ga]=!0,rc(this),Is.update.call(this),this[Ga]=!1,this[Ms]=!1,rh.call(this,t),oh.call(this,t)}else if(e.unfinished){var n=1,i=this._model;e.unfinished=!1;do{var a=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),z1(this,i),e.performVisualTasks(i),eg(this,this._model,0,"remain"),n-=+new Date-a}while(0<n&&e.unfinished);e.unfinished||this._zr.flush()}}},ur.getDom=function(){return this._dom},ur.getZr=function(){return this._zr},ur.setOption=function(e,t,n){if(!this._disposed){var i;if(tc(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[Ga]=!0,!this._model||t){var o=new zp(this._api),a=this._theme,s=this._model=new Pp;s.scheduler=this._scheduler,s.init(null,null,a,o)}this._model.setOption(e,j1),n?(this[Ms]={silent:i},this[Ga]=!1):(rc(this),Is.update.call(this),this._zr.flush(),this[Ms]=!1,this[Ga]=!1,rh.call(this,i),oh.call(this,i))}},ur.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},ur.getModel=function(){return this._model},ur.getOption=function(){return this._model&&this._model.getOption()},ur.getWidth=function(){return this._zr.getWidth()},ur.getHeight=function(){return this._zr.getHeight()},ur.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},ur.getRenderedCanvas=function(e){if(ve.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},ur.getSvgDataURL=function(){if(ve.svgSupported){var e=this._zr;return ue(e.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),e.painter.toDataURL()}},ur.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,i=[],o=this;fo(t,function(s){n.eachComponent({mainType:s},function(l){var u=o._componentsMap[l.__viewId];u.group.ignore||(i.push(u),u.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return fo(i,function(s){s.group.ignore=!1}),a}},ur.getConnectedDataURL=function(e){if(!this._disposed&&ve.canvasSupported){var t="svg"===e.type,n=this.group,i=Math.min,o=Math.max;if(uh[n]){var a=1/0,s=1/0,l=-1/0,u=-1/0,c=[],d=e&&e.pixelRatio||1;ue(ul,function(R,$){if(R.group===n){var se=t?R.getZr().painter.getSvgDom().innerHTML:R.getRenderedCanvas(K(e)),oe=R.getDom().getBoundingClientRect();a=i(oe.left,a),s=i(oe.top,s),l=o(oe.right,l),u=o(oe.bottom,u),c.push({dom:se,left:oe.left,top:oe.top})}});var h=(l*=d)-(a*=d),m=(u*=d)-(s*=d),y=Ne(),T=qf(y,{renderer:t?"svg":"canvas"});if(T.resize({width:h,height:m}),t){var H="";return fo(c,function(R){H+='<g transform="translate('+(R.left-a)+","+(R.top-s)+')">'+R.dom+"</g>"}),T.painter.getSvgRoot().innerHTML=H,e.connectedBackgroundColor&&T.painter.setBackgroundColor(e.connectedBackgroundColor),T.refreshImmediately(),T.painter.toDataURL()}return e.connectedBackgroundColor&&T.add(new er({shape:{x:0,y:0,width:h,height:m},style:{fill:e.connectedBackgroundColor}})),fo(c,function(R){var $=new ji({style:{x:R.left*d-a,y:R.top*d-s,image:R.dom}});T.add($)}),T.refreshImmediately(),y.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},ur.convertToPixel=Nt(O1,"convertToPixel"),ur.convertFromPixel=Nt(O1,"convertFromPixel"),ur.containPixel=function(e,t){var n;if(!this._disposed)return ue(e=hd(this._model,e),function(i,o){0<=o.indexOf("Models")&&ue(i,function(a){var s=a.coordinateSystem;if(s&&s.containPoint)n|=!!s.containPoint(t);else if("seriesModels"===o){var l=this._chartsMap[a.__viewId];l&&l.containPoint&&(n|=l.containPoint(t,a))}},this)},this),!!n},ur.getVisual=function(e,t){var n=(e=hd(this._model,e,{defaultMainType:"series"})).seriesModel.getData(),i=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=i?n.getItemVisual(i,t):n.getVisual(t)},ur.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},ur.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Is={prepareAndUpdate:function(e){rc(this),Is.update.call(this,e)},update:function(e){var t=this._model,n=this._api,i=this._zr,o=this._coordSysMgr,a=this._scheduler;if(t){a.restoreData(t,e),a.performSeriesTasks(t),o.create(t,n),a.performDataProcessorTasks(t,e),z1(this,t),o.update(t,n),$p(t),a.performVisualTasks(t,e),V1(this,t,n,e);var s=t.get("backgroundColor")||"transparent";if(ve.canvasSupported)i.setBackgroundColor(s);else{var l=mr(s);s=_e(l,"rgb"),0===l[3]&&(s="transparent")}tg(t,n)}},updateTransform:function(e){var t=this._model,n=this,i=this._api;if(t){var o=[];t.eachComponent(function(s,l){var u=n.getViewOfComponentModel(l);if(u&&u.__alive)if(u.updateTransform){var c=u.updateTransform(l,t,i,e);c&&c.update&&o.push(u)}else o.push(u)});var a=Jt();t.eachSeries(function(s){var l=n._chartsMap[s.__viewId];if(l.updateTransform){var u=l.updateTransform(s,t,i,e);u&&u.update&&a.set(s.uid,1)}else a.set(s.uid,1)}),$p(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:a}),eg(n,t,0,e,a),tg(t,this._api)}},updateView:function(e){var t=this._model;t&&(wo.markUpdateMethod(e,"updateView"),$p(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),V1(this,this._model,this._api,e),tg(t,this._api))},updateVisual:function(e){Is.update.call(this,e)},updateLayout:function(e){Is.update.call(this,e)}};function rc(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(),H1(e,"component",t,n),H1(e,"chart",t,n),n.plan()}function B1(e,t,n,i,o){var a=e._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};o&&(l.subType=o);var u=n.excludeSeriesId;null!=u&&(u=Jt(Ao(u))),a&&a.eachComponent(l,function(d){u&&null!=u.get(d.id)||c(e["series"===i?"_chartsMap":"_componentsMap"][d.__viewId])},e)}else fo(e._componentsViews.concat(e._chartsViews),c);function c(d){d&&d.__alive&&d[t]&&d[t](d.__model,a,e._api,n)}}function z1(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(o){i.updateStreamModes(o,n[o.__viewId])})}function F1(e,t){var n=e.type,i=e.escapeConnect,o=ah[n],a=o.actionInfo,s=(a.update||"update").split(":"),l=s.pop();s=null!=s[0]&&Qp(s[0]),this[Ga]=!0;var u=[e],c=!1;e.batch&&(c=!0,u=Re(e.batch,function(y){return(y=De(he({},y),e)).batch=null,y}));var d,h=[],m="highlight"===n||"downplay"===n;fo(u,function(y){(d=(d=o.action(y,this._model,this._api))||he({},y)).type=a.event||d.type,h.push(d),m?B1(this,l,y,"series"):s&&B1(this,l,y,s.main,s.sub)},this),"none"===l||m||s||(this[Ms]?(rc(this),Is.update.call(this,e),this[Ms]=!1):Is[l].call(this,e)),d=c?{type:a.event||n,escapeConnect:i,batch:h}:h[0],this[Ga]=!1,t||this._messageCenter.trigger(d.type,d)}function rh(e){for(var t=this._pendingActions;t.length;){var n=t.shift();F1.call(this,n,e)}}function oh(e){e||this.trigger("updated")}function H1(e,t,n,i){for(var o="component"===t,a=o?e._componentsViews:e._chartsViews,s=o?e._componentsMap:e._chartsMap,l=e._zr,u=e._api,c=0;c<a.length;c++)a[c].__alive=!1;function d(m){var y="_ec_"+m.id+"_"+m.type,T=s[y];if(!T){var H=Qp(m.type);(T=new(o?ja.getClass(H.main,H.sub):wo.getClass(H.sub))).init(n,u),s[y]=T,a.push(T),l.add(T.group)}m.__viewId=T.__id=y,T.__alive=!0,T.__model=m,T.group.__ecComponentInfo={mainType:m.mainType,index:m.componentIndex},o||i.prepareView(T,m,n,u)}for(o?n.eachComponent(function(m,y){"series"!==m&&d(y)}):n.eachSeries(d),c=0;c<a.length;){var h=a[c];h.__alive?c++:(o||h.renderTask.dispose(),l.remove(h.group),h.dispose(n,u),a.splice(c,1),delete s[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function $p(e){e.clearColorPalette(),e.eachSeries(function(t){t.clearColorPalette()})}function V1(e,t,n,i){(function(o,a,s,l,u){fo(o._componentsViews,function(c){var d=c.__model;c.render(d,a,s,l),W1(d,c)})})(e,t,n,i),fo(e._chartsViews,function(o){o.__alive=!1}),eg(e,t,0,i),fo(e._chartsViews,function(o){o.__alive||o.remove(t,n)})}function eg(e,t,n,i,o){var a,l,u,d,s=e._scheduler;t.eachSeries(function(l){var u=e._chartsMap[l.__viewId];u.__alive=!0;var h,m,c=u.renderTask;s.updatePayload(c,i),o&&o.get(l.uid)&&c.dirty(),a|=c.perform(s.getPerformArgs(c)),u.group.silent=!!l.get("silent"),W1(l,u),h=u,m=l.get("blendMode")||null,h.group.traverse(function(y){y.isGroup||y.style.blend!==m&&y.setStyle("blend",m),y.eachPendingDisplayable&&y.eachPendingDisplayable(function(T){T.setStyle("blend",m)})})}),s.unfinished|=a,u=t,d=0,(l=e)._zr.storage.traverse(function(h){d++}),d>u.get("hoverLayerThreshold")&&!ve.node&&u.eachSeries(function(h){if(!h.preventUsingHoverLayer){var m=l._chartsMap[h.__viewId];m.__alive&&m.group.traverse(function(y){y.useHoverLayer=!0})}}),QD(e._zr.dom,t)}function tg(e,t){fo(U1,function(n){n(e,t)})}ur.resize=function(e){if(!this._disposed){this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;this[Ga]=!0,n&&rc(this),Is.update.call(this),this[Ga]=!1,rh.call(this,i),oh.call(this,i)}}},ur.showLoading=function(e,t){if(!this._disposed&&(tc(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),rg[e])){var n=rg[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},ur.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},ur.makeActionFromEvent=function(e){var t=he({},e);return t.type=sh[e.type],t},ur.dispatchAction=function(e,t){this._disposed||(tc(t)||(t={silent:!!t}),ah[e.type]&&this._model&&(this[Ga]?this._pendingActions.push(e):(F1.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&ve.browser.weChat&&this._throttledZrFlush(),rh.call(this,t.silent),oh.call(this,t.silent))))},ur.appendData=function(e){if(!this._disposed){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0}},ur.on=Kl("on",!1),ur.off=Kl("off",!1),ur.one=Kl("one",!1);var mA=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function W1(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse(function(o){"group"!==o.type&&(null!=n&&(o.z=n),null!=i&&(o.zlevel=i))})}function ng(){}ur._initEvents=function(){fo(mA,function(e){function t(n){var i,o=this.getModel(),a=n.target;if("globalout"===e)i={};else if(a&&null!=a.dataIndex){var s=a.dataModel||o.getSeriesByIndex(a.seriesIndex);i=s&&s.getDataParams(a.dataIndex,a.dataType,a)||{}}else a&&a.eventData&&(i=he({},a.eventData));if(i){var l=i.componentType,u=i.componentIndex;"markLine"!==l&&"markPoint"!==l&&"markArea"!==l||(l="series",u=i.seriesIndex);var c=l&&null!=u&&o.getComponent(l,u),d=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];i.event=n,i.type=e,this._ecEventProcessor.eventInfo={targetEl:a,packedEvent:i,model:c,view:d},this.trigger(e,i)}}t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)},this),fo(sh,function(e,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)},ur.isDisposed=function(){return this._disposed},ur.clear=function(){this._disposed||this.setOption({series:[]},!0)},ur.dispose=function(){if(!this._disposed){this._disposed=!0,R0(this.getDom(),og,"");var e=this._api,t=this._model;fo(this._componentsViews,function(n){n.dispose(t,e)}),fo(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete ul[this.id]}},ke(ic,Wi),ng.prototype={constructor:ng,normalizeQuery:function(e){var t={},n={},i={};if(Tt(e)){var o=Qp(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};ue(e,function(l,u){for(var c=!1,d=0;d<a.length;d++){var h=a[d],m=u.lastIndexOf(h);if(0<m&&m===u.length-h.length){var y=u.slice(0,m);"data"!==y&&(t.mainType=y,t[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},filter:function(e,t,n){var i=this.eventInfo;if(!i)return!0;var o=i.targetEl,a=i.packedEvent,s=i.model,l=i.view;if(!s||!l)return!0;var u=t.cptQuery,c=t.dataQuery;return d(u,s,"mainType")&&d(u,s,"subType")&&d(u,s,"index","componentIndex")&&d(u,s,"name")&&d(u,s,"id")&&d(c,a,"name")&&d(c,a,"dataIndex")&&d(c,a,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(e,t.otherQuery,o,a));function d(h,m,y,T){return null==h[y]||m[T||y]===h[y]}},afterTrigger:function(){this.eventInfo=null}};var ah={},sh={},ig=[],j1=[],U1=[],lh=[],G1={},rg={},ul={},uh={},vA=new Date-0,yA=new Date-0,og="_echarts_instance_";function q1(e){uh[e]=!1}var bA=q1;function ag(e){return ul[function(t,n){return t.getAttribute?t.getAttribute(n):t[n]}(e,og)]}function sg(e,t){G1[e]=t}function ko(e){j1.push(e)}function ua(e,t){ug(ig,e,t,1e3)}function Yi(e,t,n){"function"==typeof t&&(n=t,t="");var i=tc(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,pA(P1.test(i)&&P1.test(t)),ah[i]||(ah[i]={action:n,actionInfo:e}),sh[t]=i}function lg(e,t){Oo.register(e,t)}function Br(e,t){ug(lh,e,t,1e3,"layout")}function _r(e,t){ug(lh,e,t,3e3,"visual")}function ug(e,t,n,i,o){(gA(t)||tc(t))&&(n=t,t=i);var a=Qd.wrapStageHandler(n,o);return a.__prio=t,a.__raw=n,e.push(a),a}function Y1(e,t){rg[e]=t}function ca(e){return tr.extend(e)}function po(e){return ja.extend(e)}function ch(e){return Or.extend(e)}function ta(e){return wo.extend(e)}function X1(e){return e}function rs(e,t,n,i,o){this._old=e,this._new=t,this._oldKeyGetter=n||X1,this._newKeyGetter=i||X1,this.context=o}function Z1(e,t,n,i,o){for(var a=0;a<e.length;a++){var s="_ec_"+o[i](e[a],a),l=t[s];null==l?(n.push(s),t[s]=a):(l.length||(t[s]=l=[l]),l.push(a))}}_r(2e3,JD),ko(r1),ua(900,function(e){var t=Jt();e.eachSeries(function(n){var i=n.get("stack");if(i){var o=t.get(i)||t.set(i,[]),a=n.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;o.length&&a.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(s)}}),t.each(BD)}),Y1("default",function(e,t){De(t=t||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new E,i=new er({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var o=t.fontSize+" sans-serif",a=new er({style:{fill:"none",text:t.text,font:o,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(n.add(a),t.showSpinner){var s=new lp({shape:{startAngle:-Jd/2,endAngle:-Jd/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:3*Jd/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:3*Jd/2}).delay(300).start("circularInOut"),n.add(s)}return n.resize=function(){var l=Gn(t.text,o),u=t.showSpinner?t.spinnerRadius:0,c=(e.getWidth()-2*u-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner?0:l/2),d=e.getHeight()/2;t.showSpinner&&s.setShape({cx:c,cy:d}),a.setShape({x:c-u,y:d-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}),Yi({type:"highlight",event:"highlight",update:"highlight"},gn),Yi({type:"downplay",event:"downplay",update:"downplay"},gn),sg("light",sA),sg("dark",M1),rs.prototype={constructor:rs,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],o=[];for(Z1(e,{},i,"_oldKeyGetter",this),Z1(t,n,o,"_newKeyGetter",this),a=0;a<e.length;a++)null!=(l=n[s=i[a]])?((c=l.length)?(1===c&&(n[s]=null),l=l.shift()):n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var s=o[a];if(n.hasOwnProperty(s)){var l;if(null==(l=n[s]))continue;if(l.length)for(var u=0,c=l.length;u<c;u++)this._add&&this._add(l[u]);else this._add&&this._add(l)}}}};var K1=Jt(["tooltip","label","itemName","itemId","seriesName"]);function cg(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function dh(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function oc(e){null!=e&&he(this,e),this.otherDims={}}var hh=Pt,ac="undefined",xA={float:typeof Float64Array==ac?Array:Float64Array,int:typeof Int32Array==ac?Array:Int32Array,ordinal:Array,number:Array,time:Array},_A=typeof Uint32Array==ac?Array:Uint32Array,wA=typeof Int32Array==ac?Array:Int32Array,SA=typeof Uint16Array==ac?Array:Uint16Array;function fh(e){return 65535<e._rawCount?_A:SA}var CA=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],TA=["_extent","_approximateExtent","_rawExtent"];function J1(e,t){ue(CA.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,ue(TA,function(n){e[n]=K(t[n])}),e._calculationInfo=he(t._calculationInfo)}var go=function(e,t){e=e||["x","y"];for(var n={},i=[],o={},a=0;a<e.length;a++){var s=e[a];Tt(s)?s=new oc({name:s}):s instanceof oc||(s=new oc(s));var l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0),s.otherDims=s.otherDims||{},i.push(l),(n[l]=s).index=a,s.createInvertedIndices&&(o[l]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(u){var c={},d=c.encode={},h=Jt(),m=[],y=[],T=c.userOutput={dimensionNames:u.dimensions.slice(),encode:{}};ue(u.dimensions,function(oe){var Me,Se=u.getDimensionInfo(oe),we=Se.coordDim;if(we){var Te=Se.coordDimIndex;cg(d,we)[Te]=oe,Se.isExtraCoord||(h.set(we,1),!("ordinal"===(Me=Se.type)||"time"===Me)&&(m[0]=oe),cg(T.encode,we)[Te]=Se.index),Se.defaultTooltip&&y.push(oe)}K1.each(function(Me,Pe){var Ke=cg(d,Pe),it=Se.otherDims[Pe];null!=it&&!1!==it&&(Ke[it]=Se.name)})});var H=[],R={};h.each(function(oe,Se){var we=d[Se];R[Se]=we[0],H=H.concat(we)}),c.dataDimsOnCoord=H,c.encodeFirstDimNotExtra=R;var $=d.label;$&&$.length&&(m=$.slice());var se=d.tooltip;return se&&se.length?y=se.slice():y.length||(y=m.slice()),d.defaultedLabel=m,d.defaultedTooltip=y,c}(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Di=go.prototype;function Q1(e,t,n,i,o){var a=xA[t.type],s=i-1,l=t.name,u=e[l][s];if(u&&u.length<n){for(var c=new a(Math.min(o-s*n,n)),d=0;d<u.length;d++)c[d]=u[d];e[l][s]=c}for(var h=i*n;h<o;h+=n)e[l].push(new a(Math.min(o-h,n)))}function $1(e){var t=e._invertedIndicesMap;ue(t,function(n,i){var o=e._dimensionInfos[i].ordinalMeta;if(o){n=t[i]=new wA(o.categories.length);for(var a=0;a<n.length;a++)n[a]=-1;for(a=0;a<e._count;a++)n[e.get(i,a)]=a}})}function eb(e,t,n){var i;if(null!=t){var o=e._chunkSize,a=Math.floor(n/o),l=e.dimensions[t],u=e._storage[l][a];if(u){i=u[n%o];var c=e._dimensionInfos[l].ordinalMeta;c&&c.categories.length&&(i=c.categories[i])}}return i}function sc(e){return e}function lc(e){return e<this._count&&0<=e?this._indices[e]:-1}function dg(e,t){var n=e._idList[t];return null==n&&(n=eb(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n}function hg(e){return bt(e)||(e=[e]),e}function tb(e,t){var n=e.dimensions,i=new go(Re(n,e.getDimensionInfo,e),e.hostModel);J1(i,e);for(var o=i._storage={},a=e._storage,s=0;s<n.length;s++){var l=n[s];a[l]&&(0<=We(t,l)?(o[l]=DA(a[l]),i._rawExtent[l]=[1/0,-1/0],i._extent[l]=null):o[l]=a[l])}return i}function DA(e){for(var t,n,i=new Array(e.length),o=0;o<e.length;o++)i[o]=(n=void 0,(n=(t=e[o]).constructor)===Array?t.slice():new n(t));return i}function AA(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType}function nb(e,t,n){Ia.isInstance(t)||(t=Ia.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var i=(n.dimsDef||[]).slice(),o=Jt(),a=Jt(),s=[],l=function(Te,Me,Pe,Ke){var it=Math.max(Te.dimensionsDetectCount||1,Me.length,Pe.length,Ke||0);return ue(Me,function(lt){var mt=lt.dimsDef;mt&&(it=Math.max(it,mt.length))}),it}(t,e,i,n.dimCount),u=0;u<l;u++){var c=i[u]=he({},Pt(i[u])?i[u]:{name:i[u]}),d=c.name,h=s[u]=new oc;null!=d&&null==o.get(d)&&(h.name=h.displayName=d,o.set(d,u)),null!=c.type&&(h.type=c.type),null!=c.displayName&&(h.displayName=c.displayName)}var m=n.encodeDef;!m&&n.encodeDefaulter&&(m=n.encodeDefaulter(t,l)),(m=Jt(m)).each(function(Te,Me){if(1===(Te=Ao(Te).slice()).length&&!Tt(Te[0])&&Te[0]<0)m.set(Me,!1);else{var Pe=m.set(Me,[]);ue(Te,function(Ke,it){Tt(Ke)&&(Ke=o.get(Ke)),null!=Ke&&Ke<l&&(Pe[it]=Ke,T(s[Ke],Me,it))})}});var y=0;function T(Te,Me,Pe){null!=K1.get(Me)?Te.otherDims[Me]=Pe:(Te.coordDim=Me,Te.coordDimIndex=Pe,a.set(Me,!0))}ue(e,function(Te,Me){var Pe,Ke,it;if(Tt(Te))Pe=Te,Te={};else{Pe=Te.name;var lt=Te.ordinalMeta;Te.ordinalMeta=null,(Te=K(Te)).ordinalMeta=lt,Ke=Te.dimsDef,it=Te.otherDims,Te.name=Te.coordDim=Te.coordDimIndex=Te.dimsDef=Te.otherDims=null}if(!1!==(mt=m.get(Pe))){var mt;if(!(mt=Ao(mt)).length)for(var vt=0;vt<(Ke&&Ke.length||1);vt++){for(;y<s.length&&null!=s[y].coordDim;)y++;y<s.length&&mt.push(y++)}ue(mt,function(wt,Et){var Rt=s[wt];if(T(De(Rt,Te),Pe,Et),null==Rt.name&&Ke){var It=Ke[Et];Pt(It)||(It={name:It}),Rt.name=Rt.displayName=It.name,Rt.defaultTooltip=It.defaultTooltip}it&&De(Rt.otherDims,it)})}});var H=n.generateCoord,R=n.generateCoordCount,$=null!=R;R=H?R||1:0;for(var se,Se=H||"value",we=0;we<l;we++)null==(h=s[we]=s[we]||new oc).coordDim&&(h.coordDim=ib(Se,a,$),h.coordDimIndex=0,(!H||R<=0)&&(h.isExtraCoord=!0),R--),null==h.name&&(h.name=ib(h.coordDim,o)),null==h.type&&(Jy((se=t).data,se.sourceFormat,se.seriesLayoutBy,se.dimensionsDefine,se.startIndex,we)===Po.Must||h.isExtraCoord&&(null!=h.otherDims.itemName||null!=h.otherDims.seriesName))&&(h.type="ordinal");return s}function ib(e,t,n){if(n||null!=t.get(e)){for(var i=0;null!=t.get(e+i);)i++;e+=i}return t.set(e,!0),e}Di.type="list",Di.hasItemOption=!0,Di.getDimension=function(e){return"number"!=typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},Di.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},Di.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Di.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return!0===t?(i||[]).slice():i&&i[t]},Di.initData=function(e,t,n){(Ia.isInstance(e)||Ve(e))&&(e=new o1(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=l1[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l1.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},Di.getProvider=function(){return this._rawData},Di.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},Di.appendValues=function(e,t){for(var n=this._chunkSize,i=this._storage,o=this.dimensions,a=o.length,s=this._rawExtent,l=this.count(),u=l+Math.max(e.length,t?t.length:0),c=this._chunkCount,d=0;d<a;d++)s[$=o[d]]||(s[$]=[1/0,-1/0]),i[$]||(i[$]=[]),Q1(i,this._dimensionInfos[$],n,c,u),this._chunkCount=i[$].length;for(var h=new Array(a),m=l;m<u;m++){for(var y=m-l,T=Math.floor(m/n),H=m%n,R=0;R<a;R++){var $=o[R],se=this._dimValueGetterArrayRows(e[y]||h,$,y,R);i[$][T][H]=se;var oe=s[$];se<oe[0]&&(oe[0]=se),se>oe[1]&&(oe[1]=se)}t&&(this._nameList[m]=t[y])}this._rawCount=this._count=u,this._extent={},$1(this)},Di._initDataFromProvider=function(e,t){if(!(t<=e)){for(var n,i=this._chunkSize,o=this._rawData,a=this._storage,s=this.dimensions,l=s.length,u=this._dimensionInfos,c=this._nameList,d=this._idList,h=this._rawExtent,m=this._nameRepeatCount={},y=this._chunkCount,T=0;T<l;T++){h[we=s[T]]||(h[we]=[1/0,-1/0]);var H=u[we];0===H.otherDims.itemName&&(n=this._nameDimIdx=T),0===H.otherDims.itemId&&(this._idDimIdx=T),a[we]||(a[we]=[]),Q1(a,H,i,y,t),this._chunkCount=a[we].length}for(var R=new Array(l),$=e;$<t;$++){R=o.getItem($,R);for(var se=Math.floor($/i),oe=$%i,Se=0;Se<l;Se++){var we,Te=a[we=s[Se]][se],Me=this._dimValueGetter(R,we,$,Se);Te[oe]=Me;var Pe=h[we];Me<Pe[0]&&(Pe[0]=Me),Me>Pe[1]&&(Pe[1]=Me)}if(!o.pure){var Ke=c[$];if(R&&null==Ke)if(null!=R.name)c[$]=Ke=R.name;else if(null!=n){var it=s[n],lt=a[it][se];if(lt){Ke=lt[oe];var mt=u[it].ordinalMeta;mt&&mt.categories.length&&(Ke=mt.categories[Ke])}}var vt=null==R?null:R.id;null==vt&&null!=Ke&&(m[Ke]=m[Ke]||0,0<m[vt=Ke]&&(vt+="__ec__"+m[Ke]),m[Ke]++),null!=vt&&(d[$]=vt)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent={},$1(this)}},Di.count=function(){return this._count},Di.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,n=this._count;if(t===Array){o=new t(n);for(var i=0;i<n;i++)o[i]=e[i]}else o=new t(e.buffer,0,n)}else{var o=new(t=fh(this))(this.count());for(i=0;i<o.length;i++)o[i]=i}return o},Di.get=function(e,t){if(!(0<=t&&t<this._count))return NaN;var n=this._storage;if(!n[e])return NaN;t=this.getRawIndex(t);var i=Math.floor(t/this._chunkSize);return n[e][i][t%this._chunkSize]},Di.getByRawIndex=function(e,t){if(!(0<=t&&t<this._rawCount))return NaN;var n=this._storage[e];return n?n[Math.floor(t/this._chunkSize)][t%this._chunkSize]:NaN},Di._getFast=function(e,t){var n=Math.floor(t/this._chunkSize);return this._storage[e][n][t%this._chunkSize]},Di.getValues=function(e,t){var n=[];bt(e)||(t=e,e=this.dimensions);for(var i=0,o=e.length;i<o;i++)n.push(this.get(e[i],t));return n},Di.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},Di.getDataExtent=function(e){e=this.getDimension(e);var n=[1/0,-1/0];if(!this._storage[e])return n;var i,o=this.count();if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var a=(i=n)[0],s=i[1],l=0;l<o;l++){var u=this._getFast(e,this.getRawIndex(l));u<a&&(a=u),s<u&&(s=u)}return this._extent[e]=[a,s]},Di.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},Di.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},Di.getCalculationInfo=function(e){return this._calculationInfo[e]},Di.setCalculationInfo=function(e,t){hh(e)?he(this._calculationInfo,e):this._calculationInfo[e]=t},Di.getSum=function(e){var t=0;if(this._storage[e])for(var n=0,i=this.count();n<i;n++){var o=this.get(e,n);isNaN(o)||(t+=o)}return t},Di.getMedian=function(e){var t=[];this.each(e,function(o,a){isNaN(o)||t.push(o)});var n=[].concat(t).sort(function(o,a){return o-a}),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},Di.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},Di.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},Di.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(t[a]<e)i=1+a;else{if(!(t[a]>e))return a;o=a-1}}return-1},Di.indicesOfNearest=function(e,t,n){var i=[];if(!this._storage[e])return i;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var c=t-this.get(e,l),d=Math.abs(c);d<=n&&((d<o||d===o&&0<=c&&a<0)&&(o=d,a=c,s=0),c===a&&(i[s++]=l))}return i.length=s,i},Di.getRawIndex=sc,Di.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++)t.push(this.get(this.dimensions[n],e));return t},Di.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||eb(this,this._nameDimIdx,t)||""},Di.getId=function(e){return dg(this,this.getRawIndex(e))},Di.each=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this;for(var o=(e=Re(hg(e),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:t.call(n,a);break;case 1:t.call(n,this.get(e[0],a),a);break;case 2:t.call(n,this.get(e[0],a),this.get(e[1],a),a);break;default:for(var s=0,l=[];s<o;s++)l[s]=this.get(e[s],a);l[s]=a,t.apply(n,l)}}},Di.filterSelf=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this,e=Re(hg(e),this.getDimension,this);for(var o=this.count(),a=new(fh(this))(o),s=[],l=e.length,u=0,c=e[0],d=0;d<o;d++){var h,m=this.getRawIndex(d);if(0===l)h=t.call(n,d);else if(1===l){var y=this._getFast(c,m);h=t.call(n,y,d)}else{for(var T=0;T<l;T++)s[T]=this._getFast(c,m);s[T]=d,h=t.apply(n,s)}h&&(a[u++]=m)}return u<o&&(this._indices=a),this._count=u,this._extent={},this.getRawIndex=this._indices?lc:sc,this}},Di.selectRange=function(e){if(this._count){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var i=t.length;if(i){var o=this.count(),a=new(fh(this))(o),s=0,l=t[0],u=e[l][0],c=e[l][1],d=!1;if(!this._indices){var h=0;if(1===i){for(var m=this._storage[t[0]],y=0;y<this._chunkCount;y++)for(var T=m[y],H=Math.min(this._count-y*this._chunkSize,this._chunkSize),R=0;R<H;R++)(u<=(we=T[R])&&we<=c||isNaN(we))&&(a[s++]=h),h++;d=!0}else if(2===i){m=this._storage[l];var $=this._storage[t[1]],se=e[t[1]][0],oe=e[t[1]][1];for(y=0;y<this._chunkCount;y++){T=m[y];var Se=$[y];for(H=Math.min(this._count-y*this._chunkSize,this._chunkSize),R=0;R<H;R++){var we=T[R],Te=Se[R];(u<=we&&we<=c||isNaN(we))&&(se<=Te&&Te<=oe||isNaN(Te))&&(a[s++]=h),h++}}d=!0}}if(!d)if(1===i)for(R=0;R<o;R++){var Me=this.getRawIndex(R);(u<=(we=this._getFast(l,Me))&&we<=c||isNaN(we))&&(a[s++]=Me)}else for(R=0;R<o;R++){var Pe=!0;for(Me=this.getRawIndex(R),y=0;y<i;y++){var Ke=t[y];((we=this._getFast(n,Me))<e[Ke][0]||we>e[Ke][1])&&(Pe=!1)}Pe&&(a[s++]=this.getRawIndex(R))}return s<o&&(this._indices=a),this._count=s,this._extent={},this.getRawIndex=this._indices?lc:sc,this}}},Di.mapArray=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},n=n||i||this),o},Di.map=function(e,t,n,i){n=n||i||this;var o=tb(this,e=Re(hg(e),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?lc:sc;for(var a=o._storage,s=[],l=this._chunkSize,u=e.length,c=this.count(),d=[],h=o._rawExtent,m=0;m<c;m++){for(var y=0;y<u;y++)d[y]=this.get(e[y],m);d[u]=m;var T=t&&t.apply(n,d);if(null!=T){"object"!=typeof T&&(s[0]=T,T=s);for(var H=this.getRawIndex(m),R=Math.floor(H/l),$=H%l,se=0;se<T.length;se++){var oe=e[se],Se=T[se],we=h[oe],Te=a[oe];Te&&(Te[R][$]=Se),Se<we[0]&&(we[0]=Se),Se>we[1]&&(we[1]=Se)}}}return o},Di.downSample=function(e,t,n,i){for(var o=tb(this,[e]),a=o._storage,s=[],l=Math.floor(1/t),u=a[e],c=this.count(),d=this._chunkSize,h=o._rawExtent[e],m=new(fh(this))(c),y=0,T=0;T<c;T+=l){c-T<l&&(s.length=l=c-T);for(var H=0;H<l;H++){var R=this.getRawIndex(T+H),$=Math.floor(R/d);s[H]=u[$][R%d]}var oe=n(s),Se=this.getRawIndex(Math.min(T+i(s,oe)||0,c-1)),we=Se%d;(u[Math.floor(Se/d)][we]=oe)<h[0]&&(h[0]=oe),oe>h[1]&&(h[1]=oe),m[y++]=Se}return o._count=y,o._indices=m,o.getRawIndex=lc,o},Di.getItemModel=function(e){var t=this.hostModel;return new qi(this.getRawDataItem(e),t,t&&t.ecModel)},Di.diff=function(e){var t=this;return new rs(e?e.getIndices():[],this.getIndices(),function(n){return dg(e,n)},function(n){return dg(t,n)})},Di.getVisual=function(e){var t=this._visual;return t&&t[e]},Di.setVisual=function(e,t){if(hh(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},Di.setLayout=function(e,t){if(hh(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},Di.getLayout=function(e){return this._layout[e]},Di.getItemLayout=function(e){return this._itemLayouts[e]},Di.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?he(this._itemLayouts[e]||{},t):t},Di.clearItemLayouts=function(){this._itemLayouts.length=0},Di.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],o=i&&i[t];return null!=o||n?o:this.getVisual(t)},Di.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},o=this.hasItemVisual;if(this._itemVisuals[e]=i,hh(t))for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a],o[a]=!0);else i[t]=n,o[t]=!0},Di.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}},Di.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(AA,t)),this._graphicEls[e]=t},Di.getItemGraphicEl=function(e){return this._graphicEls[e]},Di.eachItemGraphicEl=function(e,t){ue(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},Di.cloneShallow=function(e){if(!e){var t=Re(this.dimensions,this.getDimensionInfo,this);e=new go(t,this.hostModel)}return e._storage=this._storage,J1(e,this),e._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,e.getRawIndex=e._indices?lc:sc,e},Di.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(sn(arguments)))})},Di.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Di.CHANGABLE_METHODS=["filterSelf","selectRange"];var Jl=function(e,t){return nb((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})};function MA(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=Jt(),this.categoryAxisMap=Jt(),this.firstCategoryDimIndex=null}var IA={cartesian2d:function(e,t,n,i){var o=e.getReferringComponents("xAxis")[0],a=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),Ql(o)&&(i.set("x",o),t.firstCategoryDimIndex=0),Ql(a)&&(i.set("y",a),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var o=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",o),Ql(o)&&(i.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var o=e.getReferringComponents("polar")[0],a=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",s),Ql(a)&&(i.set("radius",a),t.firstCategoryDimIndex=0),Ql(s)&&(i.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var o=e.ecModel,a=o.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();ue(a.parallelAxisIndex,function(l,u){var c=o.getComponent("parallelAxis",l),d=s[u];n.set(d,c),Ql(c)&&null==t.firstCategoryDimIndex&&(i.set(d,c),t.firstCategoryDimIndex=u)})}};function Ql(e){return"category"===e.get("type")}function rb(e,t,n){var i,o,a,s,l=(n=n||{}).byIndex,u=n.stackedCoordDimension,c=!(!e||!e.get("stack"));if(ue(t,function(y,T){Tt(y)&&(t[T]=y={name:y}),c&&!y.isExtraCoord&&(l||i||!y.ordinalMeta||(i=y),o||"ordinal"===y.type||"time"===y.type||u&&u!==y.coordDim||(o=y))}),!o||l||i||(l=!0),o){a="__\0ecstackresult",s="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var d=o.coordDim,h=o.type,m=0;ue(t,function(y){y.coordDim===d&&m++}),t.push({name:a,coordDim:d,coordDimIndex:m,type:h,isExtraCoord:!0,isCalculationCoord:!0}),m++,t.push({name:s,coordDim:s,coordDimIndex:m,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:i&&i.name,isStackedByIndex:l,stackedOverDimension:s,stackResultDimension:a}}function os(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function uc(e,t){return os(e,t)?e.getCalculationInfo("stackResultDimension"):t}function as(e,t,n){n=n||{},Ia.isInstance(e)||(e=Ia.seriesDataToSource(e));var i,o=t.get("coordinateSystem"),a=Oo.get(o),s=function(y){var T=y.get("coordinateSystem"),H=new MA(T),R=IA[T];if(R)return R(y,H,H.axisMap,H.categoryAxisMap),H}(t);s&&(i=Re(s.coordSysDims,function(y){var T={name:y},H=s.axisMap.get(y);if(H){var R=H.get("type");T.type=dh(R)}return T})),i=i||a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"];var l,u,c=Jl(e,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?Nt(Ky,i,t):null});s&&ue(c,function(y,T){var R=s.categoryAxisMap.get(y.coordDim);R&&(null==l&&(l=T),y.ordinalMeta=R.getOrdinalMeta()),null!=y.otherDims.itemName&&(u=!0)}),u||null==l||(c[l].otherDims.itemName=0);var d=rb(t,c),h=new go(c,t);h.setCalculationInfo(d);var m=null!=l&&function(y){if(y.sourceFormat===al){var T=function(H){for(var R=0;R<H.length&&null==H[R];)R++;return H[R]}(y.data||[]);return null!=T&&!bt(ku(T))}}(e)?function(y,T,H,R){return R===l?H:this.defaultDimValueGetter(y,T,H,R)}:null;return h.hasItemOption=!1,h.initData(e,null,m),h}function eo(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function cc(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}eo.prototype.parse=function(e){return e},eo.prototype.getSetting=function(e){return this._setting[e]},eo.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},eo.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},eo.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},eo.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},eo.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},eo.prototype.getExtent=function(){return this._extent.slice()},eo.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},eo.prototype.isBlank=function(){return this._isBlank},eo.prototype.setBlank=function(e){this._isBlank=e},eo.prototype.getLabel=null,Eu(eo),pd(eo,{registerWhenExtend:!0}),cc.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Re(n,kA);return new cc({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})};var ob=cc.prototype;function ab(e){return e._map||(e._map=Jt(e.categories))}function kA(e){return Pt(e)&&null!=e.value?e.value:e+""}ob.getOrdinal=function(e){return ab(this).get(e)},ob.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!=typeof e&&!n)return e;if(n&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var i=ab(this);return null==(t=i.get(e))&&(n?(this.categories[t=this.categories.length]=e,i.set(e,t)):t=NaN),t};var fg=eo.prototype,pg=eo.extend({type:"ordinal",init:function(e,t){e&&!bt(e)||(e=new cc({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),fg.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return fg.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(fg.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){if(!this.isBlank())return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:gn,niceExtent:gn});pg.create=function(){return new pg};var sb=ao;function lb(e){return zd(e)+2}function ub(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function cb(e,t){isFinite(e[0])||(e[0]=t[0]),isFinite(e[1])||(e[1]=t[1]),ub(e,0,t),ub(e,1,t),e[0]>e[1]&&(e[0]=e[1])}var $l=ao,qa=eo.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),qa.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=lb(e)},getTicks:function(e){var t=this._interval,n=this._extent,i=this._niceExtent,o=this._intervalPrecision,a=[];if(!t)return a;n[0]<i[0]&&a.push(e?$l(i[0]-t,o):n[0]);for(var s=i[0];s<=i[1]&&(a.push(s),(s=$l(s+t,o))!==a[a.length-1]);)if(1e4<a.length)return[];var l=a.length?a[a.length-1]:i[1];return n[1]>l&&a.push(e?$l(l+t,o):n[1]),a},getMinorTicks:function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),o=1;o<t.length;o++){for(var s=t[o-1],l=0,u=[],c=(t[o]-s)/e;l<e-1;){var d=ao(s+(l+1)*c);d>i[0]&&d<i[1]&&u.push(d),l++}n.push(u)}return n},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=zd(e)||0:"auto"===n&&(n=this._intervalPrecision),Ss(e=$l(e,n,!0))},niceTicks:function(e,t,n){e=e||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var a=function(s,l,u,c){var d={},m=d.interval=wp((s[1]-s[0])/l,!0);null!=u&&m<u&&(m=d.interval=u),null!=c&&c<m&&(m=d.interval=c);var y=d.intervalPrecision=lb(m);return cb(d.niceTickExtent=[sb(Math.ceil(s[0]/m)*m,y),sb(Math.floor(s[1]/m)*m,y)],s),d}(i,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(t[0]=$l(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=$l(Math.ceil(t[1]/o)*o))}});qa.create=function(){return new qa};var gg="__ec_stack_",mg=typeof Float32Array<"u"?Float32Array:Array;function vg(e){return e.get("stack")||gg+e.seriesIndex}function yg(e){return e.dim+e.index}function db(e,t){var n=[];return t.eachSeriesByType(e,function(i){gb(i)&&!mb(i)&&n.push(i)}),n}function bg(e){var t=function(i){var o={};ue(i,function(h){var m=h.coordinateSystem.getBaseAxis();if("time"===m.type||"value"===m.type)for(var y=h.getData(),T=m.dim+"_"+m.index,H=y.mapDimension(m.dim),R=0,$=y.count();R<$;++R){var se=y.get(H,R);o[T]?o[T].push(se):o[T]=[se]}});var a=[];for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];if(l){l.sort(function(h,m){return h-m});for(var u=null,c=1;c<l.length;++c){var d=l[c]-l[c-1];0<d&&(u=null===u?d:Math.min(u,d))}a[s]=u}}return a}(e),n=[];return ue(e,function(i){var o,a=i.coordinateSystem.getBaseAxis(),s=a.getExtent();if("category"===a.type)o=a.getBandWidth();else if("value"===a.type||"time"===a.type){var u=t[a.dim+"_"+a.index],c=Math.abs(s[1]-s[0]),d=a.scale.getExtent(),h=Math.abs(d[1]-d[0]);o=u?c/h*u:c}else{var m=i.getData();o=Math.abs(s[1]-s[0])/m.count()}var y=Kn(i.get("barWidth"),o),T=Kn(i.get("barMaxWidth"),o),H=Kn(i.get("barMinWidth")||1,o),R=i.get("barGap"),$=i.get("barCategoryGap");n.push({bandWidth:o,barWidth:y,barMaxWidth:T,barMinWidth:H,barGap:R,barCategoryGap:$,axisKey:yg(a),stackId:vg(i)})}),hb(n)}function hb(e){var t={};ue(e,function(i,o){var a=i.axisKey,s=i.bandWidth,l=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=l.stacks;t[a]=l;var c=i.stackId;u[c]||l.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var d=i.barWidth;d&&!u[c].width&&(u[c].width=d,d=Math.min(l.remainedWidth,d),l.remainedWidth-=d);var h=i.barMaxWidth;h&&(u[c].maxWidth=h);var m=i.barMinWidth;m&&(u[c].minWidth=m);var y=i.barGap;null!=y&&(l.gap=y);var T=i.barCategoryGap;null!=T&&(l.categoryGap=T)});var n={};return ue(t,function(i,o){n[o]={};var a=i.stacks,s=i.bandWidth,l=Kn(i.categoryGap,s),u=Kn(i.gap,1),c=i.remainedWidth,d=i.autoWidthCount,h=(c-l)/(d+(d-1)*u);h=Math.max(h,0),ue(a,function(H){var R=H.maxWidth,$=H.minWidth;if(H.width)se=H.width,R&&(se=Math.min(se,R)),$&&(se=Math.max(se,$)),H.width=se,c-=se+u*se,d--;else{var se=h;R&&R<se&&(se=Math.min(R,c)),$&&se<$&&(se=$),se!==h&&(H.width=se,c-=se+u*se,d--)}}),h=(c-l)/(d+(d-1)*u),h=Math.max(h,0);var m,y=0;ue(a,function(H,R){H.width||(H.width=h),y+=(m=H).width*(1+u)}),m&&(y-=m.width*u);var T=-y/2;ue(a,function(H,R){n[o][R]=n[o][R]||{bandWidth:s,offset:T,width:H.width},T+=H.width*(1+u)})}),n}function fb(e,t,n){if(e&&t){var i=e[yg(t)];return null!=i&&null!=n&&(i=i[vg(n)]),i}}function pb(e,t){var n=db(e,t),i=bg(n),o={};ue(n,function(a){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),c=vg(a),d=i[yg(u)][c],h=d.offset,m=d.width,y=l.getOtherAxis(u),T=a.get("barMinHeight")||0;o[c]=o[c]||[],s.setLayout({bandWidth:d.bandWidth,offset:h,size:m});for(var H=s.mapDimension(y.dim),R=s.mapDimension(u.dim),$=os(s,H),se=y.isHorizontal(),oe=vb(0,y),Se=0,we=s.count();Se<we;Se++){var Te,Me,Pe,Ke,it,lt=s.get(H,Se),mt=s.get(R,Se),vt=0<=lt?"p":"n",wt=oe;$&&(o[c][mt]||(o[c][mt]={p:oe,n:oe}),wt=o[c][mt][vt]),se?(Te=wt,Me=(it=l.dataToPoint([lt,mt]))[1]+h,Pe=it[0]-oe,Ke=m,Math.abs(Pe)<T&&(Pe=(Pe<0?-1:1)*T),isNaN(Pe)||$&&(o[c][mt][vt]+=Pe)):(Te=(it=l.dataToPoint([mt,lt]))[0]+h,Me=wt,Pe=m,Ke=it[1]-oe,Math.abs(Ke)<T&&(Ke=(Ke<=0?-1:1)*T),isNaN(Ke)||$&&(o[c][mt][vt]+=Ke)),s.setItemLayout(Se,{x:Te,y:Me,width:Pe,height:Ke})}},this)}var EA={seriesType:"bar",plan:Xl(),reset:function(e){if(gb(e)&&mb(e)){var t=e.getData(),n=e.coordinateSystem,i=n.grid.getRect(),o=n.getBaseAxis(),a=n.getOtherAxis(o),s=t.mapDimension(a.dim),l=t.mapDimension(o.dim),u=a.isHorizontal(),c=u?0:1,d=fb(bg([e]),o,e).width;return.5<d||(d=.5),{progress:function(h,m){for(var y,T=h.count,H=new mg(2*T),R=new mg(2*T),$=new mg(T),se=[],oe=[],Se=0,we=0;null!=(y=h.next());)oe[c]=m.get(s,y),oe[1-c]=m.get(l,y),se=n.dataToPoint(oe,null,se),R[Se]=u?i.x+i.width:se[0],H[Se++]=se[0],R[Se]=u?se[1]:i.y+i.height,H[Se++]=se[1],$[we++]=y;m.setLayout({largePoints:H,largeDataIndices:$,largeBackgroundPoints:R,barWidth:d,valueAxisStart:vb(0,a),backgroundStart:u?i.x:i.y,valueAxisHorizontal:u})}}}}};function gb(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function mb(e){return e.pipelineContext&&e.pipelineContext.large}function vb(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var NA=qa.prototype,yb=Math.ceil,bb=Math.floor,so=864e5,xg=qa.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return Dp(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=so,t[1]+=so),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-so}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=ao(bb(t[0]/i)*i)),e.fixMax||(t[1]=ao(yb(t[1]/i)*i))},niceTicks:function(e,t,n){var i=this._extent,o=i[1]-i[0],a=o/(e=e||10);null!=t&&a<t&&(a=t),null!=n&&n<a&&(a=n);var s=_g.length,l=function(m,y,T,H){for(;T<H;){var R=T+H>>>1;m[R][1]<y?T=1+R:H=R}return T}(_g,a,0,s),u=_g[Math.min(l,s-1)],c=u[1];"year"===u[0]&&(c*=wp(o/c/e,!0));var d=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,h=[Math.round(yb((i[0]-d)/c)*c+d),Math.round(bb((i[1]-d)/c)*c+d)];cb(h,i),this._stepLvl=u,this._interval=c,this._niceExtent=h},parse:function(e){return+Uu(e)}});ue(["contain","normalize"],function(e){xg.prototype[e]=function(t){return NA[e].call(this,this.parse(t))}});var _g=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",so],["MM-dd\nyyyy",2*so],["MM-dd\nyyyy",3*so],["MM-dd\nyyyy",4*so],["MM-dd\nyyyy",5*so],["MM-dd\nyyyy",6*so],["week",7*so],["MM-dd\nyyyy",864e6],["week",14*so],["week",21*so],["month",31*so],["week",42*so],["month",62*so],["week",70*so],["quarter",95*so],["month",31*so*4],["month",13392e6],["half-year",16416e6],["month",31*so*8],["month",26784e6],["year",380*so]];xg.create=function(e){return new xg({useUTC:e.ecModel.get("useUTC")})};var gh=eo.prototype,dc=qa.prototype,LA=zd,RA=ao,PA=Math.floor,OA=Math.ceil,mh=Math.pow,Ya=Math.log,vh=eo.extend({type:"log",base:10,$constructor:function(){eo.apply(this,arguments),this._originalScale=new qa},getTicks:function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return Re(dc.getTicks.call(this,e),function(o){var a=ao(mh(this.base,o));return a=o===n[0]&&t.__fixMin?yh(a,i[0]):a,o===n[1]&&t.__fixMax?yh(a,i[1]):a},this)},getMinorTicks:dc.getMinorTicks,getLabel:dc.getLabel,scale:function(e){return e=gh.scale.call(this,e),mh(this.base,e)},setExtent:function(e,t){var n=this.base;e=Ya(e)/Ya(n),t=Ya(t)/Ya(n),dc.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=gh.getExtent.call(this);t[0]=mh(e,t[0]),t[1]=mh(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=yh(t[0],i[0])),n.__fixMax&&(t[1]=yh(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Ya(e[0])/Ya(t),e[1]=Ya(e[1])/Ya(t),gh.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n==1/0||n<=0)){var i=Ry(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;var o=[ao(OA(t[0]/i)*i),ao(PA(t[1]/i)*i)];this._interval=i,this._niceExtent=o}},niceExtent:function(e){dc.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});function yh(e,t){return RA(e,LA(t))}function _b(e,t){var n,i,o,a=e.type,s=t.getMin(),l=t.getMax(),u=e.getExtent();"ordinal"===a?n=t.getCategories().length:(bt(i=t.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=Kn(i[0],1),i[1]=Kn(i[1],1),o=u[1]-u[0]||Math.abs(u[0])),"dataMin"===s?s=u[0]:"function"==typeof s&&(s=s({min:u[0],max:u[1]})),"dataMax"===l?l=u[1]:"function"==typeof l&&(l=l({min:u[0],max:u[1]}));var c=null!=s,d=null!=l;null==s&&(s="ordinal"===a?n?0:NaN:u[0]-i[0]*o),null==l&&(l="ordinal"===a?n?n-1:NaN:u[1]+i[1]*o),null!=s&&isFinite(s)||(s=NaN),null!=l&&isFinite(l)||(l=NaN),e.setBlank(cn(s)||cn(l)||"ordinal"===a&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(0<s&&0<l&&!c&&(s=0),s<0&&l<0&&!d&&(l=0));var h=t.ecModel;if(h&&"time"===a){var m,y=db("bar",h);if(ue(y,function(R){m|=R.getBaseAxis()===t.axis}),m){var T=bg(y),H=function(R,$,se,oe){var Se=se.axis.getExtent(),we=Se[1]-Se[0],Te=fb(oe,se.axis);if(void 0===Te)return{min:R,max:$};var Me=1/0;ue(Te,function(mt){Me=Math.min(mt.offset,Me)});var Pe=-1/0;ue(Te,function(mt){Pe=Math.max(mt.offset+mt.width,Pe)}),Me=Math.abs(Me),Pe=Math.abs(Pe);var Ke=Me+Pe,it=$-R,lt=it/(1-(Me+Pe)/we)-it;return{min:R-=Me/Ke*lt,max:$+=Pe/Ke*lt}}(s,l,t,T);s=H.min,l=H.max}}return{extent:[s,l],fixMin:c,fixMax:d}}function ks(e,t){var n=_b(e,t),i=n.extent,o=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var a=e.type;e.setExtent(i[0],i[1]),e.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===a||"time"===a?t.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?t.get("maxInterval"):null});var s=t.get("interval");null!=s&&e.setInterval&&e.setInterval(s)}function eu(e,t){if(t=t||e.get("type"))switch(t){case"category":return new pg(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new qa;default:return(eo.getClass(t)||qa).create(e)}}function hc(e){var t,n=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof n?(t=n,n=function(o){return o=e.scale.getLabel(o),t.replace("{value}",o??"")}):"function"==typeof n?function(o,a){return null!=i&&(a=o-i),n(wg(e,o),a)}:function(o){return e.scale.getLabel(o)}}function wg(e,t){return"category"===e.type?e.scale.getLabel(t):t}function Sg(e){return e.get("interval")??"auto"}function wb(e){return"category"===e.type&&0===Sg(e.getLabelModel())}ue(["contain","normalize"],function(e){vh.prototype[e]=function(t){return t=Ya(t)/Ya(this.base),gh[e].call(this,t)}}),vh.create=function(){return new vh};var cl={getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!cn(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!cn(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:gn,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},BA=ba({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i+a),e.lineTo(n-o,i+a),e.closePath()}}),zA=ba({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i),e.lineTo(n,i+a),e.lineTo(n-o,i),e.closePath()}}),FA=ba({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width/5*3,a=Math.max(o,t.height),s=o/2,l=s*s/(a-s),u=i-a+s+l,c=Math.asin(l/s),d=Math.cos(c)*s,h=Math.sin(c),m=Math.cos(c),y=.6*s,T=.7*s;e.moveTo(n-d,u+l),e.arc(n,u,s,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(n+d-h*y,u+l+m*y,n,i-T,n,i),e.bezierCurveTo(n,i-T,n-d+h*y,u+l+m*y,n-d,u+l),e.closePath()}}),HA=ba({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,o=t.x,a=t.y,s=t.width/3*2;e.moveTo(o,a),e.lineTo(o+s,a+n),e.lineTo(o,a+n/4*3),e.lineTo(o-s,a+n),e.lineTo(o,a),e.closePath()}}),VA={line:function(e,t,n,i,o){o.x1=e,o.y1=t+i/2,o.x2=e+n,o.y2=t+i/2},rect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i},roundRect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(e,t,n,i,o){var a=Math.min(n,i);o.x=e,o.y=t,o.width=a,o.height=a},circle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.r=Math.min(n,i)/2},diamond:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i},pin:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},arrow:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},triangle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i}},Cg={};ue({line:Mo,rect:er,roundRect:er,square:er,circle:Fa,diamond:zA,pin:FA,arrow:HA,triangle:BA},function(e,t){Cg[t]=new e});var WA=ba({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=ii(e,t,n),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===t.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(e,t,n){var i=t.symbolType;if("none"!==i){var o=Cg[i];o=o||Cg[i="rect"],VA[i](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,n)}}});function jA(e,t){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function da(e,t,n,i,o,a,s){var l,u=0===e.indexOf("empty");return u&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(l=0===e.indexOf("image://")?gy(e.slice(8),new A(t,n,i,o),s?"center":"cover"):0===e.indexOf("path://")?Ed(e.slice(7),{},new A(t,n,i,o),s?"center":"cover"):new WA({shape:{symbolType:e,x:t,y:n,width:i,height:o}})).__isEmptyBrush=u,l.setColor=jA,l.setColor(a),l}var GA=(Object.freeze||Object)({createList:function(e){return as(e.getSource(),e)},getLayoutRect:Qr,dataStack:{isDimensionStacked:os,enableDataStack:rb,getStackedDimension:uc},createScale:function(e,t){var n=t;qi.isInstance(t)||ke(n=new qi(t),cl);var i=eu(n);return i.setExtent(e[0],e[1]),ks(i,n),i},mixinAxisModelCommonMethods:function(e){ke(e,cl)},completeDimensions:nb,createDimensions:Jl,createSymbol:da}),qA=1e-8;function Sb(e,t){return Math.abs(e-t)<qA}function dl(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var a=1;a<e.length;a++){var s=e[a];i+=es(o[0],o[1],s[0],s[1],t,n),o=s}var l=e[0];return Sb(o[0],l[0])&&Sb(o[1],l[1])||(i+=es(o[0],o[1],l[0],l[1],t,n)),0!==i}function fc(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function Cb(e,t,n){for(var i=[],o=t[0],a=t[1],s=0;s<e.length;s+=2){var l=e.charCodeAt(s)-64,u=e.charCodeAt(s+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),o=l+=o,a=u+=a,i.push([l/n,u/n])}return i}function Tg(e,t){return function(n){if(n.UTF8Encoding){var i=n.UTF8Scale;null==i&&(i=1024);for(var o=n.features,a=0;a<o.length;a++)for(var s=o[a].geometry,l=s.coordinates,u=s.encodeOffsets,c=0;c<l.length;c++){var d=l[c];if("Polygon"===s.type)l[c]=Cb(d,u[c],i);else if("MultiPolygon"===s.type)for(var h=0;h<d.length;h++)d[h]=Cb(d[h],u[c][h],i)}n.UTF8Encoding=!1}}(e),Re(Je(e.features,function(n){return n.geometry&&n.properties&&0<n.geometry.coordinates.length}),function(n){var i=n.properties,o=n.geometry,a=o.coordinates,s=[];"Polygon"===o.type&&s.push({type:"polygon",exterior:a[0],interiors:a.slice(1)}),"MultiPolygon"===o.type&&ue(a,function(u){u[0]&&s.push({type:"polygon",exterior:u[0],interiors:u.slice(1)})});var l=new fc(i[t||"name"],s,i.cp);return l.properties=i,l})}fc.prototype={constructor:fc,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],o=[],a=[],s=this.geometries,l=0;l<s.length;l++)"polygon"===s[l].type&&(Nu(s[l].exterior,o,a),gr(n,n,o),Fi(i,i,a));return 0===l&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new A(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++)if("polygon"===n[i].type){var s=n[i].interiors;if(dl(n[i].exterior,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(dl(s[l]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=o.width/o.height;n?i=i||n/a:n=a*i;for(var s=new A(e,t,n,i),l=o.calculateTransform(s),u=this.geometries,c=0;c<u.length;c++)if("polygon"===u[c].type){for(var d=u[c].exterior,h=u[c].interiors,m=0;m<d.length;m++)Mi(d[m],d[m],l);for(var y=0;y<(h?h.length:0);y++)for(m=0;m<h[y].length;m++)Mi(h[y][m],h[y][m],l)}(o=this._rect).copy(s),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new fc(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var pc=Zo();function Tb(e,t){var n,s,i=Db(e,"labels"),o=Sg(t);return Ab(i,o)||Mb(i,o,{labels:on(o)?kb(e,o):Ib(e,n="auto"===o?(s=e,pc(s).autoInterval??(pc(s).autoInterval=s.calculateCategoryInterval())):o),labelCategoryInterval:n})}function Db(e,t){return pc(e)[t]||(pc(e)[t]=[])}function Ab(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Mb(e,t,n){return e.push({key:t,value:n}),n}function Ib(e,t,n){var i=hc(e),o=e.scale,a=o.getExtent(),s=e.getLabelModel(),l=[],u=Math.max((t||0)+1,1),c=a[0],d=o.count();0!==c&&1<u&&2<d/u&&(c=Math.round(Math.ceil(c/u)*u));var h=wb(e),m=s.get("showMinLabel")||h,y=s.get("showMaxLabel")||h;m&&c!==a[0]&&H(a[0]);for(var T=c;T<=a[1];T+=u)H(T);function H(R){l.push(n?R:{formattedLabel:i(R),rawLabel:o.getLabel(R),tickValue:R})}return y&&T-u!==a[1]&&H(a[1]),l}function kb(e,t,n){var i=e.scale,o=hc(e),a=[];return ue(i.getTicks(),function(s){var l=i.getLabel(s);t(s,l)&&a.push(n?s:{formattedLabel:o(s),rawLabel:l,tickValue:s})}),a}var Eb=[0,1],to=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function Nb(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}to.prototype={constructor:to,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n<=e&&e<=i},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return yp(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Nb(n=n.slice(),i.count()),Tr(e,Eb,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Nb(n=n.slice(),i.count());var o=Tr(e,n,Eb,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=Re(function XA(e,t){return"category"===e.type?function(n,i){var o,a,s=Db(n,"ticks"),l=Sg(i),u=Ab(s,l);if(u)return u;if(i.get("show")&&!n.scale.isBlank()||(o=[]),on(l))o=kb(n,l,!0);else if("auto"===l){var c=Tb(n,n.getLabelModel());a=c.labelCategoryInterval,o=Re(c.labels,function(d){return d.tickValue})}else o=Ib(n,a=l,!0);return Mb(s,l,{ticks:o,tickCategoryInterval:a})}(e,t):{ticks:e.scale.getTicks()}}(this,t).ticks,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this);return function(i,o,a,s){var l=o.length;if(i.onBand&&!a&&l){var u,d=i.getExtent();if(1===l)o[0].coord=d[0],u=o[1]={coord:d[0]};else{var m=(o[l-1].coord-o[0].coord)/(o[l-1].tickValue-o[0].tickValue);ue(o,function(R){R.coord-=m/2});var y=i.scale.getExtent();o.push(u={coord:o[l-1].coord+m*(1+y[1]-o[l-1].tickValue)})}var T=d[0]>d[1];H(o[0].coord,d[0])&&(s?o[0].coord=d[0]:o.shift()),s&&H(d[0],o[0].coord)&&o.unshift({coord:d[0]}),H(d[1],u.coord)&&(s?u.coord=d[1]:o.pop()),s&&H(u.coord,d[1])&&o.push({coord:d[1]})}function H(R,$){return R=ao(R),$=ao($),T?$<R:R<$}}(this,n,t.get("alignWithLabel"),e.clamp),n},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return 0<e&&e<100||(e=5),Re(this.scale.getMinorTicks(e),function(t){return Re(t,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this)},this)},getViewLabels:function(){return function YA(e){return"category"===e.type?function(t){var n=t.getLabelModel(),i=Tb(t,n);return!n.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(e):function(t){var n=t.scale.getTicks(),i=hc(t);return{labels:Re(n,function(o,a){return{formattedLabel:i(o,a),rawLabel:t.scale.getLabel(o),tickValue:o}})}}(e)}(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(e){var Pe,Ke,t=(Ke=(Pe=e).getLabelModel(),{axisRotate:Pe.getRotate?Pe.getRotate():Pe.isHorizontal&&!Pe.isHorizontal()?90:0,labelRotate:Ke.get("rotate")||0,font:Ke.getFont()}),n=hc(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;40<s&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],c=e.dataToCoord(u+1)-e.dataToCoord(u),d=Math.abs(c*Math.cos(i)),h=Math.abs(c*Math.sin(i)),m=0,y=0;u<=a[1];u+=l){var H,R=Yn(n(u),t.font,"center","top");H=1.3*R.height,m=Math.max(m,1.3*R.width,7),y=Math.max(y,H,7)}var $=m/d,se=y/h;isNaN($)&&($=1/0),isNaN(se)&&(se=1/0);var oe=Math.max(0,Math.floor(Math.min($,se))),Se=pc(e.model),we=e.getExtent(),Te=Se.lastAutoInterval,Me=Se.lastTickCount;return null!=Te&&null!=Me&&Math.abs(Te-oe)<=1&&Math.abs(Me-s)<=1&&oe<Te&&Se.axisExtend0===we[0]&&Se.axisExtend1===we[1]?oe=Te:(Se.lastTickCount=s,Se.lastAutoInterval=oe,Se.axisExtend0=we[0],Se.axisExtend1=we[1]),oe}(this)}};var ZA=Tg,Lb={};ue(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){Lb[e]=Ln[e]});var Rb={};function bh(e,t){var n=e.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return ll(e,t,n[0]);if(i){for(var o=[],a=0;a<n.length;a++){var s=ll(e,t,n[a]);o.push(s)}return o.join(" ")}}function Es(e,t,n){E.call(this),this.updateData(e,t,n)}ue(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(e){Rb[e]=ts[e]}),Or.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Ea=Es.prototype,KA=Es.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};function Dg(e){return[e[0]/2,e[1]/2]}function JA(e,t){this.parent.drift(e,t)}Ea._createSymbol=function(e,t,n,i,o){this.removeAll();var a=da(e,-1,-1,2,2,t.getItemVisual(n,"color"),o);a.attr({z2:100,culling:!0,scale:Dg(i)}),a.drift=JA,this._symbolType=e,this.add(a)},Ea.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},Ea.getSymbolPath=function(){return this.childAt(0)},Ea.getScale=function(){return this.childAt(0).scale},Ea.highlight=function(){this.childAt(0).trigger("emphasis")},Ea.downplay=function(){this.childAt(0).trigger("normal")},Ea.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},Ea.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},Ea.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,a=KA(e,t),s=i!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(i,e,t,a,l)}else(u=this.childAt(0)).silent=!1,Ri(u,{scale:Dg(a)},o,t);if(this._updateCommon(e,t,a,n),s){var u=this.childAt(0),c=n&&n.fadeIn,d={scale:u.scale.slice()};c&&(d.style={opacity:u.style.opacity}),u.scale=[0,0],c&&(u.style.opacity=0),Ro(u,d,o,t)}this._seriesModel=o};var QA=["itemStyle"],$A=["emphasis","itemStyle"],eM=["label"],tM=["emphasis","label"];function nM(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var n=this.__symbolOriginalScale,i=n[1]/n[0],o={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]};this.animateTo(o,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function tu(e){this.group=new E,this._symbolCtor=e||Es}Ea._updateCommon=function(e,t,n,i){var o=this.childAt(0),a=e.hostModel,s=e.getItemVisual(t,"color");"image"!==o.type?o.useStyle({strokeNoScale:!0}):o.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var l=i&&i.itemStyle,u=i&&i.hoverItemStyle,c=i&&i.symbolOffset,d=i&&i.labelModel,h=i&&i.hoverLabelModel,m=i&&i.hoverAnimation,y=i&&i.cursorStyle;if(!i||e.hasItemOption){var T=i&&i.itemModel?i.itemModel:e.getItemModel(t);l=T.getModel(QA).getItemStyle(["color"]),u=T.getModel($A).getItemStyle(),c=T.getShallow("symbolOffset"),d=T.getModel(eM),h=T.getModel(tM),m=T.getShallow("hoverAnimation"),y=T.getShallow("cursor")}else u=he({},u);var H=o.style,R=e.getItemVisual(t,"symbolRotate");o.attr("rotation",(R||0)*Math.PI/180||0),c&&o.attr("position",[Kn(c[0],n[0]),Kn(c[1],n[1])]),y&&o.attr("cursor",y),o.setColor(s,i&&i.symbolInnerColor),o.setStyle(l);var $=e.getItemVisual(t,"opacity");null!=$&&(H.opacity=$);var se=e.getItemVisual(t,"liftZ"),oe=o.__z2Origin;null!=se?null==oe&&(o.__z2Origin=o.z2,o.z2+=se):null!=oe&&(o.z2=oe,o.__z2Origin=null);var Se=i&&i.useNameLabel;sa(H,u,d,h,{labelFetcher:a,labelDataIndex:t,defaultText:function(we,Te){return Se?e.getName(we):bh(e,we)},isRectText:!0,autoColor:s}),o.__symbolOriginalScale=Dg(n),o.hoverStyle=u,o.highDownOnUpdate=m&&a.isAnimationEnabled()?nM:null,Cr(o)},Ea.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,t&&t.keepLabel||(n.style.text=null),Ri(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},xe(Es,E);var nu=tu.prototype;function Ag(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function Pb(e){return null==e||Pt(e)||(e={isIgnore:e}),e||{}}function Ob(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Mg(e,t,n){var i,H,R,$,o=e.getBaseAxis(),a=e.getOtherAxis(o),s=(H=n,R=0,$=a.scale.getExtent(),"start"===H?R=$[0]:"end"===H?R=$[1]:0<$[0]?R=$[0]:$[1]<0&&(R=$[1]),R),l=o.dim,u=a.dim,c=t.mapDimension(u),d=t.mapDimension(l),h="x"===u||"radius"===u?1:0,m=Re(e.dimensions,function(T){return t.mapDimension(T)}),y=t.getCalculationInfo("stackResultDimension");return(i|=os(t,m[0]))&&(m[0]=y),(i|=os(t,m[1]))&&(m[1]=y),{dataDimsForPoint:m,valueStart:s,valueAxisDim:u,baseAxisDim:l,stacked:!!i,valueDim:c,baseDim:d,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Ig(e,t,n,i){var o=NaN;e.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=e.valueStart);var a=e.baseDataOffset,s=[];return s[a]=n.get(e.baseDim,i),s[1-a]=o,t.dataToPoint(s)}nu.updateData=function(e,t){t=Pb(t);var n=this.group,i=e.hostModel,o=this._data,a=this._symbolCtor,s=Ob(e);o||n.removeAll(),e.diff(o).add(function(l){var u=e.getItemLayout(l);if(Ag(e,u,l,t)){var c=new a(e,l,s);c.attr("position",u),e.setItemGraphicEl(l,c),n.add(c)}}).update(function(l,u){var c=o.getItemGraphicEl(u),d=e.getItemLayout(l);Ag(e,d,l,t)?(c?(c.updateData(e,l,s),Ri(c,{position:d},i)):(c=new a(e,l)).attr("position",d),n.add(c),e.setItemGraphicEl(l,c)):n.remove(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&u.fadeOut(function(){n.remove(u)})}).execute(),this._data=e},nu.isPersistent=function(){return!0},nu.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},nu.incrementalPrepareUpdate=function(e){this._seriesScope=Ob(e),this._data=null,this.group.removeAll()},nu.incrementalUpdate=function(e,t,n){function i(l){l.isGroup||(l.incremental=l.useHoverLayer=!0)}n=Pb(n);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(Ag(t,a,o,n)){var s=new this._symbolCtor(t,o,this._seriesScope);s.traverse(i),s.attr("position",a),this.group.add(s),t.setItemGraphicEl(o,s)}}},nu.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)})}):t.removeAll()};var Bb=gr,zb=Fi,Fb=Yt,xh=Wn,kg=[],Ca=[],Ta=[];function ss(e){return isNaN(e[0])||isNaN(e[1])}function Eg(e,t,n,i,o,a,s,l,u,c){return"none"!==c&&c?function(d,h,m,y,T,H,R,$,se,oe,Se){for(var we=0,Te=m,Me=0;Me<y;Me++){var Pe=h[Te];if(T<=Te||Te<0)break;if(ss(Pe)){if(Se){Te+=H;continue}break}if(Te===m)d[0<H?"moveTo":"lineTo"](Pe[0],Pe[1]);else if(0<se){var Ke=h[we],it="y"===oe?1:0,lt=(Pe[it]-Ke[it])*se;xh(Ca,Ke),Ca[it]=Ke[it]+lt,xh(Ta,Pe),Ta[it]=Pe[it]-lt,d.bezierCurveTo(Ca[0],Ca[1],Ta[0],Ta[1],Pe[0],Pe[1])}else d.lineTo(Pe[0],Pe[1]);we=Te,Te+=H}return Me}.apply(this,arguments):function(d,h,m,y,T,H,R,$,se,oe,Se){for(var we=0,Te=m,Me=0;Me<y;Me++){var Pe=h[Te];if(T<=Te||Te<0)break;if(ss(Pe)){if(Se){Te+=H;continue}break}if(Te===m)d[0<H?"moveTo":"lineTo"](Pe[0],Pe[1]),xh(Ca,Pe);else if(0<se){var Ke=Te+H,it=h[Ke];if(Se)for(;it&&ss(h[Ke]);)it=h[Ke+=H];var lt=.5,mt=h[we];if(!(it=h[Ke])||ss(it))xh(Ta,Pe);else{var vt,wt;if(ss(it)&&!Se&&(it=Pe),fn(kg,it,mt),"x"===oe||"y"===oe){var Et="x"===oe?0:1;vt=Math.abs(Pe[Et]-mt[Et]),wt=Math.abs(Pe[Et]-it[Et])}else vt=di(Pe,mt),wt=di(Pe,it);Fb(Ta,Pe,kg,-se*(1-(lt=wt/(wt+vt))))}Bb(Ca,Ca,$),zb(Ca,Ca,R),Bb(Ta,Ta,$),zb(Ta,Ta,R),d.bezierCurveTo(Ca[0],Ca[1],Ta[0],Ta[1],Pe[0],Pe[1]),Fb(Ca,Pe,kg,se*lt)}else d.lineTo(Pe[0],Pe[1]);we=Te,Te+=H}return Me}.apply(this,arguments)}function Ng(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var o=0;o<e.length;o++){var a=e[o];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:t?n:i,max:t?i:n}}var iM=Gi.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:sp(Gi.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,o=n.length,a=Ng(n,t.smoothConstraint);if(t.connectNulls){for(;0<o&&ss(n[o-1]);o--);for(;i<o&&ss(n[i]);i++);}for(;i<o;)i+=Eg(e,n,i,o,o,1,a.min,a.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Hb=Gi.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:sp(Gi.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,o=0,a=n.length,s=t.smoothMonotone,l=Ng(n,t.smoothConstraint),u=Ng(i,t.smoothConstraint);if(t.connectNulls){for(;0<a&&ss(n[a-1]);a--);for(;o<a&&ss(n[o]);o++);}for(;o<a;){var c=Eg(e,n,o,a,a,1,l.min,l.max,t.smooth,s,t.connectNulls);Eg(e,i,o+c-1,c,a,-1,u.min,u.max,t.stackedOnSmooth,s,t.connectNulls),o+=c+1,e.closePath()}}});function Vb(e,t,n){var i=e.getArea(),o=e.getBaseAxis().isHorizontal(),a=i.x,s=i.y,l=i.width,u=i.height,c=n.get("lineStyle.width")||2;a-=c/2,s-=c/2,l+=c,u+=c,a=Math.floor(a),l=Math.round(l);var d=new er({shape:{x:a,y:s,width:l,height:u}});return t&&(d.shape[o?"width":"height"]=0,Ro(d,{shape:{width:l,height:u}},n)),d}function Wb(e,t,n){var i=e.getArea(),o=new Ma({shape:{cx:ao(e.cx,1),cy:ao(e.cy,1),r0:ao(i.r0,1),r:ao(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&(o.shape.endAngle=i.startAngle,Ro(o,{shape:{endAngle:i.endAngle}},n)),o}function _h(e,t,n){return e?"polar"===e.type?Wb(e,t,n):"cartesian2d"===e.type?Vb(e,t,n):null:null}function jb(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i[0]!==o[0]||i[1]!==o[1])return}return!0}}function Ub(e,t){var n=[],i=[],o=[],a=[];return Nu(e,n,i),Nu(t,o,a),Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]))}function Gb(e){return"number"==typeof e?e:e?.5:0}function Ns(e,t,n){for(var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],s=0;s<e.length-1;s++){var l=e[s+1],u=e[s];a.push(u);var c=[];switch(n){case"end":c[o]=l[o],c[1-o]=u[1-o],a.push(c);break;case"middle":var h=[];c[o]=h[o]=(u[o]+l[o])/2,c[1-o]=u[1-o],h[1-o]=l[1-o],a.push(c),a.push(h);break;default:c[o]=u[o],c[1-o]=l[1-o],a.push(c)}}return e[s]&&a.push(e[s]),a}function qb(e,t,n){if("cartesian2d"!==e.type)return Wb(e,t,n);var i=e.getBaseAxis().isHorizontal(),o=Vb(e,t,n);if(!n.get("clip",!0)){var a=o.shape,s=Math.max(a.width,a.height);i?(a.y-=s,a.height+=2*s):(a.x-=s,a.width+=2*s)}return o}function hl(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(i,o,a){var s=i.getData(),l=i.get("symbol"),u=i.get("symbolSize"),c=i.get("symbolKeepAspect"),d=i.get("symbolRotate"),h=on(l),m=on(u),y=on(d),T=h||m||y,H=!h&&l?l:t;if(s.setVisual({legendSymbol:n||H,symbol:H,symbolSize:m?null:u,symbolKeepAspect:c,symbolRotate:d}),!o.isSeriesFiltered(i))return{dataEach:s.hasItemOption||T?function($,se){if(T){var oe=i.getRawValue(se),Se=i.getDataParams(se);h&&$.setItemVisual(se,"symbol",l(oe,Se)),m&&$.setItemVisual(se,"symbolSize",u(oe,Se)),y&&$.setItemVisual(se,"symbolRotate",d(oe,Se))}if($.hasItemOption){var we=$.getItemModel(se),Te=we.getShallow("symbol",!0),Me=we.getShallow("symbolSize",!0),Pe=we.getShallow("symbolRotate",!0),Ke=we.getShallow("symbolKeepAspect",!0);null!=Te&&$.setItemVisual(se,"symbol",Te),null!=Me&&$.setItemVisual(se,"symbolSize",Me),null!=Pe&&$.setItemVisual(se,"symbolRotate",Pe),null!=Ke&&$.setItemVisual(se,"symbolKeepAspect",Ke)}}:null}}}}function gc(e){return{seriesType:e,plan:Xl(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,o=t.pipelineContext.large;if(i){var a=Re(i.dimensions,function(u){return n.mapDimension(u)}).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");return os(n,a[0])&&(a[0]=l),os(n,a[1])&&(a[1]=l),s&&{progress:function(u,c){for(var h=o&&new Float32Array((u.end-u.start)*s),m=u.start,y=0,T=[],H=[];m<u.end;m++){var R;if(1===s){var $=c.get(a[0],m);R=!isNaN($)&&i.dataToPoint($,null,H)}else{$=T[0]=c.get(a[0],m);var se=T[1]=c.get(a[1],m);R=!isNaN($)&&!isNaN(se)&&i.dataToPoint(T,null,H)}o?(h[y++]=R?R[0]:NaN,h[y++]=R?R[1]:NaN):c.setItemLayout(m,R&&R.slice()||[NaN,NaN])}o&&c.setLayout("symbolPoints",h)}}}}}}function oM(e,t){return Math.round(e.length/2)}wo.extend({type:"line",init:function(){var e=new E,t=new tu;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),s=e.getModel("lineStyle"),l=e.getModel("areaStyle"),u=a.mapArray(a.getItemLayout),c="polar"===i.type,d=this._coordSys,h=this._symbolDraw,m=this._polyline,y=this._polygon,T=this._lineGroup,H=e.get("animation"),R=!l.isEmpty(),$=l.get("origin"),se=function(mt,vt,wt){if(!wt.valueDim)return[];for(var Et=[],Rt=0,It=vt.count();Rt<It;Rt++)Et.push(Ig(wt,mt,vt,Rt));return Et}(i,a,Mg(i,a,$)),oe=e.get("showSymbol"),Se=oe&&!c&&function rM(e,t,n){var i=e.get("showAllSymbol"),o="auto"===i;if(!i||o){var a=n.getAxesByScale("ordinal")[0];if(a&&(!o||!function(u,c){var d=u.getExtent(),h=Math.abs(d[1]-d[0])/u.scale.count();isNaN(h)&&(h=0);for(var m=c.count(),y=Math.max(1,Math.round(m/5)),T=0;T<m;T+=y)if(1.5*Es.getSymbolSize(c,T)[u.isHorizontal()?1:0]>h)return!1;return!0}(a,t))){var s=t.mapDimension(a.dim),l={};return ue(a.getViewLabels(),function(u){l[u.tickValue]=1}),function(u){return!l.hasOwnProperty(t.get(s,u))}}}}(e,a,i),we=this._data;we&&we.eachItemGraphicEl(function(mt,vt){mt.__temp&&(o.remove(mt),we.setItemGraphicEl(vt,null))}),oe||h.remove(),o.add(T);var Te,Me=!c&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(null!=(Te=i.getArea()).width?(Te.x-=.1,Te.y-=.1,Te.width+=.2,Te.height+=.2):Te.r0&&(Te.r0-=.5,Te.r1+=.5)),this._clipShapeForSymbol=Te,m&&d.type===i.type&&Me===this._step?(R&&!y?y=this._newPolygon(u,se,i,H):y&&!R&&(T.remove(y),y=this._polygon=null),T.setClipPath(qb(i,!1,e)),oe&&h.updateData(a,{isIgnore:Se,clipShape:Te}),a.eachItemGraphicEl(function(mt){mt.stopAnimation(!0)}),jb(this._stackedOnPoints,se)&&jb(this._points,u)||(H?this._updateAnimation(a,se,i,n,Me,$):(Me&&(u=Ns(u,i,Me),se=Ns(se,i,Me)),m.setShape({points:u}),y&&y.setShape({points:u,stackedOnPoints:se})))):(oe&&h.updateData(a,{isIgnore:Se,clipShape:Te}),Me&&(u=Ns(u,i,Me),se=Ns(se,i,Me)),m=this._newPolyline(u,i,H),R&&(y=this._newPolygon(u,se,i,H)),T.setClipPath(qb(i,!0,e)));var Pe=function(mt,vt){var wt=mt.getVisual("visualMeta");if(wt&&wt.length&&mt.count()&&"cartesian2d"===vt.type){for(var Et,Rt,It=wt.length-1;0<=It;It--){var Cn=mt.getDimensionInfo(mt.dimensions[wt[It].dimension]);if("x"===(Et=Cn&&Cn.coordDim)||"y"===Et){Rt=wt[It];break}}if(Rt){var pn=vt.getAxis(Et),zn=Re(Rt.stops,function(rr){return{coord:pn.toGlobalCoord(pn.dataToCoord(rr.value)),color:rr.color}}),Zn=zn.length,fi=Rt.outerColors.slice();Zn&&zn[0].coord>zn[Zn-1].coord&&(zn.reverse(),fi.reverse());var En=zn[0].coord-10,ci=zn[Zn-1].coord+10,pi=ci-En;if(pi<.001)return"transparent";ue(zn,function(rr){rr.offset=(rr.coord-En)/pi}),zn.push({offset:Zn?zn[Zn-1].offset:.5,color:fi[1]||"transparent"}),zn.unshift({offset:Zn?zn[0].offset:.5,color:fi[0]||"transparent"});var Si=new $s(0,0,0,0,zn,!0);return Si[Et]=En,Si[Et+"2"]=ci,Si}}}(a,i)||a.getVisual("color");m.useStyle(De(s.getLineStyle(),{fill:"none",stroke:Pe,lineJoin:"bevel"}));var Ke=e.get("smooth");if(Ke=Gb(e.get("smooth")),m.setShape({smooth:Ke,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),y){var it=a.getCalculationInfo("stackedOnSeries"),lt=0;y.useStyle(De(l.getAreaStyle(),{fill:Pe,opacity:.7,lineJoin:"bevel"})),it&&(lt=Gb(it.get("smooth"))),y.setShape({smooth:Ke,stackedOnSmooth:lt,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=i,this._stackedOnPoints=se,this._points=u,this._step=Me,this._valueOrigin=$},dispose:function(){},highlight:function(e,t,n,i){var o=e.getData(),a=dd(o,i);if(!(a instanceof Array)&&null!=a&&0<=a){var s=o.getItemGraphicEl(a);if(!s){var l=o.getItemLayout(a);if(!l||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l[0],l[1]))return;(s=new Es(o,a)).position=l,s.setZ(e.get("zlevel"),e.get("z")),s.ignore=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,o.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else wo.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var o=e.getData(),a=dd(o,i);if(null!=a&&0<=a){var s=o.getItemGraphicEl(a);s&&(s.__temp?(o.setItemGraphicEl(a,null),this.group.remove(s)):s.downplay())}else wo.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new iM({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Hb({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n},_updateAnimation:function(e,t,n,i,o,a){var s=this._polyline,l=this._polygon,u=e.hostModel,c=function(se,oe,Se,we,Te,Me,Pe,Ke){for(var it=function(Go,Fo){var ps=[];return Fo.diff(Go).add(function(qs){ps.push({cmd:"+",idx:qs})}).update(function(qs,od){ps.push({cmd:"=",idx:od,idx1:qs})}).remove(function(qs){ps.push({cmd:"-",idx:qs})}).execute(),ps}(se,oe),lt=[],mt=[],vt=[],wt=[],Et=[],Rt=[],It=[],Gt=Mg(Te,oe,Pe),bn=Mg(Me,se,Ke),Cn=0;Cn<it.length;Cn++){var pn=it[Cn],zn=!0;switch(pn.cmd){case"=":var Zn=se.getItemLayout(pn.idx),fi=oe.getItemLayout(pn.idx1);(isNaN(Zn[0])||isNaN(Zn[1]))&&(Zn=fi.slice()),lt.push(Zn),mt.push(fi),vt.push(Se[pn.idx]),wt.push(we[pn.idx1]),It.push(oe.getRawIndex(pn.idx1));break;case"+":var En=pn.idx;lt.push(Te.dataToPoint([oe.get(Gt.dataDimsForPoint[0],En),oe.get(Gt.dataDimsForPoint[1],En)])),mt.push(oe.getItemLayout(En).slice()),vt.push(Ig(Gt,Te,oe,En)),wt.push(we[En]),It.push(oe.getRawIndex(En));break;case"-":var ci=se.getRawIndex(En=pn.idx);ci!==En?(lt.push(se.getItemLayout(En)),mt.push(Me.dataToPoint([se.get(bn.dataDimsForPoint[0],En),se.get(bn.dataDimsForPoint[1],En)])),vt.push(Se[En]),wt.push(Ig(bn,Me,se,En)),It.push(ci)):zn=!1}zn&&(Et.push(pn),Rt.push(Rt.length))}Rt.sort(function(Go,Fo){return It[Go]-It[Fo]});var pi=[],Si=[],rr=[],Xi=[],dr=[];for(Cn=0;Cn<Rt.length;Cn++)pi[Cn]=lt[En=Rt[Cn]],Si[Cn]=mt[En],rr[Cn]=vt[En],Xi[Cn]=wt[En],dr[Cn]=Et[En];return{current:pi,next:Si,stackedOnCurrent:rr,stackedOnNext:Xi,status:dr}}(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,a),d=c.current,h=c.stackedOnCurrent,m=c.next,y=c.stackedOnNext;if(o&&(d=Ns(c.current,n,o),h=Ns(c.stackedOnCurrent,n,o),m=Ns(c.next,n,o),y=Ns(c.stackedOnNext,n,o)),3e3<Ub(d,m)||l&&3e3<Ub(h,y))return s.setShape({points:m}),void(l&&l.setShape({points:m,stackedOnPoints:y}));s.shape.__points=c.current,s.shape.points=d,Ri(s,{shape:{points:m}},u),l&&(l.setShape({points:d,stackedOnPoints:h}),Ri(l,{shape:{points:m,stackedOnPoints:y}},u));for(var T=[],H=c.status,R=0;R<H.length;R++)if("="===H[R].cmd){var $=e.getItemGraphicEl(H[R].idx1);$&&T.push({el:$,ptIdx:R})}s.animators&&s.animators.length&&s.animators[0].during(function(){for(var se=0;se<T.length;se++)T[se].el.attr("position",s.shape.__points[T[se].ptIdx])})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(t.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var aM={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}};function sM(e){return this._axes[e]}function wh(e){this._axes={},this._dimList=[],this.name=e||""}function mc(e){wh.call(this,e)}function Sh(e,t,n,i,o){to.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom"}wh.prototype={constructor:wh,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return Re(this._dimList,sM,this)},getAxesByScale:function(e){return e=e.toLowerCase(),Je(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},o=0;o<n.length;o++){var a=n[o];i[a]=this._axes[a][t](e[a])}return i}},mc.prototype={constructor:mc,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis("x"),o=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=o.toGlobalCoord(o.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),a=i.getExtent(),s=n.parse(e[0]),l=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(t[0],t[1]);return new A(n,i,Math.max(e[0],e[1])-n,Math.max(t[0],t[1])-i)}},xe(mc,wh),Sh.prototype={constructor:Sh,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},xe(Sh,to);var Yb={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Ls={};function iu(e,t,n,i){ue(lM,function(o){t.extend({type:e+"Axis."+o,mergeDefaultAndTheme:function(a,s){var l=this.layoutMode,u=l?ql(a):{};de(a,s.getTheme().get(o+"Axis")),de(a,this.getDefaultOption()),a.type=n(e,a),l&&Cs(a,u,l)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=cc.createByAxisModel(this))},getCategories:function(a){var s=this.option;if("category"===s.type)return a?s.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:me([{},Ls[o+"Axis"],i],!0)})}),tr.registerSubTypeDefaulter(e+"Axis",Nt(n,e))}Ls.categoryAxis=de({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Yb),Ls.valueAxis=de({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Yb),Ls.timeAxis=De({scale:!0,min:"dataMin",max:"dataMax"},Ls.valueAxis),Ls.logAxis=De({scale:!0,logBase:10},Ls.valueAxis);var lM=["value","category","time","log"],ru=tr.extend({type:"cartesian2dAxis",axis:null,init:function(){ru.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){ru.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){ru.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function Xb(e,t){return t.type||(t.data?"category":"value")}de(ru.prototype,cl);var Zb={offset:0};function Lg(e,t){return e.getCoordSysModel()===t}function ou(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}iu("x",ru,Xb,Zb),iu("y",ru,Xb,Zb),tr.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var zo=ou.prototype;function Kb(e,t,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=e[t],s=n.model,l=s.get("axisLine.onZero"),u=s.get("axisLine.onZeroAxisIndex");if(l){if(null!=u)Jb(a[u])&&(o=a[u]);else for(var c in a)if(a.hasOwnProperty(c)&&Jb(a[c])&&!i[d(a[c])]){o=a[c];break}o&&(i[d(o)]=!0)}function d(h){return h.dim+"_"+h.index}}function Jb(e){return e&&"category"!==e.type&&"time"!==e.type&&function(t){var n=t.scale.getExtent(),i=n[0],o=n[1];return!(0<i&&0<o||i<0&&o<0)}(e)}zo.type="grid",zo.axisPointerEnabled=!0,zo.getRect=function(){return this._rect},zo.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),ue(n.x,function(o){ks(o.scale,o.model)}),ue(n.y,function(o){ks(o.scale,o.model)});var i={};ue(n.x,function(o){Kb(n,"y",o,i)}),ue(n.y,function(o){Kb(n,"x",o,i)}),this.resize(this.model,t)},zo.resize=function(e,t,n){var i=Qr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=i;var o=this._axesList;function a(){ue(o,function(s){var d,h,m,y,l=s.isHorizontal(),u=l?[0,i.width]:[0,i.height],c=s.inverse?1:0;s.setExtent(u[c],u[1-c]),h=l?i.x:i.y,m=(d=s).getExtent(),y=m[0]+m[1],d.toGlobalCoord="x"===d.dim?function(T){return T+h}:function(T){return y-T+h},d.toLocalCoord="x"===d.dim?function(T){return T-h}:function(T){return y-T+h}})}a(),!n&&e.get("containLabel")&&(ue(o,function(s){if(!s.model.get("axisLabel.inside")){var l=function(d){var m=d.scale;if(d.model.get("axisLabel.show")&&!m.isBlank()){var y,T,H="category"===d.type,R=m.getExtent();T=H?m.count():(y=m.getTicks()).length;var $,se,Se,we,Te,Me,Pe,Ke,it=d.getLabelModel(),lt=hc(d),mt=1;40<T&&(mt=Math.ceil(T/40));for(var vt=0;vt<T;vt+=mt){var wt=lt(y?y[vt]:R[0]+vt),Rt=(se=it.getTextRect(wt),Se=(it.get("rotate")||0)*Math.PI/180,Me=(we=se.plain()).height,Pe=(Te=we.width)*Math.abs(Math.cos(Se))+Math.abs(Me*Math.sin(Se)),Ke=Te*Math.abs(Math.sin(Se))+Math.abs(Me*Math.cos(Se)),new A(we.x,we.y,Pe,Ke));$?$.union(Rt):$=Rt}return $}}(s);if(l){var u=s.isHorizontal()?"height":"width",c=s.model.get("axisLabel.margin");i[u]-=l[u]+c,"top"===s.position?i.y+=l.height+c:"left"===s.position&&(i.x+=l.width+c)}}}),a())},zo.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},zo.getAxes=function(){return this._axesList.slice()},zo.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];Pt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===t)return o[i]},zo.getCartesians=function(){return this._coordsList.slice()},zo.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},zo.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},zo._findConvertTarget=function(e,t){var n,i,o=t.seriesModel,a=t.xAxisModel||o&&o.getReferringComponents("xAxis")[0],s=t.yAxisModel||o&&o.getReferringComponents("yAxis")[0],l=t.gridModel;return o?We(this._coordsList,n=o.coordinateSystem)<0&&(n=null):a&&s?n=this.getCartesian(a.componentIndex,s.componentIndex):a?i=this.getAxis("x",a.componentIndex):s?i=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},zo.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},zo._initCartesian=function(e,t,n){var i={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};if(t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);function s(l){return function(u,c){if(Lg(u,e)){var d=u.get("position");"x"===l?"top"!==d&&"bottom"!==d&&(d=i.bottom?"top":"bottom"):"left"!==d&&"right"!==d&&(d=i.left?"right":"left"),i[d]=!0;var h=new Sh(l,eu(u),[0,0],u.get("type"),d);h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),(u.axis=h).model=u,h.grid=this,h.index=c,this._axesList.push(h),o[l][c]=h,a[l]++}}}ue((this._axesMap=o).x,function(l,u){ue(o.y,function(c,d){var h="x"+u+"y"+d,m=new mc(h);m.grid=this,m.model=e,this._coordsMap[h]=m,this._coordsList.push(m),m.addAxis(l),m.addAxis(c)},this)},this)},zo._updateScale=function(e,t){function n(i,o){ue(i.mapDimension(o.dim,!0),function(a){o.scale.unionExtentFromData(i,uc(i,a))})}ue(this._axesList,function(i){i.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if($b(i)){var o=Qb(i),a=o[0],s=o[1];if(!Lg(a,t)||!Lg(s,t))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),d=l.getAxis("y");"list"===u.type&&(n(u,c),n(u,d))}},this)},zo.getTooltipAxes=function(e){var t=[],n=[];return ue(this.getCartesians(),function(i){var o=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),a=i.getOtherAxis(o);We(t,o)<0&&t.push(o),We(n,a)<0&&n.push(a)}),{baseAxes:t,otherAxes:n}};var uM=["xAxis","yAxis"];function Qb(e){return Re(uM,function(t){return e.getReferringComponents(t)[0]})}function $b(e){return"cartesian2d"===e.get("coordinateSystem")}function na(e,t){this.opt=t,this.axisModel=e,De(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new E;var n=new E({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n}ou.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,o){var a=new ou(i,e,t);a.name="grid_"+o,a.resize(i,t,!0),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if($b(i)){var o=Qb(i),a=o[0],s=o[1],l=a.getCoordSysModel().coordinateSystem;i.coordinateSystem=l.getCartesian(a.componentIndex,s.componentIndex)}}),n},ou.dimensions=ou.prototype.dimensions=mc.prototype.dimensions,Oo.register("cartesian2d",ou);var Rs=Math.PI;na.prototype={constructor:na,hasBuilder:function(e){return!!ex[e]},add:function(e){ex[e].call(this)},getGroup:function(){return this.group}};var ex={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,o=[n[0],0],a=[n[1],0];i&&(Mi(o,o,i),Mi(a,a,i));var s=he({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Mo({anid:"line",subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:s,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var l=t.get("axisLine.symbol"),u=t.get("axisLine.symbolSize"),c=t.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var d=u[0],h=u[1];ue([{rotate:e.rotation+Math.PI/2,offset:c[0],r:0},{rotate:e.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}],function(m,y){if("none"!==l[y]&&null!=l[y]){var T=da(l[y],-d/2,-h/2,d,h,s.stroke,!0),H=m.r+m.offset,R=[o[0]+H*Math.cos(e.rotation),o[1]-H*Math.sin(e.rotation)];T.attr({rotation:m.rotate,position:R,silent:!0,z2:11}),this.group.add(T)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(i,o,a){var s=o.axis,l=o.getModel("axisTick");if(l.get("show")&&!s.scale.isBlank()){for(var u=l.getModel("lineStyle"),c=a.tickDirection*l.get("length"),d=ax(s.getTicksCoords(),i._transform,c,De(u.getLineStyle(),{stroke:o.get("axisLine.lineStyle.color")}),"ticks"),h=0;h<d.length;h++)i.group.add(d[h]);return d}}(this,e,t);(function(i,o,a){if(!wb(i.axis)){var s=i.get("axisLabel.showMinLabel"),l=i.get("axisLabel.showMaxLabel"),u=(o=o||[])[0],c=o[1],d=o[o.length-1],h=o[o.length-2],m=(a=a||[])[0],y=a[1],T=a[a.length-1],H=a[a.length-2];!1===s?(Da(u),Da(m)):rx(u,c)&&(s?(Da(c),Da(y)):(Da(u),Da(m))),!1===l?(Da(d),Da(T)):rx(h,d)&&(l?(Da(h),Da(H)):(Da(d),Da(T)))}})(e,function(i,o,a){var s=o.axis;if(Mn(a.axisLabelShow,o.get("axisLabel.show"))&&!s.scale.isBlank()){var l=o.getModel("axisLabel"),u=l.get("margin"),c=s.getViewLabels(),d=(Mn(a.labelRotate,l.get("rotate"))||0)*Rs/180,h=nx(a.rotation,d,a.labelDirection),m=o.getCategories&&o.getCategories(!0),y=[],T=ix(o),H=o.get("triggerEvent");return ue(c,function(R,$){var se=R.tickValue,oe=R.formattedLabel,Se=R.rawLabel,we=l;m&&m[se]&&m[se].textStyle&&(we=new qi(m[se].textStyle,l,o.ecModel));var Te=we.getTextColor()||o.get("axisLine.lineStyle.color"),Me=[s.dataToCoord(se),a.labelOffset+a.labelDirection*u],Pe=new Hi({anid:"label_"+se,position:Me,rotation:h.rotation,silent:T,z2:10});Pr(Pe.style,we,{text:oe,textAlign:we.getShallow("align",!0)||h.textAlign,textVerticalAlign:we.getShallow("verticalAlign",!0)||we.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"==typeof Te?Te("category"===s.type?Se:"value"===s.type?se+"":se,$):Te}),H&&(Pe.eventData=tx(o),Pe.eventData.targetType="axisLabel",Pe.eventData.value=Se),i._dumbGroup.add(Pe),Pe.updateTransform(),y.push(Pe),i.group.add(Pe),Pe.decomposeTransform()}),y}}(this,e,t),n),function(i,o,a){var s=o.axis,l=o.getModel("minorTick");if(l.get("show")&&!s.scale.isBlank()){var u=s.getMinorTicksCoords();if(u.length)for(var c=l.getModel("lineStyle"),d=a.tickDirection*l.get("length"),h=De(c.getLineStyle(),De(o.getModel("axisTick").getLineStyle(),{stroke:o.get("axisLine.lineStyle.color")})),m=0;m<u.length;m++)for(var y=ax(u[m],i._transform,d,h,"minorticks_"+m),T=0;T<y.length;T++)i.group.add(y[T])}}(this,e,t)},axisName:function(){var Me,Ke,lt,mt,vt,wt,e=this.opt,t=this.axisModel,n=Mn(e.axisName,t.get("name"));if(n){var i,o,a=t.get("nameLocation"),s=e.nameDirection,l=t.getModel("nameTextStyle"),u=t.get("nameGap")||0,c=this.axisModel.axis.getExtent(),d=c[0]>c[1]?-1:1,h=["start"===a?c[0]-d*u:"end"===a?c[1]+d*u:(c[0]+c[1])/2,ox(a)?e.labelOffset+s*u:0],m=t.get("nameRotate");null!=m&&(m=m*Rs/180),ox(a)?i=nx(e.rotation,m??e.rotation,s):(Me=a,Ke=c,mt=xp((m||0)-e.rotation),vt=Ke[0]>Ke[1],wt="start"===Me&&!vt||"start"!==Me&&vt,i={rotation:mt,textAlign:ju(mt-Rs/2)?(lt=wt?"bottom":"top","center"):ju(mt-1.5*Rs)?(lt=wt?"top":"bottom","center"):(lt="middle",mt<1.5*Rs&&Rs/2<mt?wt?"left":"right":wt?"right":"left"),textVerticalAlign:lt},null!=(o=e.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(i.rotation)),isFinite(o)||(o=null)));var y=l.getFont(),T=t.get("nameTruncate",!0)||{},H=T.ellipsis,R=Mn(e.nameTruncateMaxWidth,T.maxWidth,o),$=null!=H&&null!=R?Fy(n,R,y,H,{minChar:2,placeholder:T.placeholder}):n,se=t.get("tooltip",!0),oe=t.mainType,Se={componentType:oe,name:n,$vars:["name"]};Se[oe+"Index"]=t.componentIndex;var we=new Hi({anid:"name",__fullText:n,__truncatedText:$,position:h,rotation:i.rotation,silent:ix(t),z2:1,tooltip:se&&se.show?he({content:n,formatter:function(){return n},formatterParams:Se},se):null});Pr(we.style,l,{text:$,textFont:y,textFill:l.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:l.get("align")||i.textAlign,textVerticalAlign:l.get("verticalAlign")||i.textVerticalAlign}),t.get("triggerEvent")&&(we.eventData=tx(t),we.eventData.targetType="axisName",we.eventData.name=n),this._dumbGroup.add(we),we.updateTransform(),this.group.add(we),we.decomposeTransform()}}},tx=na.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},nx=na.innerTextLayout=function(e,t,n){var i,o=xp(t-e);return{rotation:o,textAlign:ju(o)?(i=0<n?"top":"bottom","center"):ju(o-Rs)?(i=0<n?"bottom":"top","center"):(i="middle",0<o&&o<Rs?0<n?"right":"left":0<n?"left":"right"),textVerticalAlign:i}},ix=na.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function Da(e){e&&(e.ignore=!0)}function rx(e,t){var n=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(n&&i){var o=yr([]);return xr(o,o,-e.rotation),n.applyTransform(hr([],o,e.getLocalTransform())),i.applyTransform(hr([],o,t.getLocalTransform())),n.intersect(i)}}function ox(e){return"middle"===e||"center"===e}function ax(e,t,n,i,o){for(var a=[],s=[],l=[],u=0;u<e.length;u++){var c=e[u].coord;s[0]=c,l[s[1]=0]=c,l[1]=n,t&&(Mi(s,s,t),Mi(l,l,t));var d=new Mo({anid:o+"_"+e[u].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,silent:!0});a.push(d)}return a}var au=ue,Rg=Nt;function Pg(e,t){return"all"===e||bt(e)&&0<=We(e,t)||e===t}function Og(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[vc(e)]}function Bg(e){return!!e.get("handle.show")}function vc(e){return e.type+"||"+e.id}var ha=po({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&function(o){var a=Og(o);if(a){var s=a.axisPointerModel,l=a.axis.scale,u=s.option,c=s.get("status"),d=s.get("value");null!=d&&(d=l.parse(d));var h=Bg(s);null==c&&(u.status=h?"show":"hide");var m=l.getExtent().slice();m[0]>m[1]&&m.reverse(),(null==d||d>m[1])&&(d=m[1]),d<m[0]&&(d=m[0]),u.value=d,h&&(u.status=a.axis.scale.isBlank()?"hide":"show")}}(e),ha.superApply(this,"render",arguments),sx(this,e,0,n,0,!0)},updateAxisPointer:function(e,t,n,i,o){sx(this,e,0,n,0,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),ha.superApply(this,"remove",arguments)},dispose:function(e,t){lx(this,t),ha.superApply(this,"dispose",arguments)}});function sx(e,t,n,i,o,a){var c,s=ha.getAxisPointerClass(e.axisPointerClass);if(s){var l=(c=Og(t))&&c.axisPointerModel;l?(e._axisPointer||(e._axisPointer=new s)).render(t,l,i,a):lx(e,i)}}function lx(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}var ux=[];function zg(e,t,n){n=n||{};var i=e.coordinateSystem,o=t.axis,a={},s=o.getAxesOnZeroOf()[0],l=o.position,u=s?"onZero":l,c=o.dim,d=i.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],m={left:0,right:1,top:0,bottom:1,onZero:2},y=t.get("offset")||0,T="x"===c?[h[2]-y,h[3]+y]:[h[0]-y,h[1]+y];if(s){var H=s.toGlobalCoord(s.dataToCoord(0));T[m.onZero]=Math.max(Math.min(H,T[1]),T[0])}a.position=["y"===c?T[m[u]]:h[0],"x"===c?T[m[u]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],a.labelOffset=s?T[m[l]]-T[m.onZero]:0,t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),Mn(n.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var R=t.get("axisLabel.rotate");return a.labelRotate="top"===u?-R:R,a.z2=1,a}function cx(e,t,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=i.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var d=l.length,h=e.__splitAreaColors,m=Jt(),y=0;if(h)for(var T=0;T<c.length;T++){var H=h.get(c[T].tickValue);if(null!=H){y=(H+(d-1)*T)%d;break}}var R=o.toGlobalCoord(c[0].coord),$=s.getAreaStyle();for(l=bt(l)?l:[l],T=1;T<c.length;T++){var se,oe,Se,we,Te=o.toGlobalCoord(c[T].coord);R=o.isHorizontal()?(oe=u.y,we=u.height,(se=R)+(Se=Te-se)):(se=u.x,Se=u.width,(oe=R)+(we=Te-oe));var Me=c[T-1].tickValue;null!=Me&&m.set(Me,y),t.add(new er({anid:null!=Me?"area_"+Me:null,shape:{x:se,y:oe,width:Se,height:we},style:De({fill:l[y]},$),silent:!0})),y=(y+1)%d}e.__splitAreaColors=m}}}function dx(e){e.__splitAreaColors=null}ha.registerAxisPointerClass=function(e,t){ux[e]=t},ha.getAxisPointerClass=function(e){return e&&ux[e]};var dM=["axisLine","axisTickLabel","axisName"],hM=["splitArea","splitLine","minorSplitLine"],Fg=ha.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new E,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=zg(a,e),l=new na(e,s);ue(dM,l.add,l),this._axisGroup.add(l.getGroup()),ue(hM,function(u){e.get(u+".show")&&this["_"+u](e,a)},this),Od(o,this._axisGroup,e),Fg.superCall(this,"render",e,t,n,i)}},remove:function(){dx(this)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),a=o.get("color");a=bt(a)?a:[a];for(var s=t.coordinateSystem.getRect(),l=n.isHorizontal(),u=0,c=n.getTicksCoords({tickModel:i}),d=[],h=[],m=o.getLineStyle(),y=0;y<c.length;y++){var T=n.toGlobalCoord(c[y].coord);l?(d[0]=T,d[1]=s.y,h[0]=T,h[1]=s.y+s.height):(d[0]=s.x,d[1]=T,h[0]=s.x+s.width,h[1]=T);var H=u++%a.length;this._axisGroup.add(new Mo({anid:null!=c[y].tickValue?"line_"+c[y].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:De({stroke:a[H]},m),silent:!0}))}}},_minorSplitLine:function(e,t){var n=e.axis,i=e.getModel("minorSplitLine").getModel("lineStyle"),o=t.coordinateSystem.getRect(),a=n.isHorizontal(),s=n.getMinorTicksCoords();if(s.length)for(var l=[],u=[],c=i.getLineStyle(),d=0;d<s.length;d++)for(var h=0;h<s[d].length;h++){var m=n.toGlobalCoord(s[d][h].coord);a?(l[0]=m,l[1]=o.y,u[0]=m,u[1]=o.y+o.height):(l[0]=o.x,l[1]=m,u[0]=o.x+o.width,u[1]=m),this._axisGroup.add(new Mo({anid:"minor_line_"+s[d][h].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:c,silent:!0}))}},_splitArea:function(e,t){cx(this,this._axisGroup,e,t)}});Fg.extend({type:"xAxis"}),Fg.extend({type:"yAxis"}),po({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new er({shape:e.coordinateSystem.getRect(),style:De({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),ko(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),_r(hl("line","circle","line")),Br(gc("line")),ua(Ua.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(e,t,n){var i=e.getData(),o=e.get("sampling"),a=e.coordinateSystem;if("cartesian2d"===a.type&&o){var s,l=a.getBaseAxis(),u=a.getOtherAxis(l),c=l.getExtent(),d=Math.abs(c[1]-c[0]),h=Math.round(i.count()/d);1<h&&("string"==typeof o?s=aM[o]:"function"==typeof o&&(s=o),s&&e.setData(i.downSample(i.mapDimension(u.dim),1/h,s,oM)))}}});var hx=Or.extend({type:"series.__base_bar__",getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),o=i.getLayout("offset"),a=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=o+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});function fx(e,t,n,i,o,a){sa(e,t,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:o,labelDataIndex:a,defaultText:bh(o.getData(),a),isRectText:!0,autoColor:i}),px(e),px(t)}function px(e,t){"outside"===e.textPosition&&(e.textPosition=t)}hx.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return e<t&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var fM=zl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),pM={getBarItemStyle:function(e){var t=fM(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},gM=ba({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=.5*(a-o),l=o+s,u=t.startAngle,c=t.endAngle,d=t.clockwise,h=Math.cos(u),m=Math.sin(u),y=Math.cos(c),T=Math.sin(c);(d?c-u<2*Math.PI:u-c<2*Math.PI)&&(e.moveTo(h*o+n,m*o+i),e.arc(h*l+n,m*l+i,s,-Math.PI+u,u,!d)),e.arc(n,i,a,u,c,!d),e.moveTo(y*a+n,T*a+i),e.arc(y*l+n,T*l+i,s,c-2*Math.PI,c-Math.PI,!d),0!==o&&(e.arc(n,i,o,c,u,d),e.moveTo(h*o+n,T*o+i)),e.closePath()}}),mM=["itemStyle","barBorderWidth"],Ch=[0,0];he(qi.prototype,pM),ta({type:"bar",render:function(e,t,n){this._updateDrawMode(e);var i=e.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n)),this.group},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,n){var i,o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?i=u.isHorizontal():"polar"===l.type&&(i="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=e.get("clip",!0),h=function(we,Te){var Me=we.getArea&&we.getArea();if("cartesian2d"===we.type){var Pe=we.getBaseAxis();if("category"!==Pe.type||!Pe.onBand){var Ke=Te.getLayout("bandWidth");Pe.isHorizontal()?(Me.x-=Ke,Me.width+=2*Ke):(Me.y-=Ke,Me.height+=2*Ke)}}return Me}(l,a);function m(we){var Pe,Te=Th[l.type](a,we),Me=new("polar"===(Pe=l).type?Ma:er)({shape:Cx(i,Te,Pe),silent:!0,z2:0});return Me.useStyle(H.getBarItemStyle()),"cartesian2d"===l.type&&Me.setShape("r",R),$[we]=Me}o.removeClipPath();var y=e.get("roundCap",!0),T=e.get("showBackground",!0),H=e.getModel("backgroundStyle"),R=H.get("barBorderRadius")||0,$=[],se=this._backgroundEls||[];a.diff(s).add(function(we){var Te=a.getItemModel(we),Me=Th[l.type](a,we,Te);if(T&&m(we),a.hasValue(we)){if(d&&gx[l.type](h,Me))return void o.remove(Pe);var Pe=mx[l.type](we,Me,i,c,!1,y);a.setItemGraphicEl(we,Pe),o.add(Pe),bx(Pe,a,we,Te,Me,e,0,"polar"===l.type)}}).update(function(we,Te){var Me=a.getItemModel(we),Pe=Th[l.type](a,we,Me);if(T){var Ke;0===se.length?Ke=m(Te):((Ke=se[Te]).useStyle(H.getBarItemStyle()),"cartesian2d"===l.type&&Ke.setShape("r",R),$[we]=Ke);var it=Th[l.type](a,we);Ri(Ke,{shape:Cx(i,it,l)},c,we)}var lt=s.getItemGraphicEl(Te);if(a.hasValue(we)){if(d&&gx[l.type](h,Pe))return void o.remove(lt);lt?Ri(lt,{shape:Pe},c,we):lt=mx[l.type](we,Pe,i,c,!0,y),a.setItemGraphicEl(we,lt),o.add(lt),bx(lt,a,we,Me,Pe,e,0,"polar"===l.type)}else o.remove(lt)}).remove(function(we){var Te=s.getItemGraphicEl(we);"cartesian2d"===l.type?Te&&vx(we,c,Te):Te&&yx(we,c,Te)}).execute();var oe=this._backgroundGroup||(this._backgroundGroup=new E);oe.removeAll();for(var Se=0;Se<$.length;++Se)oe.add($[Se]);o.add(oe),this._backgroundEls=$,this._data=a},_renderLarge:function(e,t,n){this._clear(),_x(e,this.group);var i=e.get("clip",!0)?_h(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),_x(t,this.group,!0)},dispose:gn,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,n=this._data;e&&e.get("animation")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){"sector"===i.type?yx(i.dataIndex,e,i):vx(i.dataIndex,e,i)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var Hg=Math.max,Vg=Math.min,gx={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var o=Hg(t.x,e.x),a=Vg(t.x+t.width,e.x+e.width),s=Hg(t.y,e.y),l=Vg(t.y+t.height,e.y+e.height);t.x=o,t.y=s,t.width=a-o,t.height=l-s;var u=t.width<0||t.height<0;return n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}i=Vg(t.r,e.r);var o=Hg(t.r0,e.r0),a=(t.r=i)-(t.r0=o)<0;return n<0&&(i=t.r,t.r=t.r0,t.r0=i),a}},mx={cartesian2d:function(e,t,n,i,o){var a=new er({shape:he({},t),z2:1});if(a.name="item",i){var s=n?"height":"width",l={};a.shape[s]=0,l[s]=t[s],ts[o?"updateProps":"initProps"](a,{shape:l},i,e)}return a},polar:function(e,t,n,i,o,a){var l=new(!n&&a?gM:Ma)({shape:De({clockwise:t.startAngle<t.endAngle},t),z2:1});if(l.name="item",i){var u=n?"r":"endAngle",c={};l.shape[u]=n?0:t.startAngle,c[u]=t[u],ts[o?"updateProps":"initProps"](l,{shape:c},i,e)}return l}};function vx(e,t,n){n.style.text=null,Ri(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function yx(e,t,n){n.style.text=null,Ri(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}var Th={cartesian2d:function(e,t,n){var u,c,d,h,i=e.getItemLayout(t),o=n?(u=i,c=n.get(mM)||0,d=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),h=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height),Math.min(c,d,h)):0,a=0<i.width?1:-1,s=0<i.height?1:-1;return{x:i.x+a*o/2,y:i.y+s*o/2,width:i.width-a*o,height:i.height-s*o}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function Wg(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function bx(e,t,n,i,o,a,s,l){var u=t.getItemVisual(n,"color"),c=t.getItemVisual(n,"opacity"),d=t.getVisual("borderColor"),h=i.getModel("itemStyle"),m=i.getModel("emphasis.itemStyle").getBarItemStyle();l||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(De({stroke:Wg(o)?"none":d,fill:Wg(o)?"none":u,opacity:c},h.getBarItemStyle()));var y=i.getShallow("cursor");y&&e.attr("cursor",y),l||fx(e.style,m,i,u,a,n),Wg(o)&&(m.fill=m.stroke="none"),Cr(e,m)}var xx=Gi.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var n=t.points,i=this.__startPoint,o=this.__baseDimIdx,a=0;a<n.length;a+=2)i[o]=n[a+o],e.moveTo(i[0],i[1]),e.lineTo(n[a],n[a+1])}});function _x(e,t,n){var i=e.getData(),o=[],a=i.getLayout("valueAxisHorizontal")?1:0;o[1-a]=i.getLayout("valueAxisStart");var y,T,H,R,$,s=i.getLayout("largeDataIndices"),l=i.getLayout("barWidth"),u=e.getModel("backgroundStyle");if(e.get("showBackground",!0)){var c=i.getLayout("largeBackgroundPoints"),d=[];d[1-a]=i.getLayout("backgroundStart");var h=new xx({shape:{points:c},incremental:!!n,__startPoint:d,__baseDimIdx:a,__largeDataIndices:s,__barWidth:l,silent:!0,z2:0});y=h,H=i,R=(T=u).get("borderColor")||T.get("color"),$=T.getItemStyle(["color","borderColor"]),y.useStyle($),y.style.fill=null,y.style.stroke=R,y.style.lineWidth=H.getLayout("barWidth"),t.add(h)}var m=new xx({shape:{points:i.getLayout("largePoints")},incremental:!!n,__startPoint:o,__baseDimIdx:a,__largeDataIndices:s,__barWidth:l});t.add(m),function(y,T,H){var R=H.getVisual("borderColor")||H.getVisual("color"),$=T.getModel("itemStyle").getItemStyle(["color","borderColor"]);y.useStyle($),y.style.fill=null,y.style.stroke=R,y.style.lineWidth=H.getLayout("barWidth")}(m,e,i),m.seriesIndex=e.seriesIndex,e.get("silent")||(m.on("mousedown",Sx),m.on("mousemove",Sx))}var Sx=Kd(function(e){var t=function(n,i,o){var a=n.__baseDimIdx,s=1-a,l=n.shape.points,u=n.__largeDataIndices,c=Math.abs(n.__barWidth/2),d=n.__startPoint[s];Ch[0]=i,Ch[1]=o;for(var h=Ch[a],m=Ch[1-a],y=h-c,T=h+c,H=0,R=l.length/2;H<R;H++){var $=2*H,se=l[$+a],oe=l[$+s];if(y<=se&&se<=T&&(d<=oe?d<=m&&m<=oe:oe<=m&&m<=d))return u[H]}return-1}(this,e.offsetX,e.offsetY);this.dataIndex=0<=t?t:null},30,!1);function Cx(e,t,n){var i,o="polar"===n.type;return i=o?n.getArea():n.grid.getRect(),o?{cx:i.cx,cy:i.cy,r0:e?i.r0:t.r0,r:e?i.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:i.x,y:e?i.y:t.y,width:e?t.width:i.width,height:e?i.height:t.height}}function su(e,t,n){t=bt(t)&&{coordDimensions:t}||he({},t);var i=e.getSource(),o=Jl(i,t),a=new go(o,e);return a.initData(i,n),a}Br(Ua.VISUAL.LAYOUT,Nt(pb,"bar")),Br(Ua.VISUAL.PROGRESSIVE_LAYOUT,EA),_r({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}});var jg={updateSelectedMap:function(e){this._targetList=bt(e)?e.slice():[],this._selectTargetMap=je(e||[],function(t,n){return t.set(n.name,n),t},Jt())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(i){i.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};function yc(e,t){this.getAllNames=function(){var n=t();return n.mapArray(n.getName)},this.containName=function(n){return 0<=t().indexOfName(n)},this.indexOfName=function(n){return e().indexOfName(n)},this.getItemVisual=function(n,i){return e().getItemVisual(n,i)}}var Dh=ch({type:"series.pie",init:function(e){Dh.superApply(this,"init",arguments),this.legendVisualProvider=new yc(dt(this.getData,this),dt(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){Dh.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return su(this,{coordDimensions:["value"],encodeDefaulter:Nt(Np,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),n=[],i=0,o=e.count();i<o;i++)n.push({name:e.getName(i),value:e.get(t,i),selected:c1(e,i,"selected")});return n},getDataParams:function(e){var t=this.getData(),n=Dh.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),function(o){i.push(o)}),n.percent=Ly(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){Xs(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});function vM(e,t,n,i){var o=t.getData(),s=o.getName(this.dataIndex),l=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),o.each(function(u){Tx(o.getItemGraphicEl(u),o.getItemLayout(u),t.isSelected(o.getName(u)),l,n)})}function Tx(e,t,n,i,o){var a=(t.startAngle+t.endAngle)/2,s=n?i:0,l=[Math.cos(a)*s,Math.sin(a)*s];o?e.animate().when(200,{position:l}).start("bounceOut"):e.attr("position",l)}function Ug(e,t){E.call(this);var n=new Ma({z2:2}),i=new ya,o=new Hi;this.add(n),this.add(i),this.add(o),this.updateData(e,t,!0)}ke(Dh,jg);var Dx=Ug.prototype;function Ax(e,t){ue(t,function(n){n.update="updateView",Yi(n,function(i,o){var a={};return o.eachComponent({mainType:"series",subType:e,query:i},function(s){s[n.method]&&s[n.method](i.name,i.dataIndex);var l=s.getData();l.each(function(u){var c=l.getName(u);a[c]=s.isSelected(c)||!1})}),{name:i.name,selected:a,seriesId:i.seriesId}})})}function Ah(e){return{getTargetSeries:function(t){var n={},i=Jt();return t.eachSeriesByType(e,function(o){o.__paletteScope=n,i.set(o.uid,o)}),i},reset:function(t,n){var i=t.getRawData(),o={},a=t.getData();a.each(function(s){var l=a.getRawIndex(s);o[l]=s}),i.each(function(s){var l,u=o[s],c=null!=u&&a.getItemVisual(u,"color",!0),d=null!=u&&a.getItemVisual(u,"borderColor",!0);if(c&&d||(l=i.getItemModel(s)),!c){var h=l.get("itemStyle.color")||t.getColorFromPalette(i.getName(s)||s+"",t.__paletteScope,i.count());null!=u&&a.setItemVisual(u,"color",h)}if(!d){var m=l.get("itemStyle.borderColor");null!=u&&a.setItemVisual(u,"borderColor",m)}})}}}Dx.updateData=function(e,t,n){var i=this.childAt(0),o=this.childAt(1),a=this.childAt(2),s=e.hostModel,l=e.getItemModel(t),u=e.getItemLayout(t),c=he({},u);c.label=null;var d=s.getShallow("animationTypeUpdate");n?(i.setShape(c),"scale"===s.getShallow("animationType")?(i.shape.r=u.r0,Ro(i,{shape:{r:u.r}},s,t)):(i.shape.endAngle=u.startAngle,Ri(i,{shape:{endAngle:u.endAngle}},s,t))):"expansion"===d?i.setShape(c):Ri(i,{shape:c},s,t);var h=e.getItemVisual(t,"color");i.useStyle(De({lineJoin:"bevel",fill:h},l.getModel("itemStyle").getItemStyle())),i.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var m=l.getShallow("cursor");m&&i.attr("cursor",m),Tx(this,e.getItemLayout(t),s.isSelected(e.getName(t)),s.get("selectedOffset"),s.get("animation")),this._updateLabel(e,t,!n&&"transition"===d),this.highDownOnUpdate=s.get("silent")?null:function(T,H){var R=s.isAnimationEnabled()&&l.get("hoverAnimation");"emphasis"===H?(o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore,R&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r+s.get("hoverOffset")}},300,"elasticOut"))):(o.ignore=o.normalIgnore,a.ignore=a.normalIgnore,R&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r}},300,"elasticOut")))},Cr(this)},Dx._updateLabel=function(e,t,n){var i=this.childAt(1),o=this.childAt(2),a=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t).label,u=e.getItemVisual(t,"color");if(!l||isNaN(l.x)||isNaN(l.y))o.ignore=o.normalIgnore=o.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var c={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},d={x:l.x,y:l.y};n?(Ri(i,{shape:c},a,t),Ri(o,{style:d},a,t)):(i.attr({shape:c}),o.attr({style:d})),o.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var h=s.getModel("label"),m=s.getModel("emphasis.label"),y=s.getModel("labelLine"),T=s.getModel("emphasis.labelLine");u=e.getItemVisual(t,"color"),sa(o.style,o.hoverStyle={},h,m,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:l.text,autoColor:u,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),o.ignore=o.normalIgnore=!h.get("show"),o.hoverIgnore=!m.get("show"),i.ignore=i.normalIgnore=!y.get("show"),i.hoverIgnore=!T.get("show"),i.setStyle({stroke:u,opacity:e.getItemVisual(t,"opacity")}),i.setStyle(y.getModel("lineStyle").getLineStyle()),i.hoverStyle=T.getModel("lineStyle").getLineStyle();var H=y.get("smooth");H&&!0===H&&(H=.4),i.setShape({smooth:H})}},xe(Ug,E),wo.extend({type:"pie",init:function(){var e=new E;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var o=e.getData(),a=this._data,s=this.group,l=t.get("animation"),u=!a,c=e.get("animationType"),d=e.get("animationTypeUpdate"),h=Nt(vM,this.uid,e,l,n),m=e.get("selectedMode");if(o.diff(a).add(function($){var se=new Ug(o,$);u&&"scale"!==c&&se.eachChild(function(oe){oe.stopAnimation(!0)}),m&&se.on("click",h),o.setItemGraphicEl($,se),s.add(se)}).update(function($,se){var oe=a.getItemGraphicEl(se);u||"transition"===d||oe.eachChild(function(Se){Se.stopAnimation(!0)}),oe.updateData(o,$),oe.off("click"),m&&oe.on("click",h),s.add(oe),o.setItemGraphicEl($,oe)}).remove(function($){var se=a.getItemGraphicEl($);s.remove(se)}).execute(),l&&0<o.count()&&(u?"scale"!==c:"transition"!==d)){for(var y=o.getItemLayout(0),T=1;isNaN(y.startAngle)&&T<o.count();++T)y=o.getItemLayout(T);var H=Math.max(n.getWidth(),n.getHeight())/2,R=dt(s.removeClipPath,s);s.setClipPath(this._createClipPath(y.cx,y.cy,H,y.startAngle,y.clockwise,R,e,u))}else s.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(e,t,n,i,o,a,s,l){var u=new Ma({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:o}});return(l?Ro:Ri)(u,{shape:{endAngle:i+(o?1:-1)*Math.PI*2}},s,a),u},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var yM=Math.PI/180;function Mx(e,t,n,i,o,a,s,l,u,c){function d(Se,we,Te){for(var Me=Se;Me<we&&!(e[Me].y+Te>u+s);Me++)if(e[Me].y+=Te,Se<Me&&Me+1<we&&e[Me+1].y>e[Me].y+e[Me].height)return void h(Me,Te/2);h(we-1,Te/2)}function h(Se,we){for(var Te=Se;0<=Te&&!(e[Te].y-we<u)&&(e[Te].y-=we,!(0<Te&&e[Te].y>e[Te-1].y+e[Te-1].height));Te--);}function m(Se,we,Te,Me,Pe,Ke){for(var it=we?Number.MAX_VALUE:0,lt=0,mt=Se.length;lt<mt;lt++)if("none"===Se[lt].labelAlignTo){var vt=Math.abs(Se[lt].y-Me),wt=Se[lt].len,Et=Se[lt].len2,Rt=vt<Pe+wt?Math.sqrt((Pe+wt+Et)*(Pe+wt+Et)-vt*vt):Math.abs(Se[lt].x-Te);we&&it<=Rt&&(Rt=it-10),!we&&Rt<=it&&(Rt=it+10),Se[lt].x=Te+Rt*Ke,it=Rt}}e.sort(function(Se,we){return Se.y-we.y});for(var y,T=0,H=e.length,R=[],$=[],se=0;se<H;se++)"outer"===e[se].position&&"labelLine"===e[se].labelAlignTo&&(e[se].linePoints[1][0]+=e[se].x-c,e[se].x=c),(y=e[se].y-T)<0&&d(se,H,-y),T=e[se].y+e[se].height;for(s-T<0&&h(H-1,T-s),se=0;se<H;se++)e[se].y>=n?$.push(e[se]):R.push(e[se]);m(R,!1,t,n,i,o),m($,!0,t,n,i,o)}function Ix(e){return"center"===e.position}var Mh=2*Math.PI,kx=Math.PI/180;function bc(e){return{seriesType:e,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(i&&i.length){var o=t.getData();o.filterSelf(function(a){for(var s=o.getName(a),l=0;l<i.length;l++)if(!i[l].isSelected(s))return!1;return!0})}}}}Ax("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),_r(Ah("pie")),Br(Nt(function(e,t,n,i){t.eachSeriesByType(e,function(o){var Rt,a=o.getData(),s=a.mapDimension("value"),l=(Rt=n,Qr(o.getBoxLayoutParams(),{width:Rt.getWidth(),height:Rt.getHeight()})),u=o.get("center"),c=o.get("radius");bt(c)||(c=[0,c]),bt(u)||(u=[u,u]);var d=Kn(l.width,n.getWidth()),h=Kn(l.height,n.getHeight()),m=Math.min(d,h),y=Kn(u[0],d)+l.x,T=Kn(u[1],h)+l.y,H=Kn(c[0],m/2),R=Kn(c[1],m/2),$=-o.get("startAngle")*kx,se=o.get("minAngle")*kx,oe=0;a.each(s,function(Et){isNaN(Et)||oe++});var Se=a.getSum(s),we=Math.PI/(Se||oe)*2,Te=o.get("clockwise"),Me=o.get("roseType"),Pe=o.get("stillShowZeroSum"),Ke=a.getDataExtent(s);Ke[0]=0;var it=Mh,lt=0,mt=$,vt=Te?1:-1;if(a.each(s,function(Et,Rt){var It;if(isNaN(Et))a.setItemLayout(Rt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:Te,cx:y,cy:T,r0:H,r:Me?NaN:R,viewRect:l});else{(It="area"!==Me?0===Se&&Pe?we:Et*we:Mh/oe)<se?it-=It=se:lt+=Et;var Gt=mt+vt*It;a.setItemLayout(Rt,{angle:It,startAngle:mt,endAngle:Gt,clockwise:Te,cx:y,cy:T,r0:H,r:Me?Tr(Et,Ke,[H,R]):R,viewRect:l}),mt=Gt}}),it<Mh&&oe)if(it<=.001){var wt=Mh/oe;a.each(s,function(Et,Rt){if(!isNaN(Et)){var It=a.getItemLayout(Rt);It.angle=wt,It.startAngle=$+vt*Rt*wt,It.endAngle=$+vt*(Rt+1)*wt}})}else we=it/lt,mt=$,a.each(s,function(Et,Rt){if(!isNaN(Et)){var It=a.getItemLayout(Rt),Gt=It.angle===se?se:Et*we;It.startAngle=mt,It.endAngle=mt+vt*Gt,mt+=vt*Gt}});!function bM(e,t,n,i,o,a){var s,l,u=e.getData(),c=[],d=!1,h=(e.get("minShowLabelAngle")||0)*yM;u.each(function(m){var y=u.getItemLayout(m),T=u.getItemModel(m),H=T.getModel("label"),R=H.get("position")||T.get("emphasis.label.position"),$=H.get("distanceToLabelLine"),se=H.get("alignTo"),oe=Kn(H.get("margin"),n),Se=H.get("bleedMargin"),we=H.getFont(),Te=T.getModel("labelLine"),Me=Te.get("length");Me=Kn(Me,n);var Pe=Te.get("length2");if(Pe=Kn(Pe,n),!(y.angle<h)){var Ke,it,lt,mt,vt=(y.startAngle+y.endAngle)/2,wt=Math.cos(vt),Et=Math.sin(vt);s=y.cx,l=y.cy;var Rt,It=e.getFormattedLabel(m,"normal")||u.getName(m),Gt=Yn(It,we,mt,"top"),bn="inside"===R||"inner"===R;if("center"===R)Ke=y.cx,it=y.cy,mt="center";else{var Cn=(bn?(y.r+y.r0)/2*wt:y.r*wt)+s,pn=(bn?(y.r+y.r0)/2*Et:y.r*Et)+l;if(Ke=Cn+3*wt,it=pn+3*Et,!bn){var zn=Cn+wt*(Me+t-y.r),Zn=pn+Et*(Me+t-y.r),fi=zn+(wt<0?-1:1)*Pe;Ke="edge"===se?wt<0?o+oe:o+n-oe:fi+(wt<0?-$:$),lt=[[Cn,pn],[zn,Zn],[fi,it=Zn]]}mt=bn?"center":"edge"===se?0<wt?"right":"left":0<wt?"left":"right"}var En=H.get("rotate");Rt="number"==typeof En?En*(Math.PI/180):En?wt<0?-vt+Math.PI:-vt:0,d=!!Rt,y.label={x:Ke,y:it,position:R,height:Gt.height,len:Me,len2:Pe,linePoints:lt,textAlign:mt,verticalAlign:"middle",rotation:Rt,inside:bn,labelDistance:$,labelAlignTo:se,labelMargin:oe,bleedMargin:Se,textRect:Gt,text:It,font:we},bn||c.push(y.label)}}),!d&&e.get("avoidLabelOverlap")&&function(m,y,T,H,R,$,se,oe){for(var Se=[],we=[],Te=Number.MAX_VALUE,Me=-Number.MAX_VALUE,Pe=0;Pe<m.length;Pe++)Ix(m[Pe])||(m[Pe].x<y?(Te=Math.min(Te,m[Pe].x),Se.push(m[Pe])):(Me=Math.max(Me,m[Pe].x),we.push(m[Pe])));for(Mx(we,y,T,H,1,0,$,0,oe,Me),Mx(Se,y,T,H,-1,0,$,0,oe,Te),Pe=0;Pe<m.length;Pe++){var Ke=m[Pe];if(!Ix(Ke)){var it=Ke.linePoints;if(it){var lt,mt="edge"===Ke.labelAlignTo,vt=Ke.textRect.width;(lt=mt?Ke.x<y?it[2][0]-Ke.labelDistance-se-Ke.labelMargin:se+R-Ke.labelMargin-it[2][0]-Ke.labelDistance:Ke.x<y?Ke.x-se-Ke.bleedMargin:se+R-Ke.x-Ke.bleedMargin)<Ke.textRect.width&&(Ke.text=si(Ke.text,lt,Ke.font),"edge"===Ke.labelAlignTo&&(vt=Gn(Ke.text,Ke.font)));var wt=it[1][0]-it[2][0];mt?it[2][0]=Ke.x<y?se+Ke.labelMargin+vt+Ke.labelDistance:se+R-Ke.labelMargin-vt-Ke.labelDistance:(it[2][0]=Ke.x<y?Ke.x+Ke.labelDistance:Ke.x-Ke.labelDistance,it[1][0]=it[2][0]+wt),it[1][1]=it[2][1]=Ke.y}}}}(c,s,l,t,n,i,o,a)}(o,R,l.width,l.height,l.x,l.y)})},"pie")),ua(bc("pie")),Or.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});var Gg=ba({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(e,t){var n=t.points,i=t.size,o=this.symbolProxy,a=o.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var s=0;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||this.softClipShape&&!this.softClipShape.contain(l,u)||(a.x=l-i[0]/2,a.y=u-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(e,a,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||isNaN(s)||this.softClipShape&&!this.softClipShape.contain(a,s)||e.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,o=n.size,a=Math.max(o[0],4),s=Math.max(o[1],4),l=i.length/2-1;0<=l;l--){var u=2*l,c=i[u]-a/2,d=i[1+u]-s/2;if(c<=e&&d<=t&&e<=c+a&&t<=d+s)return l}return-1}});function Ex(){this.group=new E}var Ps=Ex.prototype;function Nx(e,t,n){to.call(this,e,t,n),this.type="value",this.angle=0,this.name=""}function Xa(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=Re(e.getIndicatorModels(),function(i,o){var a="indicator_"+o,s=new Nx(a,"log"===i.get("axisType")?new vh:new qa);return s.name=i.get("name"),(s.model=i).axis=s,this.dimensions.push(a),s},this),this.resize(e,n)}Ps.isPersistent=function(){return!this._incremental},Ps.updateData=function(e,t){this.group.removeAll();var n=new Gg({rectHover:!0,cursor:"default"});n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!1,t),this.group.add(n),this._incremental=null},Ps.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild(function(n){null!=n.startIndex&&(t=new Float32Array(t.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",t)})}},Ps.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),2e6<e.count()?(this._incremental||(this._incremental=new aa({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Ps.incrementalUpdate=function(e,t,n){var i;this._incremental?(i=new Gg,this._incremental.addDisplayable(i,!0)):((i=new Gg({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(i)),i.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(i,t,!!this._incremental,n)},Ps._setCommon=function(e,t,n,i){var o=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=da(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("color");l&&e.setColor(l),n||(e.seriesIndex=o.seriesIndex,e.on("mousemove",function(u){e.dataIndex=null;var c=e.findDataIndex(u.offsetX,u.offsetY);0<=c&&(e.dataIndex=c+(e.startIndex||0))}))},Ps.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ps._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},ta({type:"scatter",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||1e4<i.count()||!this._symbolDraw.isPersistent())return{update:!0};var o=gc().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new Ex:new tu,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),_r(hl("scatter","circle")),Br(gc("scatter")),xe(Nx,to),Xa.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Xa.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},Xa.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},Xa.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var o,a=Math.atan2(-n,t),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],d=Math.abs(a-c.angle);d<s&&(o=c,l=u,s=d)}return[l,+(o&&o.coordToData(i))]},Xa.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),a=Math.min(i,o)/2;this.cx=Kn(n[0],i),this.cy=Kn(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");"string"!=typeof s&&"number"!=typeof s||(s=[0,s]),this.r0=Kn(s[0],a),this.r=Kn(s[1],a),ue(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},Xa.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;ue(n,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&e.getComponent("radar",s.get("radarIndex"))===i){var u=s.getData();ue(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var o=i.get("splitNumber");function a(s){var l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/l;return 2===u?u=5:u*=2,u*l}ue(n,function(s,l){var u=_b(s.scale,s.model).extent;ks(s.scale,s.model);var c=s.model,d=s.scale,h=c.getMin(),m=c.getMax(),y=d.getInterval();if(null!=h&&null!=m)d.setExtent(+h,+m),d.setInterval((m-h)/o);else if(null!=h)for(;d.setExtent(+h,H=h+y*o),d.setInterval(y),y=a(y),H<u[1]&&isFinite(H)&&isFinite(u[1]););else if(null!=m)for(;d.setExtent(R=m-y*o,+m),d.setInterval(y),y=a(y),R>u[0]&&isFinite(R)&&isFinite(u[0]););else{var T=d.getTicks().length-1;o<T&&(y=a(y));var H,R=ao((H=Math.ceil(u[1]/y)*y)-y*o);d.setExtent(R,H),d.setInterval(y)}})},Xa.dimensions=[],Xa.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var o=new Xa(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},Oo.register("radar",Xa);var xc=Ls.valueAxis;function Ih(e,t){return De({show:t},e)}ca({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisType"),s=this.get("axisLabel"),l=this.get("name"),u=this.get("name.show"),c=this.get("name.formatter"),d=this.get("nameGap"),h=this.get("triggerEvent"),m=Re(this.get("indicator")||[],function(y){null!=y.max&&0<y.max&&!y.min?y.min=0:null!=y.min&&y.min<0&&!y.max&&(y.max=0);var T=l;null!=y.color&&(T=De({color:y.color},l)),y=de(K(y),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:o,axisType:a,axisLabel:s,name:y.text,nameLocation:"end",nameGap:d,nameTextStyle:T,triggerEvent:h},!1),u||(y.name=""),"string"==typeof c?y.name=c.replace("{value}",y.name??""):"function"==typeof c&&(y.name=c(y.name,y));var R=he(new qi(y,null,this.ecModel),cl);return R.mainType="radar",R.componentIndex=this.componentIndex,R},this);this.getIndicatorModels=function(){return m}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:de({lineStyle:{color:"#bbb"}},xc.axisLine),axisLabel:Ih(xc.axisLabel,!1),axisTick:Ih(xc.axisTick,!1),axisType:"interval",splitLine:Ih(xc.splitLine,!0),splitArea:Ih(xc.splitArea,!0),indicator:[]}});var xM=["axisLine","axisTickLabel","axisName"];po({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;ue(Re(t.getIndicatorAxes(),function(n){return new na(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(n){ue(xM,n.add,n),this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),o=e.getModel("splitLine"),a=e.getModel("splitArea"),s=o.getModel("lineStyle"),l=a.getModel("areaStyle"),u=o.get("show"),c=a.get("show"),d=s.get("color"),h=l.get("color");d=bt(d)?d:[d],h=bt(h)?h:[h];var m=[],y=[];if("circle"===i)for(var T=n[0].getTicksCoords(),H=t.cx,R=t.cy,$=0;$<T.length;$++)u&&m[Ke(m,d,$)].push(new Fa({shape:{cx:H,cy:R,r:T[$].coord}})),c&&$<T.length-1&&y[Ke(y,h,$)].push(new Td({shape:{cx:H,cy:R,r0:T[$].coord,r:T[$+1].coord}}));else{var se,oe=Re(n,function(it,lt){var mt=it.getTicksCoords();return se=null==se?mt.length-1:Math.min(mt.length-1,se),Re(mt,function(vt){return t.coordToPoint(vt.coord,lt)})}),Se=[];for($=0;$<=se;$++){for(var we=[],Te=0;Te<n.length;Te++)we.push(oe[Te][$]);we[0]&&we.push(we[0].slice()),u&&m[Ke(m,d,$)].push(new ya({shape:{points:we}})),c&&Se&&y[Ke(y,h,$-1)].push(new $o({shape:{points:we.concat(Se)}})),Se=we.slice().reverse()}}var Me=s.getLineStyle(),Pe=l.getAreaStyle();ue(y,function(it,lt){this.group.add(xa(it,{style:De({stroke:"none",fill:h[lt%h.length]},Pe),silent:!0}))},this),ue(m,function(it,lt){this.group.add(xa(it,{style:De({fill:"none",stroke:d[lt%d.length]},Me),silent:!0}))},this)}function Ke(it,lt,mt){var vt=mt%lt.length;return it[vt]=it[vt]||[],vt}}});var _M=Or.extend({type:"series.radar",dependencies:["radar"],init:function(e){_M.superApply(this,"init",arguments),this.legendVisualProvider=new yc(dt(this.getData,this),dt(this.getRawData,this))},getInitialData:function(e,t){return su(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e,t,n,i){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l="html"===i?"<br/>":"\n";return Ir(""===s?this.name:s)+l+Re(a,function(u,c){var d=o.get(o.mapDimension(u.dim),e);return Ir(u.name+" : "+d)}).join(l)},getTooltipPosition:function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,i=t.getValues(Re(n.dimensions,function(l){return t.mapDimension(l)}),e,!0),o=0,a=i.length;o<a;o++)if(!isNaN(i[o])){var s=n.getIndicatorAxes();return n.coordToPoint(s[o].dataToCoord(i[o]),o)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function Lx(e){return!isNaN(e[0])&&!isNaN(e[1])}function Rx(e){return[e.cx,e.cy]}ta({type:"radar",render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),s=this._data;function l(d,h){var $,m=d.getItemVisual(h,"symbol")||"circle",y=d.getItemVisual(h,"color");if("none"!==m){var T=(bt($=d.getItemVisual(h,"symbolSize"))||($=[+$,+$]),$),H=da(m,-1,-1,2,2,y),R=d.getItemVisual(h,"symbolRotate")||0;return H.attr({style:{strokeNoScale:!0},z2:100,scale:[T[0]/2,T[1]/2],rotation:R*Math.PI/180||0}),H}}function u(d,h,m,y,T,H){m.removeAll();for(var R=0;R<h.length-1;R++){var $=l(y,T);$&&(d[$.__dimIdx=R]?($.attr("position",d[R]),ts[H?"initProps":"updateProps"]($,{position:h[R]},e,T)):$.attr("position",h[R]),m.add($))}}function c(d){return Re(d,function(h){return[i.cx,i.cy]})}a.diff(s).add(function(d){var h=a.getItemLayout(d);if(h){var m=new $o,y=new ya,T={shape:{points:h}};m.shape.points=c(h),y.shape.points=c(h),Ro(m,T,e,d),Ro(y,T,e,d);var H=new E,R=new E;H.add(y),H.add(m),H.add(R),u(y.shape.points,h,R,a,d,!0),a.setItemGraphicEl(d,H)}}).update(function(d,h){var m=s.getItemGraphicEl(h),y=m.childAt(0),T=m.childAt(1),H=m.childAt(2),R={shape:{points:a.getItemLayout(d)}};R.shape.points&&(u(y.shape.points,R.shape.points,H,a,d,!1),Ri(y,R,e),Ri(T,R,e),a.setItemGraphicEl(d,m))}).remove(function(d){o.remove(s.getItemGraphicEl(d))}).execute(),a.eachItemGraphicEl(function(d,h){var m=a.getItemModel(h),y=d.childAt(0),T=d.childAt(1),H=d.childAt(2),R=a.getItemVisual(h,"color");o.add(d),y.useStyle(De(m.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:R})),y.hoverStyle=m.getModel("emphasis.lineStyle").getLineStyle();var $=m.getModel("areaStyle"),se=m.getModel("emphasis.areaStyle"),oe=$.isEmpty()&&$.parentModel.isEmpty(),Se=se.isEmpty()&&se.parentModel.isEmpty();Se=Se&&oe,T.ignore=oe,T.useStyle(De($.getAreaStyle(),{fill:R,opacity:.7})),T.hoverStyle=se.getAreaStyle();var we=m.getModel("itemStyle").getItemStyle(["color"]),Te=m.getModel("emphasis.itemStyle").getItemStyle(),Me=m.getModel("label"),Pe=m.getModel("emphasis.label");H.eachChild(function(Ke){Ke.setStyle(we),Ke.hoverStyle=K(Te);var it=a.get(a.dimensions[Ke.__dimIdx],h);null!=it&&!isNaN(it)||(it=""),sa(Ke.style,Ke.hoverStyle,Me,Pe,{labelFetcher:a.hostModel,labelDataIndex:h,labelDimIndex:Ke.__dimIdx,defaultText:it,autoColor:R,isRectText:!0})}),d.highDownOnUpdate=function(Ke,it){T.attr("ignore","emphasis"===it?Se:oe)},Cr(d)}),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),_r(Ah("radar")),_r(hl("radar","circle")),Br(function(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),i=[],o=t.coordinateSystem;if(o){var a=o.getIndicatorAxes();ue(a,function(s,l){n.each(n.mapDimension(a[l].dim),function(u,c){i[c]=i[c]||[];var d=o.dataToPoint(u,l);i[c][l]=Lx(d)?d:Rx(o)})}),n.each(function(s){var l=ht(i[s],function(u){return Lx(u)})||Rx(o);i[s].push(l.slice()),n.setItemLayout(s,i[s])})}})}),ua(bc("radar")),ko(function(e){var t=e.polar;if(t){bt(t)||(t=[t]);var n=[];ue(t,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),e.radar=e.radar||[],bt(e.radar)||(e.radar=[e.radar]),e.radar.push(i)):n.push(i)}),e.polar=n}ue(e.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})});for(var qg=[126,25],fl=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],pl=0;pl<fl.length;pl++)for(var lu=0;lu<fl[pl].length;lu++)fl[pl][lu][0]/=10.5,fl[pl][lu][1]/=-14,fl[pl][lu][0]+=qg[0],fl[pl][lu][1]+=qg[1];var wM={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},SM={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},CM=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Px=Zo(),TM={load:function(e,t,n){var i=Px(t).parsed;if(i)return i;var o,l,a=t.specialAreas||{},s=t.geoJSON;try{o=s?Tg(s,n):[]}catch(l){throw new Error("Invalid geoJson format\n"+l.message)}return"china"===(l=e)&&o.push(new fc("\u5357\u6d77\u8bf8\u5c9b",Re(fl,function(c){return{type:"polygon",exterior:c}}),qg)),ue(o,function(l){var h,u=l.name;(function(d,h){if("china"===d){var m=wM[h.name];if(m){var y=h.center;y[0]+=m[0]/10.5,y[1]+=-m[1]/14}}})(e,l),function(d,h){if("world"===d){var m=SM[h.name];if(m){var y=h.center;y[0]=m[0],y[1]=m[1]}}}(e,l),h=l,"china"===e&&"\u53f0\u6e7e"===h.name&&h.geometries.push({type:"polygon",exterior:CM[0]});var c=a[u];c&&l.transformTo(c.left,c.top,c.width,c.height)}),Px(t).parsed={regions:o,boundingRect:function(l){for(var u,c=0;c<l.length;c++){var d=l[c].getBoundingRect();(u=u||d.clone()).union(d)}return u}(o)}}},uu=Zo();function Ox(e,t){var n,i,d,o=e.svgXML;try{yi(null!=(i=(n=o&&(d=o,(new nh).parse(d,{ignoreViewBox:!0,ignoreRootClip:!0}))||{}).root))}catch(d){throw new Error("Invalid svg format\n"+d.message)}var a=n.width,s=n.height,l=n.viewBoxRect;if(t||(t=null==a||null==s?i.getBoundingRect():new A(0,0,0,0),null!=a&&(t.width=a),null!=s&&(t.height=s)),l){var u=L1(l,t.width,t.height),c=i;(i=new E).add(c),c.scale=u.scale,c.position=u.position}return i.setClipPath(new er({shape:t.plain()})),{root:i,boundingRect:t}}var Bx={geoJSON:TM,svg:{load:function(e,t){var n=uu(t).originRoot;if(n)return{root:n,boundingRect:uu(t).boundingRect};var i=Ox(t);return uu(t).originRoot=i.root,uu(t).boundingRect=i.boundingRect,i},makeGraphic:function(e,t,n){var i=uu(t),o=i.rootMap||(i.rootMap=Jt()),a=o.get(n);if(a)return a;var s=i.originRoot;return a=i.originRootHostKey?Ox(t,i.boundingRect).root:(i.originRootHostKey=n,s),o.set(n,a)},removeGraphic:function(e,t,n){var i=uu(t),o=i.rootMap;o&&o.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}}},_c={load:function(e,t,n){var i,o=[],a=Jt(),s=Jt();return ue(Fx(e),function(l){var u=Bx[l.type].load(e,l,n);ue(u.regions,function(d){var h=d.name;t&&t.hasOwnProperty(h)&&(d=d.cloneShallow(h=t[h])),o.push(d),a.set(h,d),s.set(h,d.center)});var c=u.boundingRect;c&&(i?i.union(c):i=c.clone())}),{regions:o,regionsMap:a,nameCoordMap:s,boundingRect:i||new A(0,0,0,0)}},makeGraphic:zx("makeGraphic"),removeGraphic:zx("removeGraphic")};function zx(e){return function(t,n){var i=Fx(t),o=[];return ue(i,function(a){var s=Bx[a.type][e];s&&o.push(s(t,a,n))}),o}}function Fx(e){return ih.retrieveMap(e)||[]}ke(Or.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=su(this,{coordDimensions:["value"],encodeDefaulter:Nt(Np,this)}),n=t.mapDimension("value"),i=Jt(),o=[],a=[],s=0,l=t.count();s<l;s++){var u=t.getName(s);i.set(u,!0),o.push({name:u,value:t.get(n,s),selected:c1(t,s,"selected")})}return ue(_c.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(c){var d=c.name;i.get(d)||(o.push({name:d}),a.push(d))}),this.updateSelectedMap(o),t.appendValues([],a),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e,t,n,i){for(var o=this.getData(),a=Ss(this.getRawValue(e)),s=o.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var d=l[c].originalData.indexOfName(s),h=o.mapDimension("value");isNaN(l[c].originalData.get(h,d))||u.push(Ir(l[c].name))}var m="html"===i?"<br/>":"\n";return u.join(", ")+m+Ir(s+" : "+a)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}}),jg);var Hx="\0_ec_interaction_mutex";function Vx(e,t){return!!Yg(e)[t]}function Yg(e){return e[Hx]||(e[Hx]={})}function cu(e){this._zr=e,this._opt={};var t=dt,n=t(DM,this),i=t(AM,this),o=t(MM,this),a=t(IM,this),s=t(kM,this);Wi.call(this),this.setPointerChecker=function(l){this.pointerChecker=l},this.enable=function(l,u){this.disable(),this._opt=De(K(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==l&&(l=!0),!0!==l&&"move"!==l&&"pan"!==l||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o)),!0!==l&&"scale"!==l&&"zoom"!==l||(e.on("mousewheel",a),e.on("pinch",s))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function DM(e){if(!(Fr(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function AM(e){if(this._dragging&&kh("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!Vx(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,o=this._y,a=t-i,s=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&ar(e.event),Wx(this,"pan","moveOnMouseMove",e,{dx:a,dy:s,oldX:i,oldY:o,newX:t,newY:n})}}function MM(e){Fr(e)||(this._dragging=!1)}function IM(e){var t=kh("zoomOnMouseWheel",e,this._opt),n=kh("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,o=Math.abs(i),a=e.offsetX,s=e.offsetY;if(0!==i&&(t||n)){if(t){var l=3<o?1.4:1<o?1.2:1.1;Xg(this,"zoom","zoomOnMouseWheel",e,{scale:0<i?l:1/l,originX:a,originY:s})}if(n){var u=Math.abs(i);Xg(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(0<i?1:-1)*(3<u?.4:1<u?.15:.05),originX:a,originY:s})}}}function kM(e){Vx(this._zr,"globalPan")||Xg(this,"zoom",null,e,{scale:1<e.pinchScale?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function Xg(e,t,n,i,o){e.pointerChecker&&e.pointerChecker(i,o.originX,o.originY)&&(ar(i.event),Wx(e,t,n,i,o))}function Wx(e,t,n,i,o){o.isAvailableBehavior=dt(kh,null,n,i),e.trigger(t,o)}function kh(e,t,n){var i=n[e];return!e||i&&(!Tt(i)||t.event[i+"Key"])}function Zg(e,t,n){var i=e.target,o=i.position;o[0]+=t,o[1]+=n,i.dirty()}function Kg(e,t,n,i){var o=e.target,a=e.zoomLimit,s=o.position,l=o.scale,u=e.zoom=e.zoom||1;if(u*=t,a){var c=a.min||0;u=Math.max(Math.min(a.max||1/0,u),c)}var h=u/e.zoom;e.zoom=u,s[0]-=(n-s[0])*(h-1),s[1]-=(i-s[1])*(h-1),l[0]*=h,l[1]*=h,o.dirty()}Yi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),ke(cu,Wi);var EM={axisPointer:1,tooltip:1,brush:1};function Eh(e,t,n){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!EM[i.mainType]&&o&&o.model!==n}function jx(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function Ux(e,t){t.eachChild(function(n){ue(n.__regions,function(i){n.trigger(e.isSelected(i.name)?"emphasis":"normal")})})}function Nh(e,t){var n=new E;this.uid=Wu("ec_map_draw"),this._controller=new cu(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,n.add(this._regionsGroup=new E),n.add(this._backgroundGroup=new E)}Nh.prototype={constructor:Nh,draw:function(e,t,n,i,o){var a="geo"===e.mainType,s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(Te){s||Te.getHostGeoModel()!==e||(s=Te.getData())});var l=e.coordinateSystem;this._updateBackground(l);var u,c=this._regionsGroup,d=this.group,h=l.getTransformInfo(),m=!c.childAt(0)||o;if(m)d.transform=h.roamTransform,d.decomposeTransform(),d.dirty();else{var y=new sr;y.transform=h.roamTransform,y.decomposeTransform(),u=y.scale,Ri(d,{scale:y.scale,position:y.position},e)}var H=h.rawScale,R=h.rawPosition;c.removeAll();var Te,Me,Pe,Ke,it,$=["itemStyle"],se=["emphasis","itemStyle"],oe=["label"],Se=["emphasis","label"],we=Jt();ue(l.regions,function(Te){var Me=we.get(Te.name)||we.set(Te.name,new E),Pe=new uy({segmentIgnoreThreshold:1,shape:{paths:[]}});Me.add(Pe);var Ke,it=(En=e.getRegionModel(Te.name)||e).getModel($),lt=En.getModel(se),mt=jx(it),vt=jx(lt),wt=En.getModel(oe),Et=En.getModel(Se);if(s){Ke=s.indexOfName(Te.name);var Rt=s.getItemVisual(Ke,"color",!0);Rt&&(mt.fill=Rt)}function It(ci){return[ci[0]*H[0]+R[0],ci[1]*H[1]+R[1]]}ue(Te.geometries,function(ci){if("polygon"===ci.type){for(var pi=[],Si=0;Si<ci.exterior.length;++Si)pi.push(It(ci.exterior[Si]));for(Pe.shape.paths.push(new $o({segmentIgnoreThreshold:1,shape:{points:pi}})),Si=0;Si<(ci.interiors?ci.interiors.length:0);++Si){for(var rr=ci.interiors[Si],Xi=(pi=[],0);Xi<rr.length;++Xi)pi.push(It(rr[Xi]));Pe.shape.paths.push(new $o({segmentIgnoreThreshold:1,shape:{points:pi}}))}}}),Pe.setStyle(mt),Pe.style.strokeNoScale=!0,Pe.culling=!0;var Gt=wt.get("show"),bn=Et.get("show"),Cn=s&&isNaN(s.get(s.mapDimension("value"),Ke)),pn=s&&s.getItemLayout(Ke);if(a||Cn&&(Gt||bn)||pn&&pn.showLabel){var zn,Zn=a?Te.name:Ke;(!s||0<=Ke)&&(zn=e);var fi=new Hi({position:It(Te.center.slice()),scale:[1/d.scale[0],1/d.scale[1]],z2:10,silent:!0});sa(fi.style,fi.hoverStyle={},wt,Et,{labelFetcher:zn,labelDataIndex:Zn,defaultText:Te.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!m&&Ri(fi,{scale:[1/u[0],1/u[1]]},e),Me.add(fi)}if(s)s.setItemGraphicEl(Ke,Me);else{var En=e.getRegionModel(Te.name);Pe.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:Te.name,region:En&&En.option||{}}}(Me.__regions||(Me.__regions=[])).push(Te),Me.highDownSilentOnTouch=!!e.get("selectedMode"),Cr(Me,vt),c.add(Me)}),this._updateController(e,t,n),Te=this,Me=e,Ke=n,it=i,(Pe=c).off("click"),Pe.off("mousedown"),Me.get("selectedMode")&&(Pe.on("mousedown",function(){Te._mouseDownFlag=!0}),Pe.on("click",function(lt){if(Te._mouseDownFlag){Te._mouseDownFlag=!1;for(var mt=lt.target;!mt.__regions;)mt=mt.parent;if(mt){var vt={type:("geo"===Me.mainType?"geo":"map")+"ToggleSelect",batch:Re(mt.__regions,function(wt){return{name:wt.name,from:it.uid}})};vt[Me.mainType+"Id"]=Me.id,Ke.dispatchAction(vt),Ux(Me,Pe)}}})),Ux(e,c)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&_c.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&ue(_c.makeGraphic(t,this.uid),function(n){this._backgroundGroup.add(n)},this),this._mapName=t},_updateController:function(e,t,n){var i=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(e.get("roam")||!1);var s=e.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=e.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Zg(a,u.dx,u.dy),n.dispatchAction(he(l(),{dx:u.dx,dy:u.dy}))},this),o.off("zoom").on("zoom",function(u){if(this._mouseDownFlag=!1,Kg(a,u.scale,u.originX,u.originY),n.dispatchAction(he(l(),{zoom:u.scale,originX:u.originX,originY:u.originY})),this._updateGroup){var c=this.group.scale;this._regionsGroup.traverse(function(d){"text"===d.type&&d.attr("scale",[1/c[0],1/c[1]])})}},this),o.setPointerChecker(function(u,c,d){return i.getViewRectAfterRoam().contain(c,d)&&!Eh(u,n,e)})}};var Jg="__seriesMapHighDown",Gx="__seriesMapCallKey";function qx(e){var t=this[Jg];t&&t.recordVersion===this[Gx]&&Yx(t,e)}function Yx(e,t){var n=e.circle,i=e.labelModel,o=e.hoverLabelModel,a=e.emphasisText,s=e.normalText;t?(n.style.extendFrom(Pr({},o,{text:o.get("show")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=Bu):(Pr(n.style,i,{text:i.get("show")?s:null,textPosition:i.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}function Qg(e,t,n){var i=e.getZoom(),o=e.getCenter(),a=t.zoom,s=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,o=e.pointToData(s),e.setCenter(o)),null!=a){if(n){var l=n.min||0;a=Math.max(Math.min(i*a,n.max||1/0),l)/i}e.scale[0]*=a,e.scale[1]*=a;var c=e.position,h=(t.originY-c[1])*(a-1);c[0]-=(t.originX-c[0])*(a-1),c[1]-=h,e.updateTransform(),o=e.pointToData(s),e.setCenter(o),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}ta({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(a=this._mapDraw)&&o.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new Nh(n,!0);o.add(a.group),a.draw(e,t,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(a,s){if(!isNaN(a)){var l=i.getItemLayout(s);if(l&&l.point){var u=l.point,c=l.offset,d=new Fa({style:{fill:e.getData().getVisual("color")},shape:{cx:u[0]+9*c,cy:u[1],r:3},silent:!0,z2:8+(c?0:Bu+1)});if(!c){var h=e.mainSeries.getData(),m=i.getName(s),y=h.indexOfName(m),T=i.getItemModel(s),H=T.getModel("label"),R=T.getModel("emphasis.label"),$=h.getItemGraphicEl(y),se=Zt(e.getFormattedLabel(y,"normal"),m),oe=Zt(e.getFormattedLabel(y,"emphasis"),se),Se=$[Jg],we=Math.random();if(!Se){Se=$[Jg]={};var Te=Nt(qx,!0),Me=Nt(qx,!1);$.on("mouseover",Te).on("mouseout",Me).on("emphasis",Te).on("normal",Me)}he(Se,{recordVersion:$[Gx]=we,circle:d,labelModel:H,hoverLabelModel:R,emphasisText:oe,normalText:se}),Yx(Se,!1)}o.add(d)}}})}}),Yi({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){var o=i.coordinateSystem;if("geo"===o.type){var a=Qg(o,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom),"series"===n&&ue(i.seriesGroup,function(s){s.setCenter(a.center),s.setZoom(a.zoom)})}})});var Xx=Mi;function $g(){sr.call(this)}function Os(e){this.name=e,sr.call(this),this._roamTransformable=new $g,this._rawTransformable=new $g}function Zx(e,t,n,i){var o=n.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[e](i):null}function du(e,t,n,i){Os.call(this,e),this.map=t;var o=_c.load(t,n);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=null==i||i,this.regions=o.regions,this._rect=o.boundingRect}function Kx(e,t,n,i){var o=n.geoModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return s===this?s[e](i):null}function Jx(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],o=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}var a,s=this.getBoundingRect(),l=e.get("layoutCenter"),u=e.get("layoutSize"),c=t.getWidth(),d=t.getHeight(),h=s.width/s.height*this.aspectScale,m=!1;if(l&&u&&(l=[Kn(l[0],c),Kn(l[1],d)],u=Kn(u,Math.min(c,d)),isNaN(l[0])||isNaN(l[1])||isNaN(u)||(m=!0)),m){var y={};1<h?(y.width=u,y.height=u/h):(y.height=u,y.width=u*h),y.y=l[1]-y.height/2,y.x=l[0]-y.width/2}else(a=e.getBoxLayoutParams()).aspect=h,y=Qr(a,{width:c,height:d});this.setViewRect(y.x,y.y,y.width,y.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function Qx(e,t){ue(t.get("geoCoord"),function(n,i){e.addGeoCoord(i,n)})}ke($g,sr),Os.prototype={constructor:Os,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new A(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new A(e,t,n,i)},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new A(e,t,n,i)),a.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Mi([],i,e),n=Mi([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._rawTransformable;(t.parent=this._roamTransformable).updateTransform(),t.updateTransform(),Hr(this.transform||(this.transform=[]),t.transform||Dr()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Qi(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?sn(e):Dr(),rawScale:sn(t.scale),rawPosition:sn(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?Xx(n,e,i):Wn(n,e)},pointToData:function(e){var t=this.invTransform;return t?Xx([],e,t):[e[0],e[1]]},convertToPixel:Nt(Zx,"dataToPoint"),convertFromPixel:Nt(Zx,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},ke(Os,sr),du.prototype={constructor:du,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var s=this._rawTransformable;if(s.transform=o.calculateTransform(new A(e,t,n,i)),s.decomposeTransform(),a){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(e,t,n){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return Os.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:Nt(Kx,"dataToPoint"),convertFromPixel:Nt(Kx,"pointToData")},ke(du,Os);var $x={dimensions:du.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(o,a){var s=o.get("map"),l=o.get("aspectScale"),u=!0,c=ih.retrieveMap(s);c&&c[0]&&"svg"===c[0].type?(null==l&&(l=1),u=!1):null==l&&(l=.75);var d=new du(s+a,s,o.get("nameMap"),u);d.aspectScale=l,d.zoomLimit=o.get("scaleLimit"),n.push(d),Qx(d,o),(o.coordinateSystem=d).model=o,d.resize=Jx,d.resize(o,t)}),e.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var a=o.get("geoIndex")||0;o.coordinateSystem=n[a]}});var i={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();i[a]=i[a]||[],i[a].push(o)}}),ue(i,function(o,a){var s=new du(a,a,me(Re(o,function(l){return l.get("nameMap")})));s.zoomLimit=Mn.apply(null,Re(o,function(l){return l.get("scaleLimit")})),n.push(s),s.resize=Jx,s.aspectScale=o[0].get("aspectScale"),s.resize(o[0],t),ue(o,function(l){Qx(l.coordinateSystem=s,l)})}),n},getFilledRegions:function(e,t,n){for(var i=(e||[]).slice(),o=Jt(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);return ue(_c.load(t,n).regions,function(s){var l=s.name;o.get(l)||i.push({name:l})}),i}};lg("geo",$x),Br(function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};ue(n.seriesGroup,function(s){var l=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&e.getComponent("legend")&&u.each(u.mapDimension("value"),function(c,d){var h=u.getName(d),m=l.getRegion(h);if(m&&!isNaN(c)){var y=o[h]||0,T=l.dataToPoint(m.center);o[h]=y+1,u.setItemLayout(d,{point:T,offset:y})}})});var a=n.getData();a.each(function(s){var l=a.getName(s),u=a.getItemLayout(s)||{};u.showLabel=!o[l],a.setItemLayout(s,u)}),t[i]=!0}})}),_r(function(e){e.eachSeriesByType("map",function(t){var n=t.get("color"),i=t.getModel("itemStyle"),o=i.get("areaColor"),a=i.get("color")||n[t.seriesIndex%n.length];t.getData().setVisual({areaColor:o,color:a})})}),ua(Ua.PROCESSOR.STATISTIC,function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getHostGeoModel(),o=i?"o"+i.id:"i"+n.getMapType();(t[o]=t[o]||[]).push(n)}),ue(t,function(n,i){for(var o=function(s,l){var u={};return ue(s,function(c){c.each(c.mapDimension("value"),function(d,h){var m="ec-"+c.getName(h);u[m]=u[m]||[],isNaN(d)||u[m].push(d)})}),s[0].map(s[0].mapDimension("value"),function(c,d){for(var m="ec-"+s[0].getName(d),y=0,T=1/0,H=-1/0,R=u[m].length,$=0;$<R;$++)T=Math.min(T,u[m][$]),H=Math.max(H,u[m][$]),y+=u[m][$];return 0===R?NaN:"min"===l?T:"max"===l?H:"average"===l?y/R:y})}(Re(n,function(s){return s.getData()}),n[0].get("mapValueCalculation")),a=0;a<n.length;a++)n[a].originalData=n[a].getData();for(a=0;a<n.length;a++)(n[a].seriesGroup=n)[a].needsDrawMap=0===a&&!n[a].getHostGeoModel(),n[a].setData(o.cloneShallow()),n[a].mainSeries=n[0]})}),ko(function(e){var t=[];ue(e.series,function(n){n&&"map"===n.type&&(t.push(n),n.map=n.map||n.mapType,De(n,n.mapLocation))})}),Ax("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var wc=ue,Sc="\0__link_datas",Lh="\0__link_mainData";function e_(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,t_(t,n,e),wc(n,function(i){wc(t.TRANSFERABLE_METHODS,function(o){i.wrapMethod(o,Nt(NM,e))})}),t.wrapMethod("cloneShallow",Nt(RM,e)),wc(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,Nt(LM,e))}),yi(n[t.dataType]===t)}function NM(e,t){if(function(i){return i[Lh]===i}(this)){var n=he({},this[Sc]);t_(n[this.dataType]=t,n,e)}else em(t,this.dataType,this[Lh],e);return t}function LM(e,t){return e.struct&&e.struct.update(this),t}function RM(e,t){return wc(t[Sc],function(n,i){n!==t&&em(n.cloneShallow(),i,t,e)}),t}function PM(e){var t=this[Lh];return null==e||null==t?t:t[Sc][e]}function t_(e,t,n){e[Sc]={},wc(t,function(i,o){em(i,o,e,n)})}function em(e,t,n,i){(n[Sc][t]=e)[Lh]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=PM}function tm(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t}function gl(e){this._nodes=[],this.hostModel=e}function BM(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,o=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(s){for(var l=s.children,u=l.length,c=0,d=0;0<=--u;){var h=l[u];h.hierNode.prelim+=c,h.hierNode.modifier+=c,c+=h.hierNode.shift+(d+=h.hierNode.change)}}(e);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=function(s,l,u,c){if(l){for(var d=s,h=s,m=h.parentNode.children[0],y=l,T=d.hierNode.modifier,H=h.hierNode.modifier,R=m.hierNode.modifier,$=y.hierNode.modifier;y=nm(y),h=im(h),y&&h;){d=nm(d),m=im(m),d.hierNode.ancestor=s;var se=y.hierNode.prelim+$-h.hierNode.prelim-H+c(y,h);0<se&&(FM((oe=y).hierNode.ancestor.parentNode===s.parentNode?oe.hierNode.ancestor:u,s,se),H+=se,T+=se),$+=y.hierNode.modifier,H+=h.hierNode.modifier,T+=d.hierNode.modifier,R+=m.hierNode.modifier}y&&!nm(d)&&(d.hierNode.thread=y,d.hierNode.modifier+=$-T),h&&!im(m)&&(m.hierNode.thread=h,m.hierNode.modifier+=H-R,u=s)}var oe;return u}(e,o,e.parentNode.hierNode.defaultAncestor||i[0],t)}function zM(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function n_(e){return arguments.length?e:HM}function Cc(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n}function nm(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function im(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function FM(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function HM(e,t){return e.parentNode===t.parentNode?1:2}tm.prototype={constructor:tm,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),Tt(e=e||{})&&(e={order:e});var i,o=e.order||"preorder",a=this[e.attr||"children"];"preorder"===o&&(i=t.call(n,this));for(var s=0;!i&&s<a.length;s++)a[s].eachNode(e,t,n);"postorder"===o&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].getNodeById(e);if(o)return o}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].contains(e);if(o)return o}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},setVisual:function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},gl.prototype={constructor:gl,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},gl.createTree=function(e,t,n){var i=new gl(t),o=[],a=1;(function u(c,d){var h=c.value;a=Math.max(a,bt(h)?h.length:1),o.push(c);var m=new tm(c.name,i);d?function OM(e,t){e.parentNode!==t&&(t.children.push(e),e.parentNode=t)}(m,d):i.root=m,i._nodes.push(m);var y=c.children;if(y)for(var T=0;T<y.length;T++)u(y[T],m)})(e),i.root.updateDepthAndHeight(0);var s=Jl(o,{coordDimensions:["value"],dimensionsCount:a}),l=new go(s,t);return l.initData(o),n&&n(l),e_({mainData:l,struct:i,structAttr:"tree"}),i.update(),i},Or.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},n=new qi(e.leaves||{},this,this.ecModel),i=gl.createTree(t,this,function(s){s.wrapMethod("getItemModel",function(l,u){var c=i.getNodeByDataIndex(u);return c.children.length&&c.isExpand||(l.parentModel=n),l})}),o=0;i.eachNode("preorder",function(s){s.depth>o&&(o=s.depth)});var a=e.expandAndCollapse&&0<=e.initialTreeDepth?e.initialTreeDepth:o;return i.root.eachNode("preorder",function(s){var l=s.hostTree.data.getRawDataItem(s.dataIndex);s.isExpand=l&&null!=l.collapsed?!l.collapsed:s.depth<=a}),i.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),o=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return Ir(a+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});var VM=ba({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.childPoints,i=n.length,o=t.parentPoint,a=n[0],s=n[i-1];if(1===i)return e.moveTo(o[0],o[1]),void e.lineTo(a[0],a[1]);var l=t.orient,u="TB"===l||"BT"===l?0:1,c=1-u,d=Kn(t.forkPosition,1),h=[];h[u]=o[u],h[c]=o[c]+(s[c]-o[c])*d,e.moveTo(o[0],o[1]),e.lineTo(h[0],h[1]),e.moveTo(a[0],a[1]),h[u]=a[u],e.lineTo(h[0],h[1]),h[u]=s[u],e.lineTo(h[0],h[1]),e.lineTo(s[0],s[1]);for(var m=1;m<i-1;m++){var y=n[m];e.moveTo(y[0],y[1]),h[u]=y[u],e.lineTo(h[0],h[1])}}});function i_(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==e.getItemVisual(t,"symbol")}function r_(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),n.symbolInnerColor=!1===e.isExpand&&0!==e.children.length?n.itemStyle.fill:"#fff",n}function o_(e,t,n,i,o,a){var s=!n,l=e.tree.getNodeByDataIndex(t),u=l.getModel(),c=(a=r_(l,u,a),e.tree.root),d=l.parentNode===c?l:l.parentNode||l,h=e.getItemGraphicEl(d.dataIndex),m=d.getLayout(),y=h?{x:h.position[0],y:h.position[1],rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:m,T=l.getLayout();s?(n=new Es(e,t,a)).attr("position",[y.x,y.y]):n.updateData(e,t,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=T.rawX,n.__radialRawY=T.rawY,i.add(n),e.setItemGraphicEl(t,n),Ri(n,{position:[T.x,T.y]},o);var H=n.getSymbolPath();if("radial"===a.layout){var R,$,se=c.children[0],oe=se.getLayout(),Se=se.children.length;if(T.x===oe.x&&!0===l.isExpand){var we={};we.x=(se.children[0].getLayout().x+se.children[Se-1].getLayout().x)/2,we.y=(se.children[0].getLayout().y+se.children[Se-1].getLayout().y)/2,(R=Math.atan2(we.y-oe.y,we.x-oe.x))<0&&(R=2*Math.PI+R),($=we.x<oe.x)&&(R-=Math.PI)}else(R=Math.atan2(T.y-oe.y,T.x-oe.x))<0&&(R=2*Math.PI+R),0===l.children.length||0!==l.children.length&&!1===l.isExpand?($=T.x<oe.x)&&(R-=Math.PI):($=T.x>oe.x)||(R-=Math.PI);var Te=$?"left":"right",Me=a.labelModel.get("rotate"),Pe=Me*(Math.PI/180);H.setStyle({textPosition:a.labelModel.get("position")||Te,textRotation:null==Me?-R:Pe,textOrigin:"center",verticalAlign:"middle"})}!function(Ke,it,lt,mt,vt,wt,Et,Rt,It){var Gt=It.edgeShape,bn=mt.__edge;if("curve"===Gt)it.parentNode&&it.parentNode!==lt&&Ri(bn=bn||(mt.__edge=new Dd({shape:rm(It,vt,vt),style:De({opacity:0,strokeNoScale:!0},It.lineStyle)})),{shape:rm(It,wt,Et),style:De({opacity:1},It.lineStyle)},Ke);else if("polyline"===Gt&&"orthogonal"===It.layout&&it!==lt&&it.children&&0!==it.children.length&&!0===it.isExpand){for(var Cn=it.children,pn=[],zn=0;zn<Cn.length;zn++){var Zn=Cn[zn].getLayout();pn.push([Zn.x,Zn.y])}Ri(bn=bn||(mt.__edge=new VM({shape:{parentPoint:[Et.x,Et.y],childPoints:[[Et.x,Et.y]],orient:It.orient,forkPosition:It.edgeForkPosition},style:De({opacity:0,strokeNoScale:!0},It.lineStyle)})),{shape:{parentPoint:[Et.x,Et.y],childPoints:pn},style:De({opacity:1},It.lineStyle)},Ke)}Rt.add(bn)}(o,l,c,n,y,m,T,i,a)}function a_(e,t,n,i,o,a){for(var s,h,l=e.tree.getNodeByDataIndex(t),u=e.tree.root,c=l.getModel(),d=(a=r_(l,c,a),l.parentNode===u?l:l.parentNode||l);null==(s=d.getLayout());)d=d.parentNode===u?d:d.parentNode||d;Ri(n,{position:[s.x+1,s.y+1]},o,function(){i.remove(n),e.setItemGraphicEl(t,null)}),n.fadeOut(null,{keepLabel:!0});var m=e.getItemGraphicEl(d.dataIndex).__edge,y=n.__edge||(!1===d.isExpand||1===d.children.length?m:void 0);h=a.edgeShape,y&&("curve"===h?Ri(y,{shape:rm(a,s,s),style:{opacity:0}},o,function(){i.remove(y)}):"polyline"===h&&"orthogonal"===a.layout&&Ri(y,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},o,function(){i.remove(y)}))}function rm(e,t,n){var i,o,a,s,l,u,c,d,h=e.orient;if("radial"!==e.layout)return l=t.x,c=t.y,u=n.x,d=n.y,"LR"!==h&&"RL"!==h||(i=l+(u-l)*e.curvature,o=c,a=u+(l-u)*e.curvature,s=d),"TB"!==h&&"BT"!==h||(i=l,o=c+(d-c)*e.curvature,a=u,s=d+(c-d)*e.curvature),{x1:l,y1:c,x2:u,y2:d,cpx1:i,cpy1:o,cpx2:a,cpy2:s};u=n.rawX,d=n.rawY;var m=Cc(l=t.rawX,c=t.rawY),y=Cc(l,c+(d-c)*e.curvature),T=Cc(u,d+(c-d)*e.curvature),H=Cc(u,d);return{x1:m.x,y1:m.y,x2:H.x,y2:H.y,cpx1:y.x,cpy1:y.y,cpx2:T.x,cpy2:T.y}}function Tc(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var o=n.children;if(o.length)for(var a=o.length-1;0<=a;a--)i.push(o[a])}}function Dc(e,t,n){if(e&&0<=We(t,e.type)){var i=n.getData().tree.root,o=e.targetNode;if("string"==typeof o&&(o=i.getNodeById(o)),o&&i.contains(o))return{node:o};var a=e.targetNodeId;if(null!=a&&(o=i.getNodeById(a)))return{node:o}}}function s_(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function om(e,t){return 0<=We(s_(e),t)}function am(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}ta({type:"tree",init:function(e,t){this._mainGroup=new E,this._controller=new cu(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,n,i){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup,l=e.get("layout");s.attr("position","radial"===l?[a.x+a.width/2,a.y+a.height/2]:[a.x,a.y]),this._updateViewCoordSys(e,a,l),this._updateController(e,t,n);var u=this._data,c={expandAndCollapse:e.get("expandAndCollapse"),layout:l,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(u).add(function(d){i_(o,d)&&o_(o,d,null,s,e,c)}).update(function(d,h){var m=u.getItemGraphicEl(h);i_(o,d)?o_(o,d,m,s,e,c):m&&a_(u,h,m,s,e,c)}).remove(function(d){var h=u.getItemGraphicEl(d);h&&a_(u,d,h,s,e,c)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===c.expandAndCollapse&&o.eachItemGraphicEl(function(d,h){d.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},_updateViewCoordSys:function(e){var t=e.getData(),n=[];t.each(function(u){var c=t.getItemLayout(u);!c||isNaN(c.x)||isNaN(c.y)||n.push([+c.x,+c.y])});var i=[],o=[];Nu(n,i,o);var a=this._min,s=this._max;o[0]-i[0]==0&&(i[0]=a?a[0]:i[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-i[1]==0&&(i[1]=a?a[1]:i[1]-1,o[1]=s?s[1]:o[1]+1);var l=e.coordinateSystem=new Os;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({position:l.position,scale:l.scale}),this._viewCoordSys=l,this._min=i,this._max=o},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(s,l,u){var c=a.getBoundingRect();return c.applyTransform(a.transform),c.contain(l,u)&&!Eh(s,n,e)}),i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(s){Zg(o,s.dx,s.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:s.dx,dy:s.dy})},this).on("zoom",function(s){Kg(o,s.scale,s.originX,s.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:s.scale,originX:s.originX,originY:s.originY}),this._updateNodeAndLinkScale(e)},this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),Yi({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,o=n.getData().tree.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),Yi({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=Qg(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})}),_r(hl("tree","circle")),Br(function(e,t){e.eachSeriesByType("tree",function(n){!function(i,o){var Me,a=(Me=o,Qr(i.getBoxLayoutParams(),{width:Me.getWidth(),height:Me.getHeight()}));i.layoutInfo=a;var s=i.get("layout"),l=0,u=0,c=null;c="radial"===s?(l=2*Math.PI,u=Math.min(a.height,a.width)/2,n_(function(Te,Me){return(Te.parentNode===Me.parentNode?1:2)/Te.depth})):(l=a.width,u=a.height,n_());var d=i.getData().tree.root,h=d.children[0];if(h){(function(Te){Te.hierNode={defaultAncestor:null,ancestor:Te,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Me,Pe,Ke=[Te];Me=Ke.pop();)if(Pe=Me.children,Me.isExpand&&Pe.length)for(var it=Pe.length-1;0<=it;it--){var lt=Pe[it];lt.hierNode={defaultAncestor:null,ancestor:lt,prelim:0,modifier:0,change:0,shift:0,i:it,thread:null},Ke.push(lt)}})(d),function(Te,Me,Pe){for(var Ke,it=[Te],lt=[];Ke=it.pop();)if(lt.push(Ke),Ke.isExpand){var mt=Ke.children;if(mt.length)for(var vt=0;vt<mt.length;vt++)it.push(mt[vt])}for(;Ke=lt.pop();)Me(Ke,Pe)}(h,BM,c),d.hierNode.modifier=-h.hierNode.prelim,Tc(h,zM);var m=h,y=h,T=h;Tc(h,function(Te){var Me=Te.getLayout().x;Me<m.getLayout().x&&(m=Te),Me>y.getLayout().x&&(y=Te),Te.depth>T.depth&&(T=Te)});var H=m===y?1:c(m,y)/2,R=H-m.getLayout().x,$=0,se=0,oe=0,Se=0;if("radial"===s)$=l/(y.getLayout().x+H+R),se=u/(T.depth-1||1),Tc(h,function(Te){var Me=Cc(oe=(Te.getLayout().x+R)*$,Se=(Te.depth-1)*se);Te.setLayout({x:Me.x,y:Me.y,rawX:oe,rawY:Se},!0)});else{var we=i.getOrient();"RL"===we||"LR"===we?(se=u/(y.getLayout().x+H+R),$=l/(T.depth-1||1),Tc(h,function(Te){Se=(Te.getLayout().x+R)*se,Te.setLayout({x:oe="LR"===we?(Te.depth-1)*$:l-(Te.depth-1)*$,y:Se},!0)})):"TB"!==we&&"BT"!==we||($=l/(y.getLayout().x+H+R),se=u/(T.depth-1||1),Tc(h,function(Te){oe=(Te.getLayout().x+R)*$,Te.setLayout({x:oe,y:Se="TB"===we?(Te.depth-1)*se:u-(Te.depth-1)*se},!0)}))}}}(n,t)})}),Or.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};!function l(u){var c=0;ue(u.children,function(h){l(h);var m=h.value;bt(m)&&(m=m[0]),c+=m});var d=u.value;bt(d)&&(d=d[0]),null!=d&&!isNaN(d)||(d=c),d<0&&(d=0),bt(u.value)?u.value[0]=d:u.value=d}(n);var i=e.levels||[],o=new qi({itemStyle:this.designatedVisualItemStyle={}},this,t),a=Re((i=e.levels=function(l,u){var c,d=u.get("color");if(d)return ue(l=l||[],function(h){var m=new qi(h),y=m.get("color");(m.get("itemStyle.color")||y&&"none"!==y)&&(c=!0)}),!c&&((l[0]||(l[0]={})).color=d.slice()),l}(i,t))||[],function(l){return new qi(l,o,t)},this),s=gl.createTree(n,this,function(l){l.wrapMethod("getItemModel",function(u,c){var d=s.getNodeByDataIndex(c);return u.parentModel=a[d.depth]||o,u})});return s.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=bt(n)?Ss(n[0]):Ss(n);return Ir(t.getName(e)+": "+i)},getDataParams:function(e){var t=Or.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=am(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},he(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=Jt(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var sm=5;function lm(e){this.group=new E,e.add(this.group)}function WM(e,t,n,i,o,a){var s=[[o?e:e-sm,t],[e+n,t],[e+n,t+i],[o?e:e-sm,t+i]];return a||s.splice(2,0,[e+n+sm,t+i/2]),o||s.push([e,t+i/2]),s}function l_(e){var t=um(e);return t.stroke=t.fill=t.lineWidth=null,t}lm.prototype={constructor:lm,render:function(e,t,n,i){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,l),this._renderContent(e,u,s,l,i),Wd(a,u.pos,u.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var o=i.getModel().get("name"),a=n.getTextRect(o),s=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:i,text:o,width:s})}},_renderContent:function(e,t,n,i,o){for(var a,s,l=0,u=t.emptyItemWidth,c=e.get("breadcrumb.height"),d=(we=void 0,void 0,void 0,Pe=void 0,Ke=void 0,it=void 0,lt=void 0,Me=(Se=t.box).height,Pe=Kn((oe=t.pos).x,Te=Se.width),Ke=Kn(oe.y,Me),it=Kn(oe.x2,Te),lt=Kn(oe.y2,Me),(isNaN(Pe)||isNaN(parseFloat(oe.x)))&&(Pe=0),(isNaN(it)||isNaN(parseFloat(oe.x2)))&&(it=Te),(isNaN(Ke)||isNaN(parseFloat(oe.y)))&&(Ke=0),(isNaN(lt)||isNaN(parseFloat(oe.y2)))&&(lt=Me),we=il(we||0),{width:Math.max(it-Pe-we[1]-we[3],0),height:Math.max(lt-Ke-we[0]-we[2],0)}),h=t.totalWidth,m=t.renderList,y=m.length-1;0<=y;y--){var T=m[y],H=T.node,R=T.width,$=T.text;h>d.width&&(h-=R-u,R=u,$=null);var se=new $o({shape:{points:WM(l,0,R,c,y===m.length-1,0===y)},style:De(n.getItemStyle(),{lineJoin:"bevel",text:$,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:Nt(o,H)});this.group.add(se),se.eventData={componentType:"series",componentSubType:"treemap",componentIndex:(a=e).componentIndex,seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:(s=H)&&s.dataIndex,name:s&&s.name},treePathInfo:s&&am(s,a)},l+=R+8}var oe,Se,we,Te,Me,Pe,Ke,it,lt},remove:function(){this.group.removeAll()}};var Rh=dt,u_=E,c_=er,Za=ue,jM=["label"],UM=["emphasis","label"],GM=["upperLabel"],qM=["emphasis","upperLabel"],YM=10,um=zl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);function XM(e,t,n,i,o,a,s,l,u,c){if(s){var d=s.getLayout(),h=e.getData();if(h.setItemGraphicEl(s.dataIndex,null),d&&d.isInView){var m=d.width,y=d.height,T=d.borderWidth,H=d.invisible,R=s.getRawIndex(),$=l&&l.getRawIndex(),se=s.viewChildren,oe=d.upperHeight,Se=se&&se.length,we=s.getModel("itemStyle"),Te=s.getModel("emphasis.itemStyle"),Me=wt("nodeGroup",u_);if(Me){if(u.add(Me),Me.attr("position",[d.x||0,d.y||0]),Me.__tmNodeWidth=m,Me.__tmNodeHeight=y,d.isAboveViewRoot)return Me;var Pe=s.getModel(),Ke=wt("background",c_,c,1);if(Ke&&function(Et,Rt,It){if(Rt.dataIndex=s.dataIndex,Rt.seriesIndex=e.seriesIndex,Rt.setShape({x:0,y:0,width:m,height:y}),H)lt(Rt);else{Rt.invisible=!1;var Gt=s.getVisual("borderColor",!0),bn=Te.get("borderColor"),Cn=l_(we);Cn.fill=Gt;var pn=um(Te);if(pn.fill=bn,It){var zn=m-2*T;mt(Cn,pn,Gt,zn,oe,{x:T,y:0,width:zn,height:oe})}else Cn.text=pn.text=null;Rt.setStyle(Cn),Fu(Rt,pn)}Et.add(Rt)}(Me,Ke,Se&&d.upperLabelHeight),Se)Ld(Me)&&el(Me,!1),Ke&&(el(Ke,!0),h.setItemGraphicEl(s.dataIndex,Ke));else{var it=wt("content",c_,c,2);it&&function(Et,Rt){Rt.dataIndex=s.dataIndex,Rt.seriesIndex=e.seriesIndex;var It=Math.max(m-2*T,0),Gt=Math.max(y-2*T,0);if(Rt.culling=!0,Rt.setShape({x:T,y:T,width:It,height:Gt}),H)lt(Rt);else{Rt.invisible=!1;var bn=s.getVisual("color",!0),Cn=l_(we);Cn.fill=bn;var pn=um(Te);mt(Cn,pn,bn,It,Gt),Rt.setStyle(Cn),Fu(Rt,pn)}Et.add(Rt)}(Me,it),Ke&&Ld(Ke)&&el(Ke,!1),el(Me,!0),h.setItemGraphicEl(s.dataIndex,Me)}return Me}}}function lt(Et){Et.invisible||a.push(Et)}function mt(Et,Rt,It,Gt,bn,Cn){var pn=Pe.get("name"),zn=Pe.getModel(Cn?GM:jM),Zn=Pe.getModel(Cn?qM:UM),fi=zn.getShallow("show");sa(Et,Rt,zn,Zn,{defaultText:fi?pn:null,autoColor:It,isRectText:!0,labelFetcher:e,labelDataIndex:s.dataIndex,labelProp:Cn?"upperLabel":"label"}),vt(Et,Cn,d),vt(Rt,Cn,d),Cn&&(Et.textRect=K(Cn)),Et.truncate=fi&&zn.get("ellipsis")?{outerWidth:Gt,outerHeight:bn,minChar:2}:null}function vt(Et,Rt,It){var Gt=Et.text;if(!Rt&&It.isLeafRoot&&null!=Gt){var bn=e.get("drillDownIcon",!0);Et.text=bn?bn+" "+Gt:Gt}}function wt(Et,Rt,It,Gt){var zn,Zn,bn=null!=$&&n[Et][$],Cn=o[Et];return bn?(n[Et][$]=null,zn=bn,Zn=Et,(Cn[R]={}).old="nodeGroup"===Zn?zn.position.slice():he({},zn.shape)):H||((bn=new Rt({z:function(pn,zn){var Zn=pn*YM+zn;return(Zn-1)/Zn}(It,Gt)})).__tmDepth=It,function(pn,zn,Zn){var fi=pn[R]={},En=s.parentNode;if(En&&(!i||"drillDown"===i.direction)){var ci=0,pi=0,Si=o.background[En.getRawIndex()];!i&&Si&&Si.old&&(ci=Si.old.width,pi=Si.old.height),fi.old="nodeGroup"===Zn?[0,pi]:{x:ci,y:pi,width:0,height:0}}fi.fadein="nodeGroup"!==Zn}(Cn,0,bn.__tmStorageName=Et)),t[Et][R]=bn}}ta({type:"treemap",init:function(e,t){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(e,t,n,i){if(!(We(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=Dc(i,["treemapZoomToNode","treemapRootToNode"],e),a=i&&i.type,s=e.layoutInfo,l=!this._oldTree,u=this._storage,c="treemapRootToNode"===a&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,d=this._giveContainerGroup(s),h=this._doRender(d,e,c);l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?h.renderFinally():this._doAnimation(d,h,e,c),this._resetController(n),this._renderBreadcrumb(e,n,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new u_,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){var i=t.getData().tree,o=this._oldTree,a={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,u=[],c=Nt(XM,t,s,l,n,a,u);!function y(T,H,R,$,se){function oe(we){return we.getId()}function Se(we,Te){var Me=null!=we?T[we]:null,Pe=null!=Te?H[Te]:null,Ke=c(Me,Pe,R,se);Ke&&y(Me&&Me.viewChildren||[],Pe&&Pe.viewChildren||[],Ke,$,se+1)}$?Za(H=T,function(we,Te){we.isRemoved()||Se(Te,Te)}):new rs(H,T,oe,oe).add(Se).update(Se).remove(Nt(Se,null)).execute()}(i.root?[i.root]:[],o&&o.root?[o.root]:[],e,i===o||!o,0);var d,h,m=(h={nodeGroup:[],background:[],content:[]},(d=l)&&Za(d,function(y,T){var H=h[T];Za(y,function(R){R&&(H.push(R),R.__tmWillDelete=1)})}),h);return this._oldTree=i,this._storage=s,{lastsForAnimation:a,willDeleteEls:m,renderFinally:function(){Za(m,function(y){Za(y,function(T){T.parent&&T.parent.remove(T)})}),Za(u,function(y){y.invisible=!0,y.dirty()})}}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var o=n.get("animationDurationUpdate"),a=n.get("animationEasing"),s=(u=[],c={},{add:function(d,h,m,y,T){return Tt(y)&&(T=y,y=0),!c[d.id]&&(c[d.id]=1,u.push({el:d,target:h,time:m,delay:y,easing:T}),!0)},done:function(d){return l=d,this},start:function(){for(var d=u.length,h=0,m=u.length;h<m;h++){var y=u[h];y.el.animateTo(y.target,y.time,y.delay,y.easing,T)}return this;function T(){--d||(u.length=0,c={},l&&l())}}});Za(t.willDeleteEls,function(l,u){Za(l,function(c,d){if(!c.invisible){var h,m=c.parent;if(i&&"drillDown"===i.direction)h=m===i.rootNodeGroup?{shape:{x:0,y:0,width:m.__tmNodeWidth,height:m.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,T=0;m.__tmWillDelete||(y=m.__tmNodeWidth/2,T=m.__tmNodeHeight/2),h="nodeGroup"===u?{position:[y,T],style:{opacity:0}}:{shape:{x:y,y:T,width:0,height:0},style:{opacity:0}}}h&&s.add(c,h,o,a)}})}),Za(this._storage,function(l,u){Za(l,function(c,d){var h=t.lastsForAnimation[u][d],m={};h&&("nodeGroup"===u?h.old&&(m.position=c.position.slice(),c.attr("position",h.old)):(h.old&&(m.shape=he({},c.shape),c.setShape(h.old)),h.fadein?(c.setStyle("opacity",0),m.style={opacity:1}):1!==c.style.opacity&&(m.style={opacity:1})),s.add(c,m,o,a))})},this),this._state="animating",s.done(Rh(function(){this._state="ready",t.renderFinally()},this)).start()}var l,u,c},_resetController:function(e){var t=this._controller;t||((t=this._controller=new cu(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Rh(this._onPan,this)),t.on("zoom",Rh(this._onZoom,this)));var n=new A(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(i,o,a){return n.contain(o,a)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(3<Math.abs(e.dx)||3<Math.abs(e.dy))){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},_onZoom:function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var a=new A(o.x,o.y,o.width,o.height),s=this.seriesModel.layoutInfo;t-=s.x,n-=s.y;var l=Dr();Ji(l,l,[-t,-n]),Co(l,l,[e.scale,e.scale]),Ji(l,l,[t,n]),a.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(e){e.on("click",function(t){if("ready"===this._state){var n=this.seriesModel.get("nodeClick",!0);if(n){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===n)this._zoomToNode(i);else if("link"===n){var a=o.hostTree.data.getItemModel(o.dataIndex),s=a.get("link",!0),l=a.get("target",!0)||"blank";s&&Gu(s,l)}}}}},this)},_renderBreadcrumb:function(e,t,n){n=n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||{node:e.getData().tree.root},(this._breadcrumb||(this._breadcrumb=new lm(this.group))).render(e,t,n.node,Rh(function(i){"animating"!==this._state&&(om(e.getViewRoot(),i)?this._rootToNode({node:i}):this._zoomToNode({node:i}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var o=this._storage.background[i.getRawIndex()];if(o){var a=o.transformCoordToLocal(e,t),s=o.shape;if(!(s.x<=a[0]&&a[0]<=s.x+s.width&&s.y<=a[1]&&a[1]<=s.y+s.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}},this),n}});for(var ZM=function(){},d_=["treemapZoomToNode","treemapRender","treemapMove"],cm=0;cm<d_.length;cm++)Yi({type:d_[cm],update:"updateView"},ZM);Yi({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(n,i){var o=Dc(e,["treemapZoomToNode","treemapRootToNode"],n);if(o){var a=n.getViewRoot();a&&(e.direction=om(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var Ac=ue,h_=Pt,Ph=-1,fr=function(e){var t=e.mappingMethod,n=e.type,i=this.option=K(e);this.type=n,this.mappingMethod=t,this._normalizeData=KM[t];var o=Mc[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],"piecewise"===t?(dm(i),function(a){var s=a.pieceList;a.hasSpecialVisual=!1,ue(s,function(l,u){l.originIndex=u,null!=l.visual&&(a.hasSpecialVisual=!0)})}(i)):"category"===t?i.categories?function(a){var s=a.categories,l=a.visual,u=a.categoryMap={};if(Ac(s,function(h,m){u[h]=m}),!bt(l)){var c=[];Pt(l)?Ac(l,function(h,m){c[u[m]??Ph]=h}):c[Ph]=l,l=p_(a,c)}for(var d=s.length-1;0<=d;d--)null==l[d]&&(delete u[s[d]],s.pop())}(i):dm(i,!0):(yi("linear"!==t||i.dataExtent),dm(i))};fr.prototype={constructor:fr,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return dt(this._normalizeData,this)}};var Mc=fr.visualHandlers={color:{applyVisual:Bh("color"),getColorMapper:function(){var e=this.option;return dt("category"===e.mappingMethod?function(t,n){return n||(t=this._normalizeData(t)),zh.call(this,t)}:function(t,n,i){var o=!!i;return n||(t=this._normalizeData(t)),i=Mr(t,e.parsedVisual,i),o?i:_e(i,"rgba")},this)},_doMap:{linear:function(e){return _e(Mr(e,this.option.parsedVisual),"rgba")},category:zh,piecewise:function(e,t){var n=fm.call(this,t);return null==n&&(n=_e(Mr(e,this.option.parsedVisual),"rgba")),n},fixed:ml}},colorHue:Oh(function(e,t){return te(e,t)}),colorSaturation:Oh(function(e,t){return te(e,null,t)}),colorLightness:Oh(function(e,t){return te(e,null,null,t)}),colorAlpha:Oh(function(e,t){return ye(e,t)}),opacity:{applyVisual:Bh("opacity"),_doMap:hm([0,1])},liftZ:{applyVisual:Bh("liftZ"),_doMap:{linear:ml,category:ml,piecewise:ml,fixed:ml}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(Tt(i))n("symbol",i);else if(h_(i))for(var o in i)i.hasOwnProperty(o)&&n(o,i[o])},_doMap:{linear:f_,category:zh,piecewise:function(e,t){var n=fm.call(this,t);return null==n&&(n=f_.call(this,e)),n},fixed:ml}},symbolSize:{applyVisual:Bh("symbolSize"),_doMap:hm([0,1])}};function dm(e,t){var n=e.visual,i=[];Pt(n)?Ac(n,function(o){i.push(o)}):null!=n&&i.push(n),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),p_(e,i)}function Oh(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:hm([0,1])}}function f_(e){var t=this.option.visual;return t[Math.round(Tr(e,[0,1],[0,t.length-1],!0))]||{}}function Bh(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function zh(e){var t=this.option.visual;return t[this.option.loop&&e!==Ph?e%t.length:e]}function ml(){return this.option.visual[0]}function hm(e){return{linear:function(t){return Tr(t,e,this.option.visual,!0)},category:zh,piecewise:function(t,n){var i=fm.call(this,n);return null==i&&(i=Tr(t,e,this.option.visual,!0)),i},fixed:ml}}function fm(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[fr.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function p_(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=Re(t,function(n){return mr(n)})),t}var KM={linear:function(e){return Tr(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=fr.findPieceIndex(e,t,!0);if(null!=n)return Tr(n,[0,t.length-1],[0,1],!0)},category:function(e){return(this.option.categories?this.option.categoryMap[e]:e)??Ph},fixed:gn};function Fh(e,t,n){return e?t<=n:t<n}fr.listVisualTypes=function(){var e=[];return ue(Mc,function(t,n){e.push(n)}),e},fr.addVisualHandler=function(e,t){Mc[e]=t},fr.isValidType=function(e){return Mc.hasOwnProperty(e)},fr.eachVisual=function(e,t,n){Pt(e)?ue(e,t,n):t.call(n,e)},fr.mapVisual=function(e,t,n){var i,o=bt(e)?[]:Pt(e)?{}:(i=!0,null);return fr.eachVisual(e,function(a,s){var l=t.call(n,a,s);i?o=l:o[s]=l}),o},fr.retrieveVisuals=function(e){var t,n={};return e&&Ac(Mc,function(i,o){e.hasOwnProperty(o)&&(n[o]=e[o],t=!0)}),t?n:null},fr.prepareVisualTypes=function(e){if(h_(e)){var t=[];Ac(e,function(n,i){t.push(i)}),e=t}else{if(!bt(e))return[];e=e.slice()}return e.sort(function(n,i){return"color"===i&&"color"!==n&&0===n.indexOf("color")?1:-1}),e},fr.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},fr.findPieceIndex=function(e,t,n){for(var i,o=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(null!=l){if(l===e||"string"==typeof l&&l===e+"")return a;n&&h(l,a)}}for(a=0,s=t.length;a<s;a++){var u=t[a],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(Fh(d[1],e,c[1]))return a}else if(c[1]===1/0){if(Fh(d[0],c[0],e))return a}else if(Fh(d[0],c[0],e)&&Fh(d[1],e,c[1]))return a;n&&h(c[0],a),n&&h(c[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(m,y){var T=Math.abs(m-e);T<o&&(o=T,i=y)}};var JM=bt,$M={seriesType:"treemap",reset:function(e,t,n,i){var o=e.getData().tree.root;o.isRemoved()||function a(s,l,u,c){var d=s.getModel(),h=s.getLayout();if(h&&!h.invisible&&h.isInView){var R,se,m=s.getModel("itemStyle"),y=function eI(e,t,n){var i=he({},t),o=n.designatedVisualItemStyle;return ue(["color","colorAlpha","colorSaturation"],function(a){o[a]=t[a];var s=e.get(a);(o[a]=null)!=s&&(i[a]=s)}),i}(m,l,c),T=m.get("borderColor"),H=m.get("borderColorSaturation");null!=H&&(T=null!=(se=R=g_(y))?te(se,null,null,H):null),s.setVisual("borderColor",T);var oe=s.viewChildren;if(oe&&oe.length){var Se=function tI(e,t,n,i,o,a){if(a&&a.length){var s=gm(t,"color")||null!=o.color&&"none"!==o.color&&(gm(t,"colorAlpha")||gm(t,"colorSaturation"));if(s){var l=t.get("visualMin"),u=t.get("visualMax"),c=n.dataExtent.slice();null!=l&&l<c[0]&&(c[0]=l),null!=u&&u>c[1]&&(c[1]=u);var d=t.get("colorMappingBy"),h={type:s.name,dataExtent:c,visual:s.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var m=new fr(h);return m.__drColorMappingBy=d,m}}}(0,d,h,0,y,oe);ue(oe,function(we,Te){if(we.depth>=u.length||we===u[we.depth]){var Me=function nI(e,t,n,i,o,a){var s=he({},t);if(o){var l=o.type,u="color"===l&&o.__drColorMappingBy,c="index"===u?i:"id"===u?a.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[l]=o.mapValueToVisual(c)}return s}(d,y,we,Te,Se,c);a(we,Me,u,c)}})}else R=g_(y),s.setVisual("color",R)}}(o,{},e.getViewRoot().getAncestors(),e)}};function g_(e){var t=pm(e,"color");if(t){var n=pm(e,"colorAlpha"),i=pm(e,"colorSaturation");return i&&(t=te(t,null,null,i)),n&&(t=ye(t,n)),t}}function pm(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function gm(e,t){var n=e.get(t);return JM(n)&&n.length?{name:t,range:n}:null}var Ic=Math.max,Hh=Math.min,m_=Mn,mm=ue,v_=["itemStyle","borderWidth"],iI=["itemStyle","gapWidth"],rI=["upperLabel","show"],oI=["upperLabel","height"],aI={seriesType:"treemap",reset:function(e,t,n,i){var o=n.getWidth(),a=n.getHeight(),s=e.option,l=Qr(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],c=Kn(m_(l.width,u[0]),o),d=Kn(m_(l.height,u[1]),a),h=i&&i.type,m=Dc(i,["treemapZoomToNode","treemapRootToNode"],e),y="treemapRender"===h||"treemapMove"===h?i.rootRect:null,T=e.getViewRoot(),H=s_(T);if("treemapMove"!==h){var R="treemapZoomToNode"===h?function(we,Te,Me,Pe,Ke){var it,lt=(Te||{}).node,mt=[Pe,Ke];if(!lt||lt===Me)return mt;for(var vt=Pe*Ke,wt=vt*we.option.zoomToNodeRatio;it=lt.parentNode;){for(var Et=0,Rt=it.children,It=0,Gt=Rt.length;It<Gt;It++)Et+=Rt[It].getValue();var bn=lt.getValue();if(0===bn)return mt;wt*=Et/bn;var Cn=it.getModel(),pn=Cn.get(v_);wt+=4*pn*pn+(3*pn+Math.max(pn,b_(Cn)))*Math.pow(wt,.5),bp<wt&&(wt=bp),lt=it}wt<vt&&(wt=vt);var Zn=Math.pow(wt/vt,.5);return[Pe*Zn,Ke*Zn]}(e,m,T,c,d):y?[y.width,y.height]:[c,d],$=s.sort;$&&"asc"!==$&&"desc"!==$&&($="desc");var se={squareRatio:s.squareRatio,sort:$,leafDepth:s.leafDepth};T.hostTree.clearLayouts();var oe={x:0,y:0,width:R[0],height:R[1],area:R[0]*R[1]};T.setLayout(oe),function we(Te,Me,Pe,Ke){var it,lt;if(!Te.isRemoved()){var mt=Te.getLayout();it=mt.width,lt=mt.height;var vt=(bn=Te.getModel()).get(v_),wt=bn.get(iI)/2,Et=b_(bn),Rt=Math.max(vt,Et),It=vt-wt,Gt=Rt-wt,bn=Te.getModel();Te.setLayout({borderWidth:vt,upperHeight:Rt,upperLabelHeight:Et},!0);var Cn=(it=Ic(it-2*It,0))*(lt=Ic(lt-It-Gt,0)),pn=function sI(e,t,n,i,o,a){var s=e.children||[],l=i.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=i.leafDepth&&i.leafDepth<=a;if(o&&!u)return e.viewChildren=[];!function(y,T){T&&y.sort(function(H,R){var $="asc"===T?H.getValue()-R.getValue():R.getValue()-H.getValue();return 0==$?"asc"===T?H.dataIndex-R.dataIndex:R.dataIndex-H.dataIndex:$})}(s=Je(s,function(y){return!y.isRemoved()}),l);var c=function(y,T,H){for(var R=0,$=0,se=T.length;$<se;$++)R+=T[$].getValue();var oe=y.get("visualDimension");if(T&&T.length)if("value"===oe&&H)Se=[T[T.length-1].getValue(),T[0].getValue()],"asc"===H&&Se.reverse();else{var Se=[1/0,-1/0];mm(T,function(we){var Te=we.getValue(oe);Te<Se[0]&&(Se[0]=Te),Te>Se[1]&&(Se[1]=Te)})}else Se=[NaN,NaN];return{sum:R,dataExtent:Se}}(t,s,l);if(0===c.sum)return e.viewChildren=[];if(c.sum=function(y,T,H,R,$){if(!R)return H;for(var se=y.get("visibleMin"),oe=$.length,Se=oe,we=oe-1;0<=we;we--){var Te=$["asc"===R?oe-we-1:we].getValue();Te/H*T<se&&(Se=we,H-=Te)}return $.splice("asc"===R?0:Se,oe-Se),H}(t,n,c.sum,l,s),0===c.sum)return e.viewChildren=[];for(var d=0,h=s.length;d<h;d++){var m=s[d].getValue()/c.sum*n;s[d].setLayout({area:m})}return u&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:c.dataExtent},!0),s}(Te,bn,Cn,Me,Pe,Ke);if(pn.length){var zn={x:It,y:Gt,width:it,height:lt},Zn=Hh(it,lt),fi=1/0,En=[];En.area=0;for(var ci=0,pi=pn.length;ci<pi;){var Si=pn[ci];En.push(Si),En.area+=Si.getLayout().area;var rr=lI(En,Zn,Me.squareRatio);fi=rr<=fi?(ci++,rr):(En.area-=En.pop().getLayout().area,y_(En,Zn,zn,wt,!1),Zn=Hh(zn.width,zn.height),En.length=En.area=0,1/0)}if(En.length&&y_(En,Zn,zn,wt,!0),!Pe){var Xi=bn.get("childrenVisibleMin");null!=Xi&&Cn<Xi&&(Pe=!0)}for(ci=0,pi=pn.length;ci<pi;ci++)we(pn[ci],Me,Pe,Ke+1)}}}(T,se,!1,0),oe=T.getLayout(),mm(H,function(we,Te){var Me=(H[Te+1]||T).getValue();we.setLayout(he({dataExtent:[Me,Me],borderWidth:0,upperHeight:0},oe))})}var Se=e.getData().tree.root;Se.setLayout(function(we,Te,Me){if(Te)return{x:Te.x,y:Te.y};var Pe={x:0,y:0};if(!Me)return Pe;var Ke=Me.node,it=Ke.getLayout();if(!it)return Pe;for(var lt=[it.width/2,it.height/2],mt=Ke;mt;){var vt=mt.getLayout();lt[0]+=vt.x,lt[1]+=vt.y,mt=mt.parentNode}return{x:we.width/2-lt[0],y:we.height/2-lt[1]}}(l,y,m),!0),e.setLayoutInfo(l),function we(Te,Me,Pe,Ke,it){var lt=Te.getLayout(),mt=Pe[it],vt=mt&&mt===Te;if(!(mt&&!vt||it===Pe.length&&Te!==Ke)){Te.setLayout({isInView:!0,invisible:!vt&&!Me.intersect(lt),isAboveViewRoot:vt},!0);var wt=new A(Me.x-lt.x,Me.y-lt.y,Me.width,Me.height);mm(Te.viewChildren||[],function(Et){we(Et,wt,Pe,Ke,it+1)})}}(Se,new A(-l.x,-l.y,o,a),H,T,0)}};function lI(e,t,n){for(var i,o=0,a=1/0,s=0,l=e.length;s<l;s++)(i=e[s].getLayout().area)&&(i<a&&(a=i),o<i&&(o=i));var u=e.area*e.area,c=t*t*n;return u?Ic(c*o/u,u/(c*a)):1/0}function y_(e,t,n,i,o){var a=t===n.width?0:1,s=1-a,l=["x","y"],u=["width","height"],c=n[l[a]],d=t?e.area/t:0;(o||d>n[u[s]])&&(d=n[u[s]]);for(var h=0,m=e.length;h<m;h++){var y=e[h],T={},H=d?y.getLayout().area/d:0,R=T[u[s]]=Ic(d-2*i,0),$=n[l[a]]+n[u[a]]-c,se=h===m-1||$<H?$:H,oe=T[u[a]]=Ic(se-2*i,0);T[l[s]]=n[l[s]]+Hh(i,R/2),T[l[a]]=c+Hh(i,oe/2),c+=se,y.setLayout(T,!0)}n[l[s]]+=d,n[u[s]]-=d}function b_(e){return e.get(rI)?e.get(oI):0}function hu(e){return"_EC_"+e}function kc(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}}_r($M),Br(aI);var fa=kc.prototype;function Na(e,t){this.id=e??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=t??-1}function Ec(e,t,n){this.node1=e,this.node2=t,this.dataIndex=n??-1}function x_(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){0<=this.dataIndex&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){0<=this.dataIndex&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}function __(e,t,n,i,o){for(var a=new kc(i),s=0;s<e.length;s++)a.addNode(Mn(e[s].id,e[s].name,s),s);var l=[],u=[],c=0;for(s=0;s<t.length;s++){var d=t[s],h=d.source,m=d.target;a.addEdge(h,m,c)&&(u.push(d),l.push(Mn(d.id,h+" > "+m)),c++)}var y,T=n.get("coordinateSystem");if("cartesian2d"===T||"polar"===T)y=as(e,n);else{var H=Oo.get(T),R=H&&"view"!==H.type&&H.dimensions||[];We(R,"value")<0&&R.concat(["value"]);var $=Jl(e,{coordDimensions:R});(y=new go($,n)).initData(e)}var se=new go(["value"],n);return se.initData(u,l),o&&o(y,se),e_({mainData:y,struct:a,structAttr:"graph",datas:{node:y,edge:se},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}fa.type="graph",fa.isDirected=function(){return this._directed},fa.addNode=function(e,t){var n=this._nodesMap;if(!n[hu(e=null==e?""+t:""+e)]){var i=new Na(e,t);return(i.hostGraph=this).nodes.push(i),n[hu(e)]=i}},fa.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},fa.getNodeById=function(e){return this._nodesMap[hu(e)]},fa.addEdge=function(e,t,n){var i=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),Na.isInstance(e)||(e=i[hu(e)]),Na.isInstance(t)||(t=i[hu(t)]),e&&t){var a=e.id+"-"+t.id,s=new Ec(e,t,n);return(s.hostGraph=this)._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[a]=s}},fa.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},fa.getEdge=function(e,t){Na.isInstance(e)&&(e=e.id),Na.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},fa.eachNode=function(e,t){for(var n=this.nodes,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&e.call(t,n[o],o)},fa.eachEdge=function(e,t){for(var n=this.edges,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&0<=n[o].node1.dataIndex&&0<=n[o].node2.dataIndex&&e.call(t,n[o],o)},fa.breadthFirstTraverse=function(e,t,n,i){if(Na.isInstance(t)||(t=this._nodesMap[hu(t)]),t){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(i,t,null))for(var s=[t];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var c=u[a],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(e.call(i,d,l))return;s.push(d),d.__visited=!0}}}}},fa.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)n[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(s){var l=i[t.getRawIndex(s)];return 0<=l.node1.dataIndex&&0<=l.node2.dataIndex}),o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o},fa.clone=function(){for(var e=new kc(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},Na.prototype={constructor:Na,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Ec.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},ke(Na,x_("hostGraph","data")),ke(Ec,x_("hostGraph","edgeData")),kc.Node=Na,kc.Edge=Ec,fd(Na),fd(Ec);var Vh=function(e){return e.get("autoCurveness")||null},w_=function(e,t){var n=Vh(e),i=20,o=[];if("number"==typeof n)i=n;else if(bt(n))return void(e.__curvenessList=n);i<t&&(i=t);var a=i%2?i+2:i+3;o=[];for(var s=0;s<a;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=o},Nc=function(e,t,n){var i=[e.id,e.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[n.uid,i,o].join("--\x3e")},S_=function(e){var t=e.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},uI=function(e,t){var n=Nc(e.node1,e.node2,t);return t.__edgeMap[n]},cI=function(e,t){return ym(Nc(e.node1,e.node2,t),t)+ym(Nc(e.node2,e.node1,t),t)},ym=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function bm(e,t,n,i){var o=Vh(t),a=bt(o);if(!o)return null;var s=uI(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===n){l=u;break}var c=cI(e,t);w_(t,c),e.lineStyle=e.lineStyle||{};var d=Nc(e.node1,e.node2,t),h=t.__curvenessList,m=a||c%2?0:1;if(s.isForward)return h[m+l];var y=S_(d),T=ym(y,t),H=h[l+T+m];return i?a?o&&0===o[0]?(T+m)%2?H:-H:((T%2?0:1)+m)%2?H:-H:(T+m)%2?H:-H:h[l+T+m]}var Lc=ch({type:"series.graph",init:function(e){Lc.superApply(this,"init",arguments);var t=this;function n(){return t._categoriesData}this.legendVisualProvider=new yc(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){Lc.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){Lc.superApply(this,"mergeDefaultAndTheme",arguments),Xs(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var s,n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n){Vh(s=this)&&(s.__curvenessList=[],s.__edgeMap={},w_(s));var a=__(i,n,this,!0,function(s,l){s.wrapMethod("getItemModel",function(y){var T=o._categoriesModels[y.getShallow("category")];return T&&(T.parentModel=y.parentModel,y.parentModel=T),y});var u=o.getModel("edgeLabel"),c=new qi({label:u.option},u.parentModel,t),d=o.getModel("emphasis.edgeLabel"),h=new qi({emphasis:{label:d.option}},d.parentModel,t);function m(y){return(y=this.parsePath(y))&&"label"===y[0]?c:y&&"emphasis"===y[0]&&"label"===y[1]?h:this.parentModel}l.wrapMethod("getItemModel",function(y){return y.customizeGetParent(m),y})});return ue(a.edges,function(s){!function(l,u,c,d){if(Vh(c)){var h=Nc(l,u,c),m=c.__edgeMap,y=m[S_(h)];m[h]&&!y?m[h].isForward=!0:y&&m[h]&&(y.isForward=!0,m[h].isForward=!1),m[h]=m[h]||[],m[h].push(d)}}(s.node1,s.node2,this,s.dataIndex)},this),a.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"!==n)return Lc.superApply(this,"formatTooltip",arguments);var i=this.getData(),o=this.getDataParams(e,n),a=i.graph.getEdgeByIndex(e),s=i.getName(a.node1.dataIndex),l=i.getName(a.node2.dataIndex),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),u=Ir(u.join(" > ")),o.value&&(u+=" : "+Ir(o.value)),u},_updateCategoriesData:function(){var e=Re(this.option.categories||[],function(n){return null!=n.value?n:he({value:0},n)}),t=new go(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(n){return t.getItemModel(n,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return Lc.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),C_=Mo.prototype,xm=Dd.prototype;function _m(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var dI=ba({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[_m(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:C_.buildPath,_buildPathCurve:xm.buildPath,pointAt:function(e){return this[_m(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:C_.pointAt,_pointAtCurve:xm.pointAt,tangentAt:function(e){var t=this.shape,n=_m(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return $n(n,n)},_tangentAtCurve:xm.tangentAt}),wm=["fromSymbol","toSymbol"];function T_(e){return"_"+e+"Type"}function D_(e,t,n){var i=t.getItemVisual(n,e);if(i&&"none"!==i){var o=t.getItemVisual(n,"color"),a=t.getItemVisual(n,e+"Size"),s=t.getItemVisual(n,e+"Rotate");bt(a)||(a=[a,a]);var l=da(i,-a[0]/2,-a[1]/2,a[0],a[1],o);return l.__specifiedRotation=null==s||isNaN(s)?void 0:+s*Math.PI/180||0,l.name=e,l}}function Sm(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}function Rc(e,t,n){E.call(this),this._createLine(e,t,n)}var Bs=Rc.prototype;function Wh(e){this._ctor=e||Rc,this.group=new E}Bs.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),n=this.childOfName("label");if(e||t||!n.ignore){for(var i=1,o=this.parent;o;)o.scale&&(i/=o.scale[0]),o=o.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var h,s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),c=fn([],u,l);if($n(c,c),e){if(e.attr("position",l),null==(h=e.__specifiedRotation)){var d=a.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0]))}else e.attr("rotation",h);e.attr("scale",[i*s,i*s])}if(t&&(t.attr("position",u),null==(h=t.__specifiedRotation)?(d=a.tangentAt(1),t.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0]))):t.attr("rotation",h),t.attr("scale",[i*s,i*s])),!n.ignore){var m,y,T,H;n.attr("position",u);var R=n.__labelDistance,$=R[0]*i,se=R[1]*i,oe=s/2,Se=[(d=a.tangentAt(oe))[1],-d[0]],we=a.pointAt(oe);0<Se[1]&&(Se[0]=-Se[0],Se[1]=-Se[1]);var Te,Me=d[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var Pe=-Math.atan2(d[1],d[0]);u[0]<l[0]&&(Pe=Math.PI+Pe),n.attr("rotation",Pe)}switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Te=-se,T="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Te=se,T="top";break;default:Te=0,T="middle"}switch(n.__position){case"end":m=[c[0]*$+u[0],c[1]*se+u[1]],y=.8<c[0]?"left":c[0]<-.8?"right":"center",T=.8<c[1]?"top":c[1]<-.8?"bottom":"middle";break;case"start":m=[-c[0]*$+l[0],-c[1]*se+l[1]],y=.8<c[0]?"right":c[0]<-.8?"left":"center",T=.8<c[1]?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":m=[$*Me+l[0],l[1]+Te],y=d[0]<0?"right":"left",H=[-$*Me,-Te];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":m=[we[0],we[1]+Te],y="center",H=[0,-Te];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":m=[-$*Me+u[0],u[1]+Te],y=0<=d[0]?"right":"left",H=[$*Me,-Te]}n.attr({style:{textVerticalAlign:n.__verticalAlign||T,textAlign:n.__textAlign||y},position:m,scale:[i,i],origin:H})}}}},Bs._createLine=function(e,t,n){var s,l,i=e.hostModel,o=(s=e.getItemLayout(t),Sm((l=new dI({name:"line",subPixelOptimize:!0})).shape,s),l);o.shape.percent=0,Ro(o,{shape:{percent:1}},i,t),this.add(o);var a=new Hi({name:"label",lineLabelOriginalOpacity:1});this.add(a),ue(wm,function(s){var l=D_(s,e,t);this.add(l),this[T_(s)]=e.getItemVisual(t,s)},this),this._updateCommonStl(e,t,n)},Bs.updateData=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=e.getItemLayout(t),s={shape:{}};Sm(s.shape,a),Ri(o,s,i,t),ue(wm,function(l){var u=e.getItemVisual(t,l),c=T_(l);if(this[c]!==u){this.remove(this.childOfName(l));var d=D_(l,e,t);this.add(d)}this[c]=u},this),this._updateCommonStl(e,t,n)},Bs._updateCommonStl=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle,l=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var c=e.getItemModel(t);a=c.getModel("lineStyle").getLineStyle(),s=c.getModel("emphasis.lineStyle").getLineStyle(),l=c.getModel("label"),u=c.getModel("emphasis.label")}var d=e.getItemVisual(t,"color"),h=Nn(e.getItemVisual(t,"opacity"),a.opacity,1);o.useStyle(De({strokeNoScale:!0,fill:"none",stroke:d,opacity:h},a)),o.hoverStyle=s,ue(wm,function(Te){var Me=this.childOfName(Te);Me&&(Me.setColor(d),Me.setStyle({opacity:h}))},this);var m,y,T=l.getShallow("show"),H=u.getShallow("show"),R=this.childOfName("label");if((T||H)&&(m=d||"#000",null==(y=i.getFormattedLabel(t,"normal",e.dataType)))){var $=i.getRawValue(t);y=null==$?e.getName(t):isFinite($)?ao($):$}var se=T?y:null,oe=H?Zt(i.getFormattedLabel(t,"emphasis",e.dataType),y):null,Se=R.style;if(null!=se||null!=oe){Pr(R.style,l,{text:se},{autoColor:m}),R.__textAlign=Se.textAlign,R.__verticalAlign=Se.textVerticalAlign,R.__position=l.get("position")||"middle";var we=l.get("distance");bt(we)||(we=[we,we]),R.__labelDistance=we}R.hoverStyle=null!=oe?{text:oe,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null},R.ignore=!T&&!H,Cr(this)},Bs.highlight=function(){this.trigger("emphasis")},Bs.downplay=function(){this.trigger("normal")},Bs.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},Bs.setLinePoints=function(e){var t=this.childOfName("line");Sm(t.shape,e),t.dirty()},xe(Rc,E);var vl=Wh.prototype;function A_(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function M_(e){return isNaN(e[0])||isNaN(e[1])}function Cm(e){return!M_(e[0])&&!M_(e[1])}function Pc(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o}function Oc(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}vl.isPersistent=function(){return!0},vl.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var o=A_(e);e.diff(i).add(function(a){!function(s,l,u,c){if(Cm(l.getItemLayout(u))){var d=new s._ctor(l,u,c);l.setItemGraphicEl(u,d),s.group.add(d)}}(t,e,a,o)}).update(function(a,s){!function(l,u,c,d,h,m){var y=u.getItemGraphicEl(d);if(!Cm(c.getItemLayout(h)))return l.group.remove(y);y?y.updateData(c,h,m):y=new l._ctor(c,h,m),c.setItemGraphicEl(h,y),l.group.add(y)}(t,i,e,s,a,o)}).remove(function(a){n.remove(i.getItemGraphicEl(a))}).execute()},vl.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},vl.incrementalPrepareUpdate=function(e){this._seriesScope=A_(e),this._lineData=null,this.group.removeAll()},vl.incrementalUpdate=function(e,t){function n(a){var s;a.isGroup||(s=a).animators&&0<s.animators.length||(a.incremental=a.useHoverLayer=!0)}for(var i=e.start;i<e.end;i++)if(Cm(t.getItemLayout(i))){var o=new this._ctor(t,i,this._seriesScope);o.traverse(n),this.group.add(o),t.setItemGraphicEl(i,o)}},vl.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},vl._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Tm=[],Dm=[],Am=[],fu=Lo,Mm=Zi,I_=Math.abs;function k_(e,t,n){for(var i,o=e[0],a=e[1],s=e[2],l=1/0,u=n*n,c=.1,d=.1;d<=.9;d+=.1)Tm[0]=fu(o[0],a[0],s[0],d),Tm[1]=fu(o[1],a[1],s[1],d),(y=I_(Mm(Tm,t)-u))<l&&(l=y,i=d);for(var h=0;h<32;h++){var m=i+c;Dm[0]=fu(o[0],a[0],s[0],i),Dm[1]=fu(o[1],a[1],s[1],i),Am[0]=fu(o[0],a[0],s[0],m),Am[1]=fu(o[1],a[1],s[1],m);var y=Mm(Dm,t)-u;if(I_(y)<.01)break;var T=Mm(Am,t)-u;c/=2,y<0?0<=T?i+=c:i-=c:0<=T?i-=c:i+=c}return i}function Im(e,t){var n=[],i=ep,o=[[],[],[]],a=[[],[]],s=[];t/=2,e.eachEdge(function(l,u){var c=l.getLayout(),d=l.getVisual("fromSymbol"),h=l.getVisual("toSymbol");c.__original||(c.__original=[ui(c[0]),ui(c[1])],c[2]&&c.__original.push(ui(c[2])));var m=c.__original;if(null!=c[2]){if(Wn(o[0],m[0]),Wn(o[1],m[2]),Wn(o[2],m[1]),d&&"none"!==d){var y=Oc(l.node1),T=k_(o,m[0],y*t);i(o[0][0],o[1][0],o[2][0],T,n),o[0][0]=n[3],o[1][0]=n[4],i(o[0][1],o[1][1],o[2][1],T,n),o[0][1]=n[3],o[1][1]=n[4]}h&&"none"!==h&&(y=Oc(l.node2),T=k_(o,m[1],y*t),i(o[0][0],o[1][0],o[2][0],T,n),o[1][0]=n[1],o[2][0]=n[2],i(o[0][1],o[1][1],o[2][1],T,n),o[1][1]=n[1],o[2][1]=n[2]),Wn(c[0],o[0]),Wn(c[1],o[2]),Wn(c[2],o[1])}else Wn(a[0],m[0]),Wn(a[1],m[1]),fn(s,a[1],a[0]),$n(s,s),d&&"none"!==d&&(y=Oc(l.node1),Yt(a[0],a[0],s,y*t)),h&&"none"!==h&&(y=Oc(l.node2),Yt(a[1],a[1],s,-y*t)),Wn(c[0],a[0]),Wn(c[1],a[1])})}var pu="__focusNodeAdjacency",gu="__unfocusNodeAdjacency",yl=["itemStyle","opacity"],jh=["lineStyle","opacity"];function E_(e,t){return e.getVisual("opacity")??e.getModel().get(t)}function Uh(e,t,n){var i=e.getGraphicEl(),o=E_(e,t);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){if(!a.isGroup){var s=a.lineLabelOriginalOpacity;null!=s&&null==n||(s=o),a.setStyle("opacity",s)}})}function bl(e,t){var n=E_(e,t),i=e.getGraphicEl();i.traverse(function(o){o.isGroup||o.setStyle("opacity",n)}),i.highlight&&i.highlight()}function Gh(e){return e instanceof Array||(e=[e,e]),e}function N_(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(i){var o=i.getModel();i.setLayout([+o.get("x"),+o.get("y")])}),L_(n,e)}}function L_(e,t){e.eachEdge(function(n,i){var o=Nn(n.getModel().get("lineStyle.curveness"),-bm(n,t,i,!0),0),a=ui(n.node1.getLayout()),s=ui(n.node2.getLayout()),l=[a,s];+o&&l.push([(a[0]+s[0])/2-(a[1]-s[1])*o,(a[1]+s[1])/2-(s[0]-a[0])*o]),n.setLayout(l)})}ta({type:"graph",init:function(e,t){var n=new tu,i=new Wh,o=this.group;this._controller=new cu(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=this,o=e.coordinateSystem;this._model=e;var a=this._symbolDraw,s=this._lineDraw,l=this.group;if("view"===o.type){var u={position:o.position,scale:o.scale};this._firstRender?l.attr(u):Ri(l,u,e)}Im(e.getGraph(),Pc(e));var c=e.getData();a.updateData(c);var d=e.getEdgeData();s.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,m=e.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,m),c.eachItemGraphicEl(function(R,$){var se=c.getItemModel($);R.off("drag").off("dragend");var oe=se.get("draggable");oe&&R.on("drag",function(){h&&(h.warmUp(),this._layouting||this._startForceLayoutIteration(h,m),h.setFixed($),c.setItemLayout($,R.position))},this).on("dragend",function(){h&&h.setUnfixed($)},this),R.setDraggable(oe&&h),R[pu]&&R.off("mouseover",R[pu]),R[gu]&&R.off("mouseout",R[gu]),se.get("focusNodeAdjacency")&&(R.on("mouseover",R[pu]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:R.dataIndex})}),R.on("mouseout",R[gu]=function(){i._dispatchUnfocus(n)}))},this),c.graph.eachEdge(function(R){var $=R.getGraphicEl();$[pu]&&$.off("mouseover",$[pu]),$[gu]&&$.off("mouseout",$[gu]),R.getModel().get("focusNodeAdjacency")&&($.on("mouseover",$[pu]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:R.dataIndex})}),$.on("mouseout",$[gu]=function(){i._dispatchUnfocus(n)}))});var y="circular"===e.get("layout")&&e.get("circular.rotateLabel"),T=c.getLayout("cx"),H=c.getLayout("cy");c.eachItemGraphicEl(function(R,$){var se=c.getItemModel($).get("label.rotate")||0,oe=R.getSymbolPath();if(y){var Se=c.getItemLayout($),we=Math.atan2(Se[1]-H,Se[0]-T);we<0&&(we=2*Math.PI+we);var Te=Se[0]<T;Te&&(we-=Math.PI);var Me=Te?"left":"right";fp(oe,{textRotation:-we,textPosition:Me,textOrigin:"center"},{textPosition:Me})}else fp(oe,{textRotation:se*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(e,t){var n=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){n._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var o=e.getData().graph,s=i.edgeDataIndex,l=o.getNodeByIndex(i.dataIndex),u=o.getEdgeByIndex(s);(l||u)&&(o.eachNode(function(c){Uh(c,yl,.1)}),o.eachEdge(function(c){Uh(c,jh,.1)}),l&&(bl(l,yl),ue(l.edges,function(c){c.dataIndex<0||(bl(c,jh),bl(c.node1,yl),bl(c.node2,yl))})),u&&(bl(u,jh),bl(u.node1,yl),bl(u.node2,yl)))},unfocusNodeAdjacency:function(e,t,n,i){var o=e.getData().graph;o.eachNode(function(a){Uh(a,yl)}),o.eachEdge(function(a){Uh(a,jh)})},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(t?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(s,l,u){var c=a.getBoundingRect();return c.applyTransform(a.transform),c.contain(l,u)&&!Eh(s,n,e)}),"view"===e.coordinateSystem.type?(i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(s){Zg(o,s.dx,s.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:s.dx,dy:s.dy})}).on("zoom",function(s){Kg(o,s.scale,s.originX,s.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:s.scale,originX:s.originX,originY:s.originY}),this._updateNodeAndLinkScale(),Im(e.getGraph(),Pc(e)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=Pc(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},updateLayout:function(e){Im(e.getGraph(),Pc(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),Yi({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),Yi({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),Yi({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(n){var i=Qg(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})});var R_=Math.PI,km=[];function P_(e,t){var n=e.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),o=e.getData(),a=o.graph,s=i.width/2+i.x,l=i.height/2+i.y,u=Math.min(i.width,i.height)/2,c=o.count();o.setLayout({cx:s,cy:l}),c&&(hI[t](e,n,a,o,u,s,l,c),a.eachEdge(function(d,h){var m,y=Nn(d.getModel().get("lineStyle.curveness"),bm(d,e,h),0),T=ui(d.node1.getLayout()),H=ui(d.node2.getLayout());+y&&(m=[s*(y*=3)+(T[0]+H[0])/2*(1-y),l*y+(T[1]+H[1])/2*(1-y)]),d.setLayout([T,H,m])}))}}var hI={value:function(e,t,n,i,o,a,s,l){var u=0,c=i.getSum("value"),d=2*Math.PI/(c||l);n.eachNode(function(h){var m=h.getValue("value"),y=d*(c?m:1)/2;u+=y,h.setLayout([o*Math.cos(u)+a,o*Math.sin(u)+s]),u+=y})},symbolSize:function(e,t,n,i,o,a,s,l){var u=0;km.length=l;var c=Pc(e);n.eachNode(function(m){var y=Oc(m);isNaN(y)&&(y=2),y<0&&(y=0),y*=c;var T=Math.asin(y/2/o);isNaN(T)&&(T=R_/2),km[m.dataIndex]=T,u+=2*T});var d=(2*R_-u)/l/2,h=0;n.eachNode(function(m){var y=d+km[m.dataIndex];h+=y,m.setLayout([o*Math.cos(h)+a,o*Math.sin(h)+s]),h+=y})}},mu=Yt;ua(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getGraph().data,a=i.mapArray(i.getName);o.filterSelf(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"number"==typeof l&&(l=a[l]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(l))return!1}return!0})},this)}),_r(hl("graph","circle",null)),_r(function(e){var t={};e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getData(),a={};i.each(function(s){var l=i.getName(s);a["ec-"+l]=s;var u=i.getItemModel(s),c=u.get("itemStyle.color")||n.getColorFromPalette(l,t);i.setItemVisual(s,"color",c);for(var d=["opacity","symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++){var m=u.getShallow(d[h],!0);null!=m&&i.setItemVisual(s,d[h],m)}}),i.count()&&o.each(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"string"==typeof l&&(l=a["ec-"+l]);for(var u=["color","opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<u.length;c++)null==o.getItemVisual(s,u[c],!0)&&o.setItemVisual(s,u[c],i.getItemVisual(l,u[c]))}})})}),_r(function(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),o=Gh(t.get("edgeSymbol")),a=Gh(t.get("edgeSymbolSize")),s="lineStyle.color".split("."),l="lineStyle.opacity".split(".");i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("color",t.get(s)),i.setVisual("opacity",t.get(l)),i.each(function(u){var c=i.getItemModel(u),d=n.getEdgeByIndex(u),h=Gh(c.getShallow("symbol",!0)),m=Gh(c.getShallow("symbolSize",!0)),y=c.get(s),T=c.get(l);switch(y){case"source":y=d.node1.getVisual("color");break;case"target":y=d.node2.getVisual("color")}h[0]&&d.setVisual("fromSymbol",h[0]),h[1]&&d.setVisual("toSymbol",h[1]),m[0]&&d.setVisual("fromSymbolSize",m[0]),m[1]&&d.setVisual("toSymbolSize",m[1]),d.setVisual("color",y),d.setVisual("opacity",T)})})}),Br(function(e,t){e.eachSeriesByType("graph",function(n){var i=n.get("layout"),o=n.coordinateSystem;if(o&&"view"!==o.type){var a=n.getData(),s=[];ue(o.dimensions,function(m){s=s.concat(a.mapDimension(m,!0))});for(var l=0;l<a.count();l++){for(var u=[],c=!1,d=0;d<s.length;d++){var h=a.get(s[d],l);isNaN(h)||(c=!0),u.push(h)}a.setItemLayout(l,c?o.dataToPoint(u):[NaN,NaN])}L_(a.graph,n)}else i&&"none"!==i||N_(n)})}),Br(Ua.VISUAL.POST_CHART_LAYOUT,function(e){e.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&P_(t,"symbolSize")})}),Br(function(e){e.eachSeriesByType("graph",function(t){if(!(m=t.coordinateSystem)||"view"===m.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),o=i.data,a=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(se){var oe=o.getId(se);o.setItemLayout(se,n[oe]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&P_(t,"value"):N_(t);var u=o.getDataExtent("value"),c=a.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength");bt(d)||(d=[d,d]),bt(h)||(h=[h,h]),h=[h[1],h[0]];var m,y=o.mapArray("value",function(se,oe){var Se=o.getItemLayout(oe),we=Tr(se,u,d);return isNaN(we)&&(we=(d[0]+d[1])/2),{w:we,rep:we,fixed:o.getItemModel(oe).get("fixed"),p:!Se||isNaN(Se[0])||isNaN(Se[1])?null:Se}}),T=a.mapArray("value",function(se,oe){var Se=i.getEdgeByIndex(oe),we=Tr(se,c,h);isNaN(we)&&(we=(h[0]+h[1])/2);var Te=Se.getModel(),Me=Nn(Te.get("lineStyle.curveness"),-bm(Se,t,oe,!0),0);return{n1:y[Se.node1.dataIndex],n2:y[Se.node2.dataIndex],d:we,curveness:Me,ignoreForceLayout:Te.get("ignoreForceLayout")}}),H=(m=t.coordinateSystem).getBoundingRect(),R=function(se,oe,Se){for(var we=Se.rect,Te=we.width,Me=we.height,Pe=[we.x+Te/2,we.y+Me/2],Ke=null==Se.gravity?.1:Se.gravity,it=0;it<se.length;it++){var lt=se[it];lt.p||(lt.p=an(Te*(Math.random()-.5)+Pe[0],Me*(Math.random()-.5)+Pe[1])),lt.pp=ui(lt.p),lt.edges=null}var mt=null==Se.friction?.6:Se.friction,vt=mt;return{warmUp:function(){vt=.8*mt},setFixed:function(wt){se[wt].fixed=!0},setUnfixed:function(wt){se[wt].fixed=!1},step:function(wt){for(var Et=[],Rt=se.length,It=0;It<oe.length;It++){var Gt=oe[It];if(!Gt.ignoreForceLayout){var bn=Gt.n1;fn(Et,(Zn=Gt.n2).p,bn.p);var Cn=Tn(Et)-Gt.d,pn=Zn.w/(bn.w+Zn.w);isNaN(pn)&&(pn=0),$n(Et,Et),bn.fixed||mu(bn.p,bn.p,Et,pn*Cn*vt),Zn.fixed||mu(Zn.p,Zn.p,Et,-(1-pn)*Cn*vt)}}for(It=0;It<Rt;It++)(ci=se[It]).fixed||(fn(Et,Pe,ci.p),mu(ci.p,ci.p,Et,Ke*vt));for(It=0;It<Rt;It++){bn=se[It];for(var zn=It+1;zn<Rt;zn++){var Zn;fn(Et,(Zn=se[zn]).p,bn.p),0===(Cn=Tn(Et))&&(Ii(Et,Math.random()-.5,Math.random()-.5),Cn=1);var fi=(bn.rep+Zn.rep)/Cn/Cn;bn.fixed||mu(bn.pp,bn.pp,Et,fi),Zn.fixed||mu(Zn.pp,Zn.pp,Et,-fi)}}var En=[];for(It=0;It<Rt;It++){var ci;(ci=se[It]).fixed||(fn(En,ci.p,ci.pp),mu(ci.p,ci.p,En,vt),Wn(ci.pp,ci.p))}vt*=.992,wt&&wt(se,oe,vt<.01)}}}(y,T,{rect:H,gravity:s.get("gravity"),friction:s.get("friction")}),$=R.step;R.step=function(se){for(var oe=0,Se=y.length;oe<Se;oe++)y[oe].fixed&&Wn(y[oe].p,i.getNodeByIndex(oe).getLayout());$(function(we,Te,Me){for(var Pe=0,Ke=we.length;Pe<Ke;Pe++)we[Pe].fixed||i.getNodeByIndex(Pe).setLayout(we[Pe].p),n[o.getId(Pe)]=we[Pe].p;for(Pe=0,Ke=Te.length;Pe<Ke;Pe++){var it=Te[Pe],lt=i.getEdgeByIndex(Pe),mt=it.n1.p,vt=it.n2.p,wt=lt.getLayout();(wt=wt?wt.slice():[])[0]=wt[0]||[],wt[1]=wt[1]||[],Wn(wt[0],mt),Wn(wt[1],vt),+it.curveness&&(wt[2]=[(mt[0]+vt[0])/2-(mt[1]-vt[1])*it.curveness,(mt[1]+vt[1])/2-(vt[0]-mt[0])*it.curveness]),lt.setLayout(wt)}se&&se(Me)})},t.forceLayout=R,t.preservedPoints=n,R.step()}else t.forceLayout=null})}),lg("graphView",{create:function(e,t){var n=[];return e.eachSeriesByType("graph",function(i){var R,$,se,o=i.get("coordinateSystem");if(!o||"view"===o){var a=i.getData(),s=[],l=[];Nu(a.mapArray(function(H){var R=a.getItemModel(H);return[+R.get("x"),+R.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=(R=t,$=u,(se=i.getBoxLayoutParams()).aspect=$,Qr(se,{width:R.getWidth(),height:R.getHeight()}));isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],h=l[1]-s[1],m=c.width,y=c.height,T=i.coordinateSystem=new Os;T.zoomLimit=i.get("scaleLimit"),T.setBoundingRect(s[0],s[1],d,h),T.setViewRect(c.x,c.y,m,y),T.setCenter(i.get("center")),T.setZoom(i.get("zoom")),n.push(T)}}),n}}),Or.extend({type:"series.gauge",getInitialData:function(e,t){return su(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var fI=Gi.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,o=t.r,a=t.width,s=t.angle,l=t.x-n(s)*a*(o/3<=a?1:2),u=t.y-i(s)*a*(o/3<=a?1:2);s=t.angle-Math.PI/2,e.moveTo(l,u),e.lineTo(t.x+n(s)*a,t.y+i(s)*a),e.lineTo(t.x+n(t.angle)*o,t.y+i(t.angle)*o),e.lineTo(t.x-n(s)*a,t.y-i(s)*a),e.lineTo(l,u)}});function O_(e,t){return t&&("string"==typeof t?e=t.replace("{value}",e??""):"function"==typeof t&&(e=t(e))),e}var pI=2*Math.PI,B_=(wo.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),o=function(a,s){var l=a.get("center"),u=s.getWidth(),c=s.getHeight(),d=Math.min(u,c);return{cx:Kn(l[0],s.getWidth()),cy:Kn(l[1],s.getHeight()),r:Kn(a.get("radius"),d/2)}}(e,n);this._renderMain(e,t,n,i,o)},dispose:function(){},_renderMain:function(e,t,n,i,o){for(var a=this.group,s=e.getModel("axisLine"),l=s.getModel("lineStyle"),u=e.get("clockwise"),c=-e.get("startAngle")/180*Math.PI,d=((H=-e.get("endAngle")/180*Math.PI)-c)%pI,h=c,m=l.get("width"),y=s.get("show"),T=0;y&&T<i.length;T++){var H,R=Math.min(Math.max(i[T][0],0),1),$=new Ma({shape:{startAngle:h,endAngle:H=c+d*R,cx:o.cx,cy:o.cy,clockwise:u,r0:o.r-m,r:o.r},silent:!0});$.setStyle({fill:i[T][1]}),$.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),a.add($),h=H}function se(Se){if(Se<=0)return i[0][1];for(var we=0;we<i.length;we++)if(i[we][0]>=Se&&(0===we?0:i[we-1][0])<Se)return i[we][1];return i[we-1][1]}if(!u){var oe=c;c=H,H=oe}this._renderTicks(e,t,n,se,o,c,H,u),this._renderPointer(e,t,n,se,o,c,H,u),this._renderTitle(e,t,n,se,o),this._renderDetail(e,t,n,se,o)},_renderTicks:function(e,t,n,i,o,a,s,l){for(var u=this.group,c=o.cx,d=o.cy,h=o.r,m=+e.get("min"),y=+e.get("max"),T=e.getModel("splitLine"),H=e.getModel("axisTick"),R=e.getModel("axisLabel"),$=e.get("splitNumber"),se=H.get("splitNumber"),oe=Kn(T.get("length"),h),Se=Kn(H.get("length"),h),we=a,Te=(s-a)/$,Me=Te/se,Pe=T.getModel("lineStyle").getLineStyle(),Ke=H.getModel("lineStyle").getLineStyle(),it=0;it<=$;it++){var lt=Math.cos(we),mt=Math.sin(we);if(T.get("show")){var vt=new Mo({shape:{x1:lt*h+c,y1:mt*h+d,x2:lt*(h-oe)+c,y2:mt*(h-oe)+d},style:Pe,silent:!0});"auto"===Pe.stroke&&vt.setStyle({stroke:i(it/$)}),u.add(vt)}if(R.get("show")){var wt=O_(ao(it/$*(y-m)+m),R.get("formatter")),Et=R.get("distance"),Rt=i(it/$);u.add(new Hi({style:Pr({},R,{text:wt,x:lt*(h-oe-Et)+c,y:mt*(h-oe-Et)+d,textVerticalAlign:mt<-.4?"top":.4<mt?"bottom":"middle",textAlign:lt<-.4?"left":.4<lt?"right":"center"},{autoColor:Rt}),silent:!0}))}if(H.get("show")&&it!==$){for(var It=0;It<=se;It++){lt=Math.cos(we),mt=Math.sin(we);var Gt=new Mo({shape:{x1:lt*h+c,y1:mt*h+d,x2:lt*(h-Se)+c,y2:mt*(h-Se)+d},silent:!0,style:Ke});"auto"===Ke.stroke&&Gt.setStyle({stroke:i((it+It/se)/$)}),u.add(Gt),we+=Me}we-=Me}else we+=Te}},_renderPointer:function(e,t,n,i,o,a,s,l){var u=this.group,c=this._data;if(e.get("pointer.show")){var d=[+e.get("min"),+e.get("max")],h=[a,s],m=e.getData(),y=m.mapDimension("value");m.diff(c).add(function(T){var H=new fI({shape:{angle:a}});Ro(H,{shape:{angle:Tr(m.get(y,T),d,h,!0)}},e),u.add(H),m.setItemGraphicEl(T,H)}).update(function(T,H){var R=c.getItemGraphicEl(H);Ri(R,{shape:{angle:Tr(m.get(y,T),d,h,!0)}},e),u.add(R),m.setItemGraphicEl(T,R)}).remove(function(T){var H=c.getItemGraphicEl(T);u.remove(H)}).execute(),m.eachItemGraphicEl(function(T,H){var R=m.getItemModel(H),$=R.getModel("pointer");T.setShape({x:o.cx,y:o.cy,width:Kn($.get("width"),o.r),r:Kn($.get("length"),o.r)}),T.useStyle(R.getModel("itemStyle").getItemStyle()),"auto"===T.style.fill&&T.setStyle("fill",i(Tr(m.get(y,H),d,[0,1],!0))),Cr(T,R.getModel("emphasis.itemStyle").getItemStyle())}),this._data=m}else c&&c.eachItemGraphicEl(function(T){u.remove(T)})},_renderTitle:function(e,t,n,i,o){var a=e.getData(),s=a.mapDimension("value"),l=e.getModel("title");if(l.get("show")){var u=l.get("offsetCenter"),c=o.cx+Kn(u[0],o.r),d=o.cy+Kn(u[1],o.r),h=+e.get("min"),m=+e.get("max"),y=i(Tr(e.getData().get(s,0),[h,m],[0,1],!0));this.group.add(new Hi({silent:!0,style:Pr({},l,{x:c,y:d,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:y,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,o){var a=e.getModel("detail"),s=+e.get("min"),l=+e.get("max");if(a.get("show")){var u=a.get("offsetCenter"),c=o.cx+Kn(u[0],o.r),d=o.cy+Kn(u[1],o.r),h=Kn(a.get("width"),o.r),m=Kn(a.get("height"),o.r),y=e.getData(),T=y.get(y.mapDimension("value"),0),H=i(Tr(T,[s,l],[0,1],!0));this.group.add(new Hi({silent:!0,style:Pr({},a,{x:c,y:d,text:O_(T,a.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(m)?null:m,textAlign:"center",textVerticalAlign:"middle"},{autoColor:H,forceRich:!0})}))}}}),ch({type:"series.funnel",init:function(e){B_.superApply(this,"init",arguments),this.legendVisualProvider=new yc(dt(this.getData,this),dt(this.getRawData,this)),this._defaultLabelLine(e)},getInitialData:function(e,t){return su(this,{coordDimensions:["value"],encodeDefaulter:Nt(Np,this)})},_defaultLabelLine:function(e){Xs(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=B_.superCall(this,"getDataParams",e),i=t.mapDimension("value"),o=t.getSum(i);return n.percent=o?+(t.get(i,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}));function Em(e,t){E.call(this);var n=new $o,i=new ya,o=new Hi;this.add(n),this.add(i),this.add(o),this.highDownOnUpdate=function(a,s){"emphasis"===s?(i.ignore=i.hoverIgnore,o.ignore=o.hoverIgnore):(i.ignore=i.normalIgnore,o.ignore=o.normalIgnore)},this.updateData(e,t,!0)}var z_=Em.prototype,gI=["itemStyle","opacity"];function qh(e,t,n,i,o){to.call(this,e,t,n),this.type=i||"value",this.axisIndex=o}function xl(e,t,n,i,o,a){e=e||0;var s=n[1]-n[0];if(null!=o&&(o=vu(o,[0,s])),null!=a&&(a=Math.max(a,o??0)),"all"===i){var l=Math.abs(t[1]-t[0]);o=a=vu(l=vu(l,[0,s]),[o,a]),i=0}t[0]=vu(t[0],n),t[1]=vu(t[1],n);var u=Nm(t,i);t[i]+=e;var c=o||0,d=n.slice();u.sign<0?d[0]+=c:d[1]-=c,t[i]=vu(t[i],d);var h=Nm(t,i);return null!=o&&(h.sign!==u.sign||h.span<o)&&(t[1-i]=t[i]+u.sign*o),h=Nm(t,i),null!=a&&h.span>a&&(t[1-i]=t[i]+h.sign*a),t}function Nm(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:0<n?-1:n<0?1:t?-1:1}}function vu(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}z_.updateData=function(e,t,n){var i=this.childAt(0),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t),l=e.getItemModel(t).get(gI);l=l??1,i.useStyle({}),n?(i.setShape({points:s.points}),i.setStyle({opacity:0}),Ro(i,{style:{opacity:l}},o,t)):Ri(i,{style:{opacity:l},shape:{points:s.points}},o,t);var u=a.getModel("itemStyle"),c=e.getItemVisual(t,"color");i.setStyle(De({lineJoin:"round",fill:c},u.getItemStyle(["opacity"]))),i.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),Cr(this)},z_._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");Ri(n,{shape:{points:s.linePoints||s.linePoints}},o,t),Ri(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=a.getModel("label"),c=a.getModel("emphasis.label"),d=a.getModel("labelLine"),h=a.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),sa(i.style,i.hoverStyle={},u,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:l}),n.setStyle(d.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle()},xe(Em,E),wo.extend({type:"funnel",render:function(e,t,n){var i=e.getData(),o=this._data,a=this.group;i.diff(o).add(function(s){var l=new Em(i,s);i.setItemGraphicEl(s,l),a.add(l)}).update(function(s,l){var u=o.getItemGraphicEl(l);u.updateData(i,s),a.add(u),i.setItemGraphicEl(s,u)}).remove(function(s){var l=o.getItemGraphicEl(s);a.remove(l)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),_r(Ah("funnel")),Br(function(e,t,n){e.eachSeriesByType("funnel",function(i){var Et,o=i.getData(),a=o.mapDimension("value"),s=i.get("sort"),l=(Et=t,Qr(i.getBoxLayoutParams(),{width:Et.getWidth(),height:Et.getHeight()})),u=function(wt,Et){for(var Rt=wt.mapDimension("value"),It=wt.mapArray(Rt,function(zn){return zn}),Gt=[],bn="ascending"===Et,Cn=0,pn=wt.count();Cn<pn;Cn++)Gt[Cn]=Cn;return"function"==typeof Et?Gt.sort(Et):"none"!==Et&&Gt.sort(function(zn,Zn){return bn?It[zn]-It[Zn]:It[Zn]-It[zn]}),Gt}(o,s),c=i.get("orient"),d=l.width,h=l.height,m=l.x,y=l.y,T="horizontal"===c?[Kn(i.get("minSize"),h),Kn(i.get("maxSize"),h)]:[Kn(i.get("minSize"),d),Kn(i.get("maxSize"),d)],H=o.getDataExtent(a),R=i.get("min"),$=i.get("max");function se(wt,Et){if("horizontal"===c){var Rt,It=Tr(o.get(a,wt)||0,[R,$],T,!0);switch(oe){case"top":Rt=y;break;case"center":Rt=y+(h-It)/2;break;case"bottom":Rt=y+(h-It)}return[[Et,Rt],[Et,Rt+It]]}var Gt,bn=Tr(o.get(a,wt)||0,[R,$],T,!0);switch(oe){case"left":Gt=m;break;case"center":Gt=m+(d-bn)/2;break;case"right":Gt=m+d-bn}return[[Gt,Et],[Gt+bn,Et]]}null==R&&(R=Math.min(H[0],0)),null==$&&($=H[1]);var wt,oe=i.get("funnelAlign"),Se=i.get("gap"),we=(("horizontal"===c?d:h)-Se*(o.count()-1))/o.count();"ascending"===s&&(we=-we,Se=-Se,"horizontal"===c?m+=d:y+=h,u=u.reverse());for(var Te=0;Te<u.length;Te++){var Me=u[Te],Pe=u[Te+1],Ke=o.getItemModel(Me);if("horizontal"===c){var it=Ke.get("itemStyle.width");null==it?it=we:(it=Kn(it,d),"ascending"===s&&(it=-it));var lt=se(Me,m),mt=se(Pe,m+it);m+=it+Se,o.setItemLayout(Me,{points:lt.concat(mt.slice().reverse())})}else{var vt=Ke.get("itemStyle.height");null==vt?vt=we:(vt=Kn(vt,h),"ascending"===s&&(vt=-vt)),lt=se(Me,"horizontal"===c?m:y),mt=se(Pe,"horizontal"===c?m+it:y+vt),y+=vt+Se,o.setItemLayout(Me,{points:lt.concat(mt.slice().reverse())})}}(wt=o).each(function(Et){var Rt,It,Gt,bn,Cn=wt.getItemModel(Et),pn=Cn.getModel("label").get("position"),zn=Cn.get("orient"),Zn=Cn.getModel("labelLine"),fi=wt.getItemLayout(Et),En=fi.points,ci="inner"===pn||"inside"===pn||"center"===pn||"insideLeft"===pn||"insideRight"===pn;if(ci)Rt="insideLeft"===pn?(It=(En[0][0]+En[3][0])/2+5,Gt=(En[0][1]+En[3][1])/2,"left"):"insideRight"===pn?(It=(En[1][0]+En[2][0])/2-5,Gt=(En[1][1]+En[2][1])/2,"right"):(It=(En[0][0]+En[1][0]+En[2][0]+En[3][0])/4,Gt=(En[0][1]+En[1][1]+En[2][1]+En[3][1])/4,"center"),bn=[[It,Gt],[It,Gt]];else{var pi,Si,rr,Xi,dr=Zn.get("length");Rt="left"===pn?(Si=(En[3][1]+En[0][1])/2,It=(rr=(pi=(En[3][0]+En[0][0])/2)-dr)-5,"right"):"right"===pn?(Si=(En[1][1]+En[2][1])/2,It=(rr=(pi=(En[1][0]+En[2][0])/2)+dr)+5,"left"):"top"===pn?(pi=(En[3][0]+En[0][0])/2,Gt=(Xi=(Si=(En[3][1]+En[0][1])/2)-dr)-5,"center"):"bottom"===pn?(pi=(En[1][0]+En[2][0])/2,Gt=(Xi=(Si=(En[1][1]+En[2][1])/2)+dr)+5,"center"):"rightTop"===pn?(pi="horizontal"===zn?En[3][0]:En[1][0],Si="horizontal"===zn?En[3][1]:En[1][1],"horizontal"===zn?(Gt=(Xi=Si-dr)-5,"center"):(It=(rr=pi+dr)+5,"top")):"rightBottom"===pn?(pi=En[2][0],Si=En[2][1],"horizontal"===zn?(Gt=(Xi=Si+dr)+5,"center"):(It=(rr=pi+dr)+5,"bottom")):"leftTop"===pn?(pi=En[0][0],Si="horizontal"===zn?En[0][1]:En[1][1],"horizontal"===zn?(Gt=(Xi=Si-dr)-5,"center"):(It=(rr=pi-dr)-5,"right")):"leftBottom"===pn?(pi="horizontal"===zn?En[1][0]:En[3][0],Si="horizontal"===zn?En[1][1]:En[2][1],"horizontal"===zn?(Gt=(Xi=Si+dr)+5,"center"):(It=(rr=pi-dr)-5,"right")):(pi=(En[1][0]+En[2][0])/2,Si=(En[1][1]+En[2][1])/2,"horizontal"===zn?(Gt=(Xi=Si+dr)+5,"center"):(It=(rr=pi+dr)+5,"left")),"horizontal"===zn?It=rr=pi:Gt=Xi=Si,bn=[[pi,Si],[rr,Xi]]}fi.label={linePoints:bn,x:It,y:Gt,verticalAlign:"middle",textAlign:Rt,inside:ci}})})}),ua(bc("funnel")),qh.prototype={constructor:qh,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},xe(qh,to);var Lm=ue,F_=Math.min,H_=Math.max,V_=Math.floor,mI=Math.ceil,W_=ao,vI=Math.PI;function Rm(e,t,n){this._axesMap=Jt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}function Yh(e,t){return F_(H_(e,t[0]),t[1])}Rm.prototype={type:"parallel",constructor:Rm,_init:function(e,t,n){var o=e.parallelAxisIndex;Lm(e.dimensions,function(a,s){var l=o[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(a,new qh(a,eu(u),[0,0],u.get("type"),l));c.onBand="category"===c.type&&u.get("boundaryGap"),c.inverse=u.get("inverse"),(u.axis=c).model=u,c.coordinateSystem=u.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],s=e[o];return n<=a&&a<=n+t.axisLength&&i<=s&&s<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();Lm(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(i,i.mapDimension(o)),ks(a.scale,a.model)},this)}},this)},resize:function(e,t){this._rect=Qr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=["x","y"],o=["width","height"],a=t.get("layout"),s="horizontal"===a?0:1,l=n[o[s]],u=[0,l],c=this.dimensions.length,d=Yh(t.get("axisExpandWidth"),u),h=Yh(t.get("axisExpandCount")||0,[0,c]),m=t.get("axisExpandable")&&3<c&&h<c&&1<h&&0<d&&0<l,y=t.get("axisExpandWindow");y?(e=Yh(y[1]-y[0],u),y[1]=y[0]+e):(e=Yh(d*(h-1),u),(y=[d*(t.get("axisExpandCenter")||V_(c/2))-e/2])[1]=y[0]+e);var T=(l-e)/(c-h);T<3&&(T=0);var H=[V_(W_(y[0]/d,1))+1,mI(W_(y[1]/d,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:n[i[s]],layoutLength:l,axisBase:n[i[1-s]],axisLength:n[o[1-s]],axisExpandable:m,axisExpandWidth:d,axisCollapseWidth:T,axisExpandWindow:y,axisCount:c,winInnerIndices:H,axisExpandWindow0Pos:T/d*y[0]}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;t.each(function(a){var s=[0,i.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),Lm(n,function(a,s){var l=(i.axisExpandable?function(y,T){var H,R,se=T.axisExpandWidth,Se=T.axisCollapseWidth,we=T.winInnerIndices,Te=Se,Me=!1;return y<we[0]?(H=y*Se,R=Se):y<=we[1]?(H=T.axisExpandWindow0Pos+y*se-T.axisExpandWindow[0],Te=se,Me=!0):(H=T.layoutLength-(T.axisCount-1-y)*Se,R=Se),{position:H,axisNameAvailableWidth:Te,axisLabelShow:Me,nameTruncateMaxWidth:R}}:function(y,T){var H=T.layoutLength/(T.axisCount-1);return{position:H*y,axisNameAvailableWidth:H,axisLabelShow:!0}})(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},d=[u[o].x+e.x,u[o].y+e.y],h={horizontal:vI/2,vertical:0}[o],m=Dr();xr(m,m,h),Ji(m,m,d),this._axesLayout[a]={position:d,rotation:h,transform:m,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];ue(a,function(T){s.push(e.mapDimension(T)),l.push(o.get(T).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var d;if(u){d="active";for(var h=e.getValues(s,c),m=0,y=a.length;m<y;m++)if("inactive"===l[m].getActiveState(h[m])){d="inactive";break}}else d="normal";t(d,c)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,o=e.length;i<o;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){return Wa([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return K(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s,l=e[n]-t.layoutBase-t.axisExpandWindow0Pos,u="slide",c=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];return c?(h&&c&&l<o*d[0]?(u="jump",s=l-o*d[2]):h&&c&&l>o*(1-d[0])?(u="jump",s=l-o*(1-d[2])):0<=(s=l-o*d[1])&&(s=l-o*(1-d[1]))<=0&&(s=0),(s*=t.axisExpandWidth/c)?xl(s,i,a,"all"):u="none"):((i=[H_(0,a[1]*l/(o=i[1]-i[0])-o/2)])[1]=F_(a[1],i[0]+o),i[0]=i[1]-o),{axisExpandWindow:i,behavior:u}}},Oo.register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",function(i,o){var a=new Rm(i,e,t);a.name="parallel_"+o,a.resize(i,t),(i.coordinateSystem=a).model=i,n.push(a)}),e.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"parallel",index:i.get("parallelIndex"),id:i.get("parallelId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var j_=tr.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return zl([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=K(e);if(t)for(var n=t.length-1;0<=n;n--)nl(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,o=t.length;i<o;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"}});de(j_.prototype,cl),iu("parallel",j_,function(e,t){return t.type||(t.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),tr.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){tr.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){e&&de(this.option,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){ue(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];ue(Je(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this),function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}}),Yi({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),Yi("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})});var zs=Nt,Ka=ue,yI=Re,Bc=Math.min,yu=Math.max,bI=Math.pow,xI=1e4,_I=6,wI=6,U_="globalPan",SI={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CI={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},G_={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},TI=0;function bu(e){Wi.call(this),this._zr=e,this.group=new E,this._track=[],this._covers=[],this._uid="brushController_"+TI++,this._handlers={},Ka(AI,function(t,n){this._handlers[n]=dt(t,this)},this)}function q_(e,t){var n=Xh[t.brushType].createCover(e,t);return n.__brushOption=t,Z_(n,t),e.group.add(n),n}function Y_(e,t){var n=Om(t);return n.endCreating&&(n.endCreating(e,t),Z_(t,t.__brushOption)),t}function X_(e,t){var n=t.__brushOption;Om(t).updateCoverShape(e,t,n.range,n)}function Z_(e,t){var n=t.z;null==n&&(n=xI),e.traverse(function(i){i.z=n,i.z2=n})}function Pm(e,t){Om(t).updateCommon(e,t),X_(e,t)}function Om(e){return Xh[e.__brushOption.brushType]}function Bm(e,t,n){var i,o=e._panels;if(!o)return!0;var a=e._transform;return Ka(o,function(s){s.isTargetByCursor(t,n,a)&&(i=s)}),i}function K_(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null==i||n[i]}function zm(e){var t=e._covers,n=t.length;return Ka(t,function(i){e.group.remove(i)},e),t.length=0,!!n}function _l(e,t){var n=yI(e._covers,function(i){var o=i.__brushOption,a=K(o.range);return{brushType:o.brushType,panelId:o.panelId,range:a}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function J_(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Q_(e,t,n,i){var o=new E;return o.add(new er({name:"main",style:Hm(n),silent:!0,draggable:!0,cursor:"move",drift:zs(e,t,o,"nswe"),ondragend:zs(_l,t,{isEnd:!0})})),Ka(i,function(a){o.add(new er({name:a,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:zs(e,t,o,a),ondragend:zs(_l,t,{isEnd:!0})}))}),o}function $_(e,t,n,i){var o=i.brushStyle.lineWidth||0,a=yu(o,wI),s=n[0][0],l=n[1][0],u=s-o/2,c=l-o/2,d=n[0][1],h=n[1][1],m=d-a+o/2,y=h-a+o/2,T=d-s,H=h-l,R=T+o,$=H+o;ls(e,t,"main",s,l,T,H),i.transformable&&(ls(e,t,"w",u,c,a,$),ls(e,t,"e",m,c,a,$),ls(e,t,"n",u,c,R,a),ls(e,t,"s",u,y,R,a),ls(e,t,"nw",u,c,a,a),ls(e,t,"ne",m,c,a,a),ls(e,t,"sw",u,y,a,a),ls(e,t,"se",m,y,a,a))}function Fm(e,t){var n=t.__brushOption,i=n.transformable,o=t.childAt(0);o.useStyle(Hm(n)),o.attr({silent:!i,cursor:i?"move":"default"}),Ka(["w","e","n","s","se","sw","ne","nw"],function(a){var s=t.childOfName(a),l=function u(c,d){return 1<d.length?("e"!==(y=[u(c,(d=d.split(""))[0]),u(c,d[1])])[0]&&"w"!==y[0]||y.reverse(),y.join("")):{left:"w",right:"e",top:"n",bottom:"s"}[y=gp({w:"left",e:"right",n:"top",s:"bottom"}[d],tl(c.group))];var y}(e,a);s&&s.attr({silent:!i,invisible:!i,cursor:i?CI[l]+"-resize":null})})}function ls(e,t,n,i,o,a,s){var u,c,d,l=t.childOfName(n);l&&l.setShape((u=Vm(e,t,[[i,o],[i+a,o+s]]),{x:c=Bc(u[0][0],u[1][0]),y:d=Bc(u[0][1],u[1][1]),width:yu(u[0][0],u[1][0])-c,height:yu(u[0][1],u[1][1])-d}))}function Hm(e){return De({strokeNoScale:!0},e.brushStyle)}function ew(e,t,n,i){var o=[Bc(e,n),Bc(t,i)],a=[yu(e,n),yu(t,i)];return[[o[0],a[0]],[o[1],a[1]]]}function tw(e,t,n,i,o,a,s,l){var u=i.__brushOption,c=e(u.range),d=nw(n,a,s);Ka(o.split(""),function(h){var m=SI[h];c[m[0]][m[1]]+=d[m[0]]}),u.range=t(ew(c[0][0],c[1][0],c[0][1],c[1][1])),Pm(n,i),_l(n,{isEnd:!1})}function DI(e,t,n,i,o){var a=t.__brushOption.range,s=nw(e,n,i);Ka(a,function(l){l[0]+=s[0],l[1]+=s[1]}),Pm(e,t),_l(e,{isEnd:!1})}function nw(e,t,n){var i=e.group,o=i.transformCoordToLocal(t,n),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function Vm(e,t,n){var i=K_(e,t);return i&&!0!==i?i.clipPath(n,e._transform):K(n)}function Wm(e){var t=e.event;t.preventDefault&&t.preventDefault()}function jm(e,t,n){return e.childOfName("main").contain(t,n)}function iw(e,t,n,i){var o,a=e._creatingCover,s=e._creatingPanel,l=e._brushOption;if(e._track.push(n.slice()),function(d){var h=d._track;if(!h.length)return!1;var m=h[h.length-1],y=h[0],T=m[0]-y[0],H=m[1]-y[1],R=bI(T*T+H*H,.5);return _I<R}(e)||a){if(s&&!a){"single"===l.brushMode&&zm(e);var u=K(l);u.brushType=rw(u.brushType,s),u.panelId=!0===s?null:s.panelId,a=e._creatingCover=q_(e,u),e._covers.push(a)}if(a){var c=Xh[rw(e._brushType,s)];a.__brushOption.range=c.getCreatingRange(Vm(e,a,e._track)),i&&(Y_(e,a),c.updateCommon(e,a)),X_(e,a),o={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&Bm(e,t,n)&&zm(e)&&(o={isEnd:i,removeOnClick:!0});return o}function rw(e,t){return"auto"===e?t.defaultBrushType:e}bu.prototype={constructor:bu,enableBrush:function(e){return this._brushType&&function(t){var n=t._zr;(function(i,o,a){var s=Yg(i);s[o]===a&&(s[o]=null)})(n,U_,t._uid),function(i,o){Ka(o,function(a,s){i.off(s,a)})}(n,t._handlers),t._brushType=t._brushOption=null}(this),e.brushType&&function(t,n){var i=t._zr;t._enableGlobalPan||function(o,a,s){Yg(o)[a]=s}(i,U_,t._uid),function(o,a){Ka(a,function(s,l){o.on(l,s)})}(i,t._handlers),t._brushType=n.brushType,t._brushOption=de(K(G_),n,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};ue(e,function(n){t[n.panelId]=K(n)})}else this._panels=null;return this},mount:function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){Ka(this._covers,e,t)},updateCovers:function(e){e=Re(e,function(u){return de(K(G_),u,!0)});var t="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,a=this._creatingCover;return new rs(n,e,function(u,c){return s(u.__brushOption,c)},s).add(l).update(l).remove(function(u){n[u]!==a&&o.group.remove(n[u])}).execute(),this;function s(u,c){return(null!=u.id?u.id:t+c)+"-"+u.brushType}function l(u,c){var d=e[u];if(null!=c&&n[c]===a)i[u]=n[c];else{var h=i[u]=null!=c?(n[c].__brushOption=d,n[c]):Y_(o,q_(o,d));Pm(o,h)}}},unmount:function(){return this.enableBrush(!1),zm(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},ke(bu,Wi);var AI={mousedown:function(e){if(this._dragging)ow(this,e);else if(!e.target||!e.target.draggable){Wm(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Bm(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var i=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(a,s,l){if(a._brushType&&(R=a._zr,!((T=s)<0||T>R.getWidth()||undefined>R.getHeight()))){var u=a._zr,c=a._covers,d=Bm(a,s,l);if(!a._dragging)for(var h=0;h<c.length;h++){var m=c[h].__brushOption;if(d&&(!0===d||m.panelId===d.panelId)&&Xh[m.brushType].contain(c[h],l[0],l[1]))return}d&&u.setCursorStyle("crosshair")}var T,R}(this,e,i),this._dragging){Wm(e);var o=iw(this,e,i,!1);o&&_l(this,o)}},mouseup:function(e){ow(this,e)}};function ow(e,t){if(e._dragging){Wm(t);var o=e.group.transformCoordToLocal(t.offsetX,t.offsetY),a=iw(e,t,o,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&_l(e,a)}}var Xh={lineX:aw(0),lineY:aw(1),rect:{createCover:function(e,t){return Q_(zs(tw,function(n){return n},function(n){return n}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=J_(e);return ew(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){$_(e,t,n,i)},updateCommon:Fm,contain:jm},polygon:{createCover:function(e,t){var n=new E;return n.add(new ya({name:"main",style:Hm(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new $o({name:"main",draggable:!0,drift:zs(DI,e,t),ondragend:zs(_l,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:Vm(e,t,n)})},updateCommon:Fm,contain:jm}};function aw(e){return{createCover:function(t,n){return Q_(zs(tw,function(i){var o=[i,[0,100]];return e&&o.reverse(),o},function(i){return i[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=J_(t);return[Bc(n[0][e],n[1][e]),yu(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,o){var a,s=K_(t,n);if(!0!==s&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(e,t._transform);else{var l=t._zr;a=[0,[l.getWidth(),l.getHeight()][1-e]]}var u=[i,a];e&&u.reverse(),$_(t,n,u,o)},updateCommon:Fm,contain:jm}}function sw(e){return e=Um(e),function(t,n){return Ay(t,e)}}function lw(e,t){return e=Um(e),function(n){var i=t??n,a=i?e.x:e.y;return[a,a+((i?e.width:e.height)||0)]}}function uw(e,t,n){return e=Um(e),function(i,o,a){return e.contain(o[0],o[1])&&!Eh(i,t,n)}}function Um(e){return A.create(e)}var MI=["axisLine","axisTickLabel","axisName"],II=po({type:"parallelAxis",init:function(e,t){II.superApply(this,"init",arguments),(this._brushController=new bu(t.getZr())).on("brush",dt(this._onBrush,this))},render:function(e,t,n,i){if(y=e,!(H=i)||"axisAreaSelect"!==H.type||t.findComponents({mainType:"parallelAxis",query:H})[0]!==y){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new E,this.group.add(this._axisGroup),e.get("show")){var a=function(y,T){return T.getComponent("parallel",y.get("parallelIndex"))}(e,t),s=a.coordinateSystem,l=e.getAreaSelectStyle(),u=l.width,d=he({strokeContainThreshold:u},s.getAxisLayout(e.axis.dim)),h=new na(e,d);ue(MI,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(d,l,e,a,u,n),Od(o,this._axisGroup,i&&!1===i.animation?null:e)}}var y,H},_refreshBrushController:function(e,t,n,i,o,a){var d,h,s=n.axis.getExtent(),l=s[1]-s[0],u=Math.min(30,.1*Math.abs(l)),c=A.create({x:s[0],y:-o/2,width:l,height:o});c.x-=u,c.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:sw(c),isTargetByCursor:uw(c,a,i),getLinearBrushOtherExtent:lw(c,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers((h=(d=n).axis,Re(d.activeIntervals,function(m){return{brushType:"lineX",panelId:"pl",range:[h.dataToCoord(m[0],!0),h.dataToCoord(m[1],!0)]}})))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,o=Re(e,function(a){return[i.coordToData(a.range[0],!0),i.coordToData(a.range[1],!0)]});!n.option.realtime!==t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});po({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},ue(kI,function(i,o){n.getZr().on(o,this._handlers[o]=dt(i,this))},this)),$u(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){ue(this._handlers,function(n,i){t.getZr().off(i,n)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(he({type:"parallelAxisExpand"},e))}});var kI={mousedown:function(e){Gm(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Gm(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(5<Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Gm(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i&&null})}}};function Gm(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}function cw(e,t,n,i){for(var o,a=[],s=0;s<n.length;s++){var l=n[s],u=e.get(e.mapDimension(l),t);o=u,("category"===i.getAxis(l).type?null==o:null==o||isNaN(o))||a.push(i.dataToPoint(u,l))}return a}function dw(e,t,n,i,o){var a=cw(e,n,i,o),s=new ya({shape:{points:a},silent:!0,z2:10});return t.add(s),e.setItemGraphicEl(n,s),s}function hw(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:t??.3}}function qm(e,t,n,i){var o=i.lineStyle;t.hasItemOption&&(o=t.getItemModel(n).getModel("lineStyle").getLineStyle()),e.useStyle(o);var a=e.style;a.fill=null,a.stroke=t.getItemVisual(n,"color"),a.opacity=t.getItemVisual(n,"opacity"),i.smooth&&(e.shape.smooth=i.smooth)}ko(function(e){(function(t){if(!t.parallel){var n=!1;ue(t.series,function(i){i&&"parallel"===i.type&&(n=!0)}),n&&(t.parallel=[{}])}})(e),function(t){ue(Ao(t.parallelAxis),function(n){if(Pt(n)){var i=n.parallelIndex||0,o=Ao(t.parallel)[i];o&&o.parallelAxisDefault&&de(n,o.parallelAxisDefault,!1)}})}(e)}),Or.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){var n=this.getSource();return function(i,o){if(!i.encodeDefine){var a=o.ecModel.getComponent("parallel",o.get("parallelIndex"));if(a){var s=i.encodeDefine=Jt();ue(a.dimensions,function(l){var u=+l.replace("dim","");s.set(l,u)})}}}(n,this),as(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(o,a){e===o&&i.push(n.getRawIndex(a))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}}),wo.extend({type:"parallel",init:function(){this._dataGroup=new E,this.group.add(this._dataGroup)},render:function(e,t,n,i){var h,m,T,H,R,$,o=this._dataGroup,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.dimensions,c=hw(e);if(a.diff(s).add(function(h){qm(dw(a,o,h,u,l),a,h,c)}).update(function(h,m){var y=s.getItemGraphicEl(m),T=cw(a,h,u,l);a.setItemGraphicEl(h,y),Ri(y,{shape:{points:T}},i&&!1===i.animation?null:e,h),qm(y,a,h,c)}).remove(function(h){var m=s.getItemGraphicEl(h);o.remove(m)}).execute(),!this._initialized){this._initialized=!0;var d=(m=e,T=(h=l).model,H=h.getRect(),R=new er({shape:{x:H.x,y:H.y,width:H.width,height:H.height}}),$="horizontal"===T.get("layout")?"width":"height",R.setShape($,0),Ro(R,{shape:{width:H.width,height:H.height}},m,function(){setTimeout(function(){o.removeClipPath()})}),R);o.setClipPath(d)}this._data=a},incrementalPrepareRender:function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,n){for(var i=t.getData(),o=t.coordinateSystem,a=o.dimensions,s=hw(t),l=e.start;l<e.end;l++){var u=dw(i,this._dataGroup,l,a,o);u.incremental=!0,qm(u,i,l,s)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var EI=["lineStyle","normal","opacity"];_r({seriesType:"parallel",reset:function(e,t,n){var i=e.getModel("itemStyle"),o=e.getModel("lineStyle"),a=t.get("color"),s=o.get("color")||i.get("color")||a[e.seriesIndex%a.length],l=e.get("inactiveOpacity"),u=e.get("activeOpacity"),c=e.getModel("lineStyle").getLineStyle(),d=e.coordinateSystem,h=e.getData(),m={normal:c.opacity,active:u,inactive:l};return h.setVisual("color",s),{progress:function(y,T){d.eachActiveState(T,function(H,R){var $=m[H];if("normal"===H&&T.hasItemOption){var se=T.getItemModel(R).get(EI,!0);null!=se&&($=se)}T.setItemVisual(R,"opacity",$)},y.start,y.end)}}}});var fw=Or.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,t){for(var n=e.edges||e.links,i=e.data||e.nodes,o=e.levels,a=this.levelModels={},s=0;s<o.length;s++)null!=o[s].depth&&0<=o[s].depth&&(a[o[s].depth]=new qi(o[s],this,t));if(i&&n)return __(i,n,this,!0,function(l,u){l.wrapMethod("getItemModel",function(c,d){return c.customizeGetParent(function(h){var m=this.parentModel,y=m.getData().getItemLayout(d).depth;return m.levelModels[y]||this.parentModel}),c}),u.wrapMethod("getItemModel",function(c,d){return c.customizeGetParent(function(h){var m=this.parentModel,y=m.getGraph().getEdgeByIndex(d).node1.getLayout().depth;return m.levelModels[y]||this.parentModel}),c})}).data},setNodePosition:function(e,t){var n=this.option.data[e];n.localX=t[0],n.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getDataParams(e,n),o=i.data,a=o.source+" -- "+o.target;return i.value&&(a+=" : "+i.value),Ir(a)}if("node"!==n)return fw.superCall(this,"formatTooltip",e,t);var s=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,n).data.name;return s&&(a=l+" : "+s),Ir(a)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},getDataParams:function(e,t){var n=fw.superCall(this,"getDataParams",e,t);if(null==n.value&&"node"===t){var i=this.getGraph().getNodeByIndex(e).getLayout().value;n.value=i}return n},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),pw=["itemStyle","opacity"],wl=["emphasis","itemStyle","opacity"],gw=["lineStyle","opacity"],Zh=["emphasis","lineStyle","opacity"];function mw(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function Kh(e,t,n){var i=e.getGraphicEl(),o=mw(e,t);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",o)})}function La(e,t){var n=mw(e,t),i=e.getGraphicEl();i.traverse(function(o){"group"!==o.type&&o.setStyle("opacity",n)}),i.highlight&&i.highlight()}var NI=ba({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}});function vw(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&0<=t.depth}function Ym(e,t,n,i,o){var a="vertical"===o?"x":"y";ue(e,function(s){var l,u,c;s.sort(function(T,H){return T.getLayout()[a]-H.getLayout()[a]});for(var d=0,h=s.length,m="vertical"===o?"dx":"dy",y=0;y<h;y++)0<(c=d-(u=s[y]).getLayout()[a])&&(l=u.getLayout()[a]+c,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=u.getLayout()[a]+u.getLayout()[m]+t;if(0<(c=d-t-("vertical"===o?i:n)))for(l=u.getLayout()[a]-c,u.setLayout("vertical"===o?{x:l}:{y:l},!0),d=l,y=h-2;0<=y;--y)0<(c=(u=s[y]).getLayout()[a]+u.getLayout()[m]+t-d)&&(l=u.getLayout()[a]-c,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=u.getLayout()[a]})}function LI(e,t,n){ue(e.slice().reverse(),function(i){ue(i,function(o){if(o.outEdges.length){var a=Hs(o.outEdges,RI,n)/Hs(o.outEdges,Jh,n);if(isNaN(a)){var s=o.outEdges.length;a=s?Hs(o.outEdges,PI,n)/s:0}if("vertical"===n){var l=o.getLayout().x+(a-Fs(o,n))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(a-Fs(o,n))*t;o.setLayout({y:u},!0)}}})})}function RI(e,t){return Fs(e.node2,t)*e.getValue()}function PI(e,t){return Fs(e.node2,t)}function OI(e,t){return Fs(e.node1,t)*e.getValue()}function BI(e,t){return Fs(e.node1,t)}function Fs(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Jh(e){return e.getValue()}function Hs(e,t,n){for(var i=0,o=e.length,a=-1;++a<o;){var s=+t.call(e,e[a],n);isNaN(s)||(i+=s)}return i}function zI(e,t,n){ue(e,function(i){ue(i,function(o){if(o.inEdges.length){var a=Hs(o.inEdges,OI,n)/Hs(o.inEdges,Jh,n);if(isNaN(a)){var s=o.inEdges.length;a=s?Hs(o.inEdges,BI,n)/s:0}if("vertical"===n){var l=o.getLayout().x+(a-Fs(o,n))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(a-Fs(o,n))*t;o.setLayout({y:u},!0)}}})})}ta({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,n){var m,y,H,i=this,o=e.getGraph(),a=this.group,s=e.layoutInfo,l=s.width,u=s.height,c=e.getData(),d=e.getData("edge"),h=e.get("orient");this._model=e,a.removeAll(),a.attr("position",[s.x,s.y]),o.eachEdge(function(m){var y=new NI;y.dataIndex=m.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var T,H,R,$,se,oe,Se,we,Te=m.getModel("lineStyle"),Me=Te.get("curveness"),Pe=m.node1.getLayout(),Ke=m.node1.getModel(),it=Ke.get("localX"),lt=Ke.get("localY"),mt=m.node2.getLayout(),vt=m.node2.getModel(),wt=vt.get("localX"),Et=vt.get("localY"),Rt=m.getLayout();switch(y.shape.extent=Math.max(1,Rt.dy),we="vertical"===(y.shape.orient=h)?(se=T=(null!=it?it*l:Pe.x)+Rt.sy,oe=(H=(null!=lt?lt*u:Pe.y)+Pe.dy)*(1-Me)+($=null!=Et?Et*u:mt.y)*Me,Se=R=(null!=wt?wt*l:mt.x)+Rt.ty,H*Me+$*(1-Me)):(se=(T=(null!=it?it*l:Pe.x)+Pe.dx)*(1-Me)+(R=null!=wt?wt*l:mt.x)*Me,oe=H=(null!=lt?lt*u:Pe.y)+Rt.sy,Se=T*Me+R*(1-Me),$=(null!=Et?Et*u:mt.y)+Rt.ty),y.setShape({x1:T,y1:H,x2:R,y2:$,cpx1:se,cpy1:oe,cpx2:Se,cpy2:we}),y.setStyle(Te.getItemStyle()),y.style.fill){case"source":y.style.fill=m.node1.getVisual("color");break;case"target":y.style.fill=m.node2.getVisual("color")}Cr(y,m.getModel("emphasis.lineStyle").getItemStyle()),a.add(y),d.setItemGraphicEl(m.dataIndex,y)}),o.eachNode(function(m){var y=m.getLayout(),T=m.getModel(),H=T.get("localX"),R=T.get("localY"),$=T.getModel("label"),se=T.getModel("emphasis.label"),oe=new er({shape:{x:null!=H?H*l:y.x,y:null!=R?R*u:y.y,width:y.dx,height:y.dy},style:T.getModel("itemStyle").getItemStyle()}),Se=m.getModel("emphasis.itemStyle").getItemStyle();sa(oe.style,Se,$,se,{labelFetcher:e,labelDataIndex:m.dataIndex,defaultText:m.id,isRectText:!0}),oe.setStyle("fill",m.getVisual("color")),Cr(oe,Se),a.add(oe),c.setItemGraphicEl(m.dataIndex,oe),oe.dataType="node"}),c.eachItemGraphicEl(function(m,y){var T=c.getItemModel(y);T.get("draggable")&&(m.drift=function(H,R){i._focusAdjacencyDisabled=!0,this.shape.x+=H,this.shape.y+=R,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(y),localX:this.shape.x/l,localY:this.shape.y/u})},m.ondragend=function(){i._focusAdjacencyDisabled=!1},m.draggable=!0,m.cursor="move"),m.highlight=function(){this.trigger("emphasis")},m.downplay=function(){this.trigger("normal")},m.focusNodeAdjHandler&&m.off("mouseover",m.focusNodeAdjHandler),m.unfocusNodeAdjHandler&&m.off("mouseout",m.unfocusNodeAdjHandler),T.get("focusNodeAdjacency")&&(m.on("mouseover",m.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:m.dataIndex}))}),m.on("mouseout",m.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),d.eachItemGraphicEl(function(m,y){var T=d.getItemModel(y);m.focusNodeAdjHandler&&m.off("mouseover",m.focusNodeAdjHandler),m.unfocusNodeAdjHandler&&m.off("mouseout",m.unfocusNodeAdjHandler),T.get("focusNodeAdjacency")&&(m.on("mouseover",m.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:m.dataIndex}))}),m.on("mouseout",m.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),!this._data&&e.get("animation")&&a.setClipPath((m=a.getBoundingRect(),y=e,Ro(H=new er({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}}),{shape:{width:m.width+20}},y,function(){a.removeClipPath()}),H)),this._data=e.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(e){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var o=e.getData(),a=o.graph,s=i.dataIndex,l=o.getItemModel(s),u=i.edgeDataIndex;if(null!=s||null!=u){var c=a.getNodeByIndex(s),d=a.getEdgeByIndex(u);if(a.eachNode(function(m){Kh(m,pw,.1)}),a.eachEdge(function(m){Kh(m,gw,.1)}),c){La(c,wl);var h=l.get("focusNodeAdjacency");"outEdges"===h?ue(c.outEdges,function(m){m.dataIndex<0||(La(m,Zh),La(m.node2,wl))}):"inEdges"===h?ue(c.inEdges,function(m){m.dataIndex<0||(La(m,Zh),La(m.node1,wl))}):"allEdges"===h&&ue(c.edges,function(m){m.dataIndex<0||(La(m,Zh),m.node1!==c&&La(m.node1,wl),m.node2!==c&&La(m.node2,wl))})}d&&(La(d,Zh),La(d.node1,wl),La(d.node2,wl))}},unfocusNodeAdjacency:function(e,t,n,i){var o=e.getGraph();o.eachNode(function(a){Kh(a,pw)}),o.eachEdge(function(a){Kh(a,gw)})}}),Yi({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),Br(function(e,t,n){e.eachSeriesByType("sankey",function(i){var y,o=i.get("nodeWidth"),a=i.get("nodeGap"),s=(y=t,Qr(i.getBoxLayoutParams(),{width:y.getWidth(),height:y.getHeight()})),l=(i.layoutInfo=s).width,u=s.height,c=i.getGraph(),d=c.nodes,h=c.edges;ue(d,function(y){var T=Hs(y.outEdges,Jh),H=Hs(y.inEdges,Jh),R=y.getValue()||0,$=Math.max(T,H,R);y.setLayout({value:$},!0)}),function(m,y,T,H,R,$,se,oe,Se){var we,Me;(function(we,Te,Me,Pe,Ke,it,lt){for(var mt=[],vt=[],wt=[],Et=[],Rt=0,It=0;It<Te.length;It++)mt[It]=1;for(It=0;It<we.length;It++)vt[It]=we[It].inEdges.length,0===vt[It]&&wt.push(we[It]);for(var Gt=-1;wt.length;){for(var bn=0;bn<wt.length;bn++){var Cn=wt[bn],pn=Cn.hostGraph.data.getRawDataItem(Cn.dataIndex),zn=null!=pn.depth&&0<=pn.depth;zn&&pn.depth>Gt&&(Gt=pn.depth),Cn.setLayout({depth:zn?pn.depth:Rt},!0),Cn.setLayout("vertical"===it?{dy:Me}:{dx:Me},!0);for(var Zn=0;Zn<Cn.outEdges.length;Zn++){var fi=Cn.outEdges[Zn];mt[Te.indexOf(fi)]=0;var ci=fi.node2;0==--vt[we.indexOf(ci)]&&Et.indexOf(ci)<0&&Et.push(ci)}}++Rt,wt=Et,Et=[]}for(It=0;It<mt.length;It++)if(1===mt[It])throw new Error("Sankey is a DAG, the original data has cycle!");var Xi,dr,Si=Rt-1<Gt?Gt:Rt-1;lt&&"left"!==lt&&function(rr,Xi,dr,Go){if("right"===Xi){for(var Fo=[],ps=rr,qs=0;ps.length;){for(var od=0;od<ps.length;od++){var x0=ps[od];x0.setLayout({skNodeHeight:qs},!0);for(var _0=0;_0<x0.inEdges.length;_0++){var FT=x0.inEdges[_0];Fo.indexOf(FT.node1)<0&&Fo.push(FT.node1)}}ps=Fo,Fo=[],++qs}ue(rr,function(ad){vw(ad)||ad.setLayout({depth:Math.max(0,Go-ad.getLayout().skNodeHeight)},!0)})}else"justify"===Xi&&(Wk=Go,ue(rr,function(w0){vw(w0)||w0.outEdges.length||w0.setLayout({depth:Wk},!0)}));var Wk}(we,lt,0,Si),Xi="vertical"===it?(Ke-Me)/Si:(Pe-Me)/Si,dr=it,ue(we,function(Go){var Fo=Go.getLayout().depth*Xi;Go.setLayout("vertical"===dr?{y:Fo}:{x:Fo},!0)})})(m,y,T,R,$,oe,Se),function(we,Te,Me,Pe,Ke,it,lt){var Rt,It,Gt,mt=(Rt=[],It="vertical"===lt?"y":"x",(Gt=Qf(we,function(bn){return bn.getLayout()[It]})).keys.sort(function(bn,Cn){return bn-Cn}),ue(Gt.keys,function(bn){Rt.push(Gt.buckets.get(bn))}),Rt);(function(wt,Et,Rt,It,Gt,bn){var Cn=1/0;ue(wt,function(pn){var zn=pn.length,Zn=0;ue(pn,function(En){Zn+=En.getLayout().value});var fi="vertical"===bn?(It-(zn-1)*Gt)/Zn:(Rt-(zn-1)*Gt)/Zn;fi<Cn&&(Cn=fi)}),ue(wt,function(pn){ue(pn,function(zn,Zn){var fi=zn.getLayout().value*Cn;"vertical"===bn?(zn.setLayout({x:Zn},!0),zn.setLayout({dx:fi},!0)):(zn.setLayout({y:Zn},!0),zn.setLayout({dy:fi},!0))})}),ue(Et,function(pn){var zn=+pn.getValue()*Cn;pn.setLayout({dy:zn},!0)})})(mt,Te,Me,Pe,Ke,lt),Ym(mt,Ke,Me,Pe,lt);for(var vt=1;0<it;it--)LI(mt,vt*=.99,lt),Ym(mt,Ke,Me,Pe,lt),zI(mt,vt,lt),Ym(mt,Ke,Me,Pe,lt)}(m,y,$,R,H,se,oe),Me="vertical"===oe?"x":"y",ue(we=m,function(Pe){Pe.outEdges.sort(function(Ke,it){return Ke.node2.getLayout()[Me]-it.node2.getLayout()[Me]}),Pe.inEdges.sort(function(Ke,it){return Ke.node1.getLayout()[Me]-it.node1.getLayout()[Me]})}),ue(we,function(Pe){var Ke=0,it=0;ue(Pe.outEdges,function(lt){lt.setLayout({sy:Ke},!0),Ke+=lt.getLayout().dy}),ue(Pe.inEdges,function(lt){lt.setLayout({ty:it},!0),it+=lt.getLayout().dy})})}(d,h,o,a,l,u,0!==Je(d,function(m){return 0===m.getLayout().value}).length?0:i.get("layoutIterations"),i.get("orient"),i.get("nodeAlign"))})}),_r(function(e,t){e.eachSeriesByType("sankey",function(n){var i=n.getGraph().nodes;if(i.length){var o=1/0,a=-1/0;ue(i,function(s){var l=s.getLayout().value;l<o&&(o=l),a<l&&(a=l)}),ue(i,function(s){var l=new fr({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:n.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get("itemStyle.color");s.setVisual("color",null!=u?u:l)})}})});var yw={_baseAxisDim:null,getInitialData:function(e,t){var n,i,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(e.layout="horizontal",n=o.getOrdinalMeta(),i=!0):"category"===l?(e.layout="vertical",n=a.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var u=["x","y"],c="horizontal"===e.layout?0:1,d=this._baseAxisDim=u[c],h=u[1-c],m=[o,a],y=m[c].get("type"),T=m[1-c].get("type"),H=e.data;if(H&&i){var R=[];ue(H,function(oe,Se){var we;oe.value&&bt(oe.value)?(we=oe.value.slice(),oe.value.unshift(Se)):bt(oe)?(we=oe.slice(),oe.unshift(Se)):we=oe,R.push(we)}),e.data=R}var $=this.defaultValueDimensions,se=[{name:d,type:dh(y),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:dh(T),dimsDef:$.slice()}];return su(this,{coordDimensions:se,dimensionsCount:$.length+1,encodeDefaulter:Nt(Ky,se,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};ke(Or.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),yw,!0);var FI=["itemStyle"],HI=["emphasis","itemStyle"],VI=(wo.extend({type:"boxplot",render:function(e,t,n){var i=e.getData(),o=this.group,a=this._data;this._data||o.removeAll();var s="horizontal"===e.get("layout")?1:0;i.diff(a).add(function(l){if(i.hasValue(l)){var u=bw(i.getItemLayout(l),i,l,s,!0);i.setItemGraphicEl(l,u),o.add(u)}}).update(function(l,u){var c=a.getItemGraphicEl(u);if(i.hasValue(l)){var d=i.getItemLayout(l);c?xw(d,c,i,l):c=bw(d,i,l,s),o.add(c),i.setItemGraphicEl(l,c)}else o.remove(c)}).remove(function(l){var u=a.getItemGraphicEl(l);u&&o.remove(u)}).execute(),this._data=i},remove:function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(i){i&&t.remove(i)})},dispose:gn}),Gi.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])}}));function bw(e,t,n,i,o){var l,u,c,a=e.ends,s=new VI({shape:{points:o?(l=a,u=i,c=e,Re(l,function(d){return(d=d.slice())[u]=c.initBaseline,d})):a}});return xw(e,s,t,n,o),s}function xw(e,t,n,i,o){(0,ts[o?"initProps":"updateProps"])(t,{shape:{points:e.ends}},n.hostModel,i);var s=n.getItemModel(i),l=s.getModel(FI),u=n.getItemVisual(i,"color"),c=l.getItemStyle(["borderColor"]);c.stroke=u,c.strokeNoScale=!0,t.useStyle(c),t.z2=100,Cr(t,s.getModel(HI).getItemStyle())}var _w=["itemStyle","borderColor"],zc=ue;_r(function(e,t){var n=e.get("color");e.eachRawSeriesByType("boxplot",function(i){var o=n[i.seriesIndex%n.length],a=i.getData();a.setVisual({legendSymbol:"roundRect",color:i.get(_w)||o}),e.isSeriesFiltered(i)||a.each(function(s){var l=a.getItemModel(s);a.setItemVisual(s,{color:l.get(_w,!0)})})})}),Br(function(e){var t=function(n){var i=[],o=[];return n.eachSeriesByType("boxplot",function(a){var s=a.getBaseAxis(),l=We(o,s);l<0&&(o[l=o.length]=s,i[l]={axis:s,seriesModels:[]}),i[l].seriesModels.push(a)}),i}(e);zc(t,function(n){var i=n.seriesModels;i.length&&(function(o){var a,s,l=o.axis,u=o.seriesModels,c=u.length,d=o.boxWidthList=[],h=o.boxOffsetList=[],m=[];if("category"===l.type)s=l.getBandWidth();else{var y=0;zc(u,function(se){y=Math.max(y,se.getData().count())}),a=l.getExtent(),Math.abs(a[1]-a[0])}zc(u,function(se){var oe=se.get("boxWidth");bt(oe)||(oe=[oe,oe]),m.push([Kn(oe[0],s)||0,Kn(oe[1],s)||0])});var T=.8*s-2,H=T/c*.3,R=(T-H*(c-1))/c,$=R/2-T/2;zc(u,function(se,oe){h.push($),$+=H+R,d.push(Math.min(Math.max(R,m[oe][0]),m[oe][1]))})}(n),zc(i,function(o,a){!function(s,l,u){var c=s.coordinateSystem,d=s.getData(),h=u/2,m="horizontal"===s.get("layout")?0:1,y=1-m,T=["x","y"],H=d.mapDimension(T[m]),R=d.mapDimension(T[y],!0);if(!(null==H||R.length<5))for(var $=0;$<d.count();$++){var se=d.get(H,$),oe=Ke(se,R[2],$),Se=Ke(se,R[0],$),we=Ke(se,R[1],$),Te=Ke(se,R[3],$),Me=Ke(se,R[4],$),Pe=[];it(Pe,we,0),it(Pe,Te,1),Pe.push(Se,we,Me,Te),lt(Pe,Se),lt(Pe,Me),lt(Pe,oe),d.setItemLayout($,{initBaseline:oe[y],ends:Pe})}function Ke(mt,vt,wt){var Et,Rt=d.get(vt,wt),It=[];return It[m]=mt,It[y]=Rt,isNaN(mt)||isNaN(Rt)?Et=[NaN,NaN]:(Et=c.dataToPoint(It))[m]+=l,Et}function it(mt,vt,wt){var Et=vt.slice(),Rt=vt.slice();Et[m]+=h,Rt[m]-=h,wt?mt.push(Et,Rt):mt.push(Rt,Et)}function lt(mt,vt){var wt=vt.slice(),Et=vt.slice();wt[m]-=h,Et[m]+=h,mt.push(wt,Et)}}(o,n.boxOffsetList[a],n.boxWidthList[a])}))})}),ke(Or.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return i&&n.rect(i.brushRect)}}),yw,!0);var ww=["itemStyle"],WI=["emphasis","itemStyle"],Sw=["color","color0","borderColor","borderColor0"],jI=(wo.extend({type:"candlestick",render:function(e,t,n){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),n=this._data,i=this.group,o=t.getLayout("isSimpleBox"),a=e.get("clip",!0),s=e.coordinateSystem,l=s.getArea&&s.getArea();this._data||i.removeAll(),t.diff(n).add(function(u){if(t.hasValue(u)){var c,d=t.getItemLayout(u);if(a&&Cw(l,d))return;Ro(c=Xm(d,0,!0),{shape:{points:d.ends}},e,u),Zm(c,t,u,o),i.add(c),t.setItemGraphicEl(u,c)}}).update(function(u,c){var d=n.getItemGraphicEl(c);if(t.hasValue(u)){var h=t.getItemLayout(u);a&&Cw(l,h)?i.remove(d):(d?Ri(d,{shape:{points:h.ends}},e,u):d=Xm(h),Zm(d,t,u,o),i.add(d),t.setItemGraphicEl(u,d))}else i.remove(d)}).remove(function(u){var c=n.getItemGraphicEl(u);c&&i.remove(c)}).execute(),this._data=t},_renderLarge:function(e){this._clear(),Dw(e,this.group);var t=e.get("clip",!0)?_h(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(e,t){for(var n,i=t.getData(),o=i.getLayout("isSimpleBox");null!=(n=e.next());){var a;Zm(a=Xm(i.getItemLayout(n)),i,n,o),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(e,t){Dw(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:gn}),Gi.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))}}));function Xm(e,t,n){var i=e.ends;return new jI({shape:{points:n?function(o,a){return Re(o,function(s){return(s=s.slice())[1]=a.initBaseline,s})}(i,e):i},z2:100})}function Cw(e,t){for(var n=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function Zm(e,t,n,i){var o=t.getItemModel(n),a=o.getModel(ww),s=t.getItemVisual(n,"color"),l=t.getItemVisual(n,"borderColor")||s,u=a.getItemStyle(Sw);e.useStyle(u),e.style.strokeNoScale=!0,e.style.fill=s,e.style.stroke=l,e.__simpleBox=i,Cr(e,o.getModel(WI).getItemStyle())}var Tw=Gi.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];e.moveTo(o,n[i++]),e.lineTo(o,n[i++])}else i+=3}});function Dw(e,t,n){var i=e.getData(),o=i.getLayout("largePoints"),a=new Tw({shape:{points:o},__sign:1});t.add(a);var s=new Tw({shape:{points:o},__sign:-1});t.add(s),Aw(1,a,e,i),Aw(-1,s,e,i),n&&(a.incremental=!0,s.incremental=!0)}function Aw(e,t,n,i){var o=0<e?"P":"N",a=i.getVisual("borderColor"+o)||i.getVisual("color"+o),s=n.getModel(ww).getItemStyle(Sw);t.useStyle(s),t.style.fill=null,t.style.stroke=a}var UI=["itemStyle","borderColor"],GI=["itemStyle","borderColor0"],qI=["itemStyle","color"],YI=["itemStyle","color0"],XI={seriesType:"candlestick",plan:Xl(),performRawSeries:!0,reset:function(e,t){if(e.getData().setVisual({legendSymbol:"roundRect",colorP:n(1,e),colorN:n(-1,e),borderColorP:i(1,e),borderColorN:i(-1,e)}),!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(o,a){for(var s;null!=(s=o.next());){var l=a.getItemModel(s),u=a.getItemLayout(s).sign;a.setItemVisual(s,{color:n(u,l),borderColor:i(u,l)})}}};function n(o,a){return a.get(0<o?qI:YI)}function i(o,a){return a.get(0<o?UI:GI)}}},ZI=typeof Float32Array<"u"?Float32Array:Array,KI={seriesType:"candlestick",plan:Xl(),reset:function(e){var h,m,y,T,H,R,$,se,t=e.coordinateSystem,n=e.getData(),i=(m=n,H="category"===(T=(h=e).getBaseAxis()).type?T.getBandWidth():(y=T.getExtent(),Math.abs(y[1]-y[0])/m.count()),R=Kn(Zt(h.get("barMaxWidth"),H),H),$=Kn(Zt(h.get("barMinWidth"),1),H),null!=(se=h.get("barWidth"))?Kn(se,H):Math.max(Math.min(H/2,R),$)),o=["x","y"],a=n.mapDimension(o[0]),s=n.mapDimension(o[1],!0),l=s[0],u=s[1],c=s[2],d=s[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==a||s.length<4))return{progress:e.pipelineContext.large?function(h,m){for(var y,T,H=new ZI(4*h.count),R=0,$=[],se=[];null!=(T=h.next());){var oe=m.get(a,T),Se=m.get(l,T),we=m.get(u,T),Te=m.get(c,T),Me=m.get(d,T);isNaN(oe)||isNaN(Te)||isNaN(Me)?(H[R++]=NaN,R+=3):(H[R++]=Mw(m,T,Se,we,u),$[0]=oe,$[1]=Te,y=t.dataToPoint($,null,se),H[R++]=y?y[0]:NaN,H[R++]=y?y[1]:NaN,$[1]=Me,y=t.dataToPoint($,null,se),H[R++]=y?y[1]:NaN)}m.setLayout("largePoints",H)}:function(h,m){for(var y;null!=(y=h.next());){var T=m.get(a,y),H=m.get(l,y),R=m.get(u,y),$=m.get(c,y),se=m.get(d,y),oe=Math.min(H,R),Se=Math.max(H,R),we=it(oe,T),Te=it(Se,T),Me=it($,T),Pe=it(se,T),Ke=[];lt(Ke,Te,0),lt(Ke,we,1),Ke.push(vt(Pe),vt(Te),vt(Me),vt(we)),m.setItemLayout(y,{sign:Mw(m,y,H,R,u),initBaseline:R<H?Te[1]:we[1],ends:Ke,brushRect:(wt=$,Et=se,Rt=T,It=void 0,Gt=void 0,It=it(wt,Rt),Gt=it(Et,Rt),It[0]-=i/2,Gt[0]-=i/2,{x:It[0],y:It[1],width:i,height:Gt[1]-It[1]})})}var wt,Et,Rt,It,Gt;function it(wt,Et){var Rt=[];return Rt[0]=Et,Rt[1]=wt,isNaN(Et)||isNaN(wt)?[NaN,NaN]:t.dataToPoint(Rt)}function lt(wt,Et,Rt){var It=Et.slice(),Gt=Et.slice();It[0]=Nd(It[0]+i/2,1,!1),Gt[0]=Nd(Gt[0]-i/2,1,!0),Rt?wt.push(It,Gt):wt.push(Gt,It)}function vt(wt){return wt[0]=Nd(wt[0],1),wt}}}}};function Mw(e,t,n,i,o){return i<n?-1:n<i?1:0<t?e.get(o,t-1)<=i?1:-1:1}function Iw(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(i){i.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})})}function Km(e,t){E.call(this);var n=new Es(e,t),i=new E;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}ko(function(e){e&&bt(e.series)&&ue(e.series,function(t){Pt(t)&&"k"===t.type&&(t.type="candlestick")})}),_r(XI),Br(KI),Or.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var Sl=Km.prototype;Sl.stopEffectAnimation=function(){this.childAt(1).removeAll()},Sl.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),o=0;o<3;o++){var a=da(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-o/3*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(a)}Iw(i,e)},Sl.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;o<i.length;o++){var a=i[o];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Iw(n,e)},Sl.highlight=function(){this.trigger("emphasis")},Sl.downplay=function(){this.trigger("normal")},Sl.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var H,i=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=(bt(H=e.getItemVisual(t,"symbolSize"))||(H=[+H,+H]),H),l=e.getItemVisual(t,"color");i.attr("scale",s),i.traverse(function(H){H.attr({fill:l})});var u=o.getShallow("symbolOffset");if(u){var c=i.position;c[0]=Kn(u[0],s[0]),c[1]=Kn(u[1],s[1])}var d=e.getItemVisual(t,"symbolRotate");i.rotation=(d||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=o.get("rippleEffect.scale"),h.brushType=o.get("rippleEffect.brushType"),h.period=1e3*o.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=o.getShallow("z")||0,h.zlevel=o.getShallow("zlevel")||0,h.symbolType=a,h.color=l,h.rippleEffectColor=o.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var m=this.childAt(0),y=function(){m.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},T=function(){m.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",y,this).on("mouseout",T,this).on("emphasis",y,this).on("normal",T,this)}this._effectCfg=h},Sl.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},xe(Km,E),ta({type:"effectScatter",init:function(){this._symbolDraw=new tu(Km)},render:function(e,t,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i),this.group.add(o.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var o=gc().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=Bi(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}}),_r(hl("effectScatter","circle")),Br(gc("effectScatter"));var JI=typeof Uint32Array>"u"?Array:Uint32Array,QI=typeof Float64Array>"u"?Array:Float64Array;function kw(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Re(t,function(n){var i={coords:[n[0].coord,n[1].coord]};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),me([i,n[0],n[1]])}))}var Ew=Or.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){e.data=e.data||[],kw(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),Ew.superApply(this,"init",arguments)},mergeOption:function(e){if(kw(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}Ew.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=qt(this._flatCoords,t.flatCoords),this._flatCoordsOffset=qt(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],o=0;o<i;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[n+2*o],t[o][1]=this._flatCoords[n+2*o+1];return i}var a=this._getCoordsFromItemModel(e);for(o=0;o<a.length;o++)t[o]=t[o]||[],t[o][0]=a[o][0],t[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"!=typeof e[0])return{flatCoordsOffset:null,flatCoords:null,count:e.length};for(var n=e.length,i=new JI(n),o=new QI(n),a=0,s=0,l=0,u=0;u<n;){l++;var c=e[u++];i[s++]=a+t,i[s++]=c;for(var d=0;d<c;d++){var h=e[u++],m=e[u++];o[a++]=h,o[a++]=m}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:o,count:l}},getInitialData:function(e,t){var n=new go(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,o,a,s){if(i instanceof Array)return NaN;n.hasItemOption=!0;var l=i.value;return null!=l?l instanceof Array?l[s]:l:void 0}),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var i=t.get("fromName"),o=t.get("toName"),a=[];return null!=i&&a.push(i),null!=o&&a.push(o),Ir(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}});function Fc(e,t,n){E.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}var Vs=Fc.prototype;function Qh(e,t,n){E.call(this),this._createPolyline(e,t,n)}Vs.createLine=function(e,t,n){return new Rc(e,t,n)},Vs._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol");bt(i)||(i=[i,i]);var a=n.get("color")||e.getItemVisual(t,"color"),s=this.childAt(1);this._symbolType!==o&&(this.remove(s),(s=da(o,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.attr("scale",i),s.setColor(a),s.attr("scale",i),this._symbolType=o,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},Vs._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var o=this,a=e.getItemLayout(n),s=1e3*t.get("period"),l=t.get("loop"),u=t.get("constantSpeed"),c=Mn(t.get("delay"),function(y){return y/e.count()*s/3}),d="function"==typeof c;if(i.ignore=!0,this.updateAnimationPoints(i,a),0<u&&(s=this.getLineLength(i)/u*1e3),s!==this._period||l!==this._loop){i.stopAnimation();var h=c;d&&(h=c(n)),0<i.__t&&(h=-s*i.__t),i.__t=0;var m=i.animate("",l).when(s,{__t:1}).delay(h).during(function(){o.updateSymbolPosition(i)});l||m.done(function(){o.remove(i)}),m.start()}this._period=s,this._loop=l}},Vs.getLineLength=function(e){return di(e.__p1,e.__cp1)+di(e.__cp1,e.__p2)},Vs.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},Vs.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},Vs.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t,a=e.position,s=[a[0],a[1]],l=Lo,u=$f;a[0]=l(t[0],i[0],n[0],o),a[1]=l(t[1],i[1],n[1],o);var c=u(t[0],i[0],n[0],o),d=u(t[1],i[1],n[1],o);if(e.rotation=-Math.atan2(d,c)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==e.__lastT&&e.__lastT<e.__t){var h=1.05*di(s,a);e.attr("scale",[e.scale[0],h]),1===o&&(a[0]=s[0]+(a[0]-s[0])/2,a[1]=s[1]+(a[1]-s[1])/2)}else 1===e.__lastT?(h=2*di(t,a),e.attr("scale",[e.scale[0],h])):e.attr("scale",this._symbolScale);e.__lastT=e.__t,e.ignore=!1},Vs.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},xe(Fc,E);var $h=Qh.prototype;function Jm(e,t,n){Fc.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}$h._createPolyline=function(e,t,n){var i=e.getItemLayout(t),o=new ya({shape:{points:i}});this.add(o),this._updateCommonStl(e,t,n)},$h.updateData=function(e,t,n){var i=e.hostModel;Ri(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},$h._updateCommonStl=function(e,t,n){var i=this.childAt(0),o=e.getItemModel(t),a=e.getItemVisual(t,"color"),s=n&&n.lineStyle,l=n&&n.hoverLineStyle;n&&!e.hasItemOption||(s=o.getModel("lineStyle").getLineStyle(),l=o.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(De({strokeNoScale:!0,fill:"none",stroke:a},s)),i.hoverStyle=l,Cr(this)},$h.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},xe(Qh,E);var ef=Jm.prototype;ef.createLine=function(e,t,n){return new Qh(e,t,n)},ef.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,o=1;o<t.length;o++)i+=di(t[o-1],t[o]),n.push(i);if(0!==i){for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}},ef.getLineLength=function(e){return this._length},ef.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var a=this._lastFrame;if(t<this._lastFramePercent){for(s=Math.min(a+1,o-1);0<=s&&!(i[s]<=t);s--);s=Math.min(s,o-2)}else{for(var s=a;s<o&&!(i[s]>t);s++);s=Math.min(s-1,o-2)}nr(e.position,n[s],n[s+1],(t-i[s])/(i[s+1]-i[s])),e.rotation=-Math.atan2(n[s+1][1]-n[s][1],n[s+1][0]-n[s][0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},xe(Jm,Fc);var Nw=ba({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(var o=0;o<n.length;){var a=n[o++];if(0<a){e.moveTo(n[o++],n[o++]);for(var s=1;s<a;s++)e.lineTo(n[o++],n[o++])}}else for(o=0;o<n.length;){var l=n[o++],u=n[o++],c=n[o++],d=n[o++];e.moveTo(l,u),0<i?e.quadraticCurveTo((l+c)/2-(u-d)*i,(u+d)/2-(c-l)*i,c,d):e.lineTo(c,d)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,o=n.curveness;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(0<l)for(var u=i[s++],c=i[s++],d=1;d<l;d++)if(bs(u,c,h=i[s++],m=i[s++]))return a;a++}else for(a=0,s=0;s<i.length;){u=i[s++],c=i[s++];var h=i[s++],m=i[s++];if(0<o){if(X0(u,c,(u+h)/2-(c-m)*o,(c+m)/2-(h-u)*o,h,m))return a}else if(bs(u,c,h,m))return a;a++}return-1}});function Lw(){this.group=new E}var Cl=Lw.prototype;Cl.isPersistent=function(){return!this._incremental},Cl.updateData=function(e){this.group.removeAll();var t=new Nw({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},Cl.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),5e5<e.count()?(this._incremental||(this._incremental=new aa({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Cl.incrementalUpdate=function(e,t){var n=new Nw;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},Cl.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Cl._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(a){e.dataIndex=null;var s=e.findDataIndex(a.offsetX,a.offsetY);0<s&&(e.dataIndex=s+e.__startIndex)}))},Cl._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Rw={seriesType:"lines",plan:Xl(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(o,a){var s=[];if(i){var l,u=o.end-o.start;if(n){for(var c=0,d=o.start;d<o.end;d++)c+=e.getLineCoordsCount(d);l=new Float32Array(u+2*c)}else l=new Float32Array(4*u);var h=0,m=[];for(d=o.start;d<o.end;d++){var y=e.getLineCoords(d,s);n&&(l[h++]=y);for(var T=0;T<y;T++)m=t.dataToPoint(s[T],!1,m),l[h++]=m[0],l[h++]=m[1]}a.setLayout("linesPoints",l)}else for(d=o.start;d<o.end;d++){var H=a.getItemModel(d),R=(y=e.getLineCoords(d,s),[]);if(n)for(var $=0;$<y;$++)R.push(t.dataToPoint(s[$]));else{R[0]=t.dataToPoint(s[0]),R[1]=t.dataToPoint(s[1]);var se=H.get("lineStyle.curveness");+se&&(R[2]=[(R[0][0]+R[1][0])/2-(R[0][1]-R[1][1])*se,(R[0][1]+R[1][1])/2-(R[1][0]-R[0][0])*se])}a.setItemLayout(d,R)}}}}};function tf(e){return e instanceof Array||(e=[e,e]),e}ta({type:"lines",init:function(){},render:function(e,t,n){var i=e.getData(),o=this._updateLineDraw(i,e),a=e.get("zlevel"),s=e.get("effect.trailLength"),l=n.getZr(),u="svg"===l.painter.getType();u||l.painter.getLayer(a).clear(!0),null==this._lastZlevel||u||l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s&&(u||l.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(i);var c=e.get("clip",!0)&&_h(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var a=Rw.reset(e);a.progress&&a.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),o=!!t.get("polyline"),a=t.pipelineContext.large;return n&&i===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new Lw:new Wh(o?i?Jm:Qh:i?Fc:Rc),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var Pw="lineStyle.opacity".split("."),$I={seriesType:"lines",reset:function(e,t,n){var i=tf(e.get("symbol")),o=tf(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",e.get(Pw)),{dataEach:a.hasItemOption?function(s,l){var u=s.getItemModel(l),c=tf(u.getShallow("symbol",!0)),d=tf(u.getShallow("symbolSize",!0)),h=u.get(Pw);c[0]&&s.setItemVisual(l,"fromSymbol",c[0]),c[1]&&s.setItemVisual(l,"toSymbol",c[1]),d[0]&&s.setItemVisual(l,"fromSymbolSize",d[0]),d[1]&&s.setItemVisual(l,"toSymbolSize",d[1]),s.setItemVisual(l,"opacity",h)}:null}}};function Ow(){var e=Ne();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}Br(Rw),_r($I),Or.extend({type:"series.heatmap",getInitialData:function(e,t){return as(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=Oo.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Ow.prototype={update:function(e,t,n,i,o,a){var s=this._getBrush(),l=this._getGradient(e,o,"inRange"),u=this._getGradient(e,o,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),m=e.length;d.width=t,d.height=n;for(var y=0;y<m;++y){var T=e[y],H=T[0],R=T[1],$=i(T[2]);h.globalAlpha=$,h.drawImage(s,H-c,R-c)}if(!d.width||!d.height)return d;for(var se=h.getImageData(0,0,d.width,d.height),oe=se.data,Se=0,we=oe.length,Te=this.minOpacity,Me=this.maxOpacity-Te;Se<we;){$=oe[Se+3]/256;var Pe=4*Math.floor(255*$);if(0<$){var Ke=a($)?l:u;0<$&&($=$*Me+Te),oe[Se++]=Ke[Pe],oe[Se++]=Ke[1+Pe],oe[Se++]=Ke[2+Pe],oe[Se++]=Ke[3+Pe]*$*256}else Se+=4}return h.putImageData(se,0,0),d},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=Ne()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,o=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],s=0,l=0;l<256;l++)t[n](l/255,!0,a),o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3];return o}},ta({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",function(a){a.eachTargetSeries(function(s){s===e&&(i=a)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(a){var s=a.dimensions;return"lng"===s[0]&&"lat"===s[1]}(o)&&this._renderOnGeo(o,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,o){var a,s,l=e.coordinateSystem;if("cartesian2d"===l.type){var u=l.getAxis("x"),c=l.getAxis("y");a=u.getBandWidth(),s=c.getBandWidth()}for(var d=this.group,h=e.getData(),m="emphasis.itemStyle",y="emphasis.label",T=e.getModel("itemStyle").getItemStyle(["color"]),H=e.getModel(m).getItemStyle(),R=e.getModel("label"),$=e.getModel(y),se=l.type,oe="cartesian2d"===se?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],Se=n;Se<i;Se++){var we;if("cartesian2d"===se){if(isNaN(h.get(oe[2],Se)))continue;var Te=l.dataToPoint([h.get(oe[0],Se),h.get(oe[1],Se)]);we=new er({shape:{x:Math.floor(Math.round(Te[0])-a/2),y:Math.floor(Math.round(Te[1])-s/2),width:Math.ceil(a),height:Math.ceil(s)},style:{fill:h.getItemVisual(Se,"color"),opacity:h.getItemVisual(Se,"opacity")}})}else{if(isNaN(h.get(oe[1],Se)))continue;we=new er({z2:1,shape:l.dataToRect([h.get(oe[0],Se)]).contentShape,style:{fill:h.getItemVisual(Se,"color"),opacity:h.getItemVisual(Se,"opacity")}})}var Me=h.getItemModel(Se);h.hasItemOption&&(T=Me.getModel("itemStyle").getItemStyle(["color"]),H=Me.getModel(m).getItemStyle(),R=Me.getModel("label"),$=Me.getModel(y));var Pe=e.getRawValue(Se),Ke="-";Pe&&null!=Pe[2]&&(Ke=Pe[2]),sa(T,H,R,$,{labelFetcher:e,labelDataIndex:Se,defaultText:Ke,isRectText:!0}),we.setStyle(T),Cr(we,h.hasItemOption?H:he({},H)),(we.incremental=o)&&(we.useHoverLayer=!0),d.add(we),h.setItemGraphicEl(Se,we)}},_renderOnGeo:function(e,t,n,i){var o=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new Ow;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),c=e.getRoamTransform();u.applyTransform(c);var we,Te,Me,d=Math.max(u.x,0),h=Math.max(u.y,0),m=Math.min(u.width+u.x,i.getWidth()),y=Math.min(u.height+u.y,i.getHeight()),T=m-d,H=y-h,R=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],$=s.mapArray(R,function(we,Te,Me){var Pe=e.dataToPoint([we,Te]);return Pe[0]-=d,Pe[1]-=h,Pe.push(Me),Pe}),se=n.getExtent(),oe="visualMap.continuous"===n.type?(Te=[((Te=n.option.range)[0]-(we=se)[0])/(Me=we[1]-we[0]),(Te[1]-we[0])/Me],function(Pe){return Pe>=Te[0]&&Pe<=Te[1]}):function(we,Te,Me){var Pe=we[1]-we[0],Ke=(Te=Re(Te,function(lt){return{interval:[(lt.interval[0]-we[0])/Pe,(lt.interval[1]-we[0])/Pe]}})).length,it=0;return function(lt){for(var mt=it;mt<Ke;mt++)if((vt=Te[mt].interval)[0]<=lt&&lt<=vt[1]){it=mt;break}if(mt===Ke)for(mt=it-1;0<=mt;mt--){var vt;if((vt=Te[mt].interval)[0]<=lt&&lt<=vt[1]){it=mt;break}}return 0<=mt&&mt<Ke&&Me[mt]}}(se,n.getPieceList(),n.option.selected);l.update($,T,H,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},oe);var Se=new ji({style:{width:T,height:H,x:d,y:h,image:l.canvas},silent:!0});this.group.add(Se)},dispose:function(){}});var e2=hx.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,e2.superApply(this,"getInitialData",arguments)}}),t2=["itemStyle","borderWidth"],Bw=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Qm=new Fa;function zw(e,t,n,i){var T,H,$,oe,Se,we,Te,Me,Pe,Ke,it,lt,o=e.getItemLayout(t),a=n.get("symbolRepeat"),s=n.get("symbolClip"),l=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,d=n.isAnimationEnabled(),h={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?n:null,hoverAnimation:d&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};(function(T,H,R,$,se){var oe,Se=$.valueDim,we=T.get("symbolBoundingData"),Te=$.coordSys.getOtherAxis($.coordSys.getBaseAxis()),Me=Te.toGlobalCoord(Te.dataToCoord(0)),Pe=1-+(R[Se.wh]<=0);if(bt(we)){var Ke=[$m(Te,we[0])-Me,$m(Te,we[1])-Me];Ke[1]<Ke[0]&&Ke.reverse(),oe=Ke[Pe]}else oe=null!=we?$m(Te,we)-Me:H?$.coordSysExtent[Se.index][Pe]-Me:R[Se.wh];se.boundingLength=oe,H&&(se.repeatCutLength=R[Se.wh]),se.pxSign=0<oe?1:oe<0?-1:0})(n,a,o,i,h),T=e,H=t,$=a,oe=h.boundingLength,Se=h.pxSign,we=c,Me=h,Pe=(Te=i).valueDim,Ke=Te.categoryDim,it=Math.abs(o[Ke.wh]),(lt=bt(lt=T.getItemVisual(H,"symbolSize"))?lt.slice():(null==lt&&(lt="100%"),[lt,lt]))[Ke.index]=Kn(lt[Ke.index],it),lt[Pe.index]=Kn(lt[Pe.index],$?it:Math.abs(oe)),Me.symbolSize=lt,(Me.symbolScale=[lt[0]/we,lt[1]/we])[Pe.index]*=(Te.isHorizontal?-1:1)*Se,function(T,H,R,$,se){var oe=T.get(t2)||0;oe&&(Qm.attr({scale:H.slice(),rotation:R}),Qm.updateTransform(),oe/=Qm.getLineScale(),oe*=H[$.valueDim.index]),se.valueLineWidth=oe}(n,h.symbolScale,u,i,h);var m=h.symbolSize,y=n.get("symbolOffset");return bt(y)&&(y=[Kn(y[0],m[0]),Kn(y[1],m[1])]),function(T,H,R,$,se,oe,Se,we,Te,Me,Pe,Ke){var it=Pe.categoryDim,lt=Pe.valueDim,mt=Ke.pxSign,vt=Math.max(H[lt.index]+we,0),wt=vt;if($){var Et=Math.abs(Te),Rt=Mn(T.get("symbolMargin"),"15%")+"",It=!1;Rt.lastIndexOf("!")===Rt.length-1&&(It=!0,Rt=Rt.slice(0,Rt.length-1)),Rt=Kn(Rt,H[lt.index]);var Gt=Math.max(vt+2*Rt,0),bn=It?0:2*Rt,Cn=Py($),pn=Cn?$:Zw((Et+bn)/Gt);Gt=vt+2*(Rt=(Et-pn*vt)/2/(It?pn:pn-1)),bn=It?0:2*Rt,Cn||"fixed"===$||(pn=Me?Zw((Math.abs(Me)+bn)/Gt):0),wt=pn*Gt-bn,Ke.repeatTimes=pn,Ke.symbolMargin=Rt}var zn=mt*(wt/2),Zn=Ke.pathPosition=[];Zn[it.index]=R[it.wh]/2,Zn[lt.index]="start"===Se?zn:"end"===Se?Te-zn:Te/2,oe&&(Zn[0]+=oe[0],Zn[1]+=oe[1]);var fi=Ke.bundlePosition=[];fi[it.index]=R[it.xy],fi[lt.index]=R[lt.xy];var En=Ke.barRectShape=he({},R);En[lt.wh]=mt*Math.max(Math.abs(R[lt.wh]),Math.abs(Zn[lt.index]+zn)),En[it.wh]=R[it.wh];var ci=Ke.clipShape={};ci[it.xy]=-R[it.xy],ci[it.wh]=Pe.ecSize[it.wh],ci[lt.xy]=0,ci[lt.wh]=R[lt.wh]}(n,m,o,a,0,y,l,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function $m(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Fw(e){var t=e.symbolPatternSize,n=da(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Hw(e,t,n,i){var o=e.__pictorialBundle,l=n.pathPosition,u=t.valueDim,c=n.repeatTimes||0,d=0,h=n.symbolSize[t.valueDim.index]+n.valueLineWidth+2*n.symbolMargin;for(Hc(e,function($){$.__pictorialAnimationIndex=d,$.__pictorialRepeatTimes=c,d<c?xu($,null,T(d),n,i):xu($,null,{scale:[0,0]},n,i,function(){o.remove($)}),ev($,n),d++});d<c;d++){var m=Fw(n);m.__pictorialAnimationIndex=d,m.__pictorialRepeatTimes=c,o.add(m);var y=T(d);xu(m,{position:y.position,scale:[0,0]},{scale:y.scale,rotation:y.rotation},n,i),m.on("mouseover",H).on("mouseout",R),ev(m,n)}function T($){var se=l.slice(),oe=n.pxSign,Se=$;return("start"===n.symbolRepeatDirection?0<oe:oe<0)&&(Se=c-1-$),se[u.index]=h*(Se-c/2+.5)+l[u.index],{position:se,scale:n.symbolScale.slice(),rotation:n.rotation}}function H(){Hc(e,function($){$.trigger("emphasis")})}function R(){Hc(e,function($){$.trigger("normal")})}}function Vw(e,t,n,i){var o=e.__pictorialBundle,a=e.__pictorialMainPath;a?xu(a,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(a=e.__pictorialMainPath=Fw(n),o.add(a),xu(a,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),ev(a,n)}function Ww(e,t,n){var i=he({},t.barRectShape),o=e.__pictorialBarRect;o?xu(o,null,{shape:i},t,n):(o=e.__pictorialBarRect=new er({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(o))}function jw(e,t,n,i){if(n.symbolClip){var o=e.__pictorialClipPath,a=he({},n.clipShape),s=t.valueDim,l=n.animationModel,u=n.dataIndex;if(o)Ri(o,{shape:a},l,u);else{a[s.wh]=0,o=new er({shape:a}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[s.wh]=n.clipShape[s.wh],ts[i?"updateProps":"initProps"](o,{shape:c},l,u)}}}function Uw(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=n2,n.isAnimationEnabled=i2,n}function n2(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function i2(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ev(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function Gw(e,t,n,i){var o=new E,a=new E;return o.add(a),(o.__pictorialBundle=a).attr("position",n.bundlePosition.slice()),n.symbolRepeat?Hw(o,t,n):Vw(o,0,n),Ww(o,n,i),jw(o,t,n,i),o.__pictorialShapeStr=Yw(e,n),o.__pictorialSymbolMeta=n,o}function qw(e,t,n,i){var o=i.__pictorialBarRect;o&&(o.style.text=null);var a=[];Hc(i,function(s){a.push(s)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),ue(a,function(s){Ri(s,{scale:[0,0]},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function Yw(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Hc(e,t,n){ue(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function xu(e,t,n,i,o,a){t&&e.attr(t),i.symbolClip&&!o?n&&e.attr(n):n&&ts[o?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,a)}function Xw(e,t,n){var i=n.color,o=n.dataIndex,a=n.itemModel,s=a.getModel("itemStyle").getItemStyle(["color"]),l=a.getModel("emphasis.itemStyle").getItemStyle(),u=a.getShallow("cursor");Hc(e,function(h){h.setColor(i),h.setStyle(De({fill:i,opacity:n.opacity},s)),Cr(h,l),u&&(h.cursor=u),h.z2=n.z2});var c={},d=e.__pictorialBarRect;fx(d.style,c,a,i,t.seriesModel,o),Cr(d,c)}function Zw(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}function nf(e,t,n,i,o){to.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom",this.orient=null}function tv(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(e,t,n),this.model=e}function nv(e,t){t=t||{};var i=e.axis,o={},a=i.position,s=i.orient,l=e.coordinateSystem.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=["vertical"===s?c.vertical[a]:u[0],"horizontal"===s?c.horizontal[a]:u[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),Mn(t.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var d=t.rotate;return null==d&&(d=e.get("axisLabel.rotate")),o.labelRotation="top"===a?-d:d,o.z2=1,o}ta({type:"pictorialBar",render:function(e,t,n){var i=this.group,o=e.getData(),a=this._data,s=e.coordinateSystem,l=!!s.getBaseAxis().isHorizontal(),u=s.grid.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:Bw[+l],categoryDim:Bw[1-l]};return o.diff(a).add(function(d){if(o.hasValue(d)){var h=Uw(o,d),m=zw(o,d,h,c),y=Gw(o,c,m);o.setItemGraphicEl(d,y),i.add(y),Xw(y,c,m)}}).update(function(d,h){var R,$,se,oe,Se,m=a.getItemGraphicEl(h);if(o.hasValue(d)){var y=Uw(o,d),T=zw(o,d,y,c),H=Yw(o,T);m&&H!==m.__pictorialShapeStr&&(i.remove(m),o.setItemGraphicEl(d,null),m=null),m?($=c,oe=(se=T).animationModel,Se=se.dataIndex,Ri((R=m).__pictorialBundle,{position:se.bundlePosition.slice()},oe,Se),se.symbolRepeat?Hw(R,$,se,!0):Vw(R,0,se,!0),Ww(R,se,!0),jw(R,$,se,!0)):m=Gw(o,c,T,!0),o.setItemGraphicEl(d,m),m.__pictorialSymbolMeta=T,i.add(m),Xw(m,c,T)}else i.remove(m)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&qw(a,d,h.__pictorialSymbolMeta.animationModel,h)}).execute(),this._data=o,this.group},dispose:gn,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){qw(i,o.dataIndex,e,o)}):n.removeAll()}}),Br(Nt(pb,"pictorialBar")),_r(hl("pictorialBar","roundRect")),nf.prototype={constructor:nf,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},xe(nf,to),Oo.register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",function(i,o){var a=new tv(i,e,t);a.name="single_"+o,a.resize(i,t),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=o&&o.coordinateSystem}}),n},dimensions:(tv.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:tv,_init:function(e,t,n){var o=new nf(this.dimension,eu(e),[0,0],e.get("type"),e.get("position"));o.onBand="category"===o.type&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),(e.axis=o).model=e,(o.coordinateSystem=this)._axis=o},update:function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();ue(i.mapDimension(this.dimension,!0),function(o){this._axis.scale.unionExtentFromData(i,o)},this),ks(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=Qr({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(i[o],i[1-o]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return i-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return i-a+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[o]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-o]=0==o?n.y+n.height/2:n.x+n.width/2,i}}).dimensions});var r2=["axisLine","axisTickLabel","axisName"],o2=["splitArea","splitLine"],a2=ha.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,i){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new E;var s=nv(e),l=new na(e,s);ue(r2,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),ue(o2,function(u){e.get(u+".show")&&this["_"+u](e)},this),Od(a,this._axisGroup,e),a2.superCall(this,"render",e,t,n,i)},remove:function(){dx(this)},_splitLine:function(e){var t=e.axis;if(!t.scale.isBlank()){var n=e.getModel("splitLine"),i=n.getModel("lineStyle"),o=i.get("width"),a=i.get("color");a=a instanceof Array?a:[a];for(var s=e.coordinateSystem.getRect(),l=t.isHorizontal(),u=[],c=0,d=t.getTicksCoords({tickModel:n}),h=[],m=[],y=0;y<d.length;++y){var T=t.toGlobalCoord(d[y].coord);l?(h[0]=T,h[1]=s.y,m[0]=T,m[1]=s.y+s.height):(h[0]=s.x,h[1]=T,m[0]=s.x+s.width,m[1]=T);var H=c++%a.length;u[H]=u[H]||[],u[H].push(new Mo({subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:m[0],y2:m[1]},style:{lineWidth:o},silent:!0}))}for(y=0;y<u.length;++y)this.group.add(xa(u[y],{style:{stroke:a[y%a.length],lineDash:i.getLineDash(o),lineWidth:o},silent:!0}))}},_splitArea:function(e){cx(this,this._axisGroup,e,e)}}),Kw=tr.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});function Jw(e,t){var n,i=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var a=n.getData(),s=dd(a,e);if(null==s||s<0||bt(s))return{point:[]};var l=a.getItemGraphicEl(s),u=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)i=u.dataToPoint(a.getValues(Re(u.dimensions,function(d){return a.mapDimension(d)}),s,!0))||[];else if(l){var c=l.getBoundingRect().clone();c.applyTransform(l.transform),i=[c.x+c.width/2,c.y+c.height/2]}return{point:i,el:l}}de(Kw.prototype,cl),iu("single",Kw,function(e,t){return t.type||(t.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var Ja=ue,Qw=Nt,$w=Zo();function eS(e,t,n,i,o){var c,d,h,m,y,T,H,R,a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var s=(m=(h=(d=e).axis).dim,y=c=t,T=[],H=Number.MAX_VALUE,R=-1,Ja(d.seriesModels,function($,se){var oe,Se,we=$.getData().mapDimension(m,!0);if($.getAxisTooltipData){var Te=$.getAxisTooltipData(we,c,h);Se=Te.dataIndices,oe=Te.nestestValue}else{if(!(Se=$.getData().indicesOfNearest(we[0],c,"category"===h.type?.5:null)).length)return;oe=$.getData().get(we[0],Se[0])}if(null!=oe&&isFinite(oe)){var Me=c-oe,Pe=Math.abs(Me);Pe<=H&&((Pe<H||0<=Me&&R<0)&&(H=Pe,R=Me,y=oe,T.length=0),Ja(Se,function(Ke){T.push({seriesIndex:$.seriesIndex,dataIndexInside:Ke,dataIndex:$.getData().getRawIndex(Ke)})}))}}),{payloadBatch:T,snapToValue:y}),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==o.seriesIndex&&he(o,l[0]),!i&&e.snap&&a.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,l,o),n.showTooltip(e,s,u)}else n.showPointer(e,t)}function s2(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function l2(e,t,n,i){var o=n.payloadBatch,a=t.axis,s=a.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=vc(u),d=e.map[c];d||(d=e.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function tS(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function rf(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}ca({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var us=Zo(),u2=ue;function nS(e,t,n){if(!ve.node){var i=t.getZr();us(i).records||(us(i).records={}),function(o,a){function s(l,u){o.on(l,function(c){var h,m,y,d=(h=a,{dispatchAction:y=function(T){var H=m[T.type];H?H.push(T):(T.dispatchAction=y,h.dispatchAction(T))},pendings:m={showTip:[],hideTip:[]}});u2(us(o).records,function(h){h&&u(h,c,d.dispatchAction)}),function(h,m){var y,T=h.showTip.length,H=h.hideTip.length;T?y=h.showTip[T-1]:H&&(y=h.hideTip[H-1]),y&&(y.dispatchAction=null,m.dispatchAction(y))}(d.pendings,a)})}us(o).initialized||(us(o).initialized=!0,s("click",Nt(iS,"click")),s("mousemove",Nt(iS,"mousemove")),s("globalout",c2))}(i,t),(us(i).records[e]||(us(i).records[e]={})).handler=n}}function c2(e,t,n){e.handler("leave",null,n)}function iS(e,t,n,i){t.handler(e,n,i)}function iv(e,t){if(!ve.node){var n=t.getZr();(us(n).records||{})[e]&&(us(n).records[e]=null)}}var rS=po({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";nS("axisPointer",n,function(a,s,l){"none"!==o&&("leave"===a||0<=o.indexOf(a))&&l({type:"updateAxisPointer",currTrigger:a,x:s&&s.offsetX,y:s&&s.offsetY})})},remove:function(e,t){iv(t.getZr(),"axisPointer"),rS.superApply(this._model,"remove",arguments)},dispose:function(e,t){iv("axisPointer",t),rS.superApply(this._model,"dispose",arguments)}}),Tl=Zo(),oS=K,rv=dt;function Vc(){}function aS(e,t,n,i){!function o(a,s){if(Pt(a)&&Pt(s)){var l=!0;return ue(s,function(u,c){l=l&&o(a[c],u)}),!!l}return a===s}(Tl(n).lastProp,i)&&(Tl(n).lastProp=i,t?Ri(n,i,e):(n.stopAnimation(),n.attr(i)))}function sS(e,t){e[t.get("label.show")?"show":"hide"]()}function ov(e){return{position:e.position.slice(),rotation:e.rotation||0}}function lS(e,t,n){var i=t.get("z"),o=t.get("zlevel");e&&e.traverse(function(a){"group"!==a.type&&(null!=i&&(a.z=i),null!=o&&(a.zlevel=o),a.silent=n)})}function av(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}function uS(e,t,n,i,o){var a=cS(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),s=n.getModel("label"),l=il(s.get("padding")||0),u=s.getFont(),c=Yn(a,u),d=o.position,h=c.width+l[1]+l[3],m=c.height+l[0]+l[2],y=o.align;"right"===y&&(d[0]-=h),"center"===y&&(d[0]-=h/2);var R,$,se,oe,Se,we,T=o.verticalAlign;"bottom"===T&&(d[1]-=m),"middle"===T&&(d[1]-=m/2),R=d,$=h,se=m,Se=(oe=i).getWidth(),we=oe.getHeight(),R[0]=Math.min(R[0]+$,Se)-$,R[1]=Math.min(R[1]+se,we)-se,R[0]=Math.max(R[0],0),R[1]=Math.max(R[1],0);var H=s.get("backgroundColor");H&&"auto"!==H||(H=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:h,height:m,r:s.get("borderRadius")},position:d.slice(),style:{text:a,textFont:u,textFill:s.getTextColor(),textPosition:"inside",textPadding:l,fill:H,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function cS(e,t,n,i,o){e=t.scale.parse(e);var a=t.scale.getLabel(e,{precision:o.precision}),s=o.formatter;if(s){var l={value:wg(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};ue(i,function(u){var c=n.getSeriesByIndex(u.seriesIndex),h=c&&c.getDataParams(u.dataIndexInside);h&&l.seriesData.push(h)}),Tt(s)?a=s.replace("{value}",a):on(s)&&(a=s(l))}return a}function sv(e,t,n){var i=Dr();return xr(i,i,n.rotation),Ji(i,i,n.position),Wa([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function dS(e,t,n,i,o,a){var s=na.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),uS(t,i,o,a,{position:sv(i.axis,e,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function lv(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function hS(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function fS(e,t,n,i,o,a){return{cx:e,cy:t,r0:n,r:i,startAngle:o,endAngle:a,clockwise:!0}}Eu((Vc.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=Nt(aS,t,d);this.updatePointerEl(s,u,h,t),this.updateLabelEl(s,u,h,t)}else s=this._group=new E,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),n.getZr().add(s);lS(s,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,o="category"===i.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"!==n&&null!=n)return!0===n;var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=Og(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1},makeElOption:function(e,t,n,i,o){},createPointerEl:function(e,t,n,i){var o=t.pointer;if(o){var a=Tl(e).pointerEl=new ts[o.type](oS(t.pointer));e.add(a)}},createLabelEl:function(e,t,n,i){if(t.label){var o=Tl(e).labelEl=new er(oS(t.label));e.add(o),sS(o,i)}},updatePointerEl:function(e,t,n){var i=Tl(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var o=Tl(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{shape:t.label.shape,position:t.label.position}),sS(o,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,a=n.getModel("handle"),s=n.get("status");if(!a.get("show")||!s||"hide"===s)return o&&i.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=Ul(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){ar(u.event)},onmousedown:rv(this._onHandleDragMove,this,0,0),drift:rv(this._onHandleDragMove,this),ondragend:rv(this._onHandleDragEnd,this)}),i.add(o)),lS(o,n,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");bt(l)||(l=[l,l]),o.attr("scale",[l[0]/2,l[1]/2]),$u(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){aS(this._axisPointerModel,!t&&this._moveAnimation,this._handle,ov(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(ov(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(ov(i)),Tl(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}}).constructor=Vc);var d2=Vc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.grid,l=i.get("type"),u=pS(s,a).getOtherAxis(a).getGlobalExtent(),c=a.toGlobalCoord(a.dataToCoord(t,!0));if(l&&"none"!==l){var d=av(i),h=h2[l](a,c,u);h.style=d,e.graphicKey=h.type,e.pointer=h}dS(t,e,zg(s.model,n),n,i,o)},getHandleTransform:function(e,t,n){var i=zg(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:sv(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.grid,s=o.getGlobalExtent(!0),l=pS(a,o).getOtherAxis(o).getGlobalExtent(),u="x"===o.dim?0:1,c=e.position;c[u]+=t[u],c[u]=Math.min(s[1],c[u]),c[u]=Math.max(s[0],c[u]);var d=(l[1]+l[0])/2,h=[d,d];return h[u]=c[u],{position:c,rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}});function pS(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var h2={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:lv([t,n[0]],[t,n[1]],gS(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth());return{type:"Rect",shape:hS([t-i/2,n[0]],[i,n[1]-n[0]],gS(e))}}};function gS(e){return"x"===e.dim?0:1}ha.registerAxisPointerClass("CartesianAxisPointer",d2),ko(function(e){if(e){e.axisPointer&&0!==e.axisPointer.length||(e.axisPointer={});var t=e.axisPointer.link;t&&!bt(t)&&(e.axisPointer.link=[t])}}),ua(Ua.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function cM(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(i,o,a){var s=o.getComponent("tooltip"),l=o.getComponent("axisPointer"),u=l.get("link",!0)||[],c=[];au(a.getCoordinateSystems(),function(d){if(d.axisPointerEnabled){var h=vc(d.model),m=i.coordSysAxesInfo[h]={},y=(i.coordSysMap[h]=d).model.getModel("tooltip",s);if(au(d.getAxes(),Rg($,!1,null)),d.getTooltipAxes&&s&&y.get("show")){var T="axis"===y.get("trigger"),H="cross"===y.get("axisPointer.type"),R=d.getTooltipAxes(y.get("axisPointer.axis"));(T||H)&&au(R.baseAxes,Rg($,!H||"cross",T)),H&&au(R.otherAxes,Rg($,"cross",!1))}}function $(se,oe,Se){var we=Se.model.getModel("axisPointer",l),Te=we.get("show");if(Te&&("auto"!==Te||se||Bg(we))){null==oe&&(oe=we.get("triggerTooltip"));var Me=(we=se?function(vt,wt,Et,Rt,It,Gt){var bn=wt.getModel("axisPointer"),Cn={};au(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(fi){Cn[fi]=K(bn.get(fi))}),Cn.snap="category"!==vt.type&&!!Gt,"cross"===bn.get("type")&&(Cn.type="line");var pn=Cn.label||(Cn.label={});if(null==pn.show&&(pn.show=!1),"cross"===It){var zn=bn.get("label.show");if(pn.show=null==zn||zn,!Gt){var Zn=Cn.lineStyle=bn.get("crossStyle");Zn&&De(pn,Zn.textStyle)}}return vt.model.getModel("axisPointer",new qi(Cn,Et,Rt))}(Se,y,l,o,se,oe):we).get("snap"),Pe=vc(Se.model),Ke=oe||Me||"category"===Se.type,it=i.axesInfo[Pe]={key:Pe,axis:Se,coordSys:d,axisPointerModel:we,triggerTooltip:oe,involveSeries:Ke,snap:Me,useHandle:Bg(we),seriesModels:[]};m[Pe]=it,i.seriesInvolved|=Ke;var lt=function(vt,wt){for(var Et=wt.model,Rt=wt.dim,It=0;It<vt.length;It++){var Gt=vt[It]||{};if(Pg(Gt[Rt+"AxisId"],Et.id)||Pg(Gt[Rt+"AxisIndex"],Et.componentIndex)||Pg(Gt[Rt+"AxisName"],Et.name))return It}}(u,Se);if(null!=lt){var mt=c[lt]||(c[lt]={axesInfo:{}});mt.axesInfo[Pe]=it,mt.mapper=u[lt].mapper,it.linkGroup=mt}}}})}(n,e,t),n.seriesInvolved&&function(i,o){o.eachSeries(function(a){var s=a.coordinateSystem,l=a.get("tooltip.trigger",!0),u=a.get("tooltip.show",!0);s&&"none"!==l&&!1!==l&&"item"!==l&&!1!==u&&!1!==a.get("axisPointer.show",!0)&&au(i.coordSysAxesInfo[vc(s.model)],function(c){var d=c.axis;s.getAxis(d.dim)===d&&(c.seriesModels.push(a),null==c.seriesDataCount&&(c.seriesDataCount=0),c.seriesDataCount+=a.getData().count())})},this)}(n,e),n}(e,t)}),Yi({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(e,t,n){var $,se,Se,i=e.currTrigger,o=[e.x,e.y],a=e,s=e.dispatchAction||dt(n.dispatchAction,n),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){rf(o)&&(o=Jw({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var u=rf(o),c=a.axesInfo,d=l.axesInfo,h="leave"===i||rf(o),m={},y={},T={list:[],map:{}},H={showPointer:Qw(s2,y),showTooltip:Qw(l2,T)};Ja(l.coordSysMap,function($,se){var oe=u||$.containPoint(o);Ja(l.coordSysAxesInfo[se],function(Se,we){var Te=Se.axis,Me=function(Ke,it){for(var lt=0;lt<(Ke||[]).length;lt++){var mt=Ke[lt];if(it.axis.dim===mt.axisDim&&it.axis.model.componentIndex===mt.axisIndex)return mt}}(c,Se);if(!h&&oe&&(!c||Me)){var Pe=Me&&Me.value;null!=Pe||u||(Pe=Te.pointToData(o)),null!=Pe&&eS(Se,Pe,H,!1,m)}})});var R={};return Ja(d,function($,se){var oe=$.linkGroup;oe&&!y[se]&&Ja(oe.axesInfo,function(Se,we){var Te=y[we];if(Se!==$&&Te){var Me=Te.value;oe.mapper&&(Me=$.axis.scale.parse(oe.mapper(Me,tS(Se),tS($)))),R[$.key]=Me}})}),Ja(R,function($,se){eS(d[se],$,H,!0,m)}),$=y,se=d,Se=m.axesInfo=[],Ja(se,function(we,Te){var Me=we.axisPointerModel.option,Pe=$[Te];Pe?(we.useHandle||(Me.status="show"),Me.value=Pe.value,Me.seriesDataIndices=(Pe.payloadBatch||[]).slice()):we.useHandle||(Me.status="hide"),"show"===Me.status&&Se.push({axisDim:we.axis.dim,axisIndex:we.axis.model.componentIndex,value:Me.value})}),function($,se,oe,Se){if(rf(se)||!$.list.length)return Se({type:"hideTip"});var we=(($.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};Se({type:"showTip",escapeConnect:!0,x:se[0],y:se[1],tooltipOption:oe.tooltipOption,position:oe.position,dataIndexInside:we.dataIndexInside,dataIndex:we.dataIndex,seriesIndex:we.seriesIndex,dataByCoordSys:$.list})}(T,o,e,s),function($,se,oe){var Se=oe.getZr(),we="axisPointerLastHighlights",Te=$w(Se)[we]||{},Me=$w(Se)[we]={};Ja($,function(it,lt){var mt=it.axisPointerModel.option;"show"===mt.status&&Ja(mt.seriesDataIndices,function(vt){Me[vt.seriesIndex+" | "+vt.dataIndex]=vt})});var Pe=[],Ke=[];ue(Te,function(it,lt){Me[lt]||Ke.push(it)}),ue(Me,function(it,lt){Te[lt]||Pe.push(it)}),Ke.length&&oe.dispatchAction({type:"downplay",escapeConnect:!0,batch:Ke}),Pe.length&&oe.dispatchAction({type:"highlight",escapeConnect:!0,batch:Pe})}(d,0,n),m}});var mS=["x","y"],f2=["width","height"],p2=Vc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.coordinateSystem,l=uv(s,1-of(a)),u=s.dataToPoint(t)[0],c=i.get("type");if(c&&"none"!==c){var d=av(i),h=g2[c](a,u,l);h.style=d,e.graphicKey=h.type,e.pointer=h}dS(t,e,nv(n),n,i,o)},getHandleTransform:function(e,t,n){var i=nv(t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:sv(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.coordinateSystem,s=of(o),l=uv(a,s),u=e.position;u[s]+=t[s],u[s]=Math.min(l[1],u[s]),u[s]=Math.max(l[0],u[s]);var c=uv(a,1-s),d=(c[1]+c[0])/2,h=[d,d];return h[s]=u[s],{position:u,rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}}}),g2={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:lv([t,n[0]],[t,n[1]],of(e))}},shadow:function(e,t,n){var i=e.getBandWidth();return{type:"Rect",shape:hS([t-i/2,n[0]],[i,n[1]-n[0]],of(e))}}};function of(e){return e.isHorizontal()?0:1}function uv(e,t){var n=e.getRect();return[n[mS[t]],n[mS[t]]+n[f2[t]]]}ha.registerAxisPointerClass("SingleAxisPointer",p2),po({type:"single"});var m2=Or.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){m2.superApply(this,"init",arguments),this.legendVisualProvider=new yc(dt(this.getData,this),dt(this.getRawData,this))},fixData:function(e){var t=e.length,n={},i=Qf(e,function(d){return n.hasOwnProperty(d[0])||(n[d[0]]=-1),d[2]}),o=[];i.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var a=o.length,s=0;s<a;++s){for(var l=o[s].name,u=0;u<o[s].dataList.length;++u)n[c=o[s].dataList[u][0]]=s;for(var c in n)n.hasOwnProperty(c)&&n[c]!==s&&(n[c]=s,e[t]=[],e[t][0]=c,e[t][1]=0,e[t][2]=l,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=Je(e.data,function(h){return void 0!==h[2]}),o=this.fixData(i||[]),a=[],s=this.nameMap=Jt(),l=0,u=0;u<o.length;++u)a.push(o[u][2]),s.get(o[u][2])||(s.set(o[u][2],l),l++);var c=Jl(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:dh(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),d=new go(c,this);return d.initData(o),d},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var o=e.mapDimension("single"),a=Qf(n,function(l){return e.get("name",l)}),s=[];return a.buckets.each(function(l,u){l.sort(function(c,d){return e.get(o,c)-e.get(o,d)}),s.push({name:u,indices:l})}),s},getAxisTooltipData:function(e,t,n){bt(e)||(e=e?[e]:[]);for(var i,o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u=0;u<l;++u){for(var c=Number.MAX_VALUE,d=-1,h=a[u].indices.length,m=0;m<h;++m){var y=o.get(e[0],a[u].indices[m]),T=Math.abs(y-t);T<=c&&(i=y,c=T,d=a[u].indices[m])}s.push(d)}return{dataIndices:s,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension("value"),e);return!isNaN(i)&&null!=i||(i="-"),Ir(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});function vS(e,t,n){if(e.count())for(var i,o=t.coordinateSystem,a=t.getLayerSeries(),s=e.mapDimension("single"),l=e.mapDimension("value"),u=Re(a,function(R){return Re(R.indices,function($){var se=o.dataToPoint(e.get(s,$));return se[1]=e.get(l,$),se})}),c=function(R){for(var $=R.length,se=R[0].length,oe=[],Se=[],we=0,Te={},Me=0;Me<se;++Me){for(var Pe=0,Ke=0;Pe<$;++Pe)Ke+=R[Pe][Me][1];we<Ke&&(we=Ke),oe.push(Ke)}for(var it=0;it<se;++it)Se[it]=(we-oe[it])/2;for(var lt=we=0;lt<se;++lt){var mt=oe[lt]+Se[lt];we<mt&&(we=mt)}return Te.y0=Se,Te.max=we,Te}(u),d=c.y0,h=n/c.max,m=a.length,y=a[0].indices.length,T=0;T<y;++T){e.setItemLayout(a[0].indices[T],{layerIndex:0,x:u[0][T][0],y0:i=d[T]*h,y:u[0][T][1]*h});for(var H=1;H<m;++H)e.setItemLayout(a[H].indices[T],{layerIndex:H,x:u[H][T][0],y0:i+=u[H-1][T][1]*h,y:u[H][T][1]*h})}}ta({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){var i=e.getData(),o=this.group,a=e.getLayerSeries(),s=i.getLayout("layoutInfo");function c(y){return y.name}o.attr("position",[0,s.rect.y+s.boundaryGap[0]]);var d=new rs(this._layersSeries||[],a,c,c),h={};function m(y,T,H){var bn,Cn,zn,R=this._layers;if("remove"!==y){for(var $,se,oe,Se=[],we=[],Te=a[T].indices,Me=0;Me<Te.length;Me++){var Pe=i.getItemLayout(Te[Me]),Ke=Pe.x,it=Pe.y0,lt=Pe.y;Se.push([Ke,it]),we.push([Ke,it+lt]),$=i.getItemVisual(Te[Me],"color")}var mt=i.getItemLayout(Te[0]),vt=i.getItemModel(Te[Me-1]),wt=vt.getModel("label"),Et=wt.get("margin");if("add"===y){var Rt=h[T]=new E;se=new Hb({shape:{points:Se,stackedOnPoints:we,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),oe=new Hi({style:{x:mt.x-Et,y:mt.y0+mt.y/2}}),Rt.add(se),Rt.add(oe),o.add(Rt),se.setClipPath((bn=se.getBoundingRect(),Cn=e,Ro(zn=new er({shape:{x:bn.x-10,y:bn.y-10,width:0,height:bn.height+20}}),{shape:{width:bn.width+20,height:bn.height+20}},Cn,function(){se.removeClipPath()}),zn))}else se=(Rt=R[H]).childAt(0),oe=Rt.childAt(1),o.add(Rt),h[T]=Rt,Ri(se,{shape:{points:Se,stackedOnPoints:we}},e),Ri(oe,{style:{x:mt.x-Et,y:mt.y0+mt.y/2}},e);var It=vt.getModel("emphasis.itemStyle"),Gt=vt.getModel("itemStyle");Pr(oe.style,wt,{text:wt.get("show")?e.getFormattedLabel(Te[Me-1],"normal")||i.getName(Te[Me-1]):null,textVerticalAlign:"middle"}),se.setStyle(he({fill:$},Gt.getItemStyle(["color"]))),Cr(se,It.getItemStyle())}else o.remove(R[T])}d.add(dt(m,this,"add")).update(dt(m,this,"update")).remove(dt(m,this,"remove")).execute(),this._layersSeries=a,this._layers=h},dispose:function(){}}),Br(function(e,t){e.eachSeriesByType("themeRiver",function(n){var i=n.getData(),o=n.coordinateSystem,a={},s=o.getRect();a.rect=s;var l=n.get("boundaryGap"),u=o.getAxis();a.boundaryGap=l,"horizontal"===u.orient?(l[0]=Kn(l[0],s.height),l[1]=Kn(l[1],s.height),vS(i,n,s.height-l[0]-l[1])):(l[0]=Kn(l[0],s.width),l[1]=Kn(l[1],s.width),vS(i,n,s.width-l[0]-l[1])),i.setLayout("layoutInfo",a)})}),_r(function(e){e.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.getRawData(),o=t.get("color"),a=Jt();n.each(function(s){a.set(n.getRawIndex(s),s)}),i.each(function(s){var l=i.getName(s),u=o[(t.nameMap.get(l)-1)%o.length];i.setItemVisual(s,"color",u);var c=a.get(s);null!=c&&n.setItemVisual(c,"color",u)})})}),ua(bc("themeRiver")),Or.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};!function a(s){var l=0;ue(s.children,function(c){a(c);var d=c.value;bt(d)&&(d=d[0]),l+=d});var u=s.value;bt(u)&&(u=u[0]),null!=u&&!isNaN(u)||(u=l),u<0&&(u=0),bt(s.value)?s.value[0]=u:s.value=u}(n);var i=Re(e.levels||[],function(a){return new qi(a,this,t)},this),o=gl.createTree(n,this,function(a){a.wrapMethod("getItemModel",function(s,l){var u=o.getNodeByDataIndex(l),c=i[u.depth];return c&&(s.parentModel=c),s})});return o.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=Or.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=am(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var b2=2,x2=4;function af(e,t,n){E.call(this);var i=new Ma({z2:b2});i.seriesIndex=t.seriesIndex;var o=new Hi({z2:x2,silent:e.getModel("label").get("silent")});function a(){o.ignore=o.hoverIgnore}function s(){o.ignore=o.normalIgnore}this.add(i),this.add(o),this.updateData(!0,e,"normal",t,n),this.on("emphasis",a).on("normal",s).on("mouseover",a).on("mouseout",s)}var Dl=af.prototype;Dl.updateData=function(e,t,n,i,o){(this.node=t).piece=this,i=i||this._seriesModel,o=o||this._ecModel;var a=this.childAt(0);a.dataIndex=t.dataIndex;var s=t.getModel(),l=t.getLayout(),u=he({},l);u.label=null;var T,R,c=function(T,H,R){var $=T.getVisual("color"),se=T.getVisual("visualMeta");se&&0!==se.length||($=null);var oe=T.getModel("itemStyle").get("color");if(oe)return oe;if($)return $;if(0===T.depth)return R.option.color[0];var Se=R.option.color.length;return R.option.color[function(we){for(var Te=we;1<Te.depth;)Te=Te.parentNode;return We(we.getAncestors()[0].children,Te)}(T)%Se]}(t,0,o);T=t,R=c,i.getData().setItemVisual(T.dataIndex,"color",R);var d,h=s.getModel("itemStyle").getItemStyle();d=De({lineJoin:"bevel",fill:(d="normal"===n?h:de(s.getModel(n+".itemStyle").getItemStyle(),h)).fill||c},d),e?(a.setShape(u),a.shape.r=l.r0,Ri(a,{shape:{r:l.r}},i,t.dataIndex),a.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof a.style.fill&&a.style.fill.type?(Ri(a,{shape:u},i),a.useStyle(d)):Ri(a,{shape:u,style:d},i),this._updateLabel(i,c,n);var m=s.getShallow("cursor");if(m&&a.attr("cursor",m),e){var y=i.getShallow("highlightPolicy");this._initEvents(a,t,i,y)}this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel,Cr(this)},Dl.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):function(i,o,a){return"none"!==a&&("self"===a?i===o:"ancestor"===a?i===o||i.isAncestorOf(o):i===o||i.isDescendantOf(o))}(n,t.node,e)?n.piece.childAt(0).trigger("highlight"):"none"!==e&&n.piece.childAt(0).trigger("downplay"))})},Dl.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},Dl.onHighlight=function(){this.updateData(!1,this.node,"highlight")},Dl.onDownplay=function(){this.updateData(!1,this.node,"downplay")},Dl._updateLabel=function(e,t,n){var i=this.node.getModel(),o=i.getModel("label"),a="normal"===n||"emphasis"===n?o:i.getModel(n+".label"),s=i.getModel("emphasis.label"),l=a.get("formatter")?n:"normal",u=Mn(e.getFormattedLabel(this.node.dataIndex,l,null,null,"label"),this.node.name);!1===Pe("show")&&(u="");var c=this.node.getLayout(),d=a.get("minAngle");null==d&&(d=o.get("minAngle")),null!=(d=d/180*Math.PI)&&Math.abs(c.endAngle-c.startAngle)<d&&(u="");var m=this.childAt(1);sa(m.style,m.hoverStyle||{},o,s,{defaultText:a.getShallow("show")?u:null,autoColor:t,useInsideStyle:!0});var y,T=(c.startAngle+c.endAngle)/2,H=Math.cos(T),R=Math.sin(T),$=Pe("position"),se=Pe("distance")||0,oe=Pe("align");"outside"===$?(y=c.r+se,oe=T>Math.PI/2?"right":"left"):oe&&"center"!==oe?"left"===oe?(y=c.r0+se,T>Math.PI/2&&(oe="right")):"right"===oe&&(y=c.r-se,T>Math.PI/2&&(oe="left")):(y=(c.r+c.r0)/2,oe="center"),m.attr("style",{text:u,textAlign:oe,textVerticalAlign:Pe("verticalAlign")||"middle",opacity:Pe("opacity")}),m.attr("position",[y*H+c.cx,y*R+c.cy]);var Te=Pe("rotate"),Me=0;function Pe(Ke){return a.get(Ke)??o.get(Ke)}"radial"===Te?(Me=-T)<-Math.PI/2&&(Me+=Math.PI):"tangential"===Te?(Me=Math.PI/2-T)>Math.PI/2?Me-=Math.PI:Me<-Math.PI/2&&(Me+=Math.PI):"number"==typeof Te&&(Me=Te*Math.PI/180),m.attr("rotation",Me)},Dl._initEvents=function(e,t,n,i){function o(){s.onEmphasis(i)}function a(){s.onNormal()}e.off("mouseover").off("mouseout").off("emphasis").off("normal");var s=this;n.isAnimationEnabled()&&e.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",function(){s.onDownplay()}).on("highlight",function(){s.onHighlight()})},xe(af,E),wo.extend({type:"sunburst",init:function(){},render:function(e,t,n,i){var o=this;this.seriesModel=e,this.api=n,this.ecModel=t;var a=e.getData(),s=a.tree.root,l=e.getViewRoot(),u=this.group,c=e.get("renderLabelForZeroData"),d=[];if(l.eachNode(function(T){d.push(T)}),function(T,H){function R(se){return se.getId()}function $(se,oe){!function(Se,we){if(c||!Se||Se.getValue()||(Se=null),Se!==s&&we!==s)if(we&&we.piece)Se?(we.piece.updateData(!1,Se,"normal",e,t),a.setItemGraphicEl(Se.dataIndex,we.piece)):(Me=we)&&Me.piece&&(u.remove(Me.piece),Me.piece=null);else if(Se){var Te=new af(Se,e,t);u.add(Te),a.setItemGraphicEl(Se.dataIndex,Te)}var Me}(null==se?null:T[se],null==oe?null:H[oe])}0===T.length&&0===H.length||new rs(H,T,R,R).add($).update($).remove(Nt($,null)).execute()}(d,this._oldChildren||[]),function(T,H){if(0<H.depth){o.virtualPiece?o.virtualPiece.updateData(!1,T,"normal",e,t):(o.virtualPiece=new af(T,e,t),u.add(o.virtualPiece)),H.piece._onclickEvent&&H.piece.off("click",H.piece._onclickEvent);var R=function($){o._rootToNode(H.parentNode)};H.piece._onclickEvent=R,o.virtualPiece.on("click",R)}else o.virtualPiece&&(u.remove(o.virtualPiece),o.virtualPiece=null)}(s,l),i&&i.highlight&&i.highlight.piece){var m=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(m)}else if(i&&i.unhighlight){var y=this.virtualPiece;!y&&s.children.length&&(y=s.children[0].piece),y&&y.onNormal()}this._initEvents(),this._oldChildren=d},dispose:function(){},_initEvents:function(){function e(n){var i=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!i&&o.piece&&o.piece.childAt(0)===n.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)t._rootToNode(o);else if("link"===a){var s=o.getModel(),l=s.get("link");l&&Gu(l,s.get("target",!0)||"_blank")}i=!0}})}var t=this;this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var bS="sunburstRootToNode";Yi({type:bS,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=Dc(e,[bS],n);if(o){var a=n.getViewRoot();a&&(e.direction=om(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var xS="sunburstHighlight";Yi({type:xS,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=Dc(e,[xS],n);o&&(e.highlight=o.node)})}),Yi({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){e.unhighlight=!0})});var _S=Math.PI/180;function w2(e,t){return t=t||[0,0],Re(["x","y"],function(n,i){var o=this.getAxis(n),a=t[i],s=e[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s))},this)}function S2(e,t){return t=t||[0,0],Re([0,1],function(n){var i=t[n],o=e[n]/2,a=[],s=[];return a[n]=i-o,s[n]=i+o,a[1-n]=s[1-n]=t[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(s)[n])},this)}function C2(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))}function T2(e,t){return Re(["Radius","Angle"],function(n,i){var o=this["get"+n+"Axis"](),a=t[i],s=e[i]/2,l="dataTo"+n,u="category"===o.type?o.getBandWidth():Math.abs(o[l](a-s)-o[l](a+s));return"Angle"===n&&(u=u*Math.PI/180),u},this)}_r(Nt(Ah,"sunburst")),Br(Nt(function(e,t,n,i){t.eachSeriesByType(e,function(o){var a=o.get("center"),s=o.get("radius");bt(s)||(s=[0,s]),bt(a)||(a=[a,a]);var l=n.getWidth(),u=n.getHeight(),c=Math.min(l,u),d=Kn(a[0],l),h=Kn(a[1],u),m=Kn(s[0],c/2),y=Kn(s[1],c/2),T=-o.get("startAngle")*_S,H=o.get("minAngle")*_S,R=o.getData().tree.root,$=o.getViewRoot(),se=$.depth,oe=o.get("sort");null!=oe&&function It(Gt,bn){var Cn=Gt.children||[];Gt.children=function _2(e,t){if("function"==typeof t)return e.sort(t);var n="asc"===t;return e.sort(function(i,o){var a=(i.getValue()-o.getValue())*(n?1:-1);return 0==a?(i.dataIndex-o.dataIndex)*(n?-1:1):a})}(Cn,bn),Cn.length&&ue(Gt.children,function(pn){It(pn,bn)})}($,oe);var Se=0;ue($.children,function(It){isNaN(It.getValue())||Se++});var we=$.getValue(),Te=Math.PI/(we||Se)*2,Me=0<$.depth,Ke=(y-m)/($.height-(Me?-1:1)||1),it=o.get("clockwise"),lt=o.get("stillShowZeroSum"),mt=it?1:-1,vt=function(It,Gt){if(It){var bn=Gt;if(It!==R){var Cn=It.getValue(),pn=0===we&&lt?Te:Cn*Te;pn<H&&(pn=H),bn=Gt+mt*pn;var zn=It.depth-se-(Me?-1:1),Zn=m+Ke*zn,fi=m+Ke*(1+zn),En=It.getModel();null!=En.get("r0")&&(Zn=Kn(En.get("r0"),c/2)),null!=En.get("r")&&(fi=Kn(En.get("r"),c/2)),It.setLayout({angle:pn,startAngle:Gt,endAngle:bn,clockwise:it,cx:d,cy:h,r0:Zn,r:fi})}if(It.children&&It.children.length){var ci=0;ue(It.children,function(pi){ci+=vt(pi,Gt+ci)})}return bn-Gt}};if(Me){var Rt=2*Math.PI;R.setLayout({angle:Rt,startAngle:T,endAngle:T+Rt,clockwise:it,cx:d,cy:h,r0:m,r:m+Ke})}vt($,T)})},"sunburst")),ua(Nt(bc,"sunburst"));var wS=cy,D2=["itemStyle"],A2=["emphasis","itemStyle"],M2=["label"],I2=["emphasis","label"],k2="e\0\0",E2={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:dt(w2,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(n){return e.dataToPoint(n)},size:dt(S2,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:dt(C2,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:dt(function(o){var a=t.dataToRadius(o[0]),s=n.dataToAngle(o[1]),l=e.coordToPoint([a,s]);return l.push(a,s*Math.PI/180),l}),size:dt(T2,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(i,o){return e.dataToPoint(i,o)}}}}};function SS(e,t,n,i,o){null==n[e]||o||(t[e]=n[e],n[e]=i[e])}function CS(e,t,n,i){var o=e.get("renderItem"),a=e.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms():E2[a.type](a));var l,u,c,d,h,R,$,m=De({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(R,$){return null==$&&($=l),t.get(t.getDimension(R||0),$)},style:function(R,$){null==$&&($=l),H($);var se=u.getModel(D2).getItemStyle();null!=h&&(se.fill=h);var oe=t.getItemVisual($,"opacity");null!=oe&&(se.opacity=oe);var Se=R?AS(R,c):c;return Pr(se,Se,null,{autoColor:h,isRectText:!0}),se.text=Se.getShallow("show")?Zt(e.getFormattedLabel($,"normal"),bh(t,$)):null,R&&MS(se,R),se},styleEmphasis:function(R,$){null==$&&($=l),H($);var se=u.getModel(A2).getItemStyle(),oe=R?AS(R,d):d;return Pr(se,oe,null,{isRectText:!0},!0),se.text=oe.getShallow("show")?Nn(e.getFormattedLabel($,"emphasis"),e.getFormattedLabel($,"normal"),bh(t,$)):null,R&&MS(se,R),se},visual:function(R,$){return null==$&&($=l),t.getItemVisual($,R)},barLayout:function(R){if(a.getBaseAxis)return function($){var se=[],oe=$.axis;if("category"===oe.type){for(var Se=oe.getBandWidth(),we=0;we<$.count;we++)se.push(De({bandWidth:Se,axisKey:"axis0",stackId:gg+we},$));var Te=hb(se),Me=[];for(we=0;we<$.count;we++){var Pe=Te.axis0[gg+we];Pe.offsetCenter=Pe.offset+Pe.width/2,Me.push(Pe)}return Me}}(De({axis:a.getBaseAxis()},R))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(R){return pp(R,n)}},s.api||{}),y={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:(R=e.getData(),$={},ue(R.dimensions,function(se,oe){var Se=R.getDimensionInfo(se);if(!Se.isExtraCoord){var we=Se.coordDim;($[we]=$[we]||[])[Se.coordDimIndex]=oe}}),$)},T=!0;return function(R,$){return l=R,T=!0,o&&o(De({dataIndexInside:R,dataIndex:t.getRawIndex(R),actionType:$?$.type:null},y),m)};function H(R){null==R&&(R=l),T&&(u=t.getItemModel(R),c=u.getModel(M2),d=u.getModel(I2),h=t.getItemVisual(R,"color"),T=!1)}}function cv(e,t,n,i,o,a){return(e=dv(e,t,n,i,o,a,!0))&&a.setItemGraphicEl(t,e),e}function dv(e,t,n,i,o,a,s){var m,l=!n,u=(n=n||{}).type,c=n.shape,d=n.style;if(e&&(l||null!=u&&u!==e.__customGraphicType||"path"===u&&(m=c)&&(m.hasOwnProperty("pathData")||m.hasOwnProperty("d"))&&IS(c)!==e.__customPathData||"image"===u&&kS(d,"image")&&d.image!==e.__customImagePath||"text"===u&&kS(c,"text")&&d.text!==e.__customText)&&(o.remove(e),e=null),!l){var h=!e;return function(m,y,T,H,R,$,se){var oe={},Se=T.style||{};if(T.shape&&(oe.shape=K(T.shape)),T.position&&(oe.position=T.position.slice()),T.scale&&(oe.scale=T.scale.slice()),T.origin&&(oe.origin=T.origin.slice()),T.rotation&&(oe.rotation=T.rotation),"image"===m.type&&T.style){var we=oe.style={};ue(["x","y","width","height"],function(Pe){SS(Pe,we,Se,m.style,$)})}if("text"===m.type&&T.style&&(we=oe.style={},ue(["x","y"],function(Pe){SS(Pe,we,Se,m.style,$)}),!Se.hasOwnProperty("textFill")&&Se.fill&&(Se.textFill=Se.fill),!Se.hasOwnProperty("textStroke")&&Se.stroke&&(Se.textStroke=Se.stroke)),"group"!==m.type&&(m.useStyle(Se),$)){m.style.opacity=0;var Te=Se.opacity;null==Te&&(Te=1),Ro(m,{style:{opacity:Te}},H,y)}$?m.attr(oe):Ri(m,oe,H,y),T.hasOwnProperty("z2")&&m.attr("z2",T.z2||0),T.hasOwnProperty("silent")&&m.attr("silent",T.silent),T.hasOwnProperty("invisible")&&m.attr("invisible",T.invisible),T.hasOwnProperty("ignore")&&m.attr("ignore",T.ignore),T.hasOwnProperty("info")&&m.attr("info",T.info);var Me=T.styleEmphasis;Fu(m,Me),se&&el(m,!1!==Me)}(e=e||function(m){var y,T=m.type;if("path"===T){var H=m.shape,R=null!=H.width&&null!=H.height?{x:H.x||0,y:H.y||0,width:H.width,height:H.height}:null,$=IS(H);(y=Ed($,null,R,H.layout||"center")).__customPathData=$}else if("image"===T)(y=new ji({})).__customImagePath=m.style.image;else if("text"===T)(y=new Hi({})).__customText=m.style.text;else if("group"===T)y=new E;else{if("compoundPath"===T)throw new Error('"compoundPath" is not supported yet.');y=new(cp(T))}return y.__customGraphicType=T,y.name=m.name,y}(n),t,n,i,0,h,s),"group"===u&&function(m,y,T,H,R){var Me,$=T.children,se=$?$.length:0,oe=T.$mergeChildren,Se="byName"===oe||T.diffChildrenByName,we=!1===oe;if(se||Se||we){if(Se)return void new rs((Me={oldChildren:m.children()||[],newChildren:$||[],dataIndex:y,animatableModel:H,group:m,data:R}).oldChildren,Me.newChildren,TS,TS,Me).add(DS).update(DS).remove(N2).execute();we&&m.removeAll();for(var Te=0;Te<se;Te++)$[Te]&&dv(m.childAt(Te),y,$[Te],H,m,R)}}(e,t,n,i,a),o.add(e),e}}function TS(e,t){return(e&&e.name)??k2+t}function DS(e,t){var n=this.context;dv(null!=t?n.oldChildren[t]:null,n.dataIndex,null!=e?n.newChildren[e]:null,n.animatableModel,n.group,n.data)}function AS(e,t){var n=new qi({},t);return ue(wS,function(i,o){e.hasOwnProperty(i)&&(n.option[o]=e[i])}),n}function MS(e,t){for(var n in t)!t.hasOwnProperty(n)&&wS.hasOwnProperty(n)||(e[n]=t[n])}function N2(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function IS(e){return e&&(e.pathData||e.d)}function kS(e,t){return e&&e.hasOwnProperty(t)}function ES(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function NS(e,t){return t.dim+e.model.componentIndex}function sf(e,t){to.call(this,"radius",e,t),this.type="category"}Or.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(e,t){return as(this.getSource(),this)},getDataParams:function(e,t,n){var i=Or.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),wo.extend({type:"custom",_data:null,render:function(e,t,n,i){var o=this._data,a=e.getData(),s=this.group,l=CS(e,a,t,n);a.diff(o).add(function(c){cv(null,c,l(c,i),e,s,a)}).update(function(c,d){cv(o.getItemGraphicEl(d),c,l(c,i),e,s,a)}).remove(function(c){var d=o.getItemGraphicEl(c);d&&s.remove(d)}).execute();var u=e.get("clip",!0)?_h(e.coordinateSystem,!1,e):null;u?s.setClipPath(u):s.removeClipPath(),this._data=a},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i,o){var a=t.getData(),s=CS(t,a,n,i);function l(c){c.isGroup||(c.incremental=!0,c.useHoverLayer=!0)}for(var u=e.start;u<e.end;u++)cv(null,u,s(u,o),t,this.group,a).traverse(l)},dispose:gn,filterForExposedEvent:function(e,t,n,i){var o=t.element;if(null==o||n.name===o)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1}}),sf.prototype={constructor:sf,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:to.prototype.dataToCoord,radiusToData:to.prototype.coordToData},xe(sf,to);var L2=Zo();function lf(e,t){to.call(this,"angle",e,t=t||[0,360]),this.type="category"}function uf(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new sf,this._angleAxis=new lf,this._radiusAxis.polar=this._angleAxis.polar=this}lf.prototype={constructor:lf,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:to.prototype.dataToCoord,angleToData:to.prototype.coordToData,calculateCategoryInterval:function(){var e=this.getLabelModel(),t=this.scale,n=t.getExtent(),i=t.count();if(n[1]-n[0]<1)return 0;var o=n[0],a=this.dataToCoord(o+1)-this.dataToCoord(o),s=Math.abs(a),l=Yn(o,e.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),d=L2(this.model),h=d.lastAutoInterval,m=d.lastTickCount;return null!=h&&null!=m&&Math.abs(h-c)<=1&&Math.abs(m-i)<=1&&c<h?c=h:(d.lastTickCount=i,d.lastAutoInterval=c),c}},xe(lf,to),uf.prototype={type:"polar",axisPointerEnabled:!0,constructor:uf,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);i.inverse?a=s-360:s=a+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<a?1:-1;u<a||s<u;)u+=360*c;return[l,u]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},getArea:function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(o,a){var s=o-this.cx,l=a-this.cy,u=s*s+l*l,c=this.r,d=this.r0;return u<=c*c&&d*d<=u}}}};var hv=tr.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});function LS(e,t){return t.type||(t.data?"category":"value")}function P2(e,t){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries(function(l){if(l.coordinateSystem===n){var u=l.getData();ue(u.mapDimension("radius",!0),function(c){o.scale.unionExtentFromData(u,uc(u,c))}),ue(u.mapDimension("angle",!0),function(c){i.scale.unionExtentFromData(u,uc(u,c))})}}),ks(i.scale,i.model),ks(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function RS(e,t){if(e.type=t.get("type"),e.scale=eu(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}(t.axis=e).model=t}de(hv.prototype,cl),iu("angle",hv,LS,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),iu("radius",hv,LS,{splitNumber:5}),ca({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),Oo.register("polar",{dimensions:uf.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(i,o){var a=new uf(o);a.update=P2;var s=a.getRadiusAxis(),l=a.getAngleAxis(),u=i.findAxisModel("radiusAxis"),c=i.findAxisModel("angleAxis");RS(s,u),RS(l,c),function(d,h,m){var y=h.get("center"),T=m.getWidth(),H=m.getHeight();d.cx=Kn(y[0],T),d.cy=Kn(y[1],H);var R=d.getRadiusAxis(),$=Math.min(T,H)/2,se=h.get("radius");null==se?se=[0,"100%"]:bt(se)||(se=[0,se]),se=[Kn(se[0],$),Kn(se[1],$)],R.inverse?R.setExtent(se[1],se[0]):R.setExtent(se[0],se[1])}(a,i,t),n.push(a),(i.coordinateSystem=a).model=i}),e.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"polar",index:i.get("polarIndex"),id:i.get("polarId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var O2=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function cf(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),o=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:o[0],y2:o[1]}}function df(e){return e.getRadiusAxis().inverse?0:1}function PS(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}ha.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),a=n.getTicksCoords(),s=n.getMinorTicksCoords(),l=Re(n.getViewLabels(),function(u){return(u=K(u)).coord=n.dataToCoord(u.tickValue),u});PS(l),PS(a),ue(O2,function(u){!e.get(u+".show")||n.scale.isBlank()&&"axisLine"!==u||this["_"+u](e,i,a,s,o,l)},this)}},_axisLine:function(e,t,n,i,o){var a,s=e.getModel("axisLine.lineStyle"),l=df(t),u=l?0:1;(a=0===o[u]?new Fa({shape:{cx:t.cx,cy:t.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new Td({shape:{cx:t.cx,cy:t.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(a)},_axisTick:function(e,t,n,i,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[df(t)],u=Re(n,function(c){return new Mo({shape:cf(t,[l,l+s],c.coord)})});this.group.add(xa(u,{style:De(a.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_minorTick:function(e,t,n,i,o){if(i.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[df(t)],c=[],d=0;d<i.length;d++)for(var h=0;h<i[d].length;h++)c.push(new Mo({shape:cf(t,[u,u+l],i[d][h].coord)}));this.group.add(xa(c,{style:De(s.getModel("lineStyle").getLineStyle(),De(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(e,t,n,i,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");ue(a,function(d,h){var m=l,y=d.tickValue,T=o[df(t)],H=t.coordToPoint([T+u,d.coord]),R=t.cx,$=t.cy,se=Math.abs(H[0]-R)/T<.3?"center":H[0]>R?"left":"right",oe=Math.abs(H[1]-$)/T<.3?"middle":H[1]>$?"top":"bottom";s&&s[y]&&s[y].textStyle&&(m=new qi(s[y].textStyle,l,l.ecModel));var Se=new Hi({silent:na.isLabelSilent(e)});this.group.add(Se),Pr(Se.style,m,{x:H[0],y:H[1],textFill:m.getTextColor()||e.get("axisLine.lineStyle.color"),text:d.formattedLabel,textAlign:se,textVerticalAlign:oe}),c&&(Se.eventData=na.makeAxisEventDataBase(e),Se.eventData.targetType="axisLabel",Se.eventData.value=d.rawLabel)},this)},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<n.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new Mo({shape:cf(t,o,n[c].coord)}))}for(c=0;c<u.length;c++)this.group.add(xa(u[c],{style:De({stroke:s[c%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},_minorSplitLine:function(e,t,n,i,o){if(i.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<i.length;l++)for(var u=0;u<i[l].length;u++)s.push(new Mo({shape:cf(t,o,i[l][u].coord)}));this.group.add(xa(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},_splitArea:function(e,t,n,i,o){if(n.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=Math.PI/180,d=-n[0].coord*c,h=Math.min(o[0],o[1]),m=Math.max(o[0],o[1]),y=e.get("clockwise"),T=1;T<n.length;T++){var H=l++%s.length;u[H]=u[H]||[],u[H].push(new Ma({shape:{cx:t.cx,cy:t.cy,r0:h,r:m,startAngle:d,endAngle:-n[T].coord*c,clockwise:y},silent:!0})),d=-n[T].coord*c}for(T=0;T<u.length;T++)this.group.add(xa(u[T],{style:De({fill:s[T%s.length]},a.getAreaStyle()),silent:!0}))}}});var B2=["axisLine","axisTickLabel","axisName"],z2=["splitLine","splitArea","minorSplitLine"];ha.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getAngleAxis(),a=n.getTicksCoords(),s=n.getMinorTicksCoords(),l=o.getExtent()[0],u=n.getExtent(),c={position:[(h=i).cx,h.cy],rotation:l/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},d=new na(e,c);ue(B2,d.add,d),this.group.add(d.getGroup()),ue(z2,function(h){e.get(h+".show")&&!n.scale.isBlank()&&this["_"+h](e,i,l,u,a,s)},this)}var h},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<o.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new Fa({shape:{cx:t.cx,cy:t.cy,r:o[c].coord}}))}for(c=0;c<u.length;c++)this.group.add(xa(u[c],{style:De({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(e,t,n,i,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new Fa({shape:{cx:t.cx,cy:t.cy,r:a[u][c].coord}}));this.group.add(xa(l,{style:De({fill:null},s.getLineStyle()),silent:!0}))}},_splitArea:function(e,t,n,i,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=o[0].coord,d=1;d<o.length;d++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new Ma({shape:{cx:t.cx,cy:t.cy,r0:c,r:o[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[d].coord}for(d=0;d<u.length;d++)this.group.add(xa(u[d],{style:De({fill:s[d%s.length]},a.getAreaStyle()),silent:!0}))}}});var F2=Vc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var s,l=a.polar,u=l.getOtherAxis(a).getExtent();s=a["dataTo"+Hd(a.dim)](t);var c=i.get("type");if(c&&"none"!==c){var d=av(i),h=H2[c](a,l,s,u,d);h.style=d,e.graphicKey=h.type,e.pointer=h}var m=i.get("label.margin");uS(e,n,i,o,function(y,T,H,R,$){var se=T.axis,oe=se.dataToCoord(y),Se=R.getAngleAxis().getExtent()[0];Se=Se/180*Math.PI;var we,Te,Me,Pe=R.getRadiusAxis().getExtent();if("radius"===se.dim){var Ke=Dr();xr(Ke,Ke,Se),Ji(Ke,Ke,[R.cx,R.cy]),we=Wa([oe,-$],Ke);var it=T.getModel("axisLabel").get("rotate")||0,lt=na.innerTextLayout(Se,it*Math.PI/180,-1);Te=lt.textAlign,Me=lt.textVerticalAlign}else{var mt=Pe[1];we=R.coordToPoint([mt+$,oe]);var vt=R.cx,wt=R.cy;Te=Math.abs(we[0]-vt)/mt<.3?"center":we[0]>vt?"left":"right",Me=Math.abs(we[1]-wt)/mt<.3?"middle":we[1]>wt?"top":"bottom"}return{position:we,align:Te,verticalAlign:Me}}(t,n,0,l,m))}}),H2={line:function(e,t,n,i,o){return"angle"===e.dim?{type:"Line",shape:lv(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,o){var a=Math.max(1,e.getBandWidth()),s=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:fS(t.cx,t.cy,i[0],i[1],(-n-a/2)*s,(a/2-n)*s)}:{type:"Sector",shape:fS(t.cx,t.cy,n-a/2,n+a/2,0,2*Math.PI)}}};function fv(e,t){t.update="updateView",Yi(t,function(n,i){var o={};return i.eachComponent({mainType:"geo",query:n},function(a){a[e](n.name),ue(a.coordinateSystem.regions,function(s){o[s.name]=a.isSelected(s.name)||!1})}),{selected:o,name:n.name}})}function cs(e,t,n){this._model=e}function OS(e,t,n,i){var o=n.calendarModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem:null;return s===this?s[e](i):null}ha.registerAxisPointerClass("PolarAxisPointer",F2),Br(Nt(function(e,t,n){var i={},o=function(a){var s={};ue(a,function(u,c){var d=u.getData(),h=u.coordinateSystem,m=h.getBaseAxis(),y=NS(h,m),T=m.getExtent(),H="category"===m.type?m.getBandWidth():Math.abs(T[1]-T[0])/d.count(),R=s[y]||{bandWidth:H,remainedWidth:H,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},$=R.stacks;s[y]=R;var se=ES(u);$[se]||R.autoWidthCount++,$[se]=$[se]||{width:0,maxWidth:0};var oe=Kn(u.get("barWidth"),H),Se=Kn(u.get("barMaxWidth"),H),we=u.get("barGap"),Te=u.get("barCategoryGap");oe&&!$[se].width&&(oe=Math.min(R.remainedWidth,oe),$[se].width=oe,R.remainedWidth-=oe),Se&&($[se].maxWidth=Se),null!=we&&(R.gap=we),null!=Te&&(R.categoryGap=Te)});var l={};return ue(s,function(u,c){l[c]={};var d=u.stacks,m=Kn(u.categoryGap,u.bandWidth),y=Kn(u.gap,1),T=u.remainedWidth,H=u.autoWidthCount,R=(T-m)/(H+(H-1)*y);R=Math.max(R,0),ue(d,function(Se,we){var Te=Se.maxWidth;Te&&Te<R&&(Te=Math.min(Te,T),Se.width&&(Te=Math.min(Te,Se.width)),T-=Te,Se.width=Te,H--)}),R=(T-m)/(H+(H-1)*y),R=Math.max(R,0);var $,se=0;ue(d,function(Se,we){Se.width||(Se.width=R),se+=($=Se).width*(1+y)}),$&&(se-=$.width*y);var oe=-se/2;ue(d,function(Se,we){l[c][we]=l[c][we]||{offset:oe,width:Se.width},oe+=Se.width*(1+y)})}),l}(Je(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));t.eachSeriesByType(e,function(a){if("polar"===a.coordinateSystem.type){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),c=NS(l,u),d=ES(a),h=o[c][d],m=h.offset,y=h.width,T=l.getOtherAxis(u),H=a.coordinateSystem.cx,R=a.coordinateSystem.cy,$=a.get("barMinHeight")||0,se=a.get("barMinAngle")||0;i[d]=i[d]||[];for(var oe=s.mapDimension(T.dim),Se=s.mapDimension(u.dim),we=os(s,oe),Te="radius"!==u.dim||!a.get("roundCap",!0),Me="radius"===T.dim?T.dataToRadius(0):T.dataToAngle(0),Pe=0,Ke=s.count();Pe<Ke;Pe++){var it,lt,mt,vt,wt=s.get(oe,Pe),Et=s.get(Se,Pe),Rt=0<=wt?"p":"n",It=Me;if(we&&(i[d][Et]||(i[d][Et]={p:Me,n:Me}),It=i[d][Et][Rt]),"radius"===T.dim){var Gt=T.dataToRadius(wt)-Me,bn=u.dataToAngle(Et);Math.abs(Gt)<$&&(Gt=(Gt<0?-1:1)*$),lt=(it=It)+Gt,vt=(mt=bn-m)-y,we&&(i[d][Et][Rt]=lt)}else{var Cn=T.dataToAngle(wt,Te)-Me,pn=u.dataToRadius(Et);Math.abs(Cn)<se&&(Cn=(Cn<0?-1:1)*se),lt=(it=pn+m)+y,vt=(mt=It)+Cn,we&&(i[d][Et][Rt]=vt)}s.setItemLayout(Pe,{cx:H,cy:R,r0:it,r:lt,startAngle:-mt*Math.PI/180,endAngle:-vt*Math.PI/180})}}},this)},"bar")),po({type:"polar"}),ke(tr.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){tr.prototype.init.apply(this,arguments),Xs(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=$x.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=je(e.regions||[],function(n,i){return i.name&&n.set(i.name,new qi(i,t)),n},Jt()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new qi(null,this,this.ecModel)},getFormattedLabel:function(e,t){t=t||"normal";var n=this.getRegionModel(e).get(("normal"===t?"":t+".")+"label.formatter"),i={name:e};return"function"==typeof n?(i.status=t,n(i)):"string"==typeof n?n.replace("{a}",e??""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}}),jg),po({type:"geo",init:function(e,t){var n=new Nh(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),fv("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),fv("select",{type:"geoSelect",event:"geoselected"}),fv("unSelect",{type:"geoUnSelect",event:"geounselected"}),cs.prototype={constructor:cs,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=Uu(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var o=e.getDay();return{y:t,m:n,d:i,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];ue([0,1],function(d){c(o,d)&&(a[i[d]]=o[d]*s[d])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=Qr(a,l);function c(d,h){return null!=d[h]&&"auto"!==d[h]}ue([0,1],function(d){c(o,d)||(o[d]=u[i[d]]/s[d])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(e,t){bt(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([i.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:Nt(OS,"dataToPoint"),convertFromPixel:Nt(OS,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(bt(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);e=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),o=i.getDate(),a=e[1].date.getDate();i.setDate(o+n-1);var s=i.getDate();if(s!==a)for(var l=0<i.getTime()-e[1].time?1:-1;(s=i.getDate())!==a&&0<(i.getTime()-e[1].time)*l;)n-=l,i.setDate(s-l);var u=Math.floor((n+e[0].day+6)/7),c=t?1-u:u-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:u,nthWeek:c,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var o=7*(e-1)-i.fweek+t,a=new Date(i.start.time);return a.setDate(i.start.d+o),this.getDateInfo(a)}},cs.dimensions=cs.prototype.dimensions,cs.getDimensionsInfo=cs.prototype.getDimensionsInfo,cs.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var o=new cs(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},Oo.register("calendar",cs);var BS=tr.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,n,i){var o=ql(e);BS.superApply(this,"init",arguments),zS(e,o)},mergeOption:function(e,t){BS.superApply(this,"mergeOption",arguments),zS(this.option,e)}});function zS(e,t){var n=e.cellSize;bt(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=Re([0,1],function(o){return function(a,s){return null!=a[rl[s][0]]||null!=a[rl[s][1]]&&null!=a[rl[s][2]]}(t,o)&&(n[o]="auto"),null!=n[o]&&"auto"!==n[o]});Cs(e,t,{type:"box",ignoreSize:i})}var V2={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},W2={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]};po({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var o=e.coordinateSystem,a=o.getRangeInfo(),s=o.getOrient();this._renderDayRect(e,a,i),this._renderLines(e,a,s,i),this._renderYearText(e,a,s,i),this._renderMonthText(e,s,i),this._renderWeekText(e,a,s,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),s=i.getCellHeight(),l=t.start.time;l<=t.end.time;l=i.getNextNDay(l,1).time){var u=i.dataToRect([l],!1).tl,c=new er({shape:{x:u[0],y:u[1],width:a,height:s},cursor:"default",style:o});n.add(c)}},_renderLines:function(e,t,n,i){var o=this,a=e.coordinateSystem,s=e.getModel("splitLine.lineStyle").getLineStyle(),l=e.get("splitLine.show"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,d=0;c.time<=t.end.time;d++){m(c.formatedDate),0===d&&(c=a.getDateInfo(t.start.y+"-"+t.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=a.getDateInfo(h)}function m(y){o._firstDayOfMonth.push(a.getDateInfo(y)),o._firstDayPoints.push(a.dataToRect([y],!1).tl);var T=o._getLinePointsOfOneWeek(e,y,n);o._tlpoints.push(T[0]),o._blpoints.push(T[T.length-1]),l&&o._drawSplitline(T,s,i)}m(a.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,n),s,i),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,n),s,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===n?0:1;return i[0][o]=i[0][o]-t/2,i[1][o]=i[1][o]+t/2,i},_drawSplitline:function(e,t,n){var i=new ya({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var o=[],a=0;a<7;a++){var s=i.getNextNDay(t.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},_formatterLabel:function(e,t){return"string"==typeof e&&e?zy(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,o){t=t.slice();var a=["center","bottom"];"bottom"===i?(t[1]+=o,a=["center","top"]):"left"===i?t[0]-=o:"right"===i?(t[0]+=o,a=["center","top"]):t[1]-=o;var s=0;return"left"!==i&&"right"!==i||(s=Math.PI/2),{rotation:s,position:t,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(e,t,n,i){var o=e.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),s=o.get("position");s=s||("horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(l[0][0]+l[1][0])/2,c=(l[0][1]+l[1][1])/2,d="horizontal"===n?0:1,h={top:[u,l[d][1]],bottom:[u,l[1-d][1]],left:[l[1-d][0],c],right:[l[d][0],c]},m=t.start.y;+t.end.y>+t.start.y&&(m=m+"-"+t.end.y);var y=o.get("formatter"),H=this._formatterLabel(y,{start:t.start.y,end:t.end.y,nameMap:m}),R=new Hi({z2:30});Pr(R.style,o,{text:H}),R.attr(this._yearTextPositionControl(R,h[s],n,s,a)),i.add(R)}},_monthTextPositionControl:function(e,t,n,i,o){var a="left",s="top",l=e[0],u=e[1];return"horizontal"===n?(u+=o,t&&(a="center"),"start"===i&&(s="bottom")):(l+=o,t&&(s="middle"),"start"===i&&(a="right")),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderMonthText:function(e,t,n){var i=e.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),s=i.get("position"),l=i.get("align"),u=[this._tlpoints,this._blpoints];Tt(o)&&(o=V2[o.toUpperCase()]||[]);var c="start"===s?0:1,d="horizontal"===t?0:1;a="start"===s?-a:a;for(var h="center"===l,m=0;m<u[c].length-1;m++){var y=u[c][m].slice(),T=this._firstDayOfMonth[m];h&&(y[d]=(this._firstDayPoints[m][d]+u[0][m+1][d])/2);var R=i.get("formatter"),$=o[+T.m-1],se={yyyy:T.y,yy:(T.y+"").slice(2),MM:T.m,M:+T.m,nameMap:$},oe=this._formatterLabel(R,se),Se=new Hi({z2:30});he(Pr(Se.style,i,{text:oe}),this._monthTextPositionControl(y,h,t,s,a)),n.add(Se)}}},_weekTextPositionControl:function(e,t,n,i,o){var a="center",s="middle",l=e[0],u=e[1],c="start"===n;return"horizontal"===t?(l=l+i+(c?1:-1)*o[0]/2,a=c?"right":"left"):(u=u+i+(c?1:-1)*o[1]/2,s=c?"bottom":"top"),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderWeekText:function(e,t,n,i){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=a.getFirstDayOfWeek();Tt(l)&&(l=W2[l.toUpperCase()]||[]);var d=a.getNextNDay(t.end.time,7-t.lweek).time,h=[a.getCellWidth(),a.getCellHeight()];u=Kn(u,h["horizontal"===n?0:1]),"start"===s&&(d=a.getNextNDay(t.start.time,-(7+t.fweek)).time,u=-u);for(var m=0;m<7;m++){var y,T=a.getNextNDay(d,m),H=a.dataToRect([T.time],!1).center;y=Math.abs((m+c)%7);var R=new Hi({z2:30});he(Pr(R.style,o,{text:l[y]}),this._weekTextPositionControl(H,n,s,u,h)),i.add(R)}}}});var FS={path:null,compoundPath:null,group:E,image:ji,text:Hi};ko(function(e){var t=e.graphic;bt(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var j2=ca({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,j2.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,o=n.elements=t?[]:n.elements,a=[];this._flatten(i,a);var s=Zf(o,a);L0(s);var l=this._elOptionsToUpdate=[];ue(s,function(c,d){var m,y,T,H,R,$,h=c.option;h&&(l.push(h),function(m,y){var T=m.exist;if(y.id=m.keyInfo.id,!y.type&&T&&(y.type=T.type),null==y.parentId){var H=y.parentOption;H?y.parentId=H.id:T&&(y.parentId=T.parentId)}y.parentOption=null}(c,h),m=o,y=d,H=he({},T=h),R=m[y],"merge"===($=T.$action||"merge")?R?(de(R,H,!0),Cs(R,H,{ignoreSize:!0}),Vy(T,R)):m[y]=H:"replace"===$?m[y]=H:"remove"===$&&R&&(m[y]=null),function(m,y){m&&(m.hv=y.hv=[VS(y,["left","right"]),VS(y,["top","bottom"])],"group"===m.type&&(null==m.width&&(m.width=y.width=0),null==m.height&&(m.height=y.height=0)))}(o[d],h))},this);for(var u=o.length-1;0<=u;u--)null==o[u]?o.splice(u,1):delete o[u].$action},_flatten:function(e,t,n){ue(e,function(i){if(i){n&&(i.parentOption=n),t.push(i);var o=i.children;"group"===i.type&&o&&this._flatten(o,t,i),delete i.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function HS(e,t,n,i){var o=n.type,a=new(FS.hasOwnProperty(o)?FS[o]:cp(o))(n);t.add(a),i.set(e,a),a.__ecGraphicId=e}function hf(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(i){hf(i,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function VS(e,t){var n;return ue(t,function(i){null!=e[i]&&"auto"!==e[i]&&(n=!0)}),n}po({type:"graphic",init:function(e,t){this._elMap=Jt()},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,i=this.group;ue(t,function(o){var a=o.$action,s=o.id,l=n.get(s),u=o.parentId,c=null!=u?n.get(u):i,d=o.style;"text"===o.type&&d&&(o.hv&&o.hv[1]&&(d.textVerticalAlign=d.textBaseline=null),!d.hasOwnProperty("textFill")&&d.fill&&(d.textFill=d.fill),!d.hasOwnProperty("textStroke")&&d.stroke&&(d.textStroke=d.stroke));var y,h=(y=he({},y=o),ue(["id","parentId","$action","hv","bounding"].concat(Hy),function(T){delete y[T]}),y);a&&"merge"!==a?"replace"===a?(hf(l,n),HS(s,c,h,n)):"remove"===a&&hf(l,n):l?l.attr(h):HS(s,c,h,n);var m=n.get(s);m&&(m.__ecGraphicWidthOption=o.width,m.__ecGraphicHeightOption=o.height,function(y,T){var H=y.eventData;y.silent||y.ignore||H||(H=y.eventData={componentType:"graphic",componentIndex:T.componentIndex,name:y.name}),H&&(H.info=y.info)}(m,e))})}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,o=this._elMap,a=t.getWidth(),s=t.getHeight(),l=0;l<n.length;l++){var u=n[l];if((d=o.get(u.id))&&d.isGroup){var c=(h=d.parent)===i;d.__ecGraphicWidth=Kn(d.__ecGraphicWidthOption,c?a:h.__ecGraphicWidth)||0,d.__ecGraphicHeight=Kn(d.__ecGraphicHeightOption,c?s:h.__ecGraphicHeight)||0}}for(l=n.length-1;0<=l;l--){var d,h;(d=o.get((u=n[l]).id))&&Wd(d,u,(h=d.parent)===i?{width:a,height:s}:{width:h.__ecGraphicWidth,height:h.__ecGraphicHeight},null,{hv:u.hv,boundingMode:u.bounding})}},_clear:function(){var e=this._elMap;e.each(function(t){hf(t,e)}),this._elMap=Jt()},dispose:function(){this._clear()}});var WS={};function _u(e,t){WS[e]=t}function jS(e){return WS[e]}var U2=ca({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){U2.superApply(this,"optionUpdated",arguments),ue(this.option.feature,function(e,t){var n=jS(t);n&&de(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});function US(e,t){var n=il(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new er({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}po({type:"toolbox",render:function(e,t,n,i){var d,h,m,y,T,H,R,o=this.group;if(o.removeAll(),e.get("show")){var a=+e.get("itemSize"),s=e.get("feature")||{},l=this._features||(this._features={}),u=[];ue(s,function(d,h){u.push(h)}),new rs(this._featureNames||[],u).add(c).update(c).remove(Nt(c,null)).execute(),this._featureNames=u,d=o,m=n,y=(h=e).getBoxLayoutParams(),T=h.get("padding"),R=Qr(y,H={width:m.getWidth(),height:m.getHeight()},T),ol(h.get("orient"),d,h.get("itemGap"),R.width,R.height),Wd(d,y,H,T),o.add(US(o.getBoundingRect(),e)),o.eachChild(function(d){var h=d.__title,m=d.hoverStyle;if(m&&h){var y=Yn(h,_t(m)),T=d.position[0]+o.position[0],H=!1;d.position[1]+o.position[1]+a+y.height>n.getHeight()&&(m.textPosition="top",H=!0);var R=H?-5-y.height:a+8;T+y.width/2>n.getWidth()?(m.textPosition=["100%",R],m.textAlign="right"):T-y.width/2<0&&(m.textPosition=[0,R],m.textAlign="left")}})}function c(d,h){var m,y=u[d],T=u[h],H=s[y],R=new qi(H,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===y&&(H.title=i.newTitle),y&&!T){if(0===y.indexOf("my"))m={model:R,onclick:R.option.onclick,featureName:y};else{var $=jS(y);if(!$)return;m=new $(R,t,n)}l[y]=m}else{if(!(m=l[T]))return;m.model=R,m.ecModel=t,m.api=n}y||!T?R.get("show")&&!m.unusable?(function(se,oe,Se){var we=se.getModel("iconStyle"),Te=se.getModel("emphasis.iconStyle"),Me=oe.getIcons?oe.getIcons():se.get("icon"),Pe=se.get("title")||{};if("string"==typeof Me){var Ke=Me,it=Pe;Pe={},(Me={})[Se]=Ke,Pe[Se]=it}var lt=se.iconPaths={};ue(Me,function(mt,vt){var wt=Ul(mt,{},{x:-a/2,y:-a/2,width:a,height:a});wt.setStyle(we.getItemStyle()),wt.hoverStyle=Te.getItemStyle(),wt.setStyle({text:Pe[vt],textAlign:Te.get("textAlign"),textBorderRadius:Te.get("textBorderRadius"),textPadding:Te.get("textPadding"),textFill:null});var Et=e.getModel("tooltip");Et&&Et.get("show")&&wt.attr("tooltip",he({content:Pe[vt],formatter:Et.get("formatter",!0)||function(){return Pe[vt]},formatterParams:{componentType:"toolbox",name:vt,title:Pe[vt],$vars:["name","title"]},position:Et.get("position",!0)||"bottom"},Et.option)),Cr(wt),e.get("showTitle")&&(wt.__title=Pe[vt],wt.on("mouseover",function(){var Rt=Te.getItemStyle(),It="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";wt.setStyle({textFill:Te.get("textFill")||Rt.fill||Rt.stroke||"#000",textBackgroundColor:Te.get("textBackgroundColor"),textPosition:Te.get("textPosition")||It})}).on("mouseout",function(){wt.setStyle({textFill:null,textBackgroundColor:null})})),wt.trigger(se.get("iconStatus."+vt)||"normal"),o.add(wt),wt.on("click",dt(oe.onclick,oe,t,n,vt)),lt[vt]=wt})}(R,m,y),R.setIconStatus=function(se,oe){var Se=this.option,we=this.iconPaths;Se.iconStatus=Se.iconStatus||{},Se.iconStatus[se]=oe,we[se]&&we[se].trigger(oe)},m.render&&m.render(R,t,n,i)):m.remove&&m.remove(t,n):m.dispose&&m.dispose(t,n)}},updateView:function(e,t,n,i){ue(this._features,function(o){o.updateView&&o.updateView(o.model,t,n,i)})},remove:function(e,t){ue(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){ue(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var GS=is.toolbox.saveAsImage;function ff(e){this.model=e}ff.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:GS.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:GS.lang.slice()},ff.prototype.unusable=!ve.canvasSupported,ff.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o="svg"===t.getZr().painter.getType()?"svg":n.get("type",!0)||"png",a=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||ve.browser.ie||ve.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u]);window.navigator.msSaveOrOpenBlob(c,i+"."+o)}else{var d=n.get("lang"),h='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(d&&d[0]||"")+'" /></body>';window.open().document.write(h)}else{var m=document.createElement("a");m.download=i+"."+o,m.target="_blank",m.href=a;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});m.dispatchEvent(y)}},_u("saveAsImage",ff);var pf=is.toolbox.magicType,pv="__ec_magicType_stack__";function gv(e){this.model=e}gv.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:K(pf.title),option:{},seriesIndex:{}};var qS=gv.prototype;qS.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return ue(e.get("type"),function(i){t[i]&&(n[i]=t[i])}),n};var YS={line:function(e,t,n,i){if("bar"===e)return de({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if("line"===e)return de({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(e,t,n,i){var o=n.get("stack")===pv;if("line"===e||"bar"===e)return i.setIconStatus("stack",o?"normal":"emphasis"),de({id:t,stack:o?"":pv},i.get("option.stack")||{},!0)}},G2=[["line","bar"],["stack"]];qS.onclick=function(e,t,n){var i=this.model,o=i.get("seriesIndex."+n);if(YS[n]){var a,s={series:[]};ue(G2,function(l){0<=We(l,n)&&ue(l,function(u){i.setIconStatus(u,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(l){var d=YS[n](l.subType,l.id,l,i);d&&(De(d,l.option),s.series.push(d));var h=l.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===n||"bar"===n)){var m=h.getAxesByScale("ordinal")[0];if(m){var y=m.dim+"Axis",T=e.queryComponents({mainType:y,index:l.get(name+"Index"),id:l.get(name+"Id")})[0].componentIndex;s[y]=s[y]||[];for(var H=0;H<=T;H++)s[y][T]=s[y][T]||{};s[y][T].boundaryGap="bar"===n}}}),"stack"===n&&(a=s.series&&s.series[0]&&s.series[0].stack===pv?de({stack:pf.title.tiled},pf.title):K(pf.title)),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:s,newTitle:a,featureName:"magicType"})}},Yi({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),_u("magicType",gv);var XS=is.toolbox.dataView,gf=new Array(60).join("-"),wu="\t";function mf(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var mv=new RegExp("["+wu+"]+","g");function Wc(e){this._dom=null,this.model=e}Wc.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:K(XS.title),lang:K(XS.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Wc.prototype.onclick=function(e,t){var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=i.get("lang")||[];a.innerHTML=s[0]||i.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=i.get("textColor");var l=document.createElement("div"),u=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var c=i.get("optionToContent"),d=i.get("contentToOption"),h=function q2(e){var t=function(n){var i={},o=[],a=[];return n.eachRawSeries(function(s){var l=s.coordinateSystem;if(!l||"cartesian2d"!==l.type&&"polar"!==l.type)o.push(s);else{var u=l.getBaseAxis();if("category"===u.type){var c=u.dim+"_"+u.index;i[c]||(i[c]={categoryAxis:u,valueAxis:l.getOtherAxis(u),series:[]},a.push({axisDim:u.dim,axisIndex:u.index})),i[c].series.push(s)}else o.push(s)}}),{seriesGroupByCategoryAxis:i,other:o,meta:a}}(e);return{value:Je([function(n){var i=[];return ue(n,function(o,a){var s=o.categoryAxis,l=o.valueAxis.dim,u=[" "].concat(Re(o.series,function(T){return T.name})),c=[s.model.getCategories()];ue(o.series,function(T){var H=T.getRawData();c.push(T.getRawData().mapArray(H.mapDimension(l),function(R){return R}))});for(var d=[u.join(wu)],h=0;h<c[0].length;h++){for(var m=[],y=0;y<c.length;y++)m.push(c[y][h]);d.push(m.join(wu))}i.push(d.join("\n"))}),i.join("\n\n"+gf+"\n\n")}(t.seriesGroupByCategoryAxis),function(n){return Re(n,function(i){var o=i.getRawData(),a=[i.name],s=[];return o.each(o.dimensions,function(){for(var l=arguments.length,c=o.getName(arguments[l-1]),d=0;d<l-1;d++)s[d]=arguments[d];a.push((c?c+wu:"")+s.join(wu))}),a.join("\n")}).join("\n\n"+gf+"\n\n")}(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+gf+"\n\n"),meta:t.meta}}(e);if("function"==typeof c){var m=c(t.getOption());"string"==typeof m?l.innerHTML=m:zt(m)&&l.appendChild(m)}else l.appendChild(u),u.readOnly=i.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=i.get("textColor"),u.style.borderColor=i.get("textareaBorderColor"),u.style.backgroundColor=i.get("textareaColor"),u.value=h.value;var y=h.meta,T=document.createElement("div");T.style.cssText="position:absolute;bottom:0;left:0;right:0;";var H="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",R=document.createElement("div"),$=document.createElement("div");H+=";background-color:"+i.get("buttonColor"),H+=";color:"+i.get("buttonTextColor");var se=this;function oe(){n.removeChild(o),se._dom=null}Ki(R,"click",oe),Ki($,"click",function(){var Se;try{Se="function"==typeof d?d(l,t.getOption()):function Y2(e,t){var n=e.split(new RegExp("\n*"+gf+"\n*","g")),i={series:[]};return ue(n,function(o,a){if(function(c){if(0<=c.slice(0,c.indexOf("\n")).indexOf(wu))return!0}(o)){var s=function(c){for(var d=c.split(/\n+/g),h=[],m=Re(mf(d.shift()).split(mv),function(R){return{name:R,data:[]}}),y=0;y<d.length;y++){var T=mf(d[y]).split(mv);h.push(T.shift());for(var H=0;H<T.length;H++)m[H]&&(m[H].data[y]=T[H])}return{series:m,categories:h}}(o),l=t[a],u=l.axisDim+"Axis";l&&(i[u]=i[u]||[],i[u][l.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else s=function(c){for(var d=c.split(/\n+/g),h=mf(d.shift()),m=[],y=0;y<d.length;y++){var T=mf(d[y]);if(T){var H,R=T.split(mv),$="",se=!1;H=isNaN(R[0])?(se=!0,$=R[0],R=R.slice(1),m[y]={name:$,value:[]},m[y].value):m[y]=[];for(var oe=0;oe<R.length;oe++)H.push(+R[oe]);1===H.length&&(se?m[y].value=H[0]:m[y]=H[0])}}return{name:h,data:m}}(o),i.series.push(s)}),i}(u.value,y)}catch(we){throw oe(),new Error("Data view format error "+we)}Se&&t.dispatchAction({type:"changeDataView",newOption:Se}),oe()}),R.innerHTML=s[1],$.innerHTML=s[2],$.style.cssText=H,R.style.cssText=H,i.get("readOnly")||T.appendChild($),T.appendChild(R),o.appendChild(a),o.appendChild(l),o.appendChild(T),l.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},Wc.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Wc.prototype.dispose=function(e,t){this.remove(e,t)},_u("dataView",Wc),Yi({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];ue(e.newOption.series,function(i){var s,l,o=t.getSeriesByName(i.name)[0];if(o){var a=o.get("data");n.push({name:i.name,data:(s=i.data,l=a,Re(s,function(u,c){var d=l&&l[c];if(!Pt(d)||bt(d))return u;Pt(u)&&!bt(u)||(u={value:u});var h=null!=d.name&&null==u.name;return u=De(u,d),h&&delete u.name,u}))})}else n.push(he({type:"scatter"},i))}),t.mergeOption(De({series:n},e.newOption))});var Ws=ue,vf=We,yf=Nt,vv=["dataToPoint","pointToData"],X2=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function bf(e,t,n){var i=this._targetInfoList=[],o={},a=ZS(t,e);Ws(Z2,function(s,l){n&&n.include&&!(0<=vf(n.include,l))||s(a,i,o)})}var Su=bf.prototype;function yv(e){return e[0]>e[1]&&e.reverse(),e}function ZS(e,t){return hd(e,t,{includeMainTypes:X2})}Su.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(n,i,o){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var a=bv[n.brushType](0,o,i);n.__rangeOffset={offset:$S[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}})},Su.matchOutputRanges=function(e,t,n){Ws(e,function(i){var o=this.findTargetInfo(i,t);o&&!0!==o&&ue(o.coordSyses,function(a){var s=bv[i.brushType](1,a,i.range);n(i,s.values,a,t)})},this)},Su.setInputRanges=function(e,t){Ws(e,function(n){var l,u,c,d,i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&!0!==i){n.panelId=i.panelId;var o=bv[n.brushType](0,i.coordSys,n.coordRange),a=n.__rangeOffset;n.range=a?$S[n.brushType](o.values,a.offset,(l=a.xyMinMax,u=tC(o.xyMinMax),c=tC(l),d=[u[0]/c[0],u[1]/c[1]],isNaN(d[0])&&(d[0]=1),isNaN(d[1])&&(d[1]=1),d)):o.values}},this)},Su.makePanelOpts=function(e,t){return Re(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:sw(i),isTargetByCursor:uw(i,e,n.coordSysModel),getLinearBrushOtherExtent:lw(i)}})},Su.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&0<=vf(i.coordSyses,t.coordinateSystem)},Su.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=ZS(t,e),o=0;o<n.length;o++){var a=n[o],s=e.panelId;if(s){if(a.panelId===s)return a}else for(o=0;o<KS.length;o++)if(KS[o](i,a))return a}return!0};var Z2={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,o=e.gridModels,a=Jt(),s={},l={};(n||i||o)&&(Ws(n,function(u){var c=u.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),Ws(i,function(u){var c=u.axis.grid.model;a.set(c.id,c),l[c.id]=!0}),Ws(o,function(u){a.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),a.each(function(u){var d=[];Ws(u.coordinateSystem.getCartesians(),function(h,m){(0<=vf(n,h.getAxis("x").model)||0<=vf(i,h.getAxis("y").model))&&d.push(h)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:d[0],coordSyses:d,getPanelRect:JS.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(e,t){Ws(e.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:JS.geo})})}},KS=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],JS={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(tl(e)),t}},bv={lineX:yf(QS,0),lineY:yf(QS,1),rect:function(e,t,n){var i=t[vv[e]]([n[0][0],n[1][0]]),o=t[vv[e]]([n[0][1],n[1][1]]),a=[yv([i[0],o[0]]),yv([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:Re(n,function(o){var a=t[vv[e]](o);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a}),xyMinMax:i}}};function QS(e,t,n,i){var o=n.getAxis(["x","y"][e]),a=yv(Re([0,1],function(l){return t?o.coordToData(o.toLocalCoord(i[l])):o.toGlobalCoord(o.dataToCoord(i[l]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}var $S={lineX:yf(eC,0),lineY:yf(eC,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Re(e,function(i,o){return[i[0]-n[0]*t[o][0],i[1]-n[1]*t[o][1]]})}};function eC(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function tC(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var nC=ue,xv="\0_ec_hist_store";function _v(e){return e[xv]||(e[xv]=[{}])}tr.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var wv,jc,iC,rC,K2=["cartesian2d","polar","singleAxis"],oC=(jc=["axisIndex","axis","index","id"],iC=Re(wv=(wv=["x","y","z","radius","angle","single"]).slice(),Hd),rC=Re(jc=(jc||[]).slice(),Hd),function(e,t){ue(wv,function(n,i){for(var o={name:n,capital:iC[i]},a=0;a<jc.length;a++)o[jc[a]]=n+rC[a];e.call(t,o)})});function Sv(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}var Al=ue,aC=nl;function sC(e,t){var n=e.getAxisModel(),i=e._percentWindow,o=e._valueWindow;if(i){var a=yp(o,[0,500]);a=Math.min(a,20);var s=t||0===i[0]&&100===i[1];n.setRange(s?null:+o[0].toFixed(a),s?null:+o[1].toFixed(a))}}Sv.prototype={constructor:Sv,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(function(a){return 0<=We(K2,a)}(n.get("coordinateSystem"))){var i=this._dimName,o=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n,i=this._dimName,o=this.ecModel,a=this.getAxisModel();return e="x"===i||"y"===i?(t="gridIndex","x"===i?"y":"x"):(t="polarIndex","angle"===i?"radius":"angle"),o.eachComponent(e+"Axis",function(s){(s.get(t)||0)===(a.get(t)||0)&&(n=s)}),n},getMinMaxSpan:function(){return K(this._minMaxSpan)},calculateDataWindow:function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];Al(["start","end"],function(d,h){var m=e[d],y=e[d+"Value"];"percent"===o[h]?(null==m&&(m=a[h]),y=i.parse(Tr(m,a,n))):(t=!0,m=Tr(y=null==y?n[h]:i.parse(y),n,a)),l[h]=y,s[h]=m}),aC(l),aC(s);var u=this._minMaxSpan;function c(d,h,m,y,T){var H=T?"Span":"ValueSpan";xl(0,d,m,"all",u["min"+H],u["max"+H]);for(var R=0;R<2;R++)h[R]=Tr(d[R],m,y,!0),T&&(h[R]=i.parse(h[R]))}return t?c(l,s,n,a,!1):c(s,l,a,n,!0),{valueWindow:l,percentWindow:s}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(i,o,a){var s=[1/0,-1/0];return Al(a,function(l){var u=l.getData();u&&Al(u.mapDimension(o,!0),function(c){var d=u.getApproximateExtent(c);d[0]<s[0]&&(s[0]=d[0]),d[1]>s[1]&&(s[1]=d[1])})}),s[1]<s[0]&&(s=[NaN,NaN]),function(l,u){var c=l.getAxisModel(),d=c.getMin(!0),h="category"===c.get("type"),m=h&&c.getCategories().length;null!=d&&"dataMin"!==d&&"function"!=typeof d?u[0]=d:h&&(u[0]=0<m?0:NaN);var y=c.getMax(!0);null!=y&&"dataMax"!==y&&"function"!=typeof y?u[1]=y:h&&(u[1]=0<m?m-1:NaN),c.get("scale",!0)||(0<u[0]&&(u[0]=0),u[1]<0&&(u[1]=0))}(i,s),s}(this,this._dimName,t),function(i){var o=i._minMaxSpan={},a=i._dataZoomModel,s=i._dataExtent;Al(["min","max"],function(l){var u=a.get(l+"Span"),c=a.get(l+"ValueSpan");null!=c&&(c=i.getAxisModel().axis.scale.parse(c)),null!=c?u=Tr(s[0]+c,s,[0,100],!0):null!=u&&(c=Tr(u,[0,100],s,!0)-s[0]),o[l+"Span"]=u,o[l+"ValueSpan"]=c})}(this);var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,sC(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,sC(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;"none"!==o&&Al(i,function(s){var l=s.getData(),u=l.mapDimension(n,!0);u.length&&("weakFilter"===o?l.filterSelf(function(c){for(var d,h,m,y=0;y<u.length;y++){var T=l.get(u[y],c),H=!isNaN(T),R=T<a[0],$=T>a[1];if(H&&!R&&!$)return!0;H&&(m=!0),R&&(d=!0),$&&(h=!0)}return m&&d&&h}):Al(u,function(c){if("empty"===o)s.setData(l=l.map(c,function(h){return(m=h)>=a[0]&&m<=a[1]?h:NaN;var m}));else{var d={};d[c]=a,l.selectRange(d)}}),Al(u,function(c){l.setApproximateExtent(a,c)}))})}}};var Ml=ue,Il=oC,Cv=ca({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=lC(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=lC(e);de(this.option,e,!0),de(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;ve.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),uC(this,e);var n=this.settledOption;Ml([["start","startValue"],["end","endValue"]],function(i,o){"value"===this._rangePropMode[o]&&(t[i[0]]=n[i[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,o){var a=this.dependentModels[t.axis][n],s=a.__dzAxisProxy||(a.__dzAxisProxy=new Sv(t.name,n,this,o));e[t.name+"_"+n]=s},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();Il(function(n){var i=n.axisIndex;e[i]=Ao(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;Il(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,i=this.dependentModels;if(e){var o="vertical"===t?"y":"x";i[o+"Axis"].length?(n[o+"AxisIndex"]=[0],e=!1):Ml(i.singleAxis,function(a){e&&a.get("orient",!0)===t&&(n.singleAxisIndex=[a.componentIndex],e=!1)})}e&&Il(function(a){if(e){var s=[],l=this.dependentModels[a.axis];if(l.length&&!s.length)for(var u=0,c=l.length;u<c;u++)"category"===l[u].get("type")&&s.push(u);(n[a.axisIndex]=s).length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&Il(function(s){var l=n[s.axisIndex],u=a.get(s.axisIndex),c=a.get(s.axisId);We(l,u=a.ecModel.queryComponents({mainType:s.axis,index:u,id:c})[0].componentIndex)<0&&l.push(u)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){e=e||t.name},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return Il(function(i){var o=e.get(i.axisIndex),a=this.dependentModels[i.axis][o];a&&a.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&0<t.animationDurationUpdate?100:20}},getFirstTargetAxisModel:function(){var e;return Il(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;Il(function(i){Ml(this.get(i.axisIndex),function(o){e.call(t,i,o,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e){var t=this.option,n=this.settledOption;Ml([["start","startValue"],["end","endValue"]],function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])},this),uC(this,e)},setCalculatedRange:function(e){var t=this.option;Ml(["start","startValue","end","endValue"],function(n){t[n]=e[n]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}});function lC(e){var t={};return Ml(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function uC(e,t){var n=e._rangePropMode,i=e.get("rangeMode");Ml([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=t[o[0]],l=null!=t[o[1]];s&&!l?n[a]="percent":!s&&l?n[a]="value":i?n[a]=i[a]:s&&(n[a]="percent")})}var Tv=ja.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var t=this.ecModel,n={};return this.dataZoomModel.eachTargetAxis(function(i,o){var a=t.getComponent(i.axis,o);if(a){var s=a.getCoordSysModel();s&&function(l,u,c,d){for(var h,m=0;m<c.length;m++)if(c[m].model===l){h=c[m];break}h||c.push(h={model:l,axisModels:[],coordIndex:d}),h.axisModels.push(u)}(s,a,n[s.mainType]||(n[s.mainType]=[]),s.componentIndex)}},this),n}});Cv.extend({type:"dataZoom.select"}),Tv.extend({type:"dataZoom.select"}),ua({getTargetSeries:function(e){var t=Jt();return e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){ue(a.getAxisProxy(i.name,o).getTargetSeriesModels(),function(s){t.set(s.uid,s)})})}),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).reset(a,t)}),n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).filterData(a,t)})}),e.eachComponent("dataZoom",function(n){var i=n.findRepresentativeAxisProxy(),o=i.getDataPercentWindow(),a=i.getDataValueWindow();n.setCalculatedRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]})})}}),Yi("dataZoom",function(e,t){var n=function J2(e,t,n){return function(o){var a,s={nodes:[],records:{}};if(t(function(u){s.records[u.name]={}}),!o)return s;for(i(o,s);a=!1,e(l),a;);function l(u){var c,d,h;!(0<=We(s.nodes,u))&&(c=u,d=s,h=!1,t(function(m){ue(n(c,m)||[],function(y){d.records[m.name][y]&&(h=!0)})}),h)&&(i(u,s),a=!0)}return s};function i(o,a){a.nodes.push(o),t(function(s){ue(n(o,s)||[],function(l){a.records[s.name][l]=!0})})}}(dt(t.eachComponent,t,"dataZoom"),oC,function(o,a){return o.get(a.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:e},function(o,a){i.push.apply(i,n(o).nodes)}),ue(i,function(o,a){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var cC=ue;function Dv(e,t,n){(this._brushController=new bu(n.getZr())).on("brush",dt(this._onBrush,this)).mount()}Dv.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:K(is.toolbox.dataZoom.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var Cu=Dv.prototype;Cu.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,function(o,a,s,l,u){var c=s._isZoomActive;l&&"takeGlobalCursor"===l.type&&(c="dataZoomSelect"===l.key&&l.dataZoomSelectActive),s._isZoomActive=c,o.setIconStatus("zoom",c?"emphasis":"normal");var d=new bf(dC(o.option),a,{include:["grid"]});s._brushController.setPanels(d.makePanelOpts(u,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"})).enableBrush(!!c&&{brushType:"auto",brushStyle:o.getModel("brushStyle").getItemStyle()})}(e,t,this,i,n),function(o,a){o.setIconStatus("back",1<_v(a).length?"emphasis":"normal")}(e,t)},Cu.onclick=function(e,t,n){$2[n].call(this)},Cu.remove=function(e,t){this._brushController.unmount()},Cu.dispose=function(e,t){this._brushController.dispose()};var $2={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(e){var t=_v(e),n=t[t.length-1];1<t.length&&t.pop();var i={};return nC(n,function(o,a){for(var s=t.length-1;0<=s;s--)if(o=t[s][a]){i[a]=o;break}}),i}(this.ecModel))}};function dC(e){var t={};return ue(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),!1!==t[n]&&"none"!==t[n]||(t[n]=[])}),t}function Av(e){this.model=e}Cu._onBrush=function(e,t){if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new bf(dC(this.model.option),i,{include:["grid"]}).matchOutputRanges(e,i,function(a,s,l){if("cartesian2d"===l.type){var u=a.brushType;"rect"===u?(o("x",l,s[0]),o("y",l,s[1])):o({lineX:"x",lineY:"y"}[u],l,s)}}),function(a,s){var l=_v(a);nC(s,function(u,c){for(var d=l.length-1;0<=d&&!l[d][c];d--);if(d<0){var h=a.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(h){var m=h.getPercentRange();l[0][c]={dataZoomId:c,start:m[0],end:m[1]}}}}),l.push(s)}(i,n),this._dispatchZoomAction(n)}function o(a,s,l){var m,y,H,u=s.getAxis(a),c=u.model,d=(m=a,y=c,i.eachComponent({mainType:"dataZoom",subType:"select"},function(R){R.getAxisModel(m,y.componentIndex)&&(H=R)}),H),h=d.findRepresentativeAxisProxy(c).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(l=xl(0,l.slice(),u.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),d&&(n[d.id]={dataZoomId:d.id,startValue:l[0],endValue:l[1]})}},Cu._dispatchZoomAction=function(e){var t=[];cC(e,function(n,i){t.push(K(n))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},_u("dataZoom",Dv),ko(function(e){if(e){var t=e.dataZoom||(e.dataZoom=[]);bt(t)||(e.dataZoom=t=[t]);var n=e.toolbox;if(n&&(bt(n)&&(n=n[0]),n&&n.feature)){var i=n.feature.dataZoom;o("xAxis",i),o("yAxis",i)}}function o(a,s){if(s){var l=a+"Index",u=s[l];null==u||"all"===u||bt(u)||(u=!1===u||"none"===u?[]:[u]),bt(h=e[a])||(h=h?[h]:[]),cC(h,function(c,d){if(null==u||"all"===u||-1!==We(u,d)){var h={type:"select",$fromToolbox:!0,filterMode:s.filterMode||"filter",id:"\0_ec_\0toolbox-dataZoom_"+a+d};h[l]=d,t.push(h)}})}var h}}),Av.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:is.toolbox.restore.title},Av.prototype.onclick=function(e,t,n){(function(i){i[xv]=null})(e),t.dispatchAction({type:"restore",from:this.uid})},_u("restore",Av),Yi({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")}),ca({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var hC=ue,tk=Oy,nk=["","-webkit-","-moz-","-o-"];function fC(e,t,n,i,o){var u,d,a=t&&t.painter;if(n){var s=a&&a.getViewportRoot();s&&(u=e,d=document.body,Qn(Bn,s,i,o,!0)&&Qn(u,d,Bn[0],Bn[1]))}else{e[0]=i,e[1]=o;var l=a&&a.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Mv(e,t,n){if(ve.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=t.getZr(),a=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0,0,0],fC(this._styleCoord,o,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(i):e.appendChild(i),this._container=e,this._show=!1;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;Li(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},i.onmouseleave=function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}}function pC(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Iv(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],pC(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1}Mv.prototype={constructor:Mv,_enterable:!0,update:function(e){var t=this._container,n=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==n.position&&(i.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[3],n=this._styleCoord[2]*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,n=this._styleCoord;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function ik(e){var s,u,t=[],n=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.getModel("textStyle"),a=e.get("padding");return n&&t.push((u="left "+(s=n)+"s "+"cubic-bezier(0.23, 1, 0.32, 1)"+",top "+s+"s cubic-bezier(0.23, 1, 0.32, 1)",Re(nk,function(c){return c+"transition:"+u}).join(";"))),i&&(ve.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+bo(i)),t.push("filter:alpha(opacity=70)"))),hC(["width","color","radius"],function(s){var l="border-"+s,u=tk(l),c=e.get(u);null!=c&&t.push(l+":"+c+("color"===s?"":"px"))}),t.push(function(s){var l=[],u=s.get("fontSize"),c=s.getTextColor();c&&l.push("color:"+c),l.push("font:"+s.getFont());var d=s.get("lineHeight");null==d&&(d=Math.round(3*u/2)),u&&l.push("line-height:"+d+"px");var h=s.get("textShadowColor"),m=s.get("textShadowBlur")||0,y=s.get("textShadowOffsetX")||0,T=s.get("textShadowOffsetY")||0;return m&&l.push("text-shadow:"+y+"px "+T+"px "+m+"px "+h),hC(["decoration","align"],function(H){var R=s.get(H);R&&l.push("text-"+H+":"+R)}),l.join(";")}(o)),null!=a&&t.push("padding:"+il(a).join("px ")+"px"),t.join(";")+";"}(e)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=e??""},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n=this._styleCoord;fC(n,this._zr,this._appendToBody,e,t);var i=this.el.style;i.left=n[0]+"px",i.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(dt(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}}},Iv.prototype={constructor:Iv,_enterable:!0,update:function(e){e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[3],n=this._styleCoord[2]*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,n){this.el&&this._zr.remove(this.el);for(var i={},o=e,a="{marker",s=o.indexOf(a);0<=s;){var l=o.indexOf("|}"),u=o.substr(s+a.length,l-s-a.length);i["marker"+u]=-1<u.indexOf("sub")?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[u],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[u]},s=(o=o.substr(l+1)).indexOf("{marker")}var c=n.getModel("textStyle"),d=c.get("fontSize"),h=n.get("textLineHeight");null==h&&(h=Math.round(3*d/2)),this.el=new Hi({style:Pr({},c,{rich:i,text:e,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:h}),z:n.get("z")}),this._zr.add(this.el);var m=this;this.el.on("mouseover",function(){m._enterable&&(clearTimeout(m._hideTimeout),m._show=!0),m._inContent=!0}),this.el.on("mouseout",function(){m._enterable&&m._show&&m.hideLater(m._hideDelay),m._inContent=!1})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var n=this._styleCoord;pC(n,this._zr,e,t),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(dt(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var gC=dt,Uc=ue,mC=Kn,rk=new er({shape:{x:-1,y:-1,width:2,height:2}});function kv(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(qi.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new qi(n,t,t.ecModel))}return t}function vC(e,t){return e.dispatchAction||dt(t.dispatchAction,t)}function yC(e){return"center"===e||"middle"===e}po({type:"tooltip",init:function(e,t){if(!ve.node){var n,i=e.getComponent("tooltip"),o=i.get("renderMode");this._renderMode=P0(o),"html"===this._renderMode?(n=new Mv(t.getDom(),t,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new Iv(t),this._newLine="\n"),this._tooltipContent=n}},render:function(e,t,n){if(!ve.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");nS("itemTooltip",this._api,gC(function(t,n,i){"none"!==e&&(0<=e.indexOf(t)?this._tryShow(n,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.isDisposed()||i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!ve.node){var o=vC(i,n);this._ticket="";var a=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=rk;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},o)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var l=Jw(i,t),u=l.point[0],c=l.point[1];null!=u&&null!=c&&this._tryShow({offsetX:u,offsetY:c,position:i.position,target:l.el},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o))}},manuallyHideTip:function(e,t,n,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(vC(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var o=i.seriesIndex,a=i.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=s){var l=t.getSeriesByIndex(o);if(l&&"axis"===(e=kv([l.getData().getItemModel(a),l,(l.coordinateSystem||{}).model,e])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=dt(t,this),clearTimeout(this._showTimout),0<n?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,o=[t.offsetX,t.offsetY],a=[],s=[],l=kv([t.tooltipOption,this._tooltipModel]),u=this._renderMode,c=this._newLine,d={};Uc(e,function(m){Uc(m.dataByAxis,function(y){var T=n.getComponent(y.axisDim+"Axis",y.axisIndex),H=y.value,R=[];if(T&&null!=H){var $=cS(H,T.axis,n,y.seriesDataIndices,y.valueLabelOpt);ue(y.seriesDataIndices,function(oe){var Se=n.getSeriesByIndex(oe.seriesIndex),we=oe.dataIndexInside,Te=Se&&Se.getDataParams(we);if(Te.axisDim=y.axisDim,Te.axisIndex=y.axisIndex,Te.axisType=y.axisType,Te.axisId=y.axisId,Te.axisValue=wg(T.axis,H),Te.axisValueLabel=$,Te){s.push(Te);var Me,Pe=Se.formatTooltip(we,!0,null,u);Pt(Pe)?(Me=Pe.html,de(d,Pe.markers)):Me=Pe,R.push(Me)}});var se=$;a.push("html"!==u?R.join(c):(se?Ir(se)+c:"")+R.join(c))}})},this),a.reverse(),a=a.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(l,h,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(l,a,s,Math.random(),o[0],o[1],h,void 0,d)})},_showSeriesItemTooltip:function(e,t,n){var o=t.seriesIndex,a=this._ecModel.getSeriesByIndex(o),s=t.dataModel||a,l=t.dataIndex,u=t.dataType,c=s.getData(u),d=kv([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),h=d.get("trigger");if(null==h||"item"===h){var m,y,T=s.getDataParams(l,u),H=s.formatTooltip(l,!1,u,this._renderMode);y=Pt(H)?(m=H.html,H.markers):(m=H,null);var R="item_"+s.name+"_"+l;this._showOrMove(d,function(){this._showTooltipContent(d,m,T,R,e.offsetX,e.offsetY,e.position,e.target,y)}),n({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var o=new qi(i,this._tooltipModel,this._ecModel),a=o.get("content"),s=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,o,a,s,l,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent,d=e.get("formatter");s=s||e.get("position");var h=t;if(d&&"string"==typeof d)h=Tp(d,n,!0);else if("function"==typeof d){var m=gC(function(y,T){y===this._ticket&&(c.setContent(T,u,e),this._updatePosition(e,s,o,a,c,n,l))},this);this._ticket=i,h=d(n,i,m)}c.setContent(h,u,e),c.show(e),this._updatePosition(e,s,o,a,c,n,l)}},_updatePosition:function(e,t,n,i,o,a,s){var l=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var H,R,$,se,oe,Se,we,Te,Me,Pe,c=o.getSize(),d=e.get("align"),h=e.get("verticalAlign"),m=s&&s.getBoundingRect().clone();if(s&&m.applyTransform(s.transform),"function"==typeof t&&(t=t([n,i],a,o.el,m,{viewSize:[l,u],contentSize:c.slice()})),bt(t))n=mC(t[0],l),i=mC(t[1],u);else if(Pt(t)){t.width=c[0],t.height=c[1];var y=Qr(t,{width:l,height:u});n=y.x,i=y.y,h=d=null}else if("string"==typeof t&&s)n=(T=function(H,R,$){var se=$[0],oe=$[1],Se=0,we=0,Te=R.width,Me=R.height;switch(H){case"inside":Se=R.x+Te/2-se/2,we=R.y+Me/2-oe/2;break;case"top":Se=R.x+Te/2-se/2,we=R.y-oe-5;break;case"bottom":Se=R.x+Te/2-se/2,we=R.y+Me+5;break;case"left":Se=R.x-se-5,we=R.y+Me/2-oe/2;break;case"right":Se=R.x+Te+5,we=R.y+Me/2-oe/2}return[Se,we]}(t,m,c))[0],i=T[1];else{var T;n=(H=n,R=i,$=o,se=l,oe=u,Se=d?null:20,we=h?null:20,Te=$.getOuterSize(),Me=Te.width,Pe=Te.height,null!=Se&&(se<H+Me+Se?H-=Me+Se:H+=Se),null!=we&&(oe<R+Pe+we?R-=Pe+we:R+=we),T=[H,R])[0],i=T[1]}d&&(n-=yC(d)?c[0]/2:"right"===d?c[0]:0),h&&(i-=yC(h)?c[1]/2:"bottom"===h?c[1]:0),e.get("confine")&&(n=(T=function(H,R,$,se,oe){var Se=$.getOuterSize(),we=Se.width,Te=Se.height;return H=Math.min(H+we,se)-we,R=Math.min(R+Te,oe)-Te,[H=Math.max(H,0),R=Math.max(R,0)]}(n,i,o,l,u))[0],i=T[1]),o.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&Uc(t,function(i,o){var a=i.dataByAxis||{},s=(e[o]||{}).dataByAxis||[];(n&=a.length===s.length)&&Uc(a,function(l,u){var c=s[u]||{},d=l.seriesDataIndices||[],h=c.seriesDataIndices||[];(n&=l.value===c.value&&l.axisType===c.axisType&&l.axisId===c.axisId&&d.length===h.length)&&Uc(d,function(m,y){var T=h[y];n&=m.seriesIndex===T.seriesIndex&&m.dataIndex===T.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){ve.node||(this._tooltipContent.dispose(),iv("itemTooltip",t))}}),Yi({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Yi({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var ok=["rect","polygon","keep","clear"],bC=ue;function xC(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function Ev(e,t,n){var i={};return bC(t,function(o){var a=i[o]=function(){function s(){}return s.prototype.__hidden=s.prototype,new s}();bC(e[o],function(s,l){if(fr.isValidType(l)){var u={type:l,visual:s};n&&n(u,o),a[l]=new fr(u),"opacity"===l&&((u=K(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new fr(u))}})}),i}function _C(e,t,n){var i;ue(n,function(o){t.hasOwnProperty(o)&&xC(t[o])&&(i=!0)}),i&&ue(n,function(o){t.hasOwnProperty(o)&&xC(t[o])?e[o]=K(t[o]):delete e[o]})}var Nv={lineX:wC(0),lineY:wC(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&dl(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var o=e.x,a=e.y,s=e.width,l=e.height,u=i[0];return!!(dl(i,o,a)||dl(i,o+s,a)||dl(i,o,a+l)||dl(i,o+s,a+l)||A.create(e).contain(u[0],u[1])||Vu(o,a,o+s,a,i)||Vu(o,a,o,a+l,i)||Vu(o+s,a,o+s,a+l,i)||Vu(o,a+l,o+s,a+l,i))||void 0}}};function wC(e){var t=["x","y"],n=["width","height"];return{point:function(i,o,a){if(i)return Gc(i[e],a.range)},rect:function(i,o,a){if(i){var s=a.range,l=[i[t[e]],i[t[e]]+i[n[e]]];return l[1]<l[0]&&l.reverse(),Gc(l[0],s)||Gc(l[1],s)||Gc(s[0],l)||Gc(s[1],l)}}}}function Gc(e,t){return t[0]<=e&&e<=t[1]}var SC=["inBrush","outOfBrush"],Lv="__ecBrushSelect",Rv="__ecInBrushSelectEvent",CC=Ua.VISUAL.BRUSH;function TC(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new bf(t.option,e)).setInputRanges(t.areas,e)})}function ak(e,t){if(!e.isDisposed()){var n=e.getZr();n[Rv]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[Rv]=!1}}function DC(e,t,n,i){for(var o=0,a=t.length;o<a;o++){var s=t[o];if(e[s.brushType](i,n,s.selectors,s))return!0}}function AC(e){var t=e.brushSelector;if(Tt(t)){var n=[];return ue(Nv,function(o,a){n[a]=function(s,l,u,c){var d=l.getItemLayout(s);return o[t](d,u,c)}}),n}if(on(t)){var i={};return ue(Nv,function(o,a){i[a]=t}),i}return t}Br(CC,function(e,t,n){e.eachComponent({mainType:"brush"},function(i){n&&"takeGlobalCursor"===n.type&&i.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})}),TC(e)}),_r(CC,function(e,t,n){var i,o,a=[];e.eachComponent({mainType:"brush"},function(s,l){var u={brushId:s.id,brushIndex:l,brushName:s.name,areas:K(s.areas),selected:[]};a.push(u);var c=s.option,d=c.brushLink,h=[],m=[],y=[],T=0;l||(i=c.throttleType,o=c.throttleDelay);var H=Re(s.areas,function(oe){return Se=De({boundingRect:sk[oe.brushType](oe)},oe),we=Se.selectors={},ue(Nv[Se.brushType],function(Te,Me){we[Me]=function(Pe){return Te(Pe,we,Se)}}),Se;var Se,we}),R=Ev(s.option,SC,function(oe){oe.mappingMethod="fixed"});function $(oe){return"all"===d||h[oe]}function se(oe){return!!oe.length}bt(d)&&ue(d,function(oe){h[oe]=1}),e.eachSeries(function(oe,Se){var Te,Me,Pe,we=y[Se]=[];"parallel"===oe.subType?(Me=Se,T|=(Pe=(Te=oe).coordinateSystem).hasAxisBrushed(),$(Me)&&Pe.eachActiveState(Te.getData(),function(Ke,it){"active"===Ke&&(m[it]=1)})):function(Te,Me,Pe){var mt,vt,Ke=AC(Te);if(Ke&&(mt=Me,null==(vt=s.option.seriesIndex)||"all"===vt||!(bt(vt)?We(vt,mt)<0:mt!==vt))&&(ue(H,function(lt){Ke[lt.brushType]&&s.brushTargetManager.controlSeries(lt,Te,e)&&Pe.push(lt),T|=se(Pe)}),$(Me)&&se(Pe))){var it=Te.getData();it.each(function(lt){DC(Ke,Pe,it,lt)&&(m[lt]=1)})}}(oe,Se,we)}),e.eachSeries(function(oe,Se){var we={seriesId:oe.id,seriesIndex:Se,seriesName:oe.name,dataIndex:[]};u.selected.push(we);var Te=AC(oe),Me=y[Se],Pe=oe.getData(),Ke=$(Se)?function(it){return m[it]?(we.dataIndex.push(Pe.getRawIndex(it)),"inBrush"):"outOfBrush"}:function(it){return DC(Te,Me,Pe,it)?(we.dataIndex.push(Pe.getRawIndex(it)),"inBrush"):"outOfBrush"};($(Se)?T:se(Me))&&function(it,lt,mt,vt,wt,Et){var Rt,It={};function Gt(pn){return mt.getItemVisual(Rt,pn)}function bn(pn,zn){mt.setItemVisual(Rt,pn,zn)}function Cn(pn,zn){var Zn=mt.getRawDataItem(Rt=null==Et?pn:zn);if(!Zn||!1!==Zn.visualMap)for(var fi=vt.call(wt,pn),En=lt[fi],ci=It[fi],pi=0,Si=ci.length;pi<Si;pi++){var rr=ci[pi];En[rr]&&En[rr].applyVisual(pn,Gt,bn)}}ue(it,function(pn){var zn=fr.prepareVisualTypes(lt[pn]);It[pn]=zn}),null==Et?mt.each(Cn):mt.each([Et],Cn)}(SC,R,Pe,Ke)})}),function(s,l,u,c,d){if(d){var h=s.getZr();h[Rv]||(h[Lv]||(h[Lv]=ak),$u(h,Lv,u,l)(s,c))}}(t,i,o,a,n)});var sk={lineX:gn,lineY:gn,rect:function(e){return MC(e.range)},polygon:function(e){for(var t,n=e.range,i=0,o=n.length;i<o;i++){var a=n[i];a[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&MC(t)}};function MC(e){return new A(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var lk=["#ddd"];function IC(e,t){return de({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new qi(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}function Pv(e,t,n,i){i&&i.$from===e.id||this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}function Ov(e,t,n){this.model=e,this.ecModel=t,this.api=n}ca({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;t||_C(n,e,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:lk},i.hasOwnProperty("liftZ")||(i.liftZ=5)},setAreas:function(e){e&&(this.areas=Re(e,function(t){return IC(this.option,t)},this))},setBrushOption:function(e){this.brushOption=IC(this.option,e),this.brushType=this.brushOption.brushType}}),po({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,(this._brushController=new bu(t.getZr())).on("brush",dt(this._onBrush,this)).mount()},render:function(e){return this.model=e,Pv.apply(this,arguments)},updateTransform:function(e,t){return TC(t),Pv.apply(this,arguments)},updateView:Pv,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"brush",brushId:n,areas:K(e),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:K(e),$from:n})}}),Yi({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),Yi({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),Yi({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Ov.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:K(is.toolbox.brush.title)};var xf=Ov.prototype;function kC(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},o=i.normal||(i.normal={}),a={normal:1,emphasis:1};ue(i,function(s,l){a[l]||kl(o,l)||(o[l]=s)}),n.label&&!kl(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function kl(e,t){return e.hasOwnProperty(t)}xf.render=xf.updateView=function(e,t,n){var i,o,a;t.eachComponent({mainType:"brush"},function(s){i=s.brushType,o=s.brushOption.brushMode||"single",a|=s.areas.length}),this._brushType=i,this._brushMode=o,ue(e.get("type",!0),function(s){e.setIconStatus(s,("keep"===s?"multiple"===o:"clear"===s?a:s===i)?"emphasis":"normal")})},xf.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return ue(e.get("type",!0),function(i){t[i]&&(n[i]=t[i])}),n},xf.onclick=function(e,t,n){var i=this._brushType,o=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},_u("brush",Ov),ko(function(e,t){var u,c,n=e&&e.brush;if(bt(n)||(n=n?[n]:[]),n.length){var i=[];ue(n,function(u){var c=u.hasOwnProperty("toolbox")?u.toolbox:[];c instanceof Array&&(i=i.concat(c))});var o=e&&e.toolbox;bt(o)&&(o=o[0]),o||(e.toolbox=[o={feature:{}}]);var a=o.feature||(o.feature={}),s=a.brush||(a.brush={}),l=s.type||(s.type=[]);l.push.apply(l,i),c={},ue(u=l,function(d){c[d]=1}),u.length=0,ue(c,function(d,h){u.push(h)}),t&&!l.length&&l.push.apply(l,ok)}}),ca({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),po({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),a=e.getModel("subtextStyle"),s=e.get("textAlign"),l=Zt(e.get("textBaseline"),e.get("textVerticalAlign")),u=new Hi({style:Pr({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),c=u.getBoundingRect(),d=e.get("subtext"),h=new Hi({style:Pr({},a,{text:d,textFill:a.getTextColor(),y:c.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=e.get("link"),y=e.get("sublink"),T=e.get("triggerEvent",!0);u.silent=!m&&!T,h.silent=!y&&!T,m&&u.on("click",function(){Gu(m,"_"+e.get("target"))}),y&&h.on("click",function(){Gu(y,"_"+e.get("subtarget"))}),u.eventData=h.eventData=T?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(u),d&&i.add(h);var H=i.getBoundingRect(),R=e.getBoxLayoutParams();R.width=H.width,R.height=H.height;var $=Qr(R,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?$.x+=$.width:"center"===s&&($.x+=$.width/2)),l||("center"===(l=e.get("top")||e.get("bottom"))&&(l="middle"),"bottom"===l?$.y+=$.height:"middle"===l&&($.y+=$.height/2),l=l||"top"),i.attr("position",[$.x,$.y]);var se={textAlign:s,textVerticalAlign:l};u.setStyle(se),h.setStyle(se),H=i.getBoundingRect();var oe=$.margin,Se=e.getItemStyle(["color","opacity"]);Se.fill=e.get("backgroundColor");var we=new er({shape:{x:H.x-oe[3],y:H.y-oe[0],width:H.width+oe[1]+oe[3],height:H.height+oe[0]+oe[2],r:e.get("borderRadius")},style:Se,subPixelOptimize:!0,silent:!0});i.add(we)}}}),tr.registerSubTypeDefaulter("timeline",function(){return"slider"}),Yi({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),De({currentIndex:n.option.currentIndex},e)}),Yi({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)});var EC=tr.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){EC.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(t<=e&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,i=this._names=[];if("category"===n){var o=[];ue(t,function(s,l){var u,c=ku(s);Pt(s)?(u=K(s)).value=l:u=l,o.push(u),Tt(c)||null!=c&&!isNaN(c)||(c=""),i.push(c+"")}),t=o}(this._data=new go([{name:"value",type:{category:"ordinal",time:"time"}[n]||"number"}],this)).initData(t,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});function _f(e,t,n,i){to.call(this,e,t,n),this.type=i||"value",this.model=null}ke(EC.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),Up);var ck=ja.extend({type:"timeline"});_f.prototype={constructor:_f,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},xe(_f,to);var js=dt,Bv=ue,zv=Math.PI;function NC(e,t,n,i,o,a){var s=t.get("color");o?(o.setColor(s),n.add(o),a&&a.onUpdate(o)):((o=da(e.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),n.add(o),a&&a.onCreate(o));var l=t.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(l),i=de({rectHover:!0,z2:100},i,!0);var u=e.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,i.scale=u;var c=e.get("symbolOffset");if(c){var d=i.position=i.position||[0,0];d[0]+=Kn(c[0],u[0]),d[1]+=Kn(c[1],u[1])}var h=e.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,o.attr(i),o.updateTransform(),o}function LC(e,t,n,i,o){if(!e.dragging){var a=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get(["value"],t));o||!a.get("animation",!0)?e.attr({position:[s,0]}):(e.stopAnimation(!0),e.animateTo({position:[s,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}ck.extend({type:"timeline.slider",init:function(e,t){this.api=t},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,n),a=this._createGroup("mainGroup"),s=this._createGroup("labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return Ir(l.scale.getLabel(u))},Bv(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var Ke,it,n=e.get("label.position"),i=e.get("orient"),o=(it=t,Qr((Ke=e).getBoxLayoutParams(),{width:it.getWidth(),height:it.getHeight()},Ke.get("padding")));null==n||"auto"===n?n="horizontal"===i?o.y+o.height/2<t.getHeight()/2?"-":"+":o.x+o.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var a,s,l,u,c={horizontal:"center",vertical:0<=n||"+"===n?"left":"right"},d={horizontal:0<=n||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:zv/2},m="vertical"===i?o.height:o.width,y=e.getModel("controlStyle"),T=y.get("show",!0),H=T?y.get("itemSize"):0,R=T?y.get("itemGap"):0,$=H+R,se=e.get("label.rotate")||0;se=se*zv/180;var oe=y.get("position",!0),Se=T&&y.get("showPlayBtn",!0),we=T&&y.get("showPrevBtn",!0),Me=0,Pe=m;return"left"===oe||"bottom"===oe?(Se&&(a=[0,0],Me+=$),we&&(s=[Me,0],Me+=$)):(Se&&(a=[Pe-H,0],Pe-=$),we&&(s=[0,0],Me+=$)),T&&y.get("showNextBtn",!0)&&(l=[Pe-H,0],Pe-=$),u=[Me,Pe],e.get("inverse")&&u.reverse(),{viewRect:o,mainLength:m,orient:i,rotation:h[i],labelRotation:se,labelPosOpt:n,labelAlign:e.get("label.align")||c[i],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||d[i],playPosition:a,prevBtnPosition:s,nextBtnPosition:l,axisExtent:u,controlSize:H,controlGap:R}},_position:function(e,t){var n=this._mainGroup,i=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){var a=Dr(),s=o.x,l=o.y+o.height;Ji(a,a,[-s,-l]),xr(a,a,-zv/2),Ji(a,a,[s,l]),(o=o.clone()).applyTransform(a)}var u=R(o),c=R(n.getBoundingRect()),d=R(i.getBoundingRect()),h=n.position,m=i.position;m[0]=h[0]=u[0][0];var y,T=e.labelPosOpt;function H(se){var oe=se.position;se.origin=[u[0][0]-oe[0],u[1][0]-oe[1]]}function R(se){return[[se.x,se.x+se.width],[se.y,se.y+se.height]]}function $(se,oe,Se,we,Te){se[we]+=Se[we][Te]-oe[we][Te]}isNaN(T)?($(h,c,u,1,y="+"===T?0:1),$(m,d,u,1,1-y)):($(h,c,u,1,y=0<=T?0:1),m[1]=h[1]+T),n.attr("position",h),i.attr("position",m),n.rotation=i.rotation=e.rotation,H(n),H(i)},_createAxis:function(e,t){var n=t.getData(),i=t.get("axisType"),o=eu(t,i);o.getTicks=function(){return n.mapArray(["value"],function(l){return l})};var a=n.getDataExtent("value");o.setExtent(a[0],a[1]),o.niceTicks();var s=new _f("value",o,e.axisExtent,i);return s.model=t,s},_createGroup:function(e){var t=this["_"+e]=new E;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var o=n.getExtent();i.get("lineStyle.show")&&t.add(new Mo({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:he({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var o=i.getData(),a=n.scale.getTicks();Bv(a,function(s){var l=n.dataToCoord(s),u=o.getItemModel(s),c=u.getModel("itemStyle"),d=u.getModel("emphasis.itemStyle"),h={position:[l,0],onclick:js(this._changeTimeline,this,s)},m=NC(u,c,t,h);Cr(m,d.getItemStyle()),u.get("tooltip")?(m.dataIndex=s,m.dataModel=i):m.dataIndex=m.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();Bv(a,function(s){var l=s.tickValue,u=o.getItemModel(l),c=u.getModel("label"),d=u.getModel("emphasis.label"),h=n.dataToCoord(s.tickValue),m=new Hi({position:[h,0],rotation:e.labelRotation-e.rotation,onclick:js(this._changeTimeline,this,l),silent:!1});Pr(m.style,c,{text:s.formattedLabel,textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(m),Cr(m,Pr({},d))},this)}},_renderControl:function(e,t,n,i){var o=e.controlSize,a=e.rotation,s=i.getModel("controlStyle").getItemStyle(),l=i.getModel("emphasis.controlStyle").getItemStyle(),u=[0,-o/2,o,o],c=i.getPlayState(),d=i.get("inverse",!0);function h(m,y,T,H){if(m){var R=(oe=u,we=(Se={position:m,origin:[o/2,0],rotation:H?-a:0,rectHover:!0,style:s,onclick:T}).style,Te=Ul(i.get(y),Se||{},new A(oe[0],oe[1],oe[2],oe[3])),we&&Te.setStyle(we),Te);t.add(R),Cr(R,l)}var oe,Se,we,Te}h(e.nextBtnPosition,"controlStyle.nextIcon",js(this._changeTimeline,this,d?"-":"+")),h(e.prevBtnPosition,"controlStyle.prevIcon",js(this._changeTimeline,this,d?"+":"-")),h(e.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),js(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(e,t,n,i){var o=i.getData(),a=i.getCurrentIndex(),s=o.getItemModel(a).getModel("checkpointStyle"),l=this;this._currentPointer=NC(s,s,this._mainGroup,{},this._currentPointer,{onCreate:function(c){c.draggable=!0,c.drift=js(l._handlePointerDrag,l),c.ondragend=js(l._handlePointerDragend,l),LC(c,a,n,i,!0)},onUpdate:function(c){LC(c,a,n,i)}})},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=nl(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(t||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(js(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){return Wa(e,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],function(a,s){var l=o.dataToCoord(a),u=Math.abs(l-e);u<i&&(i=u,t=s)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}}),ko(function(e){var t=e&&e.timeline;bt(t)||(t=t?[t]:[]),ue(t,function(n){n&&function(i){var o=i.type,a={number:"value",time:"time"};if(a[o]&&(i.axisType=a[o],delete i.type),kC(i),kl(i,"controlPosition")){var s=i.controlStyle||(i.controlStyle={});kl(s,"position")||(s.position=i.controlPosition),"none"!==s.position||kl(s,"show")||(s.show=!1,delete s.position),delete i.controlPosition}ue(i.data||[],function(l){Pt(l)&&!bt(l)&&(!kl(l,"value")&&kl(l,"name")&&(l.value=l.name),kC(l))})}(n)})});var RC=Ss,Fv=Ir;function wf(e){Xs(e,"label",["show"])}var Sf=ca({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},isAnimationEnabled:function(){if(ve.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t){this._mergeOption(e,t,!1,!1)},_mergeOption:function(e,t,n,i){var o=this.constructor,a=this.mainType+"Model";n||t.eachSeries(function(s){var l=s.get(this.mainType,!0),u=s[a];l&&l.data?(u?u._mergeOption(l,t,!0):(i&&wf(l),ue(l.data,function(c){c instanceof Array?(wf(c[0]),wf(c[1])):wf(c)}),he(u=new o(l,this,t),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),s[a]=u):s[a]=null},this)},formatTooltip:function(e,t,n,i){var o=this.getData(),a=this.getRawValue(e),s=bt(a)?Re(a,RC).join(", "):RC(a),l=o.getName(e),u=Fv(this.name);return null==a&&!l||(u+="html"===i?"<br/>":"\n"),l&&(u+=Fv(l),null!=a&&(u+=" : ")),null!=a&&(u+=Fv(s)),u},getData:function(){return this._data},setData:function(e){this._data=e}});ke(Sf,Up),Sf.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var PC=We;function Hv(e,t,n,i,o,a){var s=[],l=os(t,i)?t.getCalculationInfo("stackResultDimension"):i,u=jv(t,l,e),c=t.indicesOfNearest(l,u)[0];s[o]=t.get(n,c),s[a]=t.get(l,c);var d=t.get(i,c),h=Ny(t.get(i,c));return 0<=(h=Math.min(h,20))&&(s[a]=+s[a].toFixed(h)),[s,d]}var Vv=Nt,Wv={min:Vv(Hv,"min"),max:Vv(Hv,"max"),average:Vv(Hv,"average")};function qc(e,t){var h,n=e.getData(),i=e.coordinateSystem;if(t&&(h=t,isNaN(parseFloat(h.x))||isNaN(parseFloat(h.y)))&&!bt(t.coord)&&i){var o=i.dimensions,a=OC(t,n,i,e);if((t=K(t)).type&&Wv[t.type]&&a.baseAxis&&a.valueAxis){var s=PC(o,a.baseAxis.dim),l=PC(o,a.valueAxis.dim),u=Wv[t.type](n,a.baseDataDim,a.valueDataDim,s,l);t.coord=u[0],t.value=u[1]}else{for(var c=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],d=0;d<2;d++)Wv[c[d]]&&(c[d]=jv(n,n.mapDimension(o[d]),c[d]));t.coord=c}}return t}function OC(e,t,n,i){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=n.getAxis(function(a,s){var l=a.getData(),u=l.dimensions;s=l.getDimension(s);for(var c=0;c<u.length;c++){var d=l.getDimensionInfo(u[c]);if(d.name===s)return d.coordDim}}(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function Yc(e,t){return!(e&&e.containData&&t.coord&&!function(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}(t))||e.containData(t.coord)}function BC(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value}function jv(e,t,n){if("average"!==n)return"median"===n?e.getMedian(t):e.getDataExtent(t,!0)["max"===n?1:0];var i=0,o=0;return e.each(t,function(a,s){isNaN(a)||(i+=a,o++)}),i/o}var Uv=po({type:"marker",init:function(){this.markerGroupMap=Jt()},render:function(e,t,n){var i=this.markerGroupMap;i.each(function(a){a.__keep=!1});var o=this.type+"Model";t.eachSeries(function(a){var s=a[o];s&&this.renderSeries(a,s,t,n)},this),i.each(function(a){a.__keep||this.group.remove(a.group)},this)},renderSeries:function(){}});function zC(e,t,n){var i=t.coordinateSystem;e.each(function(o){var a,s=e.getItemModel(o),l=Kn(s.get("x"),n.getWidth()),u=Kn(s.get("y"),n.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(i){var c=e.get(i.dimensions[0],o),d=e.get(i.dimensions[1],o);a=i.dataToPoint([c,d])}}else a=[l,u];isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u),e.setItemLayout(o,a)})}function dk(e,t,n,i){var o=e.getData(),a=i.type;if(!bt(i)&&("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis)){var s,l;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=Mn(i.yAxis,i.xAxis);else{var u=OC(i,o,t,e);s=u.valueAxis,l=jv(o,uc(o,u.valueDataDim),a)}var c="x"===s.dim?0:1,d=1-c,h=K(i),m={};h.type=null,h.coord=[],m.coord=[],h.coord[d]=-1/0,m.coord[d]=1/0;var y=n.get("precision");0<=y&&"number"==typeof l&&(l=+l.toFixed(Math.min(y,20))),h.coord[c]=m.coord[c]=l,i=[h,m,{type:a,valueIndex:i.valueIndex,value:l}]}return(i=[qc(e,i[0]),qc(e,i[1]),he({},i[2])])[2].type=i[2].type||"",de(i[2],i[0]),de(i[2],i[1]),i}function Cf(e){return!isNaN(e)&&!isFinite(e)}function FC(e,t,n,i){var o=1-e,a=i.dimensions[e];return Cf(t[o])&&Cf(n[o])&&t[e]===n[e]&&i.getAxis(a).containData(t[e])}function hk(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(FC(1,n,i,e)||FC(0,n,i,e)))return!0}return Yc(e,t[0])&&Yc(e,t[1])}function Gv(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=Kn(l.get("x"),o.getWidth()),c=Kn(l.get("y"),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=s.dimensions,h=e.get(d[0],t),m=e.get(d[1],t);a=s.dataToPoint([h,m])}if("cartesian2d"===s.type){var y=s.getAxis("x"),T=s.getAxis("y");Cf(e.get((d=s.dimensions)[0],t))?a[0]=y.toGlobalCoord(y.getExtent()[n?0:1]):Cf(e.get(d[1],t))&&(a[1]=T.toGlobalCoord(T.getExtent()[n?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];e.setItemLayout(t,a)}function fk(e,t,n,i){var o=qc(e,i[0]),a=qc(e,i[1]),s=Mn,l=o.coord,u=a.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var c=me([{},o,a]);return c.coord=[o.coord,a.coord],c.x0=o.x,c.y0=o.y,c.x1=a.x,c.y1=a.y,c}function Tu(e){return!isNaN(e)&&!isFinite(e)}function HC(e,t,n){var i=1-e;return Tu(t[i])&&Tu(n[i])}function pk(e,t){var n=t.coord[0],i=t.coord[1];return!("cartesian2d"!==e.type||!n||!i||!HC(1,n,i)&&!HC(0,n,i))||Yc(e,{coord:n,x:t.x0,y:t.y0})||Yc(e,{coord:i,x:t.x1,y:t.y1})}function VC(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=Kn(l.get(n[0]),o.getWidth()),c=Kn(l.get(n[1]),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(n,t));else{var d=[y=e.get(n[0],t),T=e.get(n[1],t)];s.clampData&&s.clampData(d,d),a=s.dataToPoint(d,!0)}if("cartesian2d"===s.type){var h=s.getAxis("x"),m=s.getAxis("y"),y=e.get(n[0],t),T=e.get(n[1],t);Tu(y)?a[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):Tu(T)&&(a[1]=m.toGlobalCoord(m.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];return a}Uv.extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markPointModel;o&&(zC(o.getData(),i,n),this.markerGroupMap.get(i.id).updateLayout(o))},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new tu),c=function(d,h,m){var y;y=d?Re(d&&d.dimensions,function(R){return De({name:R},h.getData().getDimensionInfo(h.getData().mapDimension(R))||{})}):[{name:"value",type:"float"}];var T=new go(y,m),H=Re(m.get("data"),Nt(qc,h));return d&&(H=Je(H,Nt(Yc,d))),T.initData(H,null,d?BC:function(R){return R.value}),T}(o,e,t);t.setData(c),zC(t.getData(),e,i),c.each(function(d){var h=c.getItemModel(d),m=h.getShallow("symbol"),y=h.getShallow("symbolSize"),T=h.getShallow("symbolRotate"),H=on(m),R=on(y),$=on(T);if(H||R||$){var se=t.getRawValue(d),oe=t.getDataParams(d);H&&(m=m(se,oe)),R&&(y=y(se,oe)),$&&(T=T(se,oe))}c.setItemVisual(d,{symbol:m,symbolSize:y,symbolRotate:T,color:h.get("itemStyle.color")||s.getVisual("color")})}),u.updateData(c),this.group.add(u.group),c.eachItemGraphicEl(function(d){d.traverse(function(h){h.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),ko(function(e){e.markPoint=e.markPoint||{}}),Sf.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}}),Uv.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markLineModel;if(o){var a=o.getData(),s=o.__from,l=o.__to;s.each(function(u){Gv(s,u,!0,i,n),Gv(l,u,!1,i,n)}),a.each(function(u){a.setItemLayout(u,[s.getItemLayout(u),l.getItemLayout(u)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new Wh);this.group.add(u.group);var c=function(R,$,se){var oe;oe=R?Re(R&&R.dimensions,function(Ke){return De({name:Ke},$.getData().getDimensionInfo($.getData().mapDimension(Ke))||{})}):[{name:"value",type:"float"}];var Se=new go(oe,se),we=new go(oe,se),Te=new go([],se),Me=Re(se.get("data"),Nt(dk,$,R,se));R&&(Me=Je(Me,Nt(hk,R)));var Pe=R?BC:function(Ke){return Ke.value};return Se.initData(Re(Me,function(Ke){return Ke[0]}),null,Pe),we.initData(Re(Me,function(Ke){return Ke[1]}),null,Pe),Te.initData(Re(Me,function(Ke){return Ke[2]})),Te.hasItemOption=!0,{from:Se,to:we,line:Te}}(o,e,t),d=c.from,h=c.to,m=c.line;t.__from=d,t.__to=h,t.setData(m);var y=t.get("symbol"),T=t.get("symbolSize");function H(R,$,se){var oe=R.getItemModel($);Gv(R,$,se,e,i),R.setItemVisual($,{symbolRotate:oe.get("symbolRotate"),symbolSize:oe.get("symbolSize")||T[se?0:1],symbol:oe.get("symbol",!0)||y[se?0:1],color:oe.get("itemStyle.color")||s.getVisual("color")})}bt(y)||(y=[y,y]),"number"==typeof T&&(T=[T,T]),c.from.each(function(R){H(d,R,!0),H(h,R,!1)}),m.each(function(R){var $=m.getItemModel(R).get("lineStyle.color");m.setItemVisual(R,{color:$||d.getItemVisual(R,"color")}),m.setItemLayout(R,[d.getItemLayout(R),h.getItemLayout(R)]),m.setItemVisual(R,{fromSymbolRotate:d.getItemVisual(R,"symbolRotate"),fromSymbolSize:d.getItemVisual(R,"symbolSize"),fromSymbol:d.getItemVisual(R,"symbol"),toSymbolRotate:h.getItemVisual(R,"symbolRotate"),toSymbolSize:h.getItemVisual(R,"symbolSize"),toSymbol:h.getItemVisual(R,"symbol")})}),u.updateData(m),c.line.eachItemGraphicEl(function(R,$){R.traverse(function(se){se.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),ko(function(e){e.markLine=e.markLine||{}}),Sf.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var qv=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];Uv.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markAreaModel;if(o){var a=o.getData();a.each(function(s){var l=Re(qv,function(u){return VC(a,s,u,i,n)});a.setItemLayout(s,l),a.getItemGraphicEl(s).setShape("points",l)})}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,{group:new E});this.group.add(u.group),u.__keep=!0;var c=function(d,h,m){var y,T;T=d?(y=Re(d&&d.dimensions,function($){var se=h.getData();return De({name:$},se.getDimensionInfo(se.mapDimension($))||{})}),new go(Re(["x0","y0","x1","y1"],function($,se){return{name:$,type:y[se%2].type}}),m)):new go(y=[{name:"value",type:"float"}],m);var H=Re(m.get("data"),Nt(fk,h,d,m));return d&&(H=Je(H,Nt(pk,d))),T.initData(H,null,d?function($,se,oe,Se){return $.coord[Math.floor(Se/2)][Se%2]}:function($){return $.value}),T.hasItemOption=!0,T}(o,e,t);t.setData(c),c.each(function(d){var h=Re(qv,function(y){return VC(c,d,y,e,i)}),m=!0;ue(qv,function(y){if(m){var T=c.get(y[0],d),H=c.get(y[1],d);(Tu(T)||o.getAxis("x").containData(T))&&(Tu(H)||o.getAxis("y").containData(H))&&(m=!1)}}),c.setItemLayout(d,{points:h,allClipped:m}),c.setItemVisual(d,{color:s.getVisual("color")})}),c.diff(u.__data).add(function(d){var h=c.getItemLayout(d);if(!h.allClipped){var m=new $o({shape:{points:h.points}});c.setItemGraphicEl(d,m),u.group.add(m)}}).update(function(d,h){var m=u.__data.getItemGraphicEl(h),y=c.getItemLayout(d);y.allClipped?m&&u.group.remove(m):(m?Ri(m,{shape:{points:y.points}},t,d):m=new $o({shape:{points:y.points}}),c.setItemGraphicEl(d,m),u.group.add(m))}).remove(function(d){var h=u.__data.getItemGraphicEl(d);u.group.remove(h)}).execute(),c.eachItemGraphicEl(function(d,h){var m=c.getItemModel(h),y=m.getModel("label"),T=m.getModel("emphasis.label"),H=c.getItemVisual(h,"color");d.useStyle(De(m.getModel("itemStyle").getItemStyle(),{fill:ye(H,.4),stroke:H})),d.hoverStyle=m.getModel("emphasis.itemStyle").getItemStyle(),sa(d.style,d.hoverStyle,y,T,{labelFetcher:t,labelDataIndex:h,defaultText:c.getName(h)||"",isRectText:!0,autoColor:H}),Cr(d,{}),d.dataModel=t}),u.__data=c,u.group.silent=t.get("silent")||e.get("silent")}}),ko(function(e){e.markArea=e.markArea||{}});var WC=is.legend.selector,gk={all:{type:"all",title:K(WC.all)},inverse:{type:"inverse",title:K(WC.inverse)}},jC=ca({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){jC.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),bt(t)&&ue(t,function(n,i){Tt(n)&&(n={type:n}),t[i]=de(n,gk[n.type])})},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}t||this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(o){var a;if(n.push(o.name),o.legendVisualProvider){var l=o.legendVisualProvider.getAllNames();e.isSeriesFiltered(o)||(n=n.concat(l)),l.length?t=t.concat(l):a=!0}else a=!0;a&&Kf(o)&&t.push(o.name)}),this._availableNames=n;var i=Re(this.get("data")||t,function(o){return"string"!=typeof o&&"number"!=typeof o||(o={name:o}),new qi(o,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&ue(this._data,function(n){t[n.get("name")]=!1}),t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var t=this.option.selected;ue(this._data,function(n){t[n.get("name",!0)]=!0})},inverseSelect:function(){var t=this.option.selected;ue(this._data,function(n){var i=n.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]})},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&0<=We(this._availableNames,e)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});function Xc(e,t,n){var i,o={},a="toggleSelected"===e;return n.eachComponent("legend",function(s){a&&null!=i?s[i?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?s[e]():(s[e](t.name),i=s.isSelected(t.name)),ue(s.getData(),function(l){var u=l.get("name");if("\n"!==u&&""!==u){var c=s.isSelected(u);o[u]=o.hasOwnProperty(u)?o[u]&&c:c}})}),"allSelect"===e||"inverseSelect"===e?{selected:o}:{name:t.name,selected:o}}Yi("legendToggleSelect","legendselectchanged",Nt(Xc,"toggleSelected")),Yi("legendAllSelect","legendselectall",Nt(Xc,"allSelect")),Yi("legendInverseSelect","legendinverseselect",Nt(Xc,"inverseSelect")),Yi("legendSelect","legendselected",Nt(Xc,"select")),Yi("legendUnSelect","legendunselected",Nt(Xc,"unSelect"));var Du=Nt,UC=ue,Tf=E,mk=po({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Tf),this.group.add(this._selectorGroup=new Tf),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var o=e.get("align"),a=e.get("orient");o&&"auto"!==o||(o="right"===e.get("left")&&"vertical"===a?"right":"left");var s=e.get("selector",!0),l=e.get("selectorPosition",!0);!s||l&&"auto"!==l||(l="horizontal"===a?"end":"start"),this.renderInner(o,e,t,n,s,a,l);var u=e.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},d=e.get("padding"),h=Qr(u,c,d),m=this.layoutInner(e,o,h,i,s,l),y=Qr(De({width:m.width,height:m.height},u),c,d);this.group.attr("position",[y.x-m.x,y.y-m.y]),this.group.add(this._backgroundEl=US(m,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,n,i,o,a,s){var l=this.getContentGroup(),u=Jt(),c=t.get("selectedMode"),d=[];n.eachRawSeries(function(h){h.get("legendHoverLink")||d.push(h.id)}),UC(t.getData(),function(h,m){var y=h.get("name");if(this.newlineDisabled||""!==y&&"\n"!==y){var T=n.getSeriesByName(y)[0];if(!u.get(y))if(T){var H=T.getData(),R=H.getVisual("color"),$=H.getVisual("borderColor");"function"==typeof R&&(R=R(T.getDataParams(0))),"function"==typeof $&&($=$(T.getDataParams(0)));var se=H.getVisual("legendSymbol")||"roundRect",oe=H.getVisual("symbol");this._createItem(y,m,h,t,se,oe,e,R,$,c).on("click",Du(qC,y,null,i,d)).on("mouseover",Du(Yv,T.name,null,i,d)).on("mouseout",Du(Xv,T.name,null,i,d)),u.set(y,!0)}else n.eachRawSeries(function(Se){if(!u.get(y)&&Se.legendVisualProvider){var we=Se.legendVisualProvider;if(!we.containName(y))return;var Te=we.indexOfName(y),Me=we.getItemVisual(Te,"color"),Pe=we.getItemVisual(Te,"borderColor");this._createItem(y,m,h,t,"roundRect",null,e,Me,Pe,c).on("click",Du(qC,null,y,i,d)).on("mouseover",Du(Yv,null,y,i,d)).on("mouseout",Du(Xv,null,y,i,d)),u.set(y,!0)}},this)}else l.add(new Tf({newline:!0}))},this),o&&this._createSelector(o,t,i,a,s)},_createSelector:function(e,t,n,i,o){var a=this.getSelectorGroup();UC(e,function(s){!function(l){var u=l.type,c=new Hi({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});a.add(c);var d=t.getModel("selectorLabel"),h=t.getModel("emphasis.selectorLabel");sa(c.style,c.hoverStyle={},d,h,{defaultText:l.title,isRectText:!1}),Cr(c)}(s)})},_createItem:function(e,t,n,i,o,a,s,l,u,c){var d=i.get("itemWidth"),h=i.get("itemHeight"),m=i.get("inactiveColor"),y=i.get("inactiveBorderColor"),T=i.get("symbolKeepAspect"),H=i.getModel("itemStyle"),R=i.isSelected(e),$=new Tf,se=n.getModel("textStyle"),oe=n.get("icon"),Se=n.getModel("tooltip"),we=Se.parentModel,Te=da(o=oe||o,0,0,d,h,R?l:m,null==T||T);if($.add(GC(Te,o,H,u,y,R)),!oe&&a&&(a!==o||"none"===a)){var Me=.8*h;"none"===a&&(a="circle");var Pe=da(a,(d-Me)/2,(h-Me)/2,Me,Me,R?l:m,null==T||T);$.add(GC(Pe,a,H,u,y,R))}var Ke="left"===s?d+5:-5,it=s,lt=i.get("formatter"),mt=e;"string"==typeof lt&&lt?mt=lt.replace("{name}",e??""):"function"==typeof lt&&(mt=lt(e)),$.add(new Hi({style:Pr({},se,{text:mt,x:Ke,y:h/2,textFill:R?se.getTextColor():m,textAlign:it,textVerticalAlign:"middle"})}));var vt=new er({shape:$.getBoundingRect(),invisible:!0,tooltip:Se.get("show")?he({content:e,formatter:we.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},Se.option):null});return $.add(vt),$.eachChild(function(wt){wt.silent=!0}),vt.silent=!c,this.getContentGroup().add($),Cr($),$.__legendDataIndex=t,$},layoutInner:function(e,t,n,i,o,a){var s=this.getContentGroup(),l=this.getSelectorGroup();ol(e.get("orient"),s,e.get("itemGap"),n.width,n.height);var u=s.getBoundingRect(),c=[-u.x,-u.y];if(o){ol("horizontal",l,e.get("selectorItemGap",!0));var d=l.getBoundingRect(),h=[-d.x,-d.y],m=e.get("selectorButtonGap",!0),y=e.getOrient().index,T=0===y?"width":"height",H=0===y?"height":"width",R=0===y?"y":"x";"end"===a?h[y]+=u[T]+m:c[y]+=d[T]+m,h[1-y]+=u[H]/2-d[H]/2,l.attr("position",h),s.attr("position",c);var $={x:0,y:0};return $[T]=u[T]+m+d[T],$[H]=Math.max(u[H],d[H]),$[R]=Math.min(0,d[R]+h[1-y]),$}return s.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function GC(e,t,n,i,o,a){var s;return"line"!==t&&t.indexOf("empty")<0?(s=n.getItemStyle(),e.style.stroke=i,a||(s.stroke=o)):s=n.getItemStyle(["borderWidth","borderColor"]),e.setStyle(s)}function qC(e,t,n,i){Xv(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:e??t}),Yv(e,t,n,i)}function Yv(e,t,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function Xv(e,t,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}ua(Ua.PROCESSOR.SERIES_FILTER,function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}),tr.registerSubTypeDefaulter("legend",function(){return"plain"});var YC=jC.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,i){var o=ql(e);YC.superCall(this,"init",e,t,n,i),XC(this,e,o)},mergeOption:function(e,t){YC.superCall(this,"mergeOption",e,t),XC(this,this.option,e)}});function XC(e,t,n){var i=[1,1];i[e.getOrient().index]=0,Cs(t,n,{type:"box",ignoreSize:i})}var ZC=E,Zv=["width","height"],Kv=["x","y"],Jv=mk.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Jv.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new ZC),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ZC)},resetInner:function(){Jv.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i,o,a,s){var l=this;Jv.superCall(this,"renderInner",e,t,n,i,o,a,s);var u=this._controllerGroup,c=t.get("pageIconSize",!0);bt(c)||(c=[c,c]),h("pagePrev",0);var d=t.getModel("pageTextStyle");function h(m,y){var T=m+"DataIndex",H=Ul(t.get("pageIcons",!0)[t.getOrient().name][y],{onclick:dt(l._pageGo,l,T,t,i)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});H.name=m,u.add(H)}u.add(new Hi({name:"pageText",style:{textFill:d.getTextColor(),font:d.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),h("pageNext",1)},layoutInner:function(e,t,n,i,o,a){var s=this.getSelectorGroup(),l=e.getOrient().index,u=Zv[l],c=Kv[l],d=Zv[1-l],h=Kv[1-l];o&&ol("horizontal",s,e.get("selectorItemGap",!0));var m=e.get("selectorButtonGap",!0),y=s.getBoundingRect(),T=[-y.x,-y.y],H=K(n);o&&(H[u]=n[u]-y[u]-m);var R=this._layoutContentAndController(e,i,H,l,u,d,h);if(o){if("end"===a)T[l]+=R[u]+m;else{var $=y[u]+m;T[l]-=$,R[c]-=$}R[u]+=y[u]+m,T[1-l]+=R[h]+R[d]/2-y[d]/2,R[d]=Math.max(R[d],y[d]),R[h]=Math.min(R[h],y[h]+T[1-l]),s.attr("position",T)}return R},_layoutContentAndController:function(e,t,n,i,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;ol(e.get("orient"),l,e.get("itemGap"),i?n.width:null,i?null:n.height),ol("horizontal",c,e.get("pageButtonItemGap",!0));var d=l.getBoundingRect(),h=c.getBoundingRect(),m=this._showController=d[o]>n[o],y=[-d.x,-d.y];t||(y[i]=l.position[i]);var T=[0,0],H=[-h.x,-h.y],R=Zt(e.get("pageButtonGap",!0),e.get("itemGap",!0));m&&("end"===e.get("pageButtonPosition",!0)?H[i]+=n[o]-h[o]:T[i]+=h[o]+R),H[1-i]+=d[a]/2-h[a]/2,l.attr("position",y),u.attr("position",T),c.attr("position",H);var $={x:0,y:0};if($[o]=m?n[o]:d[o],$[a]=Math.max(d[a],h[a]),$[s]=Math.min(0,h[s]+H[1-i]),u.__rectSize=n[o],m){var se={x:0,y:0};se[o]=Math.max(n[o]-h[o]-R,0),se[a]=$[a],u.setClipPath(new er({shape:se})),u.__rectSize=se[o]}else c.eachChild(function(Se){Se.attr({invisible:!0,silent:!0})});var oe=this._getPageInfo(e);return null!=oe.pageIndex&&Ri(l,{position:oe.contentPosition},m&&e),this._updatePageInfoView(e,oe),$},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;ue(["pagePrev","pageNext"],function(u){var c=null!=t[u+"DataIndex"],d=n.childOfName(u);d&&(d.setStyle("fill",e.get(c?"pageIconColor":"pageIconInactiveColor",!0)),d.cursor=c?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),a=t.pageIndex,s=null!=a?a+1:0,l=t.pageCount;i&&o&&i.setStyle("text",Tt(o)?o.replace("{current}",s).replace("{total}",l):o({current:s,total:l}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=e.getOrient().index,a=Zv[o],s=Kv[o],l=this._findTargetItemIndex(t),u=n.children(),c=u[l],d=u.length,h=d?1:0,m={contentPosition:n.position.slice(),pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return m;var y=se(c);m.contentPosition[o]=-y.s;for(var T=l+1,H=y,R=y,$=null;T<=d;++T)(!($=se(u[T]))&&R.e>H.s+i||$&&!oe($,H.s))&&(H=R.i>H.i?R:$)&&(null==m.pageNextDataIndex&&(m.pageNextDataIndex=H.i),++m.pageCount),R=$;for(T=l-1,H=y,R=y,$=null;-1<=T;--T)($=se(u[T]))&&oe(R,$.s)||!(H.i<R.i)||(R=H,null==m.pagePrevDataIndex&&(m.pagePrevDataIndex=H.i),++m.pageCount,++m.pageIndex),H=$;return m;function se(Se){if(Se){var we=Se.getBoundingRect(),Te=we[s]+Se.position[o];return{s:Te,e:Te+we[a],i:Se.__legendDataIndex}}}function oe(Se,we){return Se.e>=we&&Se.s<=we+i}},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild(function(i,o){var a=i.__legendDataIndex;null==n&&null!=a&&(n=o),a===e&&(t=o)}),t??n):0;var t,n}});Yi("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})}),Cv.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var Df=er,El=Tr,Qv=nl,ds=dt,$v=ue,Zc="horizontal",KC="vertical",vk=["line","bar","candlestick","scatter"],e0=Tv.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this.api=t},render:function(e,t,n,i){e0.superApply(this,"render",arguments),$u(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){e0.superApply(this,"remove",arguments),_1(this,"_dispatchZoomAction")},dispose:function(){e0.superApply(this,"dispose",arguments),_1(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new E;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},o=this._orient===Zc?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=ql(e.option);ue(["right","top","width","height"],function(l){"ph"===a[l]&&(a[l]=o[l])});var s=Qr(a,i,e.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===KC&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),a=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==Zc||o?n===Zc&&o?{scale:s?[-1,1]:[-1,-1]}:n!==KC||o?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var l=e.getBoundingRect([a]);e.attr("position",[t.x-l.x,t.y-l.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this._size,n=this._displayables.barGroup;n.add(new Df({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),n.add(new Df({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:dt(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),o=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=o){var a=i.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l,u=[0,t[1]],d=[[t[0],0],[0,0]],h=[],m=t[0]/(i.count()-1),y=0,T=Math.round(i.count()/t[0]);i.each([o],function(R,$){if(0<T&&$%T)y+=m;else{var se=null==R||isNaN(R)||""===R,oe=se?0:El(R,a,u,!0);se&&!l&&$?(d.push([d[d.length-1][0],0]),h.push([h[h.length-1][0],0])):!se&&l&&(d.push([y,0]),h.push([y,0])),d.push([y,oe]),h.push([y,oe]),y+=m,l=se}});var H=this.dataZoomModel;this._displayables.barGroup.add(new $o({shape:{points:d},style:De({fill:H.get("dataBackgroundColor")},H.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new ya({shape:{points:h},style:H.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis(function(o,a){ue(e.getAxisProxy(o.name,a).getTargetSeriesModels(),function(s){if(!(n||!0!==t&&We(vk,s.get("type"))<0)){var l,u=i.getComponent(o.axis,a).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[o.name],d=s.coordinateSystem;null!=c&&d.getOtherAxis&&(l=d.getOtherAxis(u).inverse),c=s.getData().mapDimension(c),n={thisAxis:u,series:s,thisDim:o.name,otherDim:c,otherAxisInverse:l}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;i.add(e.filler=new Df({draggable:!0,cursor:JC(this._orient),drift:ds(this._onDragMove,this,"all"),ondragstart:ds(this._showDataInfo,this,!0),ondragend:ds(this._onDragEnd,this),onmouseover:ds(this._showDataInfo,this,!0),onmouseout:ds(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new Df({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),$v([0,1],function(s){var l=Ul(a.get("handleIcon"),{cursor:JC(this._orient),draggable:!0,drift:ds(this._onDragMove,this,s),ondragend:ds(this._onDragEnd,this),onmouseover:ds(this._showDataInfo,this,!0),onmouseout:ds(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),u=l.getBoundingRect();this._handleHeight=Kn(a.get("handleSize"),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,l.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(l.style.fill=c),i.add(t[s]=l);var d=a.textStyleModel;this.group.add(n[s]=new Hi({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:d.getTextColor(),textFont:d.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[El(e[0],[0,100],t,!0),El(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];xl(t,i,o,n.get("zoomLock")?"all":e,null!=a.minSpan?El(a.minSpan,s,o,!0):null,null!=a.maxSpan?El(a.maxSpan,s,o,!0):null);var l=this._range,u=this._range=Qv([El(i[0],o,s,!0),El(i[1],o,s,!0)]);return!l||l[0]!==u[0]||l[1]!==u[1]},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=Qv(n.slice()),o=this._size;$v([0,1],function(a){var l=this._handleHeight;t.handles[a].attr({scale:[l/2,l/2],position:[n[a],o[1]/2-l/2]})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,a=["",""];if(t.get("showDetail")){var s=t.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,c=e?s.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var d=Qv(this._handleEnds.slice());function h(m){var y=tl(n.handles[m].parent,this.group),T=gp(0===m?"right":"left",y),H=this._handleWidth/2+5,R=Wa([d[m]+(0===m?-H:H),this._size[1]/2],y);i[m].setStyle({x:R[0],y:R[1],textVerticalAlign:o===Zc?"middle":T,textAlign:o===Zc?T:"center",text:a[m]})}h.call(this,0),h.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var a=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(o,20));return on(i)?i(e,a):Tt(i)?i.replace("{value}",a):a},_showDataInfo:function(e){var t=this._displayables.handleLabels;t[0].attr("invisible",!(e=this._dragging||e)),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n,i){this._dragging=!0,ar(i.event);var o=Wa([t,n],this._displayables.barGroup.getLocalTransform(),!0),a=this._updateInterval(e,o[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),a&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,a=this._updateInterval("all",n[0]-(i[0]+i[1])/2);this._updateView(),a&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if($v(this.getTargetCoordInfo(),function(i){if(!e&&i.length){var o=i[0].model.coordinateSystem;e=o.getRect&&o.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});function JC(e){return"vertical"===e?"ns-resize":"ew-resize"}Cv.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var QC="\0_ec_dataZoom_roams";function $C(e){return e.type+"\0_"+e.id}function eT(e){var t=e.getZr();return t[QC]||(t[QC]={})}function tT(e){ue(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function bk(e,t){e.dispatchAction({type:"dataZoom",batch:t})}var xk=dt,nT=Tv.extend({type:"dataZoom.inside",init:function(e,t){},render:function(e,t,n,i){nT.superApply(this,"render",arguments),this._range=e.getPercentRange(),ue(this.getTargetCoordInfo(),function(o,a){var s=Re(o,function(l){return $C(l.model)});ue(o,function(l){var u=l.model,c={};ue(["pan","zoom","scrollMove"],function(d){c[d]=xk(_k[d],this,l,a)},this),function yk(e,t){var n=eT(e),i=t.dataZoomId,o=t.coordId;ue(n,function(l,u){var c=l.dataZoomInfos;c[i]&&We(t.allCoordIds,o)<0&&(delete c[i],l.count--)}),tT(n);var u,c,a=n[o];a||((a=n[o]={coordId:o,dataZoomInfos:{},count:0}).controller=(u=a,c=new cu(e.getZr()),ue(["pan","zoom","scrollMove"],function(d){c.on(d,function(h){var m=[];ue(u.dataZoomInfos,function(y){if(h.isAvailableBehavior(y.dataZoomModel.option)){var T=(y.getRange||{})[d],H=T&&T(u.controller,h);!y.dataZoomModel.get("disabled",!0)&&H&&m.push({dataZoomId:y.dataZoomId,start:H[0],end:H[1]})}}),m.length&&u.dispatchAction(m)})}),c),a.dispatchAction=Nt(bk,e)),a.dataZoomInfos[i]||a.count++,a.dataZoomInfos[i]=t;var s=function(l){var u,c={type_true:2,type_move:1,type_false:0,type_undefined:-1},d=!0;return ue(l,function(h){var m=h.dataZoomModel,y=!m.get("disabled",!0)&&(!m.get("zoomLock",!0)||"move");c["type_"+u]<c["type_"+y]&&(u=y),d&=m.get("preventDefaultMouseMove",!0)}),{controlType:u,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!d}}}(a.dataZoomInfos);a.controller.enable(s.controlType,s.opt),a.controller.setPointerChecker(t.containsPoint),$u(a,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")}(n,{coordId:$C(u),allCoordIds:s,containsPoint:function(d,h,m){return u.coordinateSystem.containPoint([h,m])},dataZoomId:e.id,dataZoomModel:e,getRange:c})},this)},this)},dispose:function(){(function(e,t){var n=eT(e);ue(n,function(i){i.controller.dispose();var o=i.dataZoomInfos;o[t]&&(delete o[t],i.count--)}),tT(n)})(this.api,this.dataZoomModel.id),nT.superApply(this,"dispose",arguments),this._range=null}}),_k={zoom:function(e,t,n,i){var o=this._range,a=o.slice(),s=e.axisModels[0];if(s){var l=t0[t](null,[i.originX,i.originY],s,n,e),u=(0<l.signal?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/i.scale,0);a[0]=(a[0]-u)*c+u,a[1]=(a[1]-u)*c+u;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return xl(0,a,[0,100],0,d.minSpan,d.maxSpan),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:iT(function(e,t,n,i,o,a){var s=t0[i]([a.oldX,a.oldY],[a.newX,a.newY],t,o,n);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:iT(function(e,t,n,i,o,a){return t0[i]([0,0],[a.scrollDelta,a.scrollDelta],t,o,n).signal*(e[1]-e[0])*a.scrollDelta})};function iT(e){return function(t,n,i,o){var a=this._range,s=a.slice(),l=t.axisModels[0];if(l)return xl(e(s,l,t,n,i,o),s,[0,100],"all"),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}function rT(e){var t=e&&e.visualMap;bt(t)||(t=t?[t]:[]),oT(t,function(n){if(n){Au(n,"splitList")&&!Au(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var i=n.pieces;i&&bt(i)&&oT(i,function(o){Pt(o)&&(Au(o,"start")&&!Au(o,"min")&&(o.min=o.start),Au(o,"end")&&!Au(o,"max")&&(o.max=o.end))})}})}var t0={grid:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===a.dim?(s.pixel=t[0]-e[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=a.inverse?-1:1),s},polar:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),c=l.getAngleAxis().getExtent();return e=e?l.pointToCoord(e):[0,0],t=l.pointToCoord(t),"radiusAxis"===n.mainType?(s.pixel=t[0]-e[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=a.inverse?-1:1),s},singleAxis:function(e,t,n,i,o){var a=n.axis,s=o.model.coordinateSystem.getRect(),l={};return e=e||[0,0],"horizontal"===a.orient?(l.pixel=t[0]-e[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=a.inverse?1:-1):(l.pixel=t[1]-e[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=a.inverse?-1:1),l}},oT=ue;function Au(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}tr.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?0<e.pieces.length:0<e.splitNumber)&&!e.calculable?"piecewise":"continuous"});var aT=Ua.VISUAL.COMPONENT;function wk(e,t,n,i){for(var o=t.targetVisuals[i],a=fr.prepareVisualTypes(o),s={color:e.getData().getVisual("color")},l=0,u=a.length;l<u;l++){var c=a[l],d=o["opacity"===c?"__alphaForOpacity":c];d&&d.applyVisual(n,h,m)}return s.color;function h(y){return s[y]}function m(y,T){s[y]=T}}_r(aT,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(i){var o=e.pipelineContext;!i.isTargetSeries(e)||o&&o.large||n.push(function(a,s,l,u){var c={};return ue(a,function(d){var h=fr.prepareVisualTypes(s[d]);c[d]=h}),{progress:function(d,h){function m(Me){return h.getItemVisual(T,Me)}function y(Me,Pe){h.setItemVisual(T,Me,Pe)}var T;for(null!=u&&(u=h.getDimension(u));null!=(T=d.next());){var H=h.getRawDataItem(T);if(!H||!1!==H.visualMap)for(var R=null!=u?h.get(u,T,!0):T,$=l(R),se=s[$],oe=c[$],Se=0,we=oe.length;Se<we;Se++){var Te=oe[Se];se[Te]&&se[Te].applyVisual(R,m,y)}}}}}(i.stateList,i.targetVisuals,dt(i.getValueState,i),i.getDataDimension(e.getData())))}),n}}),_r(aT,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(e)){var a=o.getVisualMeta(dt(wk,null,e,o))||{stops:[],outerColors:[]},s=o.getDataDimension(n),l=n.getDimensionInfo(s);null!=l&&(a.dimension=l.index,i.push(a))}}),e.getData().setVisual("visualMeta",i)}});var n0=function(e,t,n){var i=K((Sk[e]||{})[t]);return n&&bt(i)?i[i.length-1]:i},Sk={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},sT=fr.mapVisual,Ck=fr.eachVisual,Tk=bt,i0=ue,Dk=nl,Ak=Tr,Af=ca({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;ve.canvasSupported||(n.realtime=!1),t||_C(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=dt(e,this),this.controllerVisuals=Ev(this.option.controller,t,e),this.targetVisuals=Ev(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=Ao(e),t},eachTargetSeries:function(e,t){ue(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){var i,o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;return n=n||["<",">"],bt(e)&&(e=e.slice(),i=!0),o=t?e:i?[c(e[0]),c(e[1])]:c(e),Tt(u)?u.replace("{value}",i?o[0]:o).replace("{value2}",i?o[1]:o):on(u)?i?u(e[0],e[1]):u(e):i?e[0]===l[0]?n[0]+" "+o[1]:e[1]===l[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o;function c(d){return d===l[0]?"min":d===l[1]?"max":(+d).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=Dk([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;if(null!=t||e.dimensions.length){if(null!=t)return e.getDimension(t);for(var i=e.dimensions,o=i.length-1;0<=o;o--){var a=i[o];if(!e.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),o=t.controller||(t.controller={});de(i,n),de(o,n);var a=this.isCategory();function s(l){Tk(t.color)&&!l.inRange&&(l.inRange={color:t.color.slice().reverse()}),l.inRange=l.inRange||{color:e.get("gradientColor")},i0(this.stateList,function(u){var c=l[u];if(Tt(c)){var d=n0(c,"active",a);d?(l[u]={},l[u][c]=d):delete l[u]}},this)}s.call(this,i),s.call(this,o),function(l,u,c){var d=l[u],h=l[c];d&&!h&&(h=l[c]={},i0(d,function(m,y){if(fr.isValidType(y)){var T=n0(y,"inactive",a);null!=T&&(h[y]=T,"color"!==y||h.hasOwnProperty("opacity")||h.hasOwnProperty("colorAlpha")||(h.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(l){var u=(l.inRange||{}).symbol||(l.outOfRange||{}).symbol,c=(l.inRange||{}).symbolSize||(l.outOfRange||{}).symbolSize,d=this.get("inactiveColor");i0(this.stateList,function(h){var m=this.itemSize,y=l[h];null==(y=y||(l[h]={color:a?d:[d]})).symbol&&(y.symbol=u&&K(u)||(a?"roundRect":["roundRect"])),null==y.symbolSize&&(y.symbolSize=c&&K(c)||(a?m[0]:[m[0],m[0]])),y.symbol=sT(y.symbol,function(R){return"none"===R||"square"===R?"roundRect":R});var T=y.symbolSize;if(null!=T){var H=-1/0;Ck(T,function(R){H<R&&(H=R)}),y.symbolSize=sT(T,function(R){return Ak(R,[0,H],[0,m[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:gn,getValueState:gn,getVisualMeta:gn}),lT=[20,140],uT=Af.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){uT.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){uT.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),null!=e[0]&&!isNaN(e[0])||(e[0]=lT[0]),null!=e[1]&&!isNaN(e[1])||(e[1]=lT[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):bt(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){Af.prototype.completeVisualOption.apply(this,arguments),ue(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=nl((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){e[0]<=a&&a<=e[1]&&i.push(s)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){var t=cT(0,0,this.getExtent()),n=cT(0,0,this.option.range.slice()),i=[];function o(h,m){i.push({value:h,color:e(h,m)})}for(var a=0,s=0,l=n.length,u=t.length;s<u&&(!n.length||t[s]<=n[0]);s++)t[s]<n[a]&&o(t[s],"outOfRange");for(var c=1;a<l;a++,c=0)c&&i.length&&o(n[a],"outOfRange"),o(n[a],"inRange");for(c=1;s<u;s++)(!n.length||n[n.length-1]<t[s])&&(c&&(i.length&&o(i[i.length-1].value,"outOfRange"),c=0),o(t[s],"outOfRange"));var d=i.length;return{stops:i,outerColors:[d?i[0].color:"transparent",d?i[d-1].color:"transparent"]}}});function cT(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,o=n[0],a=[],s=0;s<=200&&o<n[1];s++)a.push(o),o+=i;return a.push(n[1]),a}var dT=po({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t},render:function(e,t,n,i){!1!==(this.visualMapModel=e).get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=il(t.get("padding")||0),i=e.getBoundingRect();e.add(new er({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){var i=(n=n||{}).forceState,o=this.visualMapModel,a={};if("symbol"===t&&(a.symbol=o.get("itemSymbol")),"color"===t){var s=o.get("contentColor");a.color=s}function l(d){return a[d]}function u(d,h){a[d]=h}var c=o.controllerVisuals[i||o.getValueState(e)];return ue(fr.prepareVisualTypes(c),function(d){var h=c[d];n.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",h=c.__alphaForOpacity),fr.dependsOn(d,t)&&h&&h.applyVisual(e,l,u)}),a[t]},positionGroup:function(e){var n=this.api;Wd(e,this.visualMapModel.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:gn});function hT(e,t,n){var i=e.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={width:t.getWidth(),height:t.getHeight()},s="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],d={},h=0;h<3;h++)d[l[1-s][h]]=c[h],d[u[h]]=2===h?n[0]:i[u[h]];var m=[["x","width",3],["y","height",0]][s],y=Qr(d,a,i.padding);return u[(y.margin[m[2]]||0)+y[m[0]]+.5*y[m[1]]<.5*a[m[1]]?0:1]}function Mf(e,t){return ue(e||[],function(n){null!=n.dataIndex&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var hs=Tr,Mk=ue,If=Math.min,Kc=Math.max,Ik=dT.extend({type:"visualMap.continuous",init:function(){Ik.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var o=this.visualMapModel,a=o.get("textGap"),s=o.itemSize,l=this._shapes.barGroup,u=this._applyTransform([s[0]/2,0===n?-a:s[1]+a],l),c=this._applyTransform(0===n?"bottom":"top",l),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Hi({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:i,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,o=this._orient,a=this._useHandle,s=hT(t,this.api,i),l=n.barGroup=this._createBarGroup(s);l.add(n.outOfRange=kf()),l.add(n.inRange=kf(null,a?pT(this._orient):null,dt(this._dragHandle,this,"all",!1),dt(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("\u56fd"),c=Kc(u.width,u.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(l,0,i,c,o,s),this._createHandle(l,1,i,c,o,s)),this._createIndicator(l,i,c,o),e.add(l)},_createHandle:function(e,t,n,i,o){var y,a=dt(this._dragHandle,this,t,!1),s=dt(this._dragHandle,this,t,!0),l=kf((y=i,0===t?[[0,0],[y,0],[y,-y]]:[[0,0],[y,0],[y,y]]),pT(this._orient),a,s);l.position[0]=n[0],e.add(l);var u=this.visualMapModel.textStyleModel,c=new Hi({draggable:!0,drift:a,onmousemove:function(m){ar(m.event)},ondragend:s,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(c);var d=["horizontal"===o?i/2:1.5*i,"horizontal"===o?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],h=this._shapes;h.handleThumbs[t]=l,h.handleLabelPoints[t]=d,h.handleLabels[t]=c},_createIndicator:function(e,t,n,i){var o=kf([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var a=this.visualMapModel.textStyleModel,s=new Hi({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(s);var l=["horizontal"===i?n/2:9,0],u=this._shapes;u.indicator=o,u.indicatorLabel=s,u.indicatorLabelPoint=l},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,o[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?this._hovering||this._clearHoverLinkToSeries():fT(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[hs(t[0],n,i,!0),hs(t[1],n,i,!0)]},_updateInterval:function(e,t){var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];xl(t=t||0,i,o,e,0);var a=n.getExtent();this._dataInterval=[hs(i[0],o,a,!0),hs(i[1],o,a,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,o=[0,t.itemSize[1]],a=e?o:this._handleEnds,s=this._createBarVisual(this._dataInterval,n,a,"inRange"),l=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),i.outOfRange.setStyle({fill:l.barColor,opacity:l.opacity}).setShape("points",l.barPoints),this._updateHandle(a,s)},_createBarVisual:function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,o),s=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],l=this._createBarPoints(n,s);return{barColor:new $s(0,0,0,1,a),barPoints:l,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var a=e[0]+i*o;if(a>e[1])break;n.push({color:this.getControllerVisual(a,"color",t),offset:o/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new E("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,a=n.handleLabels;Mk([0,1],function(s){var l=o[s];l.setStyle("fill",t.handlesColor[s]),l.position[1]=e[s];var u=Wa(n.handleLabelPoints[s],tl(l,this.group));a[s].setStyle({x:u[0],y:u[1],text:i.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var $,se,oe,o=this.visualMapModel,a=o.getExtent(),s=o.itemSize,u=hs(e,a,[0,s[1]],!0),c=this._shapes,d=c.indicator;if(d){d.position[1]=u,d.attr("invisible",!1),d.setShape("points",($=i,se=u,oe=s[1],n?[[0,-If($,Kc(se,0))],[6,0],[0,If($,Kc(oe-se,0))]]:[[0,0],[5,-5],[5,5]]));var h=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});d.setStyle("fill",h);var m=Wa(c.indicatorLabelPoint,tl(d,this.group)),y=c.indicatorLabel;y.attr("invisible",!1);var T=this._applyTransform("left",c.barGroup),H=this._orient;y.setStyle({text:(n||"")+o.formatValueText(t),textVerticalAlign:"horizontal"===H?T:"middle",textAlign:"horizontal"===H?"center":T,x:m[0],y:m[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=If(Kc(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,e._dragging||e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var T,H,R,$,n=this.visualMapModel;if(n.option.hoverLink){var o=[0,n.itemSize[1]],a=n.getExtent();e=If(Kc(o[0],e),o[1]);var s=(T=a,H=o,R=6,($=n.get("hoverLinkDataSize"))&&(R=hs($,T,H,!0)/2),R),l=[e-s,e+s],u=hs(e,o,a,!0),c=[hs(l[0],o,a,!0),hs(l[1],o,a,!0)];l[0]<o[0]&&(c[0]=-1/0),o[1]<l[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(u,c[1],"< ",s):c[1]===1/0?this._showIndicator(u,c[0],"> ",s):this._showIndicator(u,u,"\u2248 ",s));var d=this._hoverLinkDataIndices,h=[];(t||fT(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var m=function(y,T){var H={},R={};return $(y||[],H),$(T||[],R,H),[se(H),se(R)];function $(oe,Se,we){for(var Te=0,Me=oe.length;Te<Me;Te++)for(var Pe=oe[Te].seriesId,Ke=Ao(oe[Te].dataIndex),it=we&&we[Pe],lt=0,mt=Ke.length;lt<mt;lt++){var vt=Ke[lt];it&&it[vt]?it[vt]=null:(Se[Pe]||(Se[Pe]={}))[vt]=1}}function se(oe,Se){var we=[];for(var Te in oe)if(oe.hasOwnProperty(Te)&&null!=oe[Te])if(Se)we.push(+Te);else{var Me=se(oe[Te],!0);Me.length&&we.push({seriesId:Te,dataIndex:Me})}return we}}(d,h);this._dispatchHighDown("downplay",Mf(m[0],n)),this._dispatchHighDown("highlight",Mf(m[1],n))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var o=i.getData(t.dataType),a=o.get(n.getDataDimension(o),t.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Mf(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var o=tl(t,i?null:this.group);return ts[bt(e)?"applyTransform":"transformDirection"](e,o,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function kf(e,t,n,i){return new $o({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(o){ar(o.event)},ondragend:i})}function fT(e){return!!(e.get("hoverLinkOnHandle")??e.get("realtime"))}function pT(e){return"vertical"===e?"ns-resize":"ew-resize"}Yi({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})}),ko(rT);var kk=Af.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){kk.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();Ek[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(o,a){"categories"===n?(o.mappingMethod="category",o.categories=K(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Re(this._pieceList,function(s){return s=K(s),"inRange"!==a&&(s.visual=null),s}))})},completeVisualOption:function(){var e=this.option,t={},n=fr.listVisualTypes(),i=this.isCategory();function o(a,s,l){return a&&a[s]&&(Pt(a[s])?a[s].hasOwnProperty(l):a[s]===l)}ue(e.pieces,function(a){ue(n,function(s){a.hasOwnProperty(s)&&(t[s]=1)})}),ue(t,function(a,s){var l=0;ue(this.stateList,function(u){l|=o(e,u,s)||o(e.target,u,s)},this),l||ue(this.stateList,function(u){(e[u]||(e[u]={}))[s]=n0(s,"inRange"===u?"active":"inactive",i)})},this),Af.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,ue(i,function(s,l){var u=this.getSelectedMapKey(s);o.hasOwnProperty(u)||(o[u]=!0)},this),"single"===n.selectedMode){var a=!1;ue(i,function(s,l){var u=this.getSelectedMapKey(s);o[u]&&(a?o[u]=!1:a=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&0<e.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=K(e)},getValueState:function(e){var t=fr.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){fr.findPieceIndex(a,this._pieceList)===e&&i.push(s)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],n=[],i=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return ue(o,function(u){var c=u.interval;c&&(c[0]>s&&l([s,c[0]],"outOfRange"),l(c.slice()),s=c[1])},this),{stops:t,outerColors:n}}function l(u,c){var d=i.getRepresentValue({interval:u});c=c||i.getValueState(d);var h=e(d,c);u[0]===-1/0?n[0]=h:u[1]===1/0?n[1]=h:t.push({value:u[0],color:h},{value:u[1],color:h})}}}),Ek={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,l=i[0];s<o;l+=a,s++)t.push({interval:[l,s===o-1?i[1]:l+a],close:[1,1]});e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Sp(t),ue(t,function(c,d){c.index=d,c.text=this.formatValueText(c.interval)},this)},categories:function(){var e=this.option;ue(e.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),gT(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;ue(e.pieces,function(n,i){Pt(n)||(n={value:n});var o={text:"",index:i};if(null!=n.label&&(o.text=n.label),n.hasOwnProperty("value")){var a=o.value=n.value;o.interval=[a,a],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],u=[1,0,1],c=[-1/0,1/0],d=[],h=0;h<2;h++){for(var m=[["gte","gt","min"],["lte","lt","max"]][h],y=0;y<3&&null==s[h];y++)s[h]=n[m[y]],l[h]=u[y],d[h]=2===y;null==s[h]&&(s[h]=c[h])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=fr.retrieveVisuals(n),t.push(o)},this),gT(e,t),Sp(t),ue(t,function(n){var i=n.close;n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function gT(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}dT.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),a=i.getTextColor(),s=this._getItemAlign(),l=t.itemSize,u=this._getViewData(),c=u.endsText,d=Mn(t.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],l,d,s),ue(u.viewPieceList,function(h){var m=h.piece,y=new E;y.onclick=dt(this._onItemClick,this,m),this._enableHoverLink(y,h.indexInModelPieceList);var T=t.getRepresentValue(m);if(this._createItemSymbol(y,T,[0,0,l[0],l[1]]),d){var H=this.visualMapModel.getValueState(T);y.add(new Hi({style:{x:"right"===s?-n:l[0]+n,y:l[1]/2,text:m.text,textVerticalAlign:"middle",textAlign:s,textFont:o,textFill:a,opacity:"outOfRange"===H?.5:1}}))}e.add(y)},this),c&&this._renderEndsText(e,c[1],l,d,s),ol(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(i){var o=this.visualMapModel;o.option.hoverLink&&this.api.dispatchAction({type:i,batch:Mf(o.findTargetDataIndices(t),o)})}e.on("mouseover",dt(n,this,"highlight")).on("mouseout",dt(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return hT(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,i,o){if(t){var a=new E,s=this.visualMapModel.textStyleModel;a.add(new Hi({style:{x:i?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?o:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(a)}},_getViewData:function(){var e=this.visualMapModel,t=Re(e.getPieceList(),function(a,s){return{piece:a,indexInModelPieceList:s}}),n=e.get("text"),i=e.get("orient"),o=e.get("inverse");return("horizontal"===i?o:!o)?t.reverse():n=n&&n.slice().reverse(),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(da(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=K(n.selected),o=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[o]=!0,ue(i,function(a,s){i[s]=s===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),ko(rT);var r0,mT="urn:schemas-microsoft-com:vml",vT=typeof window>"u"?null:window,yT=!1,pa=vT&&vT.document;function o0(e){return r0(e)}if(pa&&!ve.canvasSupported)try{pa.namespaces.zrvml||pa.namespaces.add("zrvml",mT),r0=function(e){return pa.createElement("<zrvml:"+e+' class="zrvml">')}}catch{r0=function(t){return pa.createElement("<"+t+' xmlns="'+mT+'" class="zrvml">')}}var bT,Nl=Qo.CMD,cr=Math.round,Jc=Math.sqrt,Nk=Math.abs,xT=Math.cos,_T=Math.sin,a0=Math.max;if(!ve.canvasSupported){var no=",",s0="progid:DXImageTransform.Microsoft",mo=21600,ia=mo/2,l0=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=mo+","+mo,e.coordorigin="0,0"},wT=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},Qa=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},Qc=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},u0=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},ST=ei,CT=function(e,t,n){var i=mr(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=wT(i[0],i[1],i[2]),e.opacity=n*i[3])},Ef=function(e,t,n,i){var s,l,o="fill"===t,a=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(o||!o&&n.lineWidth)?(e[o?"filled":"stroked"]="true",n[t]instanceof Ha&&Qc(e,a),a=a||o0(t),o?function(s,l,u){var d,h=l.fill;if(null!=h)if(h instanceof Ha){var m,y=0,T=[0,0],H=0,R=1,$=u.getBoundingRect(),se=$.width,oe=$.height;if("linear"===h.type){m="gradient";var Se=u.transform,we=[h.x*se,h.y*oe],Te=[h.x2*se,h.y2*oe];Se&&(Mi(we,we,Se),Mi(Te,Te,Se)),(y=180*Math.atan2(Te[0]-we[0],Te[1]-we[1])/Math.PI)<0&&(y+=360),y<1e-6&&(y=0)}else{m="gradientradial";var Ke=u.scale,it=se,lt=oe;T=[((we=[h.x*se,h.y*oe])[0]-$.x)/it,(we[1]-$.y)/lt],(Se=u.transform)&&Mi(we,we,Se);var mt=a0(it/=Ke[0]*mo,lt/=Ke[1]*mo);R=2*h.r/mt-(H=0/mt)}var vt=h.colorStops.slice();vt.sort(function(fi,En){return fi.offset-En.offset});for(var wt=vt.length,Et=[],Rt=[],It=0;It<wt;It++){var Gt=vt[It],bn=(d=mr(Gt.color),[wT(d[0],d[1],d[2]),d[3]]);Rt.push(Gt.offset*R+H+" "+bn[0]),0!==It&&It!==wt-1||Et.push(bn)}if(2<=wt){var Cn=Et[0][0],pn=Et[1][0],zn=Et[0][1]*l.opacity,Zn=Et[1][1]*l.opacity;s.type=m,s.method="none",s.focus="100%",s.angle=y,s.color=Cn,s.color2=pn,s.colors=Rt.join(","),s.opacity=Zn,s.opacity2=zn}"radial"===m&&(s.focusposition=T.join(","))}else CT(s,h,l.opacity)}(a,n,i):(s=a,(l=n).lineDash&&(s.dashstyle=l.lineDash.join(" ")),null==l.stroke||l.stroke instanceof Ha||CT(s,l.stroke,l.opacity)),Qa(e,a)):(e[o?"filled":"stroked"]="false",Qc(e,a))},ga=[[],[],[]];Gi.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=o0("shape"),l0(n),this._vmlEl=n),Ef(n,"fill",t,this),Ef(n,"stroke",t,this);var i=this.transform,o=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var s=t.lineWidth;o&&!t.strokeNoScale&&(s*=Jc(Nk(i[0]*i[3]-i[1]*i[2]))),a.weight=s+"px"}var u=this.path||(this.path=new Qo);this.__dirtyPath&&(u.beginPath(),u.subPixelOptimize=!1,this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=function(c,d){var h,m,y,T,H,R,$=Nl.M,se=Nl.C,oe=Nl.L,Se=Nl.A,we=Nl.Q,Te=[],Me=c.data,Pe=c.len();for(T=0;T<Pe;){switch(m="",h=0,y=Me[T++]){case $:m=" m ",h=1,H=Me[T++],R=Me[T++],ga[0][0]=H,ga[0][1]=R;break;case oe:m=" l ",h=1,H=Me[T++],R=Me[T++],ga[0][0]=H,ga[0][1]=R;break;case we:case se:m=" c ",h=3;var Ke,it,lt=Me[T++],mt=Me[T++],vt=Me[T++],wt=Me[T++];y===we?(vt=((Ke=vt)+2*lt)/3,wt=((it=wt)+2*mt)/3,lt=(H+2*lt)/3,mt=(R+2*mt)/3):(Ke=Me[T++],it=Me[T++]),ga[0][0]=lt,ga[0][1]=mt,ga[1][0]=vt,ga[1][1]=wt,H=ga[2][0]=Ke,R=ga[2][1]=it;break;case Se:var Et=0,Rt=0,It=1,Gt=1,bn=0;d&&(Et=d[4],Rt=d[5],It=Jc(d[0]*d[0]+d[1]*d[1]),Gt=Jc(d[2]*d[2]+d[3]*d[3]),bn=Math.atan2(-d[1]/Gt,d[0]/It));var Cn=Me[T++],pn=Me[T++],zn=Me[T++],Zn=Me[T++],fi=Me[T++]+bn,En=Me[T++]+fi+bn;T++;var ci=Me[T++],pi=Cn+xT(fi)*zn,Si=pn+_T(fi)*Zn,rr=(lt=Cn+xT(En)*zn,mt=pn+_T(En)*Zn,ci?" wa ":" at ");Math.abs(pi-lt)<1e-4&&(.01<Math.abs(En-fi)?ci&&(pi+=.0125):Math.abs(Si-pn)<1e-4?ci&&pi<Cn||!ci&&Cn<pi?mt-=.0125:mt+=.0125:ci&&Si<pn||!ci&&pn<Si?lt+=.0125:lt-=.0125),Te.push(rr,cr(((Cn-zn)*It+Et)*mo-ia),no,cr(((pn-Zn)*Gt+Rt)*mo-ia),no,cr(((Cn+zn)*It+Et)*mo-ia),no,cr(((pn+Zn)*Gt+Rt)*mo-ia),no,cr((pi*It+Et)*mo-ia),no,cr((Si*Gt+Rt)*mo-ia),no,cr((lt*It+Et)*mo-ia),no,cr((mt*Gt+Rt)*mo-ia)),H=lt,R=mt;break;case Nl.R:var Xi=ga[0],dr=ga[1];Xi[0]=Me[T++],Xi[1]=Me[T++],dr[0]=Xi[0]+Me[T++],dr[1]=Xi[1]+Me[T++],d&&(Mi(Xi,Xi,d),Mi(dr,dr,d)),Xi[0]=cr(Xi[0]*mo-ia),dr[0]=cr(dr[0]*mo-ia),Xi[1]=cr(Xi[1]*mo-ia),dr[1]=cr(dr[1]*mo-ia),Te.push(" m ",Xi[0],no,Xi[1]," l ",dr[0],no,Xi[1]," l ",dr[0],no,dr[1]," l ",Xi[0],no,dr[1]);break;case Nl.Z:Te.push(" x ")}if(0<h){Te.push(m);for(var Go=0;Go<h;Go++){var Fo=ga[Go];d&&Mi(Fo,Fo,d),Te.push(cr(Fo[0]*mo-ia),no,cr(Fo[1]*mo-ia),Go<h-1?no:"")}}}return Te.join("")}(u,this.transform),n.style.zIndex=u0(this.zlevel,this.z,this.z2),Qa(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},Gi.prototype.onRemove=function(e){Qc(e,this._vmlEl),this.removeRectText(e)},Gi.prototype.onAdd=function(e){Qa(e,this._vmlEl),this.appendRectText(e)},ji.prototype.brushVML=function(e){var t,n,Zn,i=this.style,o=i.image;if("object"==typeof(Zn=o)&&Zn.tagName&&"IMG"===Zn.tagName.toUpperCase()){var a=o.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,u=s.height;s.width="auto",s.height="auto",t=o.width,n=o.height,s.width=l,s.height=u,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}o=a}else o===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(o){var c=i.x||0,d=i.y||0,h=i.width,m=i.height,y=i.sWidth,T=i.sHeight,H=i.sx||0,R=i.sy||0,$=y&&T,se=this._vmlEl;se||(se=pa.createElement("div"),l0(se),this._vmlEl=se);var oe,Se=se.style,we=!1,Te=1,Me=1;if(this.transform&&(Te=Jc((oe=this.transform)[0]*oe[0]+oe[1]*oe[1]),Me=Jc(oe[2]*oe[2]+oe[3]*oe[3]),we=oe[1]||oe[2]),we){var Pe=[c,d],Ke=[c+h,d],it=[c,d+m],lt=[c+h,d+m];Mi(Pe,Pe,oe),Mi(Ke,Ke,oe),Mi(it,it,oe),Mi(lt,lt,oe);var mt=a0(Pe[0],Ke[0],it[0],lt[0]),vt=a0(Pe[1],Ke[1],it[1],lt[1]),wt=[];wt.push("M11=",oe[0]/Te,no,"M12=",oe[2]/Me,no,"M21=",oe[1]/Te,no,"M22=",oe[3]/Me,no,"Dx=",cr(c*Te+oe[4]),no,"Dy=",cr(d*Me+oe[5])),Se.padding="0 "+cr(mt)+"px "+cr(vt)+"px 0",Se.filter=s0+".Matrix("+wt.join("")+", SizingMethod=clip)"}else oe&&(c=c*Te+oe[4],d=d*Me+oe[5]),Se.filter="",Se.left=cr(c)+"px",Se.top=cr(d)+"px";var Et=this._imageEl,Rt=this._cropEl;Et||(Et=pa.createElement("div"),this._imageEl=Et);var It=Et.style;if($){if(t&&n)It.width=cr(Te*t*h/y)+"px",It.height=cr(Me*n*m/T)+"px";else{var Gt=new Image,bn=this;Gt.onload=function(){Gt.onload=null,n=Gt.height,It.width=cr(Te*(t=Gt.width)*h/y)+"px",It.height=cr(Me*n*m/T)+"px",bn._imageWidth=t,bn._imageHeight=n,bn._imageSrc=o},Gt.src=o}Rt||((Rt=pa.createElement("div")).style.overflow="hidden",this._cropEl=Rt);var Cn=Rt.style;Cn.width=cr((h+H*h/y)*Te),Cn.height=cr((m+R*m/T)*Me),Cn.filter=s0+".Matrix(Dx="+-H*h/y*Te+",Dy="+-R*m/T*Me+")",Rt.parentNode||se.appendChild(Rt),Et.parentNode!==Rt&&Rt.appendChild(Et)}else It.width=cr(Te*h)+"px",It.height=cr(Me*m)+"px",se.appendChild(Et),Rt&&Rt.parentNode&&(se.removeChild(Rt),this._cropEl=null);var pn="",zn=i.opacity;zn<1&&(pn+=".Alpha(opacity="+cr(100*zn)+") "),It.filter=pn+=s0+".AlphaImageLoader(src="+o+", SizingMethod=scale)",se.style.zIndex=u0(this.zlevel,this.z,this.z2),Qa(e,se),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},ji.prototype.onRemove=function(e){Qc(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},ji.prototype.onAdd=function(e){Qa(e,this._vmlEl),this.appendRectText(e)};var Ll,c0="normal",d0={},h0=0,Lk=document.createElement("div");bT=function(e,t){var n=pa;Ll||((Ll=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",pa.body.appendChild(Ll));try{Ll.style.font=t}catch{}return Ll.innerHTML="",Ll.appendChild(n.createTextNode(e)),{width:Ll.offsetWidth}},Hn.measureText=bT;for(var f0=new A,Rk=function(e,t,n,i){var o=this.style;this.__dirty&&gt(o);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var s=Fn(a,o);a=[];for(var l=0;l<s.lines.length;l++){for(var u=s.lines[l].tokens,c=[],d=0;d<u.length;d++)c.push(u[d].text);a.push(c.join(""))}a=a.join("\n")}var h,m,y=o.textAlign,T=o.textVerticalAlign,H=function(lt){var mt=d0[lt];if(!mt){100<h0&&(h0=0,d0={});var vt,wt=Lk.style;try{wt.font=lt,vt=wt.fontFamily.split(",")[0]}catch{}mt={style:wt.fontStyle||c0,variant:wt.fontVariant||c0,weight:wt.fontWeight||c0,size:0|parseFloat(wt.fontSize||12),family:vt||"Microsoft YaHei"},d0[lt]=mt,h0++}return mt}(o.font),R=H.style+" "+H.variant+" "+H.weight+" "+H.size+'px "'+H.family+'"';n=n||Yn(a,R,y,T,o.textPadding,o.textLineHeight);var $=this.transform;if($&&!i&&(f0.copy(t),f0.applyTransform($),t=f0),i)h=t.x,m=t.y;else{var se=o.textPosition;if(se instanceof Array)h=t.x+ST(se[0],t.width),m=t.y+ST(se[1],t.height),y=y||"left";else{var oe=this.calculateTextPosition?this.calculateTextPosition({},o,t):ii({},o,t);h=oe.x,m=oe.y,y=y||oe.textAlign,T=T||oe.textVerticalAlign}}h=Vn(h,n.width,y),m=vi(m,n.height,T),m+=n.height/2;var Se,we,Te,Me=o0,Pe=this._textVmlEl;Pe?we=(Se=(Te=Pe.firstChild).nextSibling).nextSibling:(Pe=Me("line"),Se=Me("path"),we=Me("textpath"),Te=Me("skew"),we.style["v-text-align"]="left",l0(Pe),Se.textpathok=!0,we.on=!0,Pe.from="0 0",Pe.to="1000 0.05",Qa(Pe,Te),Qa(Pe,Se),Qa(Pe,we),this._textVmlEl=Pe);var Ke=[h,m],it=Pe.style;$&&i?(Mi(Ke,Ke,$),Te.on=!0,Te.matrix=$[0].toFixed(3)+no+$[2].toFixed(3)+no+$[1].toFixed(3)+no+$[3].toFixed(3)+",0,0",Te.offset=(cr(Ke[0])||0)+","+(cr(Ke[1])||0),Te.origin="0 0",it.left="0px",it.top="0px"):(Te.on=!1,it.left=cr(h)+"px",it.top=cr(m)+"px"),we.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{we.style.font=R}catch{}Ef(Pe,"fill",{fill:o.textFill,opacity:o.opacity},this),Ef(Pe,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash||null},this),Pe.style.zIndex=u0(this.zlevel,this.z,this.z2),Qa(e,Pe)}},Pk=function(e){Qc(e,this._textVmlEl),this._textVmlEl=null},Ok=function(e){Qa(e,this._textVmlEl)},TT=[Pi,Ei,ji,Gi,Hi],p0=0;p0<TT.length;p0++){var g0=TT[p0].prototype;g0.drawRectText=Rk,g0.removeRectText=Pk,g0.appendRectText=Ok}Hi.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},Hi.prototype.onRemove=function(e){this.removeRectText(e)},Hi.prototype.onAdd=function(e){this.appendRectText(e)}}function Mu(e){return parseInt(e,10)}function Nf(e,t){(function(){if(!yT&&pa){yT=!0;var s=pa.styleSheets;s.length<31?pa.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):s[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var o=t.delFromStorage,a=t.addToStorage;t.delFromStorage=function(s){o.call(t,s),s&&s.onRemove&&s.onRemove(i)},t.addToStorage=function(s){s.onAdd&&s.onAdd(i),a.call(t,s)},this._firstPaint=!0}function $a(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}Nf.prototype={constructor:Nf,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){if(e=e??this._getWidth(),t=t??this._getHeight(),this._width!==e||this._height!==t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||Mu(t.width))-Mu(t.paddingLeft)-Mu(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||Mu(t.height))-Mu(t.paddingTop)-Mu(t.paddingBottom)|0}},ue(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){Nf.prototype[e]=function(){}}),Yf("vml",Nf);var Rl=Qo.CMD,Bk=Array.prototype.join,Iu="none",m0=Math.round,DT=Math.sin,AT=Math.cos,MT=Math.PI,Us=2*Math.PI,zk=180/MT,IT=1e-4;function Ra(e){return m0(1e4*e)/1e4}function kT(e){return e<IT&&-IT<e}function v0(e,t){t&&zr(e,"transform","matrix("+Bk.call(t,",")+")")}function zr(e,t,n){n&&("linear"===n.type||"radial"===n.type)||e.setAttribute(t,n)}function ET(e,t,n,i){if(s=t,null!=(u=n?s.textFill:s.fill)&&u!==Iu){var o=n?t.textFill:t.fill;zr(e,"fill",o="transparent"===o?Iu:o),zr(e,"fill-opacity",null!=t.fillOpacity?t.fillOpacity*t.opacity:t.opacity)}else zr(e,"fill",Iu);var s,u;if(function(s,l){var u=l?s.textStroke:s.stroke;return null!=u&&u!==Iu}(t,n)){var a=n?t.textStroke:t.stroke;zr(e,"stroke",a="transparent"===a?Iu:a),zr(e,"stroke-width",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?i.getLineScale():1)),zr(e,"paint-order",n?"stroke":"fill"),zr(e,"stroke-opacity",null!=t.strokeOpacity?t.strokeOpacity:t.opacity),t.lineDash?(zr(e,"stroke-dasharray",t.lineDash.join(",")),zr(e,"stroke-dashoffset",m0(t.lineDashOffset||0))):zr(e,"stroke-dasharray",""),t.lineCap&&zr(e,"stroke-linecap",t.lineCap),t.lineJoin&&zr(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&zr(e,"stroke-miterlimit",t.miterLimit)}else zr(e,"stroke",Iu)}var $c={brush:function(e){var t=e.style,n=e.__svgEl;n||(n=$a("path"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),i.subPixelOptimize=!1,e.buildPath(i,e.shape),e.__dirtyPath=!1;var o=function(a){for(var s=[],l=a.data,u=a.len(),c=0;c<u;){var d="",h=0;switch(l[c++]){case Rl.M:d="M",h=2;break;case Rl.L:d="L",h=2;break;case Rl.Q:d="Q",h=4;break;case Rl.C:d="C",h=6;break;case Rl.A:var m=l[c++],y=l[c++],T=l[c++],H=l[c++],R=l[c++],$=l[c++],se=l[c++],oe=l[c++],Se=Math.abs($),we=kT(Se-Us)||(oe?Us<=$:Us<=-$),Te=0<$?$%Us:$%Us+Us,Me=!1;Me=!!we||!kT(Se)&&MT<=Te==!!oe;var Pe=Ra(m+T*AT(R)),Ke=Ra(y+H*DT(R));we&&($=oe?Us-1e-4:1e-4-Us,Me=!0,9===c&&s.push("M",Pe,Ke));var it=Ra(m+T*AT(R+$)),lt=Ra(y+H*DT(R+$));s.push("A",Ra(T),Ra(H),m0(se*zk),+Me,+oe,it,lt);break;case Rl.Z:d="Z";break;case Rl.R:it=Ra(l[c++]),lt=Ra(l[c++]);var mt=Ra(l[c++]),vt=Ra(l[c++]);s.push("M",it,lt,"L",it+mt,lt,"L",it+mt,lt+vt,"L",it,lt+vt,"L",it,lt)}d&&s.push(d);for(var wt=0;wt<h;wt++)s.push(Ra(l[c++]))}return s.join(" ")}(i);o.indexOf("NaN")<0&&zr(n,"d",o)}ET(n,t,!1,e),v0(n,e.transform),null!=t.text?Rf(e,e.getBoundingRect()):b0(e)}},NT={brush:function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=t.x||0,o=t.y||0,a=t.width,s=t.height,l=e.__svgEl;l||(l=$a("image"),e.__svgEl=l),n!==e.__imageSrc&&(l.setAttributeNS("http://www.w3.org/1999/xlink","href",n),e.__imageSrc=n),zr(l,"width",a),zr(l,"height",s),zr(l,"x",i),zr(l,"y",o),v0(l,e.transform),null!=t.text?Rf(e,e.getBoundingRect()):b0(e)}}},Lf={},y0=new A,ed={},fs=[],Fk={left:"start",right:"end",center:"middle",middle:"middle"},Rf=function(e,t){var n=e.style,i=e.transform,o=e instanceof Hi||n.transformText;e.__dirty&&gt(n);var vt,wt,Et,a=n.text;if(null!=a&&(a+=""),li(a,n)){null==a&&(a=""),!o&&i&&(y0.copy(t),y0.applyTransform(i),t=y0);var s=e.__textSvgEl;s||(s=$a("text"),e.__textSvgEl=s);var l=s.style,u=n.font||tn,c=s.__computedFont;u!==s.__styleFont&&(l.font=s.__styleFont=u,c=s.__computedFont=l.font);var d=n.textPadding,m=e.__textCotentBlock;m&&!e.__dirtyText||(m=e.__textCotentBlock=Xn(a,c,d,n.textLineHeight,n.truncate));var y=m.outerHeight,T=m.lineHeight;Dn(ed,e,n,t);var H=ed.baseX,R=ed.baseY,$=ed.textAlign||"left",se=ed.textVerticalAlign;!function(vt,wt,Et,Rt,It,Gt,bn){yr(fs),wt&&Et&&Hr(fs,Et);var Cn=Rt.textRotation;if(It&&Cn){var pn=Rt.textOrigin;"center"===pn?(Gt=It.width/2+It.x,bn=It.height/2+It.y):pn&&(Gt=pn[0]+It.x,bn=pn[1]+It.y),fs[4]-=Gt,fs[5]-=bn,xr(fs,fs,Cn),fs[4]+=Gt,fs[5]+=bn}v0(vt,fs)}(s,o,i,n,t,H,R);var oe=H,Se=vi(R,y,se);d&&(vt=H,Et=d,oe="right"===(wt=$)?vt-Et[1]:"center"===wt?vt+Et[3]/2-Et[1]/2:vt+Et[3],Se+=d[0]),Se+=T/2,ET(s,n,!0,e);var we=m.canCacheByTextString,Te=e.__tspanList||(e.__tspanList=[]),Me=Te.length;if(we&&e.__canCacheByTextString&&e.__text===a){if(e.__dirtyText&&Me)for(var Pe=0;Pe<Me;++Pe)LT(Te[Pe],$,oe,Se+Pe*T)}else{e.__text=a,e.__canCacheByTextString=we;var Ke=m.lines,it=Ke.length;for(Pe=0;Pe<it;Pe++){var lt=Te[Pe],mt=Ke[Pe];lt?lt.__zrText!==mt&&(lt.innerHTML="",lt.appendChild(document.createTextNode(mt))):(lt=Te[Pe]=$a("tspan"),s.appendChild(lt),lt.appendChild(document.createTextNode(mt))),LT(lt,$,oe,Se+Pe*T)}if(it<Me){for(;Pe<Me;Pe++)s.removeChild(Te[Pe]);Te.length=it}}}};function LT(e,t,n,i){zr(e,"dominant-baseline","middle"),zr(e,"text-anchor",Fk[t]),zr(e,"x",n),zr(e,"y",i)}function b0(e){e&&e.__textSvgEl&&(e.__textSvgEl.parentNode&&e.__textSvgEl.parentNode.removeChild(e.__textSvgEl),e.__textSvgEl=null,e.__tspanList=[],e.__text=null)}function RT(){}function Hk(e,t){for(var n=0,i=t.length,o=0,a=0;n<i;n++){var s=t[n];if(s.removed){for(l=[],u=a;u<a+s.count;u++)l.push(u);s.indices=l,a+=s.count}else{for(var l=[],u=o;u<o+s.count;u++)l.push(u);s.indices=l,o+=s.count,s.added||(a+=s.count)}}return t}Lf.drawRectText=Rf,Lf.brush=function(e){null!=e.style.text?Rf(e,!1):b0(e)},RT.prototype={diff:function(e,t,n){this.equals=n=n||function(T,H){return T===H};var i=this;e=e.slice();var o=(t=t.slice()).length,a=e.length,s=1,l=o+a,u=[{newPos:-1,components:[]}],c=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=o&&a<=c+1){for(var d=[],h=0;h<t.length;h++)d.push(h);return[{indices:d,count:t.length}]}function m(){for(var T=-1*s;T<=s;T+=2){var H,R=u[T-1],$=u[T+1],se=($?$.newPos:0)-T;R&&(u[T-1]=void 0);var oe=R&&R.newPos+1<o,Se=$&&0<=se&&se<a;if(oe||Se){if(!oe||Se&&R.newPos<$.newPos?(H={newPos:(we=$).newPos,components:we.components.slice(0)},i.pushComponent(H.components,void 0,!0)):((H=R).newPos++,i.pushComponent(H.components,!0,void 0)),se=i.extractCommon(H,t,e,T),H.newPos+1>=o&&a<=se+1)return Hk(0,H.components);u[T]=H}else u[T]=void 0}var we;s++}for(;s<=l;){var y=m();if(y)return y}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var o=t.length,a=n.length,s=e.newPos,l=s-i,u=0;s+1<o&&l+1<a&&this.equals(t[s+1],n[l+1]);)s++,l++,u++;return u&&e.components.push({count:u}),e.newPos=s,l},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var Vk=new RT;function kr(e,t,n,i,o){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=o||"_dom",this.nextId=0}function Pl(e,t){kr.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function td(e,t){kr.call(this,e,t,"clipPath","__clippath_in_use__")}function Gs(e,t){kr.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function PT(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function Pf(e){return parseInt(e,10)}function OT(e,t){return t&&e&&t.parentNode!==e}function nd(e,t,n){if(OT(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function BT(e,t){if(OT(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function zT(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function id(e){return e.__textSvgEl}function rd(e){return e.__svgEl}function Of(e,t,n,i){this.root=e,this.storage=t,this._opts=n=he({},n||{});var o=$a("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var a=$a("g");o.appendChild(a);var s=$a("g");o.appendChild(s),this.gradientManager=new Pl(i,s),this.clipPathManager=new td(i,s),this.shadowManager=new Gs(i,s);var l=document.createElement("div");l.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=s,this._backgroundRoot=a,this._viewport=l,e.appendChild(l),l.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]}kr.prototype.createElement=$a,kr.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(n.contains=function(i){var o=n.children;if(!o)return!1;for(var a=o.length-1;0<=a;--a)if(o[a]===i)return!0;return!1}),n):null:n[0]},kr.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"==typeof t&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},kr.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},kr.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},kr.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return ue(this._tagNames,function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))}),t},kr.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;ue(e,function(n){n[t._markLabel]="0"})},kr.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},kr.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),n=this;ue(t,function(i){"1"!==i[n._markLabel]&&e.removeChild(i)})}},kr.prototype.getSvgProxy=function(e){return e instanceof Gi?$c:e instanceof ji?NT:e instanceof Hi?Lf:$c},kr.prototype.getTextSvgElement=function(e){return e.__textSvgEl},kr.prototype.getSvgElement=function(e){return e.__svgEl},xe(Pl,kr),Pl.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;ue(["fill","stroke"],function(i){if(t.style[i]&&("linear"===t.style[i].type||"radial"===t.style[i].type)){var o,a=t.style[i],s=n.getDefs(!0);a._dom?(o=a._dom,s.contains(a._dom)||n.addDom(o)):o=n.add(a),n.markUsed(t);var l=o.getAttribute("id");e.setAttribute(i,"url(#"+l+")")}})}},Pl.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},Pl.prototype.update=function(e){var t=this;kr.prototype.update.call(this,e,function(){var n=e.type,i=e._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},Pl.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return;t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}t.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,o=n.length;i<o;++i){var a=this.createElement("stop");a.setAttribute("offset",100*n[i].offset+"%");var s=n[i].color;if(-1<s.indexOf("rgba")){var l=mr(s)[3],u=bo(s);a.setAttribute("stop-color","#"+u),a.setAttribute("stop-opacity",l)}else a.setAttribute("stop-color",n[i].color);t.appendChild(a)}e._dom=t},Pl.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&kr.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&kr.prototype.markUsed.call(this,t._dom)}},xe(td,kr),td.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},td.prototype.updateDom=function(e,t,n){if(t&&0<t.length){var i,o,a=this.getDefs(!0),s=t[0],l=n?"_textDom":"_dom";s[l]?(o=s[l].getAttribute("id"),a.contains(i=s[l])||a.appendChild(i)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",o),a.appendChild(i),s[l]=i);var u=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!n){var c=Array.prototype.slice.call(s.transform);hr(s.transform,s.parent.invTransform,s.transform),u.brush(s),s.transform=c}else u.brush(s);var d=this.getSvgElement(s);i.innerHTML="",i.appendChild(d.cloneNode()),e.setAttribute("clip-path","url(#"+o+")"),1<t.length&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},td.prototype.markUsed=function(e){var t=this;e.__clipPaths&&ue(e.__clipPaths,function(n){n._dom&&kr.prototype.markUsed.call(t,n._dom),n._textDom&&kr.prototype.markUsed.call(t,n._textDom)})},xe(Gs,kr),Gs.prototype.addWithoutUpdate=function(e,t){if(t&&PT(t.style)){var n;t._shadowDom?(n=t._shadowDom,this.getDefs(!0).contains(t._shadowDom)||this.addDom(n)):n=this.add(t),this.markUsed(t);var i=n.getAttribute("id");e.style.filter="url(#"+i+")"}},Gs.prototype.add=function(e){var t=this.createElement("filter");return e._shadowDomId=e._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+e._shadowDomId),this.updateDom(e,t),this.addDom(t),t},Gs.prototype.update=function(e,t){if(PT(t.style)){var n=this;kr.prototype.update.call(this,t,function(){n.updateDom(t,t._shadowDom)})}else this.remove(e,t)},Gs.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(e),e.style.filter="")},Gs.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,o,a,s,l=e.style,u=e.scale&&e.scale[0]||1,c=e.scale&&e.scale[1]||1;if(l.shadowBlur||l.shadowOffsetX||l.shadowOffsetY)i=l.shadowOffsetX||0,o=l.shadowOffsetY||0,a=l.shadowBlur,s=l.shadowColor;else{if(!l.textShadowBlur)return void this.removeDom(t,l);i=l.textShadowOffsetX||0,o=l.textShadowOffsetY||0,a=l.textShadowBlur,s=l.textShadowColor}n.setAttribute("dx",i/u),n.setAttribute("dy",o/c),n.setAttribute("flood-color",s),n.setAttribute("stdDeviation",a/2/u+" "+a/2/c),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(a/2*200)+"%"),t.setAttribute("height",Math.ceil(a/2*200)+"%"),t.appendChild(n),e._shadowDom=t},Gs.prototype.markUsed=function(e){e._shadowDom&&kr.prototype.markUsed.call(this,e._shadowDom)},Of.prototype={constructor:Of,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=$a("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n,i=this._svgRoot,o=this._visibleList,a=e.length,s=[];for(t=0;t<a;t++){var l=e[t],u=(n=l)instanceof Gi?$c:n instanceof ji?NT:n instanceof Hi?Lf:$c,c=rd(l)||id(l);l.invisible||(l.__dirty&&(u&&u.brush(l),this.clipPathManager.update(l),l.style&&(this.gradientManager.update(l.style.fill),this.gradientManager.update(l.style.stroke),this.shadowManager.update(c,l)),l.__dirty=!1),s.push(l))}var d,h=Vk.diff(o,s,void 0);for(t=0;t<h.length;t++)if((T=h[t]).removed)for(var m=0;m<T.count;m++){c=rd(l=o[T.indices[m]]);var y=id(l);zT(i,c),zT(i,y)}for(t=0;t<h.length;t++){var T;if((T=h[t]).added)for(m=0;m<T.count;m++)c=rd(l=s[T.indices[m]]),y=id(l),d?nd(i,c,d):BT(i,c),c?nd(i,y,c):d?nd(i,y,d):BT(i,y),nd(i,y,c),d=y||c||d,this.gradientManager.addWithoutUpdate(c||y,l),this.shadowManager.addWithoutUpdate(c||y,l),this.clipPathManager.markUsed(l);else if(!T.removed)for(m=0;m<T.count;m++)c=rd(l=s[T.indices[m]]),y=id(l),c=rd(l),y=id(l),this.gradientManager.markUsed(l),this.gradientManager.addWithoutUpdate(c||y,l),this.shadowManager.markUsed(l),this.shadowManager.addWithoutUpdate(c||y,l),this.clipPathManager.markUsed(l),y&&nd(i,y,c),d=c||y||d}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=s},_getDefs:function(e){var t,n=this._svgDom;return 0!==(t=n.getElementsByTagName("defs")).length?t[0]:e?((t=n.insertBefore($a("defs"),n.firstChild)).contains||(t.contains=function(i){var o=t.children;if(!o)return!1;for(var a=o.length-1;0<=a;--a)if(o[a]===i)return!0;return!1}),t):null},resize:function(e,t){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=n.style;o.width=e+"px",o.height=t+"px";var a=this._svgDom;a.setAttribute("width",e),a.setAttribute("height",t)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||Pf(l[n])||Pf(s.style[n]))-(Pf(l[o])||0)-(Pf(l[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},ue(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(e){Of.prototype[e]=function(){}}),Yf("svg",Of),be.version="4.9.0",be.dependencies={zrender:"4.3.2"},be.PRIORITY=Ua,be.init=function(e,t,n){var i=ag(e);if(i)return i;var o=new ic(e,t,n);return o.id="ec_"+vA++,ul[o.id]=o,R0(e,og,o.id),function(a){var s="__connectUpdateStatus";function l(u,c){for(var d=0;d<u.length;d++)u[d][s]=c}fo(sh,function(u,c){a._messageCenter.on(c,function(d){if(uh[a.group]&&0!==a[s]){if(d&&d.escapeConnect)return;var h=a.makeActionFromEvent(d),m=[];fo(ul,function(y){y!==a&&y.group===a.group&&m.push(y)}),l(m,0),fo(m,function(y){1!==y[s]&&y.dispatchAction(h)}),l(m,2)}})})}(o),o},be.connect=function(e){if(bt(e)){var t=e;e=null,fo(t,function(n){null!=n.group&&(e=n.group)}),e=e||"g_"+yA++,fo(t,function(n){n.group=e})}return uh[e]=!0,e},be.disConnect=q1,be.disconnect=bA,be.dispose=function(e){"string"==typeof e?e=ul[e]:e instanceof ic||(e=ag(e)),e instanceof ic&&!e.isDisposed()&&e.dispose()},be.getInstanceByDom=ag,be.getInstanceById=function(e){return ul[e]},be.registerTheme=sg,be.registerPreprocessor=ko,be.registerProcessor=ua,be.registerPostUpdate=function(e){U1.push(e)},be.registerAction=Yi,be.registerCoordinateSystem=lg,be.getCoordinateSystemDimensions=function(e){var t=Oo.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},be.registerLayout=Br,be.registerVisual=_r,be.registerLoading=Y1,be.extendComponentModel=ca,be.extendComponentView=po,be.extendSeriesModel=ch,be.extendChartView=ta,be.setCanvasCreator=function(e){B("createCanvas",e)},be.registerMap=function(e,t,n){ih.registerMap(e,t,n)},be.getMap=function(e){var t=ih.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},be.dataTool={},be.zrender=jT,be.number=TD,be.format=MD,be.throttle=Kd,be.helper=GA,be.matrix=Gr,be.vector=Ui,be.color=Ee,be.parseGeoJSON=Tg,be.parseGeoJson=ZA,be.util=Lb,be.graphic=Rb,be.List=go,be.Model=qi,be.Axis=to,be.env=ve}),function(be,Ae){"object"==typeof exports&&typeof module<"u"?Ae(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],Ae):Ae(be.bmap={},be.echarts)}(this,function(be,Ae){"use strict";function Sn(ge,Q){this._bmap=ge,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=Q,this._projection=new BMap.MercatorProjection}function ve(ge,Q){return Q=Q||[0,0],Ae.util.map([0,1],function(Z){var q=Q[Z],j=ge[Z]/2,J=[],ee=[];return J[Z]=q-j,ee[Z]=q+j,J[1-Z]=ee[1-Z]=Q[1-Z],Math.abs(this.dataToPoint(J)[Z]-this.dataToPoint(ee)[Z])},this)}var at;function ce(ge){for(var Q in ge)if(ge.hasOwnProperty(Q))return!1;return!0}Sn.prototype.dimensions=["lng","lat"],Sn.prototype.setZoom=function(ge){this._zoom=ge},Sn.prototype.setCenter=function(ge){this._center=this._projection.lngLatToPoint(new BMap.Point(ge[0],ge[1]))},Sn.prototype.setMapOffset=function(ge){this._mapOffset=ge},Sn.prototype.getBMap=function(){return this._bmap},Sn.prototype.dataToPoint=function(ge){var Q=new BMap.Point(ge[0],ge[1]),Z=this._bmap.pointToOverlayPixel(Q),q=this._mapOffset;return[Z.x-q[0],Z.y-q[1]]},Sn.prototype.pointToData=function(ge){var Q=this._mapOffset;return[(ge=this._bmap.overlayPixelToPoint({x:ge[0]+Q[0],y:ge[1]+Q[1]})).lng,ge.lat]},Sn.prototype.getViewRect=function(){var ge=this._api;return new Ae.graphic.BoundingRect(0,0,ge.getWidth(),ge.getHeight())},Sn.prototype.getRoamTransform=function(){return Ae.matrix.create()},Sn.prototype.prepareCustoms=function(ge){var Q=this.getViewRect();return{coordSys:{type:"bmap",x:Q.x,y:Q.y,width:Q.width,height:Q.height},api:{coord:Ae.util.bind(this.dataToPoint,this),size:Ae.util.bind(ve,this)}}},Sn.dimensions=Sn.prototype.dimensions,Sn.create=function(ge,Q){var Z,q=Q.getDom();ge.eachComponent("bmap",function(j){var J=Q.getZr().painter,ee=J.getViewportRoot();if(typeof BMap>"u")throw new Error("BMap api is not loaded");if(at=at||function(){function P(We){this._root=We}return(P.prototype=new BMap.Overlay).initialize=function(We){return We.getPanes().labelPane.appendChild(this._root),this._root},P.prototype.draw=function(){},P}(),Z)throw new Error("Only one bmap component can exist");if(!j.__bmap){var O=q.querySelector(".ec-extension-bmap");O&&(ee.style.left="0px",ee.style.top="0px",q.removeChild(O)),(O=document.createElement("div")).style.cssText="width:100%;height:100%",O.classList.add("ec-extension-bmap"),q.appendChild(O);var B=j.get("mapOptions")||{};delete B.mapType;var K=j.__bmap=new BMap.Map(O,B),de=new at(ee);K.addOverlay(de),J.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}K=j.__bmap;var me=j.get("center"),he=j.get("zoom");if(me&&he){var De=K.getCenter(),Ne=K.getZoom();if(j.centerOrZoomChanged([De.lng,De.lat],Ne)){var Ye=new BMap.Point(me[0],me[1]);K.centerAndZoom(Ye,he)}}(Z=new Sn(K,Q)).setMapOffset(j.__mapOffset||[0,0]),Z.setZoom(he),Z.setCenter(me),j.coordinateSystem=Z}),ge.eachSeries(function(j){"bmap"===j.get("coordinateSystem")&&(j.coordinateSystem=Z)})},Ae.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(ge,Q){this.option.center=ge,this.option.zoom=Q},centerOrZoomChanged:function(ge,Q){var q,j,Z=this.option;return j=Z.center,!((q=ge)&&j&&q[0]===j[0]&&q[1]===j[1]&&Q===Z.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}}),Ae.extendComponentView({type:"bmap",render:function(ge,Q,Z){function q(P,We){if(!j){var xe=ee.parentNode.parentNode.parentNode,ke=[-parseInt(xe.style.left,10)||0,-parseInt(xe.style.top,10)||0];ee.style.left=ke[0]+"px",ee.style.top=ke[1]+"px",O.setMapOffset(ke),ge.__mapOffset=ke,Z.dispatchAction({type:"bmapRoam"})}}var j=!0,J=ge.getBMap(),ee=Z.getZr().painter.getViewportRoot(),O=ge.coordinateSystem;function B(){j||Z.dispatchAction({type:"bmapRoam"})}J.removeEventListener("moving",this._oldMoveHandler),J.removeEventListener("moveend",this._oldMoveHandler),J.removeEventListener("zoomend",this._oldZoomEndHandler),J.addEventListener("moving",q),J.addEventListener("moveend",q),J.addEventListener("zoomend",B),this._oldMoveHandler=q,this._oldZoomEndHandler=B;var K=ge.get("roam");K&&"scale"!==K?J.enableDragging():J.disableDragging(),K&&"move"!==K?(J.enableScrollWheelZoom(),J.enableDoubleClickZoom(),J.enablePinchToZoom()):(J.disableScrollWheelZoom(),J.disableDoubleClickZoom(),J.disablePinchToZoom());var de=ge.__mapStyle,me=ge.get("mapStyle")||{},he=JSON.stringify(me);JSON.stringify(de)!==he&&(ce(Ne)||J.setMapStyle(Ae.util.clone(me)),ge.__mapStyle=JSON.parse(he));var De=ge.__mapStyle2,Ne=ge.get("mapStyleV2")||{},Ye=JSON.stringify(Ne);JSON.stringify(De)!==Ye&&(ce(Ne)||J.setMapStyleV2(Ae.util.clone(Ne)),ge.__mapStyle2=JSON.parse(Ye)),j=!1}}),Ae.registerCoordinateSystem("bmap",Sn),Ae.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(ge,Q){Q.eachComponent("bmap",function(Z){var q=Z.getBMap(),j=q.getCenter();Z.setCenterAndZoom([j.lng,j.lat],q.getZoom())})}),be.version="1.0.0"}),function(be){"object"==typeof exports&&typeof module<"u"?module.exports=be():"function"==typeof define&&define.amd?define([],be):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).Chart=be()}(function(){return function be(Ae,Sn,ve){function at(Q,Z){if(!Sn[Q]){if(!Ae[Q]){var q="function"==typeof require&&require;if(!Z&&q)return q(Q,!0);if(ce)return ce(Q,!0);var j=new Error("Cannot find module '"+Q+"'");throw j.code="MODULE_NOT_FOUND",j}var J=Sn[Q]={exports:{}};Ae[Q][0].call(J.exports,function(ee){return at(Ae[Q][1][ee]||ee)},J,J.exports,be,Ae,Sn,ve)}return Sn[Q].exports}for(var ce="function"==typeof require&&require,ge=0;ge<ve.length;ge++)at(ve[ge]);return at}({1:[function(be,Ae,Sn){},{}],2:[function(be,Ae,Sn){function ve(B){if(B){var K=[0,0,0],de=1,me=B.match(/^#([a-fA-F0-9]{3})$/i);if(me)for(me=me[1],he=0;he<K.length;he++)K[he]=parseInt(me[he]+me[he],16);else if(me=B.match(/^#([a-fA-F0-9]{6})$/i))for(me=me[1],he=0;he<K.length;he++)K[he]=parseInt(me.slice(2*he,2*he+2),16);else if(me=B.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(he=0;he<K.length;he++)K[he]=parseInt(me[he+1]);de=parseFloat(me[4])}else if(me=B.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(he=0;he<K.length;he++)K[he]=Math.round(2.55*parseFloat(me[he+1]));de=parseFloat(me[4])}else if(me=B.match(/(\w+)/)){if("transparent"==me[1])return[0,0,0,0];if(!(K=J[me[1]]))return}for(var he=0;he<K.length;he++)K[he]=q(K[he],0,255);return de=de||0==de?q(de,0,1):1,K[3]=de,K}}function at(B){if(B){var K=B.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(K){var de=parseFloat(K[4]);return[q(parseInt(K[1]),0,360),q(parseFloat(K[2]),0,100),q(parseFloat(K[3]),0,100),q(isNaN(de)?1:de,0,1)]}}}function ce(B){if(B){var K=B.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(K){var de=parseFloat(K[4]);return[q(parseInt(K[1]),0,360),q(parseFloat(K[2]),0,100),q(parseFloat(K[3]),0,100),q(isNaN(de)?1:de,0,1)]}}}function ge(B,K){return void 0===K&&(K=void 0!==B[3]?B[3]:1),"rgba("+B[0]+", "+B[1]+", "+B[2]+", "+K+")"}function Q(B,K){return"rgba("+Math.round(B[0]/255*100)+"%, "+Math.round(B[1]/255*100)+"%, "+Math.round(B[2]/255*100)+"%, "+(K||B[3]||1)+")"}function Z(B,K){return void 0===K&&(K=void 0!==B[3]?B[3]:1),"hsla("+B[0]+", "+B[1]+"%, "+B[2]+"%, "+K+")"}function q(B,K,de){return Math.min(Math.max(K,B),de)}function j(B){var K=B.toString(16).toUpperCase();return K.length<2?"0"+K:K}var J=be(6);Ae.exports={getRgba:ve,getHsla:at,getRgb:function(B){var K=ve(B);return K&&K.slice(0,3)},getHsl:function(B){var K=at(B);return K&&K.slice(0,3)},getHwb:ce,getAlpha:function(B){var K=ve(B);return K||(K=at(B))||(K=ce(B))?K[3]:void 0},hexString:function(B){return"#"+j(B[0])+j(B[1])+j(B[2])},rgbString:function(B,K){return K<1||B[3]&&B[3]<1?ge(B,K):"rgb("+B[0]+", "+B[1]+", "+B[2]+")"},rgbaString:ge,percentString:function(B,K){return K<1||B[3]&&B[3]<1?Q(B,K):"rgb("+Math.round(B[0]/255*100)+"%, "+Math.round(B[1]/255*100)+"%, "+Math.round(B[2]/255*100)+"%)"},percentaString:Q,hslString:function(B,K){return K<1||B[3]&&B[3]<1?Z(B,K):"hsl("+B[0]+", "+B[1]+"%, "+B[2]+"%)"},hslaString:Z,hwbString:function(B,K){return void 0===K&&(K=void 0!==B[3]?B[3]:1),"hwb("+B[0]+", "+B[1]+"%, "+B[2]+"%"+(void 0!==K&&1!==K?", "+K:"")+")"},keyword:function(B){return ee[B.slice(0,3)]}};var ee={};for(var O in J)ee[J[O]]=O},{6:6}],3:[function(be,Ae,Sn){var ve=be(5),at=be(2),ce=function(ge){return ge instanceof ce?ge:this instanceof ce?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof ge?(Q=at.getRgba(ge))?this.setValues("rgb",Q):(Q=at.getHsla(ge))?this.setValues("hsl",Q):(Q=at.getHwb(ge))&&this.setValues("hwb",Q):"object"==typeof ge&&(void 0!==(Q=ge).r||void 0!==Q.red?this.setValues("rgb",Q):void 0!==Q.l||void 0!==Q.lightness?this.setValues("hsl",Q):void 0!==Q.v||void 0!==Q.value?this.setValues("hsv",Q):void 0!==Q.w||void 0!==Q.whiteness?this.setValues("hwb",Q):void 0===Q.c&&void 0===Q.cyan||this.setValues("cmyk",Q)))):new ce(ge);var Q};ce.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var ge=this.values;return 1!==ge.alpha?ge.hwb.concat([ge.alpha]):ge.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var ge=this.values;return ge.rgb.concat([ge.alpha])},hslaArray:function(){var ge=this.values;return ge.hsl.concat([ge.alpha])},alpha:function(ge){return void 0===ge?this.values.alpha:(this.setValues("alpha",ge),this)},red:function(ge){return this.setChannel("rgb",0,ge)},green:function(ge){return this.setChannel("rgb",1,ge)},blue:function(ge){return this.setChannel("rgb",2,ge)},hue:function(ge){return ge&&(ge=(ge%=360)<0?360+ge:ge),this.setChannel("hsl",0,ge)},saturation:function(ge){return this.setChannel("hsl",1,ge)},lightness:function(ge){return this.setChannel("hsl",2,ge)},saturationv:function(ge){return this.setChannel("hsv",1,ge)},whiteness:function(ge){return this.setChannel("hwb",1,ge)},blackness:function(ge){return this.setChannel("hwb",2,ge)},value:function(ge){return this.setChannel("hsv",2,ge)},cyan:function(ge){return this.setChannel("cmyk",0,ge)},magenta:function(ge){return this.setChannel("cmyk",1,ge)},yellow:function(ge){return this.setChannel("cmyk",2,ge)},black:function(ge){return this.setChannel("cmyk",3,ge)},hexString:function(){return at.hexString(this.values.rgb)},rgbString:function(){return at.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return at.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return at.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return at.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return at.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return at.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return at.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var ge=this.values.rgb;return ge[0]<<16|ge[1]<<8|ge[2]},luminosity:function(){for(var ge=this.values.rgb,Q=[],Z=0;Z<ge.length;Z++){var q=ge[Z]/255;Q[Z]=q<=.03928?q/12.92:Math.pow((q+.055)/1.055,2.4)}return.2126*Q[0]+.7152*Q[1]+.0722*Q[2]},contrast:function(ge){var Q=this.luminosity(),Z=ge.luminosity();return Q>Z?(Q+.05)/(Z+.05):(Z+.05)/(Q+.05)},level:function(ge){var Q=this.contrast(ge);return Q>=7.1?"AAA":Q>=4.5?"AA":""},dark:function(){var ge=this.values.rgb;return(299*ge[0]+587*ge[1]+114*ge[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var ge=[],Q=0;Q<3;Q++)ge[Q]=255-this.values.rgb[Q];return this.setValues("rgb",ge),this},lighten:function(ge){var Q=this.values.hsl;return Q[2]+=Q[2]*ge,this.setValues("hsl",Q),this},darken:function(ge){var Q=this.values.hsl;return Q[2]-=Q[2]*ge,this.setValues("hsl",Q),this},saturate:function(ge){var Q=this.values.hsl;return Q[1]+=Q[1]*ge,this.setValues("hsl",Q),this},desaturate:function(ge){var Q=this.values.hsl;return Q[1]-=Q[1]*ge,this.setValues("hsl",Q),this},whiten:function(ge){var Q=this.values.hwb;return Q[1]+=Q[1]*ge,this.setValues("hwb",Q),this},blacken:function(ge){var Q=this.values.hwb;return Q[2]+=Q[2]*ge,this.setValues("hwb",Q),this},greyscale:function(){var ge=this.values.rgb,Q=.3*ge[0]+.59*ge[1]+.11*ge[2];return this.setValues("rgb",[Q,Q,Q]),this},clearer:function(ge){var Q=this.values.alpha;return this.setValues("alpha",Q-Q*ge),this},opaquer:function(ge){var Q=this.values.alpha;return this.setValues("alpha",Q+Q*ge),this},rotate:function(ge){var Q=this.values.hsl,Z=(Q[0]+ge)%360;return Q[0]=Z<0?360+Z:Z,this.setValues("hsl",Q),this},mix:function(ge,Q){var Z=this,q=ge,j=void 0===Q?.5:Q,J=2*j-1,ee=Z.alpha()-q.alpha(),O=((J*ee==-1?J:(J+ee)/(1+J*ee))+1)/2,B=1-O;return this.rgb(O*Z.red()+B*q.red(),O*Z.green()+B*q.green(),O*Z.blue()+B*q.blue()).alpha(Z.alpha()*j+q.alpha()*(1-j))},toJSON:function(){return this.rgb()},clone:function(){var ge,Q,Z=new ce,q=this.values,j=Z.values;for(var J in q)q.hasOwnProperty(J)&&("[object Array]"===(Q={}.toString.call(ge=q[J]))?j[J]=ge.slice(0):"[object Number]"===Q?j[J]=ge:console.error("unexpected color value:",ge));return Z}},ce.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},ce.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},ce.prototype.getValues=function(ge){for(var Q=this.values,Z={},q=0;q<ge.length;q++)Z[ge.charAt(q)]=Q[ge][q];return 1!==Q.alpha&&(Z.a=Q.alpha),Z},ce.prototype.setValues=function(ge,Q){var Z,B,q=this.values,j=this.spaces,J=this.maxes,ee=1;if(this.valid=!0,"alpha"===ge)ee=Q;else if(Q.length)q[ge]=Q.slice(0,ge.length),ee=Q[ge.length];else if(void 0!==Q[ge.charAt(0)]){for(Z=0;Z<ge.length;Z++)q[ge][Z]=Q[ge.charAt(Z)];ee=Q.a}else if(void 0!==Q[j[ge][0]]){var O=j[ge];for(Z=0;Z<ge.length;Z++)q[ge][Z]=Q[O[Z]];ee=Q.alpha}if(q.alpha=Math.max(0,Math.min(1,void 0===ee?q.alpha:ee)),"alpha"===ge)return!1;for(Z=0;Z<ge.length;Z++)B=Math.max(0,Math.min(J[ge][Z],q[ge][Z])),q[ge][Z]=Math.round(B);for(var K in j)K!==ge&&(q[K]=ve[ge][K](q[ge]));return!0},ce.prototype.setSpace=function(ge,Q){var Z=Q[0];return void 0===Z?this.getValues(ge):("number"==typeof Z&&(Z=Array.prototype.slice.call(Q)),this.setValues(ge,Z),this)},ce.prototype.setChannel=function(ge,Q,Z){var q=this.values[ge];return void 0===Z?q[Q]:(Z===q[Q]||(q[Q]=Z,this.setValues(ge,q)),this)},typeof window<"u"&&(window.Color=ce),Ae.exports=ce},{2:2,5:5}],4:[function(be,Ae,Sn){function ve(xe){var ke,ue,Re=xe[0]/255,je=xe[1]/255,Je=xe[2]/255,ht=Math.min(Re,je,Je),dt=Math.max(Re,je,Je),Nt=dt-ht;return dt==ht?ke=0:Re==dt?ke=(je-Je)/Nt:je==dt?ke=2+(Je-Re)/Nt:Je==dt&&(ke=4+(Re-je)/Nt),(ke=Math.min(60*ke,360))<0&&(ke+=360),ue=(ht+dt)/2,[ke,100*(dt==ht?0:ue<=.5?Nt/(dt+ht):Nt/(2-dt-ht)),100*ue]}function at(xe){var ke,Ve,Re=xe[0],je=xe[1],Je=xe[2],ht=Math.min(Re,je,Je),dt=Math.max(Re,je,Je),Nt=dt-ht;return Ve=0==dt?0:Nt/dt*1e3/10,dt==ht?ke=0:Re==dt?ke=(je-Je)/Nt:je==dt?ke=2+(Je-Re)/Nt:Je==dt&&(ke=4+(Re-je)/Nt),(ke=Math.min(60*ke,360))<0&&(ke+=360),[ke,Ve,dt/255*1e3/10]}function ce(xe){var ke=xe[0],Ve=xe[1],ue=xe[2];return[ve(xe)[0],1/255*Math.min(ke,Math.min(Ve,ue))*100,100*(ue=1-1/255*Math.max(ke,Math.max(Ve,ue)))]}function ge(xe){var Re,je=xe[0]/255,Je=xe[1]/255,ht=xe[2]/255;return[100*((1-je-(Re=Math.min(1-je,1-Je,1-ht)))/(1-Re)||0),100*((1-Je-Re)/(1-Re)||0),100*((1-ht-Re)/(1-Re)||0),100*Re]}function Q(xe){return P[JSON.stringify(xe)]}function Z(xe){var ke=xe[0]/255,Ve=xe[1]/255,ue=xe[2]/255;return[100*(.4124*(ke=ke>.04045?Math.pow((ke+.055)/1.055,2.4):ke/12.92)+.3576*(Ve=Ve>.04045?Math.pow((Ve+.055)/1.055,2.4):Ve/12.92)+.1805*(ue=ue>.04045?Math.pow((ue+.055)/1.055,2.4):ue/12.92)),100*(.2126*ke+.7152*Ve+.0722*ue),100*(.0193*ke+.1192*Ve+.9505*ue)]}function q(xe){var Re=Z(xe),je=Re[0],Je=Re[1],ht=Re[2];return Je/=100,ht/=108.883,je=(je/=95.047)>.008856?Math.pow(je,1/3):7.787*je+16/116,[116*(Je=Je>.008856?Math.pow(Je,1/3):7.787*Je+16/116)-16,500*(je-Je),200*(Je-(ht=ht>.008856?Math.pow(ht,1/3):7.787*ht+16/116))]}function j(xe){var ke,Ve,ue,Re,je,Je=xe[0]/360,ht=xe[1]/100,dt=xe[2]/100;if(0==ht)return[je=255*dt,je,je];ke=2*dt-(Ve=dt<.5?dt*(1+ht):dt+ht-dt*ht),Re=[0,0,0];for(var Nt=0;Nt<3;Nt++)(ue=Je+1/3*-(Nt-1))<0&&ue++,ue>1&&ue--,Re[Nt]=255*(je=6*ue<1?ke+6*(Ve-ke)*ue:2*ue<1?Ve:3*ue<2?ke+(Ve-ke)*(2/3-ue)*6:ke);return Re}function J(xe){var ke=xe[0]/60,Ve=xe[1]/100,dt=xe[2]/100,ue=Math.floor(ke)%6,Re=ke-Math.floor(ke),je=255*dt*(1-Ve),Je=255*dt*(1-Ve*Re),ht=255*dt*(1-Ve*(1-Re));switch(dt*=255,ue){case 0:return[dt,ht,je];case 1:return[Je,dt,je];case 2:return[je,dt,ht];case 3:return[je,Je,dt];case 4:return[ht,je,dt];case 5:return[dt,je,Je]}}function ee(xe){var ke,Ve,ue,Re,je=xe[0]/360,Je=xe[1]/100,ht=xe[2]/100,dt=Je+ht;switch(dt>1&&(Je/=dt,ht/=dt),ue=6*je-(ke=Math.floor(6*je)),1&ke&&(ue=1-ue),Re=Je+ue*((Ve=1-ht)-Je),ke){default:case 6:case 0:r=Ve,g=Re,b=Je;break;case 1:r=Re,g=Ve,b=Je;break;case 2:r=Je,g=Ve,b=Re;break;case 3:r=Je,g=Re,b=Ve;break;case 4:r=Re,g=Je,b=Ve;break;case 5:r=Ve,g=Je,b=Re}return[255*r,255*g,255*b]}function O(xe){var je=xe[1]/100,Je=xe[2]/100,ht=xe[3]/100;return[255*(1-Math.min(1,xe[0]/100*(1-ht)+ht)),255*(1-Math.min(1,je*(1-ht)+ht)),255*(1-Math.min(1,Je*(1-ht)+ht))]}function B(xe){var ke,Ve,ue,Re=xe[0]/100,je=xe[1]/100,Je=xe[2]/100;return Ve=-.9689*Re+1.8758*je+.0415*Je,ue=.0557*Re+-.204*je+1.057*Je,ke=(ke=3.2406*Re+-1.5372*je+-.4986*Je)>.0031308?1.055*Math.pow(ke,1/2.4)-.055:ke*=12.92,Ve=Ve>.0031308?1.055*Math.pow(Ve,1/2.4)-.055:Ve*=12.92,ue=ue>.0031308?1.055*Math.pow(ue,1/2.4)-.055:ue*=12.92,[255*(ke=Math.min(Math.max(0,ke),1)),255*(Ve=Math.min(Math.max(0,Ve),1)),255*(ue=Math.min(Math.max(0,ue),1))]}function K(xe){var Re=xe[0],je=xe[1],Je=xe[2];return je/=100,Je/=108.883,Re=(Re/=95.047)>.008856?Math.pow(Re,1/3):7.787*Re+16/116,[116*(je=je>.008856?Math.pow(je,1/3):7.787*je+16/116)-16,500*(Re-je),200*(je-(Je=Je>.008856?Math.pow(Je,1/3):7.787*Je+16/116))]}function de(xe){var ke,Ve,ue,Re,je=xe[0],Je=xe[1],ht=xe[2];return je<=8?Re=(Ve=100*je/903.3)/100*7.787+16/116:(Ve=100*Math.pow((je+16)/116,3),Re=Math.pow(Ve/100,1/3)),[ke=ke/95.047<=.008856?ke=95.047*(Je/500+Re-16/116)/7.787:95.047*Math.pow(Je/500+Re,3),Ve,ue=ue/108.883<=.008859?ue=108.883*(Re-ht/200-16/116)/7.787:108.883*Math.pow(Re-ht/200,3)]}function me(xe){var Ve,Re=xe[0],je=xe[1],Je=xe[2];return(Ve=360*Math.atan2(Je,je)/2/Math.PI)<0&&(Ve+=360),[Re,Math.sqrt(je*je+Je*Je),Ve]}function he(xe){return B(de(xe))}function De(xe){var ue,je=xe[1];return ue=xe[2]/360*2*Math.PI,[xe[0],je*Math.cos(ue),je*Math.sin(ue)]}function Ne(xe){return Ye[xe]}Ae.exports={rgb2hsl:ve,rgb2hsv:at,rgb2hwb:ce,rgb2cmyk:ge,rgb2keyword:Q,rgb2xyz:Z,rgb2lab:q,rgb2lch:function(xe){return me(q(xe))},hsl2rgb:j,hsl2hsv:function(xe){var Re=xe[1]/100,je=xe[2]/100;return 0===je?[0,0,0]:[xe[0],2*(Re*=(je*=2)<=1?je:2-je)/(je+Re)*100,(je+Re)/2*100]},hsl2hwb:function(xe){return ce(j(xe))},hsl2cmyk:function(xe){return ge(j(xe))},hsl2keyword:function(xe){return Q(j(xe))},hsv2rgb:J,hsv2hsl:function(xe){var ke,Ve,Re=xe[1]/100,je=xe[2]/100;return ke=Re*je,[xe[0],100*(ke=(ke/=(Ve=(2-Re)*je)<=1?Ve:2-Ve)||0),100*(Ve/=2)]},hsv2hwb:function(xe){return ce(J(xe))},hsv2cmyk:function(xe){return ge(J(xe))},hsv2keyword:function(xe){return Q(J(xe))},hwb2rgb:ee,hwb2hsl:function(xe){return ve(ee(xe))},hwb2hsv:function(xe){return at(ee(xe))},hwb2cmyk:function(xe){return ge(ee(xe))},hwb2keyword:function(xe){return Q(ee(xe))},cmyk2rgb:O,cmyk2hsl:function(xe){return ve(O(xe))},cmyk2hsv:function(xe){return at(O(xe))},cmyk2hwb:function(xe){return ce(O(xe))},cmyk2keyword:function(xe){return Q(O(xe))},keyword2rgb:Ne,keyword2hsl:function(xe){return ve(Ne(xe))},keyword2hsv:function(xe){return at(Ne(xe))},keyword2hwb:function(xe){return ce(Ne(xe))},keyword2cmyk:function(xe){return ge(Ne(xe))},keyword2lab:function(xe){return q(Ne(xe))},keyword2xyz:function(xe){return Z(Ne(xe))},xyz2rgb:B,xyz2lab:K,xyz2lch:function(xe){return me(K(xe))},lab2xyz:de,lab2rgb:he,lab2lch:me,lch2lab:De,lch2xyz:function(xe){return de(De(xe))},lch2rgb:function(xe){return he(De(xe))}};var Ye={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},P={};for(var We in Ye)P[JSON.stringify(Ye[We])]=We},{}],5:[function(be,Ae,Sn){var ve=be(4),at=function(){return new q};for(var ce in ve){at[ce+"Raw"]=function(j){return function(J){return"number"==typeof J&&(J=Array.prototype.slice.call(arguments)),ve[j](J)}}(ce);var ge=/(\w+)2(\w+)/.exec(ce),Q=ge[1],Z=ge[2];(at[Q]=at[Q]||{})[Z]=at[ce]=function(j){return function(J){"number"==typeof J&&(J=Array.prototype.slice.call(arguments));var ee=ve[j](J);if("string"==typeof ee||void 0===ee)return ee;for(var O=0;O<ee.length;O++)ee[O]=Math.round(ee[O]);return ee}}(ce)}var q=function(){this.convs={}};q.prototype.routeSpace=function(j,J){var ee=J[0];return void 0===ee?this.getValues(j):("number"==typeof ee&&(ee=Array.prototype.slice.call(J)),this.setValues(j,ee))},q.prototype.setValues=function(j,J){return this.space=j,this.convs={},this.convs[j]=J,this},q.prototype.getValues=function(j){var J=this.convs[j];if(!J){var ee=this.space;J=at[ee][j](this.convs[ee]),this.convs[j]=J}return J},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(j){q.prototype[j]=function(J){return this.routeSpace(j,arguments)}}),Ae.exports=at},{4:4}],6:[function(be,Ae,Sn){"use strict";Ae.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(be,Ae,Sn){var ve=be(29)();ve.helpers=be(45),be(27)(ve),ve.defaults=be(25),ve.Element=be(26),ve.elements=be(40),ve.Interaction=be(28),ve.platform=be(48),be(31)(ve),be(22)(ve),be(23)(ve),be(24)(ve),be(30)(ve),be(33)(ve),be(32)(ve),be(35)(ve),be(54)(ve),be(52)(ve),be(53)(ve),be(55)(ve),be(56)(ve),be(57)(ve),be(15)(ve),be(16)(ve),be(17)(ve),be(18)(ve),be(19)(ve),be(20)(ve),be(21)(ve),be(8)(ve),be(9)(ve),be(10)(ve),be(11)(ve),be(12)(ve),be(13)(ve),be(14)(ve);var at=[];at.push(be(49)(ve),be(50)(ve),be(51)(ve)),ve.plugins.register(at),ve.platform.initialize(),Ae.exports=ve,typeof window<"u"&&(window.Chart=ve),ve.canvasHelpers=ve.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){ve.Bar=function(at,ce){return ce.type="bar",new ve(at,ce)}}},{}],9:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){ve.Bubble=function(at,ce){return ce.type="bubble",new ve(at,ce)}}},{}],10:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){ve.Doughnut=function(at,ce){return ce.type="doughnut",new ve(at,ce)}}},{}],11:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){ve.Line=function(at,ce){return ce.type="line",new ve(at,ce)}}},{}],12:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){ve.PolarArea=function(at,ce){return ce.type="polarArea",new ve(at,ce)}}},{}],13:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){ve.Radar=function(at,ce){return ce.type="radar",new ve(at,ce)}}},{}],14:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){ve.Scatter=function(at,ce){return ce.type="scatter",new ve(at,ce)}}},{}],15:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(40),ce=be(45);ve._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),ve._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(ge,Q){var Z="";return ge.length>0&&(ge[0].yLabel?Z=ge[0].yLabel:Q.labels.length>0&&ge[0].index<Q.labels.length&&(Z=Q.labels[ge[0].index])),Z},label:function(ge,Q){return(Q.datasets[ge.datasetIndex].label||"")+": "+ge.xLabel}},mode:"index",axis:"y"}}),Ae.exports=function(ge){ge.controllers.bar=ge.DatasetController.extend({dataElementType:at.Rectangle,initialize:function(){var Q,Z=this;ge.DatasetController.prototype.initialize.apply(Z,arguments),(Q=Z.getMeta()).stack=Z.getDataset().stack,Q.bar=!0},update:function(Q){var Z,q,j=this,J=j.getMeta().data;for(j._ruler=j.getRuler(),Z=0,q=J.length;Z<q;++Z)j.updateElement(J[Z],Z,Q)},updateElement:function(Q,Z,q){var j=this,J=j.chart,ee=j.getMeta(),O=j.getDataset(),B=Q.custom||{},K=J.options.elements.rectangle;Q._xScale=j.getScaleForId(ee.xAxisID),Q._yScale=j.getScaleForId(ee.yAxisID),Q._datasetIndex=j.index,Q._index=Z,Q._model={datasetLabel:O.label,label:J.data.labels[Z],borderSkipped:B.borderSkipped?B.borderSkipped:K.borderSkipped,backgroundColor:B.backgroundColor?B.backgroundColor:ce.valueAtIndexOrDefault(O.backgroundColor,Z,K.backgroundColor),borderColor:B.borderColor?B.borderColor:ce.valueAtIndexOrDefault(O.borderColor,Z,K.borderColor),borderWidth:B.borderWidth?B.borderWidth:ce.valueAtIndexOrDefault(O.borderWidth,Z,K.borderWidth)},j.updateElementGeometry(Q,Z,q),Q.pivot()},updateElementGeometry:function(Q,Z,q){var j=this,J=Q._model,ee=j.getValueScale(),O=ee.getBasePixel(),B=ee.isHorizontal(),K=j._ruler||j.getRuler(),de=j.calculateBarValuePixels(j.index,Z),me=j.calculateBarIndexPixels(j.index,Z,K);J.horizontal=B,J.base=q?O:de.base,J.x=B?q?O:de.head:me.center,J.y=B?me.center:q?O:de.head,J.height=B?me.size:void 0,J.width=B?void 0:me.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(Q){var Z,q,J=this.chart,ee=this.getIndexScale().options.stacked,O=void 0===Q?J.data.datasets.length:Q+1,B=[];for(Z=0;Z<O;++Z)(q=J.getDatasetMeta(Z)).bar&&J.isDatasetVisible(Z)&&(!1===ee||!0===ee&&-1===B.indexOf(q.stack)||void 0===ee&&(void 0===q.stack||-1===B.indexOf(q.stack)))&&B.push(q.stack);return B.length},getStackIndex:function(Q){return this.getStackCount(Q)-1},getRuler:function(){var Q,Z,q=this,j=q.getIndexScale(),J=q.getStackCount(),ee=q.index,O=[],B=j.isHorizontal(),K=B?j.left:j.top,de=K+(B?j.width:j.height);for(Q=0,Z=q.getMeta().data.length;Q<Z;++Q)O.push(j.getPixelForValue(null,Q,ee));return{pixels:O,start:K,end:de,stackCount:J,scale:j}},calculateBarValuePixels:function(Q,Z){var q,j,J,ee,O,B,K=this,de=K.chart,me=K.getMeta(),he=K.getValueScale(),De=de.data.datasets,Ne=he.getRightValue(De[Q].data[Z]),Ye=he.options.stacked,P=me.stack,We=0;if(Ye||void 0===Ye&&void 0!==P)for(q=0;q<Q;++q)(j=de.getDatasetMeta(q)).bar&&j.stack===P&&j.controller.getValueScaleId()===he.id&&de.isDatasetVisible(q)&&(J=he.getRightValue(De[q].data[Z]),(Ne<0&&J<0||Ne>=0&&J>0)&&(We+=J));return ee=he.getPixelForValue(We),{size:B=((O=he.getPixelForValue(We+Ne))-ee)/2,base:ee,head:O,center:O+B/2}},calculateBarIndexPixels:function(Q,Z,q){var j,J,ee,B,K,me=q.scale.options,he=this.getStackIndex(Q),De=q.pixels,Ne=De[Z],Ye=De.length,P=q.start,We=q.end;return 1===Ye?(j=Ne>P?Ne-P:We-Ne,J=Ne<We?We-Ne:Ne-P):(Z>0&&(j=(Ne-De[Z-1])/2,Z===Ye-1&&(J=j)),Z<Ye-1&&(J=(De[Z+1]-Ne)/2,0===Z&&(j=J))),K=(B=((ee=j*me.categoryPercentage)+J*me.categoryPercentage)/q.stackCount)*me.barPercentage,Ne-=ee,Ne+=B*he,{size:K=Math.min(ce.valueOrDefault(me.barThickness,K),ce.valueOrDefault(me.maxBarThickness,1/0)),base:Ne+=(B-K)/2,head:Ne+K,center:Ne+K/2}},draw:function(){var Q=this,Z=Q.chart,q=Q.getValueScale(),j=Q.getMeta().data,J=Q.getDataset(),ee=j.length,O=0;for(ce.canvas.clipArea(Z.ctx,Z.chartArea);O<ee;++O)isNaN(q.getRightValue(J.data[O]))||j[O].draw();ce.canvas.unclipArea(Z.ctx)},setHoverStyle:function(Q){var Z=this.chart.data.datasets[Q._datasetIndex],q=Q._index,j=Q.custom||{},J=Q._model;J.backgroundColor=j.hoverBackgroundColor?j.hoverBackgroundColor:ce.valueAtIndexOrDefault(Z.hoverBackgroundColor,q,ce.getHoverColor(J.backgroundColor)),J.borderColor=j.hoverBorderColor?j.hoverBorderColor:ce.valueAtIndexOrDefault(Z.hoverBorderColor,q,ce.getHoverColor(J.borderColor)),J.borderWidth=j.hoverBorderWidth?j.hoverBorderWidth:ce.valueAtIndexOrDefault(Z.hoverBorderWidth,q,J.borderWidth)},removeHoverStyle:function(Q){var Z=this.chart.data.datasets[Q._datasetIndex],q=Q._index,j=Q.custom||{},J=Q._model,ee=this.chart.options.elements.rectangle;J.backgroundColor=j.backgroundColor?j.backgroundColor:ce.valueAtIndexOrDefault(Z.backgroundColor,q,ee.backgroundColor),J.borderColor=j.borderColor?j.borderColor:ce.valueAtIndexOrDefault(Z.borderColor,q,ee.borderColor),J.borderWidth=j.borderWidth?j.borderWidth:ce.valueAtIndexOrDefault(Z.borderWidth,q,ee.borderWidth)}}),ge.controllers.horizontalBar=ge.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(40),ce=be(45);ve._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(ge,Q){return(Q.datasets[ge.datasetIndex].label||"")+": ("+ge.xLabel+", "+ge.yLabel+", "+Q.datasets[ge.datasetIndex].data[ge.index].r+")"}}}}),Ae.exports=function(ge){ge.controllers.bubble=ge.DatasetController.extend({dataElementType:at.Point,update:function(Q){var Z=this,q=Z.getMeta().data;ce.each(q,function(j,J){Z.updateElement(j,J,Q)})},updateElement:function(Q,Z,q){var j=this,J=j.getMeta(),ee=Q.custom||{},O=j.getScaleForId(J.xAxisID),B=j.getScaleForId(J.yAxisID),K=j._resolveElementOptions(Q,Z),de=j.getDataset().data[Z],me=j.index,he=q?O.getPixelForDecimal(.5):O.getPixelForValue("object"==typeof de?de:NaN,Z,me),De=q?B.getBasePixel():B.getPixelForValue(de,Z,me);Q._xScale=O,Q._yScale=B,Q._options=K,Q._datasetIndex=me,Q._index=Z,Q._model={backgroundColor:K.backgroundColor,borderColor:K.borderColor,borderWidth:K.borderWidth,hitRadius:K.hitRadius,pointStyle:K.pointStyle,radius:q?0:K.radius,skip:ee.skip||isNaN(he)||isNaN(De),x:he,y:De},Q.pivot()},setHoverStyle:function(Q){var Z=Q._model,q=Q._options;Z.backgroundColor=ce.valueOrDefault(q.hoverBackgroundColor,ce.getHoverColor(q.backgroundColor)),Z.borderColor=ce.valueOrDefault(q.hoverBorderColor,ce.getHoverColor(q.borderColor)),Z.borderWidth=ce.valueOrDefault(q.hoverBorderWidth,q.borderWidth),Z.radius=q.radius+q.hoverRadius},removeHoverStyle:function(Q){var Z=Q._model,q=Q._options;Z.backgroundColor=q.backgroundColor,Z.borderColor=q.borderColor,Z.borderWidth=q.borderWidth,Z.radius=q.radius},_resolveElementOptions:function(Q,Z){var q,j,J,O=this.chart,B=O.data.datasets[this.index],K=Q.custom||{},de=O.options.elements.point,me=ce.options.resolve,he=B.data[Z],De={},Ne={chart:O,dataIndex:Z,dataset:B,datasetIndex:this.index},Ye=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(q=0,j=Ye.length;q<j;++q)De[J=Ye[q]]=me([K[J],B[J],de[J]],Ne,Z);return De.radius=me([K.radius,he?he.r:void 0,B.radius,de.radius],Ne,Z),De}})}},{25:25,40:40,45:45}],17:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(40),ce=be(45);ve._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(ge){var Q=[];Q.push('<ul class="'+ge.id+'-legend">');var Z=ge.data,q=Z.datasets,j=Z.labels;if(q.length)for(var J=0;J<q[0].data.length;++J)Q.push('<li><span style="background-color:'+q[0].backgroundColor[J]+'"></span>'),j[J]&&Q.push(j[J]),Q.push("</li>");return Q.push("</ul>"),Q.join("")},legend:{labels:{generateLabels:function(ge){var Q=ge.data;return Q.labels.length&&Q.datasets.length?Q.labels.map(function(Z,q){var j=ge.getDatasetMeta(0),J=Q.datasets[0],ee=j.data[q],O=ee&&ee.custom||{},B=ce.valueAtIndexOrDefault,K=ge.options.elements.arc;return{text:Z,fillStyle:O.backgroundColor?O.backgroundColor:B(J.backgroundColor,q,K.backgroundColor),strokeStyle:O.borderColor?O.borderColor:B(J.borderColor,q,K.borderColor),lineWidth:O.borderWidth?O.borderWidth:B(J.borderWidth,q,K.borderWidth),hidden:isNaN(J.data[q])||j.data[q].hidden,index:q}}):[]}},onClick:function(ge,Q){var Z,q,j,J=Q.index,ee=this.chart;for(Z=0,q=(ee.data.datasets||[]).length;Z<q;++Z)(j=ee.getDatasetMeta(Z)).data[J]&&(j.data[J].hidden=!j.data[J].hidden);ee.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(ge,Q){var Z=Q.labels[ge.index],q=": "+Q.datasets[ge.datasetIndex].data[ge.index];return ce.isArray(Z)?(Z=Z.slice())[0]+=q:Z+=q,Z}}}}),ve._set("pie",ce.clone(ve.doughnut)),ve._set("pie",{cutoutPercentage:0}),Ae.exports=function(ge){ge.controllers.doughnut=ge.controllers.pie=ge.DatasetController.extend({dataElementType:at.Arc,linkScales:ce.noop,getRingIndex:function(Q){for(var Z=0,q=0;q<Q;++q)this.chart.isDatasetVisible(q)&&++Z;return Z},update:function(Q){var Z=this,q=Z.chart,j=q.chartArea,J=q.options,ee=J.elements.arc,O=j.right-j.left-ee.borderWidth,B=j.bottom-j.top-ee.borderWidth,K=Math.min(O,B),de={x:0,y:0},me=Z.getMeta(),he=J.cutoutPercentage,De=J.circumference;if(De<2*Math.PI){var Ne=J.rotation%(2*Math.PI),Ye=(Ne+=2*Math.PI*(Ne>=Math.PI?-1:Ne<-Math.PI?1:0))+De,P={x:Math.cos(Ne),y:Math.sin(Ne)},We={x:Math.cos(Ye),y:Math.sin(Ye)},xe=Ne<=0&&Ye>=0||Ne<=2*Math.PI&&2*Math.PI<=Ye,ke=Ne<=.5*Math.PI&&.5*Math.PI<=Ye||Ne<=2.5*Math.PI&&2.5*Math.PI<=Ye,Ve=Ne<=-Math.PI&&-Math.PI<=Ye||Ne<=Math.PI&&Math.PI<=Ye,ue=Ne<=.5*-Math.PI&&.5*-Math.PI<=Ye||Ne<=1.5*Math.PI&&1.5*Math.PI<=Ye,Re=he/100,je={x:Ve?-1:Math.min(P.x*(P.x<0?1:Re),We.x*(We.x<0?1:Re)),y:ue?-1:Math.min(P.y*(P.y<0?1:Re),We.y*(We.y<0?1:Re))},Je={x:xe?1:Math.max(P.x*(P.x>0?1:Re),We.x*(We.x>0?1:Re)),y:ke?1:Math.max(P.y*(P.y>0?1:Re),We.y*(We.y>0?1:Re))},ht={width:.5*(Je.x-je.x),height:.5*(Je.y-je.y)};K=Math.min(O/ht.width,B/ht.height),de={x:-.5*(Je.x+je.x),y:-.5*(Je.y+je.y)}}q.borderWidth=Z.getMaxBorderWidth(me.data),q.outerRadius=Math.max((K-q.borderWidth)/2,0),q.innerRadius=Math.max(he?q.outerRadius/100*he:0,0),q.radiusLength=(q.outerRadius-q.innerRadius)/q.getVisibleDatasetCount(),q.offsetX=de.x*q.outerRadius,q.offsetY=de.y*q.outerRadius,me.total=Z.calculateTotal(),Z.outerRadius=q.outerRadius-q.radiusLength*Z.getRingIndex(Z.index),Z.innerRadius=Math.max(Z.outerRadius-q.radiusLength,0),ce.each(me.data,function(dt,Nt){Z.updateElement(dt,Nt,Q)})},updateElement:function(Q,Z,q){var j=this,J=j.chart,ee=J.chartArea,O=J.options,B=O.animation,K=(ee.left+ee.right)/2,de=(ee.top+ee.bottom)/2,me=O.rotation,he=O.rotation,De=j.getDataset(),Ne=q&&B.animateRotate||Q.hidden?0:j.calculateCircumference(De.data[Z])*(O.circumference/(2*Math.PI));ce.extend(Q,{_datasetIndex:j.index,_index:Z,_model:{x:K+J.offsetX,y:de+J.offsetY,startAngle:me,endAngle:he,circumference:Ne,outerRadius:q&&B.animateScale?0:j.outerRadius,innerRadius:q&&B.animateScale?0:j.innerRadius,label:(0,ce.valueAtIndexOrDefault)(De.label,Z,J.data.labels[Z])}});var xe=Q._model;this.removeHoverStyle(Q),q&&B.animateRotate||(xe.startAngle=0===Z?O.rotation:j.getMeta().data[Z-1]._model.endAngle,xe.endAngle=xe.startAngle+xe.circumference),Q.pivot()},removeHoverStyle:function(Q){ge.DatasetController.prototype.removeHoverStyle.call(this,Q,this.chart.options.elements.arc)},calculateTotal:function(){var Q,Z=this.getDataset(),q=this.getMeta(),j=0;return ce.each(q.data,function(J,ee){Q=Z.data[ee],isNaN(Q)||J.hidden||(j+=Math.abs(Q))}),j},calculateCircumference:function(Q){var Z=this.getMeta().total;return Z>0&&!isNaN(Q)?2*Math.PI*(Q/Z):0},getMaxBorderWidth:function(Q){for(var Z,q,j=0,J=this.index,ee=Q.length,O=0;O<ee;O++)j=(q=Q[O]._chart?Q[O]._chart.config.data.datasets[J].hoverBorderWidth:0)>(j=(Z=Q[O]._model?Q[O]._model.borderWidth:0)>j?Z:j)?q:j;return j}})}},{25:25,40:40,45:45}],18:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(40),ce=be(45);ve._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),Ae.exports=function(ge){function Q(Z,q){return ce.valueOrDefault(Z.showLine,q.showLines)}ge.controllers.line=ge.DatasetController.extend({datasetElementType:at.Line,dataElementType:at.Point,update:function(Z){var q,j,J,ee=this,O=ee.getMeta(),B=O.dataset,K=O.data||[],de=ee.chart.options,me=de.elements.line,he=ee.getScaleForId(O.yAxisID),De=ee.getDataset(),Ne=Q(De,de);for(Ne&&(J=B.custom||{},void 0!==De.tension&&void 0===De.lineTension&&(De.lineTension=De.tension),B._scale=he,B._datasetIndex=ee.index,B._children=K,B._model={spanGaps:De.spanGaps?De.spanGaps:de.spanGaps,tension:J.tension?J.tension:ce.valueOrDefault(De.lineTension,me.tension),backgroundColor:J.backgroundColor?J.backgroundColor:De.backgroundColor||me.backgroundColor,borderWidth:J.borderWidth?J.borderWidth:De.borderWidth||me.borderWidth,borderColor:J.borderColor?J.borderColor:De.borderColor||me.borderColor,borderCapStyle:J.borderCapStyle?J.borderCapStyle:De.borderCapStyle||me.borderCapStyle,borderDash:J.borderDash?J.borderDash:De.borderDash||me.borderDash,borderDashOffset:J.borderDashOffset?J.borderDashOffset:De.borderDashOffset||me.borderDashOffset,borderJoinStyle:J.borderJoinStyle?J.borderJoinStyle:De.borderJoinStyle||me.borderJoinStyle,fill:J.fill?J.fill:void 0!==De.fill?De.fill:me.fill,steppedLine:J.steppedLine?J.steppedLine:ce.valueOrDefault(De.steppedLine,me.stepped),cubicInterpolationMode:J.cubicInterpolationMode?J.cubicInterpolationMode:ce.valueOrDefault(De.cubicInterpolationMode,me.cubicInterpolationMode)},B.pivot()),q=0,j=K.length;q<j;++q)ee.updateElement(K[q],q,Z);for(Ne&&0!==B._model.tension&&ee.updateBezierControlPoints(),q=0,j=K.length;q<j;++q)K[q].pivot()},getPointBackgroundColor:function(Z,q){var j=this.chart.options.elements.point.backgroundColor,J=this.getDataset(),ee=Z.custom||{};return ee.backgroundColor?j=ee.backgroundColor:J.pointBackgroundColor?j=ce.valueAtIndexOrDefault(J.pointBackgroundColor,q,j):J.backgroundColor&&(j=J.backgroundColor),j},getPointBorderColor:function(Z,q){var j=this.chart.options.elements.point.borderColor,J=this.getDataset(),ee=Z.custom||{};return ee.borderColor?j=ee.borderColor:J.pointBorderColor?j=ce.valueAtIndexOrDefault(J.pointBorderColor,q,j):J.borderColor&&(j=J.borderColor),j},getPointBorderWidth:function(Z,q){var j=this.chart.options.elements.point.borderWidth,J=this.getDataset(),ee=Z.custom||{};return isNaN(ee.borderWidth)?!isNaN(J.pointBorderWidth)||ce.isArray(J.pointBorderWidth)?j=ce.valueAtIndexOrDefault(J.pointBorderWidth,q,j):isNaN(J.borderWidth)||(j=J.borderWidth):j=ee.borderWidth,j},updateElement:function(Z,q,j){var J,ee,O=this,B=O.getMeta(),K=Z.custom||{},de=O.getDataset(),me=O.index,he=de.data[q],De=O.getScaleForId(B.yAxisID),Ne=O.getScaleForId(B.xAxisID),Ye=O.chart.options.elements.point;void 0!==de.radius&&void 0===de.pointRadius&&(de.pointRadius=de.radius),void 0!==de.hitRadius&&void 0===de.pointHitRadius&&(de.pointHitRadius=de.hitRadius),J=Ne.getPixelForValue("object"==typeof he?he:NaN,q,me),ee=j?De.getBasePixel():O.calculatePointY(he,q,me),Z._xScale=Ne,Z._yScale=De,Z._datasetIndex=me,Z._index=q,Z._model={x:J,y:ee,skip:K.skip||isNaN(J)||isNaN(ee),radius:K.radius||ce.valueAtIndexOrDefault(de.pointRadius,q,Ye.radius),pointStyle:K.pointStyle||ce.valueAtIndexOrDefault(de.pointStyle,q,Ye.pointStyle),backgroundColor:O.getPointBackgroundColor(Z,q),borderColor:O.getPointBorderColor(Z,q),borderWidth:O.getPointBorderWidth(Z,q),tension:B.dataset._model?B.dataset._model.tension:0,steppedLine:!!B.dataset._model&&B.dataset._model.steppedLine,hitRadius:K.hitRadius||ce.valueAtIndexOrDefault(de.pointHitRadius,q,Ye.hitRadius)}},calculatePointY:function(Z,q,j){var J,ee,O,B=this,K=B.chart,de=B.getMeta(),me=B.getScaleForId(de.yAxisID),he=0,De=0;if(me.options.stacked){for(J=0;J<j;J++)if(ee=K.data.datasets[J],"line"===(O=K.getDatasetMeta(J)).type&&O.yAxisID===me.id&&K.isDatasetVisible(J)){var Ne=Number(me.getRightValue(ee.data[q]));Ne<0?De+=Ne||0:he+=Ne||0}var Ye=Number(me.getRightValue(Z));return me.getPixelForValue(Ye<0?De+Ye:he+Ye)}return me.getPixelForValue(Z)},updateBezierControlPoints:function(){function Z(me,he,De){return Math.max(Math.min(me,De),he)}var q,j,J,ee,O=this,B=O.getMeta(),K=O.chart.chartArea,de=B.data||[];if(B.dataset._model.spanGaps&&(de=de.filter(function(me){return!me._model.skip})),"monotone"===B.dataset._model.cubicInterpolationMode)ce.splineCurveMonotone(de);else for(q=0,j=de.length;q<j;++q)J=de[q]._model,ee=ce.splineCurve(ce.previousItem(de,q)._model,J,ce.nextItem(de,q)._model,B.dataset._model.tension),J.controlPointPreviousX=ee.previous.x,J.controlPointPreviousY=ee.previous.y,J.controlPointNextX=ee.next.x,J.controlPointNextY=ee.next.y;if(O.chart.options.elements.line.capBezierPoints)for(q=0,j=de.length;q<j;++q)(J=de[q]._model).controlPointPreviousX=Z(J.controlPointPreviousX,K.left,K.right),J.controlPointPreviousY=Z(J.controlPointPreviousY,K.top,K.bottom),J.controlPointNextX=Z(J.controlPointNextX,K.left,K.right),J.controlPointNextY=Z(J.controlPointNextY,K.top,K.bottom)},draw:function(){var Z=this,q=Z.chart,j=Z.getMeta(),J=j.data||[],ee=q.chartArea,O=J.length,B=0;for(ce.canvas.clipArea(q.ctx,ee),Q(Z.getDataset(),q.options)&&j.dataset.draw(),ce.canvas.unclipArea(q.ctx);B<O;++B)J[B].draw(ee)},setHoverStyle:function(Z){var q=this.chart.data.datasets[Z._datasetIndex],j=Z._index,J=Z.custom||{},ee=Z._model;ee.radius=J.hoverRadius||ce.valueAtIndexOrDefault(q.pointHoverRadius,j,this.chart.options.elements.point.hoverRadius),ee.backgroundColor=J.hoverBackgroundColor||ce.valueAtIndexOrDefault(q.pointHoverBackgroundColor,j,ce.getHoverColor(ee.backgroundColor)),ee.borderColor=J.hoverBorderColor||ce.valueAtIndexOrDefault(q.pointHoverBorderColor,j,ce.getHoverColor(ee.borderColor)),ee.borderWidth=J.hoverBorderWidth||ce.valueAtIndexOrDefault(q.pointHoverBorderWidth,j,ee.borderWidth)},removeHoverStyle:function(Z){var q=this,j=q.chart.data.datasets[Z._datasetIndex],J=Z._index,ee=Z.custom||{},O=Z._model;void 0!==j.radius&&void 0===j.pointRadius&&(j.pointRadius=j.radius),O.radius=ee.radius||ce.valueAtIndexOrDefault(j.pointRadius,J,q.chart.options.elements.point.radius),O.backgroundColor=q.getPointBackgroundColor(Z,J),O.borderColor=q.getPointBorderColor(Z,J),O.borderWidth=q.getPointBorderWidth(Z,J)}})}},{25:25,40:40,45:45}],19:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(40),ce=be(45);ve._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(ge){var Q=[];Q.push('<ul class="'+ge.id+'-legend">');var Z=ge.data,q=Z.datasets,j=Z.labels;if(q.length)for(var J=0;J<q[0].data.length;++J)Q.push('<li><span style="background-color:'+q[0].backgroundColor[J]+'"></span>'),j[J]&&Q.push(j[J]),Q.push("</li>");return Q.push("</ul>"),Q.join("")},legend:{labels:{generateLabels:function(ge){var Q=ge.data;return Q.labels.length&&Q.datasets.length?Q.labels.map(function(Z,q){var j=ge.getDatasetMeta(0),J=Q.datasets[0],ee=j.data[q].custom||{},O=ce.valueAtIndexOrDefault,B=ge.options.elements.arc;return{text:Z,fillStyle:ee.backgroundColor?ee.backgroundColor:O(J.backgroundColor,q,B.backgroundColor),strokeStyle:ee.borderColor?ee.borderColor:O(J.borderColor,q,B.borderColor),lineWidth:ee.borderWidth?ee.borderWidth:O(J.borderWidth,q,B.borderWidth),hidden:isNaN(J.data[q])||j.data[q].hidden,index:q}}):[]}},onClick:function(ge,Q){var Z,q,j,J=Q.index,ee=this.chart;for(Z=0,q=(ee.data.datasets||[]).length;Z<q;++Z)(j=ee.getDatasetMeta(Z)).data[J].hidden=!j.data[J].hidden;ee.update()}},tooltips:{callbacks:{title:function(){return""},label:function(ge,Q){return Q.labels[ge.index]+": "+ge.yLabel}}}}),Ae.exports=function(ge){ge.controllers.polarArea=ge.DatasetController.extend({dataElementType:at.Arc,linkScales:ce.noop,update:function(Q){var Z=this,q=Z.chart,j=q.chartArea,J=Z.getMeta(),ee=q.options,O=ee.elements.arc,B=Math.min(j.right-j.left,j.bottom-j.top);q.outerRadius=Math.max((B-O.borderWidth/2)/2,0),q.innerRadius=Math.max(ee.cutoutPercentage?q.outerRadius/100*ee.cutoutPercentage:1,0),q.radiusLength=(q.outerRadius-q.innerRadius)/q.getVisibleDatasetCount(),Z.outerRadius=q.outerRadius-q.radiusLength*Z.index,Z.innerRadius=Z.outerRadius-q.radiusLength,J.count=Z.countVisibleElements(),ce.each(J.data,function(K,de){Z.updateElement(K,de,Q)})},updateElement:function(Q,Z,q){for(var j=this,J=j.chart,ee=j.getDataset(),O=J.options,B=O.animation,K=J.scale,de=J.data.labels,me=j.calculateCircumference(ee.data[Z]),he=K.xCenter,De=K.yCenter,Ne=0,Ye=j.getMeta(),P=0;P<Z;++P)isNaN(ee.data[P])||Ye.data[P].hidden||++Ne;var We=O.startAngle,xe=Q.hidden?0:K.getDistanceFromCenterForValue(ee.data[Z]),ke=We+me*Ne,Ve=ke+(Q.hidden?0:me),ue=B.animateScale?0:K.getDistanceFromCenterForValue(ee.data[Z]);ce.extend(Q,{_datasetIndex:j.index,_index:Z,_scale:K,_model:{x:he,y:De,innerRadius:0,outerRadius:q?ue:xe,startAngle:q&&B.animateRotate?We:ke,endAngle:q&&B.animateRotate?We:Ve,label:ce.valueAtIndexOrDefault(de,Z,de[Z])}}),j.removeHoverStyle(Q),Q.pivot()},removeHoverStyle:function(Q){ge.DatasetController.prototype.removeHoverStyle.call(this,Q,this.chart.options.elements.arc)},countVisibleElements:function(){var Q=this.getDataset(),Z=this.getMeta(),q=0;return ce.each(Z.data,function(j,J){isNaN(Q.data[J])||j.hidden||q++}),q},calculateCircumference:function(Q){var Z=this.getMeta().count;return Z>0&&!isNaN(Q)?2*Math.PI/Z:0}})}},{25:25,40:40,45:45}],20:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(40),ce=be(45);ve._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),Ae.exports=function(ge){ge.controllers.radar=ge.DatasetController.extend({datasetElementType:at.Line,dataElementType:at.Point,linkScales:ce.noop,update:function(Q){var Z=this,q=Z.getMeta(),J=q.data,ee=q.dataset.custom||{},O=Z.getDataset(),B=Z.chart.options.elements.line,K=Z.chart.scale;void 0!==O.tension&&void 0===O.lineTension&&(O.lineTension=O.tension),ce.extend(q.dataset,{_datasetIndex:Z.index,_scale:K,_children:J,_loop:!0,_model:{tension:ee.tension?ee.tension:ce.valueOrDefault(O.lineTension,B.tension),backgroundColor:ee.backgroundColor?ee.backgroundColor:O.backgroundColor||B.backgroundColor,borderWidth:ee.borderWidth?ee.borderWidth:O.borderWidth||B.borderWidth,borderColor:ee.borderColor?ee.borderColor:O.borderColor||B.borderColor,fill:ee.fill?ee.fill:void 0!==O.fill?O.fill:B.fill,borderCapStyle:ee.borderCapStyle?ee.borderCapStyle:O.borderCapStyle||B.borderCapStyle,borderDash:ee.borderDash?ee.borderDash:O.borderDash||B.borderDash,borderDashOffset:ee.borderDashOffset?ee.borderDashOffset:O.borderDashOffset||B.borderDashOffset,borderJoinStyle:ee.borderJoinStyle?ee.borderJoinStyle:O.borderJoinStyle||B.borderJoinStyle}}),q.dataset.pivot(),ce.each(J,function(de,me){Z.updateElement(de,me,Q)},Z),Z.updateBezierControlPoints()},updateElement:function(Q,Z,q){var j=this,J=Q.custom||{},ee=j.getDataset(),O=j.chart.scale,B=j.chart.options.elements.point,K=O.getPointPositionForValue(Z,ee.data[Z]);void 0!==ee.radius&&void 0===ee.pointRadius&&(ee.pointRadius=ee.radius),void 0!==ee.hitRadius&&void 0===ee.pointHitRadius&&(ee.pointHitRadius=ee.hitRadius),ce.extend(Q,{_datasetIndex:j.index,_index:Z,_scale:O,_model:{x:q?O.xCenter:K.x,y:q?O.yCenter:K.y,tension:J.tension?J.tension:ce.valueOrDefault(ee.lineTension,j.chart.options.elements.line.tension),radius:J.radius?J.radius:ce.valueAtIndexOrDefault(ee.pointRadius,Z,B.radius),backgroundColor:J.backgroundColor?J.backgroundColor:ce.valueAtIndexOrDefault(ee.pointBackgroundColor,Z,B.backgroundColor),borderColor:J.borderColor?J.borderColor:ce.valueAtIndexOrDefault(ee.pointBorderColor,Z,B.borderColor),borderWidth:J.borderWidth?J.borderWidth:ce.valueAtIndexOrDefault(ee.pointBorderWidth,Z,B.borderWidth),pointStyle:J.pointStyle?J.pointStyle:ce.valueAtIndexOrDefault(ee.pointStyle,Z,B.pointStyle),hitRadius:J.hitRadius?J.hitRadius:ce.valueAtIndexOrDefault(ee.pointHitRadius,Z,B.hitRadius)}}),Q._model.skip=J.skip?J.skip:isNaN(Q._model.x)||isNaN(Q._model.y)},updateBezierControlPoints:function(){var Q=this.chart.chartArea,Z=this.getMeta();ce.each(Z.data,function(q,j){var J=q._model,ee=ce.splineCurve(ce.previousItem(Z.data,j,!0)._model,J,ce.nextItem(Z.data,j,!0)._model,J.tension);J.controlPointPreviousX=Math.max(Math.min(ee.previous.x,Q.right),Q.left),J.controlPointPreviousY=Math.max(Math.min(ee.previous.y,Q.bottom),Q.top),J.controlPointNextX=Math.max(Math.min(ee.next.x,Q.right),Q.left),J.controlPointNextY=Math.max(Math.min(ee.next.y,Q.bottom),Q.top),q.pivot()})},setHoverStyle:function(Q){var Z=this.chart.data.datasets[Q._datasetIndex],q=Q.custom||{},j=Q._index,J=Q._model;J.radius=q.hoverRadius?q.hoverRadius:ce.valueAtIndexOrDefault(Z.pointHoverRadius,j,this.chart.options.elements.point.hoverRadius),J.backgroundColor=q.hoverBackgroundColor?q.hoverBackgroundColor:ce.valueAtIndexOrDefault(Z.pointHoverBackgroundColor,j,ce.getHoverColor(J.backgroundColor)),J.borderColor=q.hoverBorderColor?q.hoverBorderColor:ce.valueAtIndexOrDefault(Z.pointHoverBorderColor,j,ce.getHoverColor(J.borderColor)),J.borderWidth=q.hoverBorderWidth?q.hoverBorderWidth:ce.valueAtIndexOrDefault(Z.pointHoverBorderWidth,j,J.borderWidth)},removeHoverStyle:function(Q){var Z=this.chart.data.datasets[Q._datasetIndex],q=Q.custom||{},j=Q._index,J=Q._model,ee=this.chart.options.elements.point;J.radius=q.radius?q.radius:ce.valueAtIndexOrDefault(Z.pointRadius,j,ee.radius),J.backgroundColor=q.backgroundColor?q.backgroundColor:ce.valueAtIndexOrDefault(Z.pointBackgroundColor,j,ee.backgroundColor),J.borderColor=q.borderColor?q.borderColor:ce.valueAtIndexOrDefault(Z.pointBorderColor,j,ee.borderColor),J.borderWidth=q.borderWidth?q.borderWidth:ce.valueAtIndexOrDefault(Z.pointBorderWidth,j,ee.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(be,Ae,Sn){"use strict";be(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(ve){return"("+ve.xLabel+", "+ve.yLabel+")"}}}}),Ae.exports=function(ve){ve.controllers.scatter=ve.controllers.line}},{25:25}],22:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(26),ce=be(45);ve._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:ce.noop,onComplete:ce.noop}}),Ae.exports=function(ge){ge.Animation=at.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),ge.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(Q,Z,q,j){var J,ee,O=this.animations;for(Z.chart=Q,j||(Q.animating=!0),J=0,ee=O.length;J<ee;++J)if(O[J].chart===Q)return void(O[J]=Z);O.push(Z),1===O.length&&this.requestAnimationFrame()},cancelAnimation:function(Q){var Z=ce.findIndex(this.animations,function(q){return q.chart===Q});-1!==Z&&(this.animations.splice(Z,1),Q.animating=!1)},requestAnimationFrame:function(){var Q=this;null===Q.request&&(Q.request=ce.requestAnimFrame.call(window,function(){Q.request=null,Q.startDigest()}))},startDigest:function(){var Q=this,Z=Date.now(),q=0;Q.dropFrames>1&&(q=Math.floor(Q.dropFrames),Q.dropFrames=Q.dropFrames%1),Q.advance(1+q);var j=Date.now();Q.dropFrames+=(j-Z)/Q.frameDuration,Q.animations.length>0&&Q.requestAnimationFrame()},advance:function(Q){for(var Z,q,j=this.animations,J=0;J<j.length;)q=(Z=j[J]).chart,Z.currentStep=(Z.currentStep||0)+Q,Z.currentStep=Math.min(Z.currentStep,Z.numSteps),ce.callback(Z.render,[q,Z],q),ce.callback(Z.onAnimationProgress,[Z],q),Z.currentStep>=Z.numSteps?(ce.callback(Z.onAnimationComplete,[Z],q),q.animating=!1,j.splice(J,1)):++J}},Object.defineProperty(ge.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(ge.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(Q){this.chart=Q}})}},{25:25,26:26,45:45}],23:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(45),ce=be(28),ge=be(48);Ae.exports=function(Q){function j(ee){return"top"===ee||"bottom"===ee}var J=Q.plugins;Q.types={},Q.instances={},Q.controllers={},at.extend(Q.prototype,{construct:function(ee,O){var B=this;O=function Z(ee){var O=(ee=ee||{}).data=ee.data||{};return O.datasets=O.datasets||[],O.labels=O.labels||[],ee.options=at.configMerge(ve.global,ve[ee.type],ee.options||{}),ee}(O);var K=ge.acquireContext(ee,O),de=K&&K.canvas,me=de&&de.height,he=de&&de.width;B.id=at.uid(),B.ctx=K,B.canvas=de,B.config=O,B.width=he,B.height=me,B.aspectRatio=me?he/me:null,B.options=O.options,B._bufferedRender=!1,B.chart=B,B.controller=B,Q.instances[B.id]=B,Object.defineProperty(B,"data",{get:function(){return B.config.data},set:function(De){B.config.data=De}}),K&&de?(B.initialize(),B.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var ee=this;return J.notify(ee,"beforeInit"),at.retinaScale(ee,ee.options.devicePixelRatio),ee.bindEvents(),ee.options.responsive&&ee.resize(!0),ee.ensureScalesHaveIDs(),ee.buildScales(),ee.initToolTip(),J.notify(ee,"afterInit"),ee},clear:function(){return at.canvas.clear(this),this},stop:function(){return Q.animationService.cancelAnimation(this),this},resize:function(ee){var O=this,B=O.options,K=O.canvas,de=B.maintainAspectRatio&&O.aspectRatio||null,me=Math.max(0,Math.floor(at.getMaximumWidth(K))),he=Math.max(0,Math.floor(de?me/de:at.getMaximumHeight(K)));if((O.width!==me||O.height!==he)&&(K.width=O.width=me,K.height=O.height=he,K.style.width=me+"px",K.style.height=he+"px",at.retinaScale(O,B.devicePixelRatio),!ee)){var De={width:me,height:he};J.notify(O,"resize",[De]),O.options.onResize&&O.options.onResize(O,De),O.stop(),O.update(O.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var ee=this.options,O=ee.scales||{},B=ee.scale;at.each(O.xAxes,function(K,de){K.id=K.id||"x-axis-"+de}),at.each(O.yAxes,function(K,de){K.id=K.id||"y-axis-"+de}),B&&(B.id=B.id||"scale")},buildScales:function(){var ee=this,O=ee.options,B=ee.scales={},K=[];O.scales&&(K=K.concat((O.scales.xAxes||[]).map(function(de){return{options:de,dtype:"category",dposition:"bottom"}}),(O.scales.yAxes||[]).map(function(de){return{options:de,dtype:"linear",dposition:"left"}}))),O.scale&&K.push({options:O.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),at.each(K,function(de){var me=de.options,he=at.valueOrDefault(me.type,de.dtype),De=Q.scaleService.getScaleConstructor(he);if(De){j(me.position)!==j(de.dposition)&&(me.position=de.dposition);var Ne=new De({id:me.id,options:me,ctx:ee.ctx,chart:ee});B[Ne.id]=Ne,Ne.mergeTicksOptions(),de.isDefault&&(ee.scale=Ne)}}),Q.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var ee=this,O=[],B=[];return at.each(ee.data.datasets,function(K,de){var me=ee.getDatasetMeta(de),he=K.type||ee.config.type;if(me.type&&me.type!==he&&(ee.destroyDatasetMeta(de),me=ee.getDatasetMeta(de)),me.type=he,O.push(me.type),me.controller)me.controller.updateIndex(de);else{var De=Q.controllers[me.type];if(void 0===De)throw new Error('"'+me.type+'" is not a chart type.');me.controller=new De(ee,de),B.push(me.controller)}},ee),B},resetElements:function(){var ee=this;at.each(ee.data.datasets,function(O,B){ee.getDatasetMeta(B).controller.reset()},ee)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(ee){var O=this;if(ee&&"object"==typeof ee||(ee={duration:ee,lazy:arguments[1]}),function q(ee){var O=ee.options;O.scale?ee.scale.options=O.scale:O.scales&&O.scales.xAxes.concat(O.scales.yAxes).forEach(function(B){ee.scales[B.id].options=B}),ee.tooltip._options=O.tooltips}(O),!1!==J.notify(O,"beforeUpdate")){O.tooltip._data=O.data;var B=O.buildOrUpdateControllers();at.each(O.data.datasets,function(K,de){O.getDatasetMeta(de).controller.buildOrUpdateElements()},O),O.updateLayout(),at.each(B,function(K){K.reset()}),O.updateDatasets(),O.tooltip.initialize(),O.lastActive=[],J.notify(O,"afterUpdate"),O._bufferedRender?O._bufferedRequest={duration:ee.duration,easing:ee.easing,lazy:ee.lazy}:O.render(ee)}},updateLayout:function(){!1!==J.notify(this,"beforeLayout")&&(Q.layoutService.update(this,this.width,this.height),J.notify(this,"afterScaleUpdate"),J.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==J.notify(this,"beforeDatasetsUpdate")){for(var O=0,B=this.data.datasets.length;O<B;++O)this.updateDataset(O);J.notify(this,"afterDatasetsUpdate")}},updateDataset:function(ee){var O=this,B=O.getDatasetMeta(ee),K={meta:B,index:ee};!1!==J.notify(O,"beforeDatasetUpdate",[K])&&(B.controller.update(),J.notify(O,"afterDatasetUpdate",[K]))},render:function(ee){var O=this;ee&&"object"==typeof ee||(ee={duration:ee,lazy:arguments[1]});var B=ee.duration,K=ee.lazy;if(!1!==J.notify(O,"beforeRender")){var de=O.options.animation,me=function(De){J.notify(O,"afterRender"),at.callback(de&&de.onComplete,[De],O)};if(de&&(void 0!==B&&0!==B||void 0===B&&0!==de.duration)){var he=new Q.Animation({numSteps:(B||de.duration)/16.66,easing:ee.easing||de.easing,render:function(De,Ne){var P=Ne.currentStep,We=P/Ne.numSteps;De.draw((0,at.easing.effects[Ne.easing])(We),We,P)},onAnimationProgress:de.onProgress,onAnimationComplete:me});Q.animationService.addAnimation(O,he,B,K)}else O.draw(),me(new Q.Animation({numSteps:0,chart:O}));return O}},draw:function(ee){var O=this;O.clear(),at.isNullOrUndef(ee)&&(ee=1),O.transition(ee),!1!==J.notify(O,"beforeDraw",[ee])&&(at.each(O.boxes,function(B){B.draw(O.chartArea)},O),O.scale&&O.scale.draw(),O.drawDatasets(ee),O._drawTooltip(ee),J.notify(O,"afterDraw",[ee]))},transition:function(ee){for(var O=this,B=0,K=(O.data.datasets||[]).length;B<K;++B)O.isDatasetVisible(B)&&O.getDatasetMeta(B).controller.transition(ee);O.tooltip.transition(ee)},drawDatasets:function(ee){var O=this;if(!1!==J.notify(O,"beforeDatasetsDraw",[ee])){for(var B=(O.data.datasets||[]).length-1;B>=0;--B)O.isDatasetVisible(B)&&O.drawDataset(B,ee);J.notify(O,"afterDatasetsDraw",[ee])}},drawDataset:function(ee,O){var B=this,K=B.getDatasetMeta(ee),de={meta:K,index:ee,easingValue:O};!1!==J.notify(B,"beforeDatasetDraw",[de])&&(K.controller.draw(O),J.notify(B,"afterDatasetDraw",[de]))},_drawTooltip:function(ee){var O=this,B=O.tooltip,K={tooltip:B,easingValue:ee};!1!==J.notify(O,"beforeTooltipDraw",[K])&&(B.draw(),J.notify(O,"afterTooltipDraw",[K]))},getElementAtEvent:function(ee){return ce.modes.single(this,ee)},getElementsAtEvent:function(ee){return ce.modes.label(this,ee,{intersect:!0})},getElementsAtXAxis:function(ee){return ce.modes["x-axis"](this,ee,{intersect:!0})},getElementsAtEventForMode:function(ee,O,B){var K=ce.modes[O];return"function"==typeof K?K(this,ee,B):[]},getDatasetAtEvent:function(ee){return ce.modes.dataset(this,ee,{intersect:!0})},getDatasetMeta:function(ee){var O=this,B=O.data.datasets[ee];B._meta||(B._meta={});var K=B._meta[O.id];return K||(K=B._meta[O.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),K},getVisibleDatasetCount:function(){for(var ee=0,O=0,B=this.data.datasets.length;O<B;++O)this.isDatasetVisible(O)&&ee++;return ee},isDatasetVisible:function(ee){var O=this.getDatasetMeta(ee);return"boolean"==typeof O.hidden?!O.hidden:!this.data.datasets[ee].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(ee){var O=this.id,B=this.data.datasets[ee],K=B._meta&&B._meta[O];K&&(K.controller.destroy(),delete B._meta[O])},destroy:function(){var ee,O,B=this,K=B.canvas;for(B.stop(),ee=0,O=B.data.datasets.length;ee<O;++ee)B.destroyDatasetMeta(ee);K&&(B.unbindEvents(),at.canvas.clear(B),ge.releaseContext(B.ctx),B.canvas=null,B.ctx=null),J.notify(B,"destroy"),delete Q.instances[B.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var ee=this;ee.tooltip=new Q.Tooltip({_chart:ee,_chartInstance:ee,_data:ee.data,_options:ee.options.tooltips},ee)},bindEvents:function(){var ee=this,O=ee._listeners={},B=function(){ee.eventHandler.apply(ee,arguments)};at.each(ee.options.events,function(K){ge.addEventListener(ee,K,B),O[K]=B}),ee.options.responsive&&(B=function(){ee.resize()},ge.addEventListener(ee,"resize",B),O.resize=B)},unbindEvents:function(){var ee=this,O=ee._listeners;O&&(delete ee._listeners,at.each(O,function(B,K){ge.removeEventListener(ee,K,B)}))},updateHoverStyle:function(ee,O,B){var K,de,me,he=B?"setHoverStyle":"removeHoverStyle";for(de=0,me=ee.length;de<me;++de)(K=ee[de])&&this.getDatasetMeta(K._datasetIndex).controller[he](K)},eventHandler:function(ee){var O=this,B=O.tooltip;if(!1!==J.notify(O,"beforeEvent",[ee])){O._bufferedRender=!0,O._bufferedRequest=null;var K=O.handleEvent(ee);K|=B&&B.handleEvent(ee),J.notify(O,"afterEvent",[ee]);var de=O._bufferedRequest;return de?O.render(de):K&&!O.animating&&(O.stop(),O.render(O.options.hover.animationDuration,!0)),O._bufferedRender=!1,O._bufferedRequest=null,O}},handleEvent:function(ee){var de,O=this,B=O.options||{},K=B.hover;return O.lastActive=O.lastActive||[],O.active="mouseout"===ee.type?[]:O.getElementsAtEventForMode(ee,K.mode,K),at.callback(B.onHover||B.hover.onHover,[ee.native,O.active],O),"mouseup"!==ee.type&&"click"!==ee.type||B.onClick&&B.onClick.call(O,ee.native,O.active),O.lastActive.length&&O.updateHoverStyle(O.lastActive,K.mode,!1),O.active.length&&K.mode&&O.updateHoverStyle(O.active,K.mode,!0),de=!at.arrayEquals(O.active,O.lastActive),O.lastActive=O.active,de}}),Q.Controller=Q}},{25:25,28:28,45:45,48:48}],24:[function(be,Ae,Sn){"use strict";var ve=be(45);Ae.exports=function(at){function ge(Z,q){var j=Z._chartjs;if(j){var J=j.listeners,ee=J.indexOf(q);-1!==ee&&J.splice(ee,1),J.length>0||(Q.forEach(function(O){delete Z[O]}),delete Z._chartjs)}}var Q=["push","pop","shift","splice","unshift"];at.DatasetController=function(Z,q){this.initialize(Z,q)},ve.extend(at.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(Z,q){var j=this;j.chart=Z,j.index=q,j.linkScales(),j.addElements()},updateIndex:function(Z){this.index=Z},linkScales:function(){var Z=this,q=Z.getMeta(),j=Z.getDataset();null===q.xAxisID&&(q.xAxisID=j.xAxisID||Z.chart.options.scales.xAxes[0].id),null===q.yAxisID&&(q.yAxisID=j.yAxisID||Z.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(Z){return this.chart.scales[Z]},reset:function(){this.update(!0)},destroy:function(){this._data&&ge(this._data,this)},createMetaDataset:function(){var Z=this,q=Z.datasetElementType;return q&&new q({_chart:Z.chart,_datasetIndex:Z.index})},createMetaData:function(Z){var q=this,j=q.dataElementType;return j&&new j({_chart:q.chart,_datasetIndex:q.index,_index:Z})},addElements:function(){var Z,q,j=this,J=j.getMeta(),ee=j.getDataset().data||[],O=J.data;for(Z=0,q=ee.length;Z<q;++Z)O[Z]=O[Z]||j.createMetaData(Z);J.dataset=J.dataset||j.createMetaDataset()},addElementAndReset:function(Z){var q=this.createMetaData(Z);this.getMeta().data.splice(Z,0,q),this.updateElement(q,Z,!0)},buildOrUpdateElements:function(){var Z=this,q=Z.getDataset(),j=q.data||(q.data=[]);Z._data!==j&&(Z._data&&ge(Z._data,Z),function ce(Z,q){Z._chartjs?Z._chartjs.listeners.push(q):(Object.defineProperty(Z,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[q]}}),Q.forEach(function(j){var J="onData"+j.charAt(0).toUpperCase()+j.slice(1),ee=Z[j];Object.defineProperty(Z,j,{configurable:!0,enumerable:!1,value:function(){var O=Array.prototype.slice.call(arguments),B=ee.apply(this,O);return ve.each(Z._chartjs.listeners,function(K){"function"==typeof K[J]&&K[J].apply(K,O)}),B}})}))}(j,Z),Z._data=j),Z.resyncElements()},update:ve.noop,transition:function(Z){for(var q=this.getMeta(),j=q.data||[],J=j.length,ee=0;ee<J;++ee)j[ee].transition(Z);q.dataset&&q.dataset.transition(Z)},draw:function(){var Z=this.getMeta(),q=Z.data||[],j=q.length,J=0;for(Z.dataset&&Z.dataset.draw();J<j;++J)q[J].draw()},removeHoverStyle:function(Z,q){var j=this.chart.data.datasets[Z._datasetIndex],J=Z._index,ee=Z.custom||{},O=ve.valueAtIndexOrDefault,B=Z._model;B.backgroundColor=ee.backgroundColor?ee.backgroundColor:O(j.backgroundColor,J,q.backgroundColor),B.borderColor=ee.borderColor?ee.borderColor:O(j.borderColor,J,q.borderColor),B.borderWidth=ee.borderWidth?ee.borderWidth:O(j.borderWidth,J,q.borderWidth)},setHoverStyle:function(Z){var q=this.chart.data.datasets[Z._datasetIndex],j=Z._index,J=Z.custom||{},ee=ve.valueAtIndexOrDefault,O=ve.getHoverColor,B=Z._model;B.backgroundColor=J.hoverBackgroundColor?J.hoverBackgroundColor:ee(q.hoverBackgroundColor,j,O(B.backgroundColor)),B.borderColor=J.hoverBorderColor?J.hoverBorderColor:ee(q.hoverBorderColor,j,O(B.borderColor)),B.borderWidth=J.hoverBorderWidth?J.hoverBorderWidth:ee(q.hoverBorderWidth,j,B.borderWidth)},resyncElements:function(){var Z=this,q=Z.getMeta(),j=Z.getDataset().data,J=q.data.length,ee=j.length;ee<J?q.data.splice(ee,J-ee):ee>J&&Z.insertElements(J,ee-J)},insertElements:function(Z,q){for(var j=0;j<q;++j)this.addElementAndReset(Z+j)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(Z,q){this.getMeta().data.splice(Z,q),this.insertElements(Z,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),at.DatasetController.extend=ve.inherits}},{45:45}],25:[function(be,Ae,Sn){"use strict";var ve=be(45);Ae.exports={_set:function(at,ce){return ve.merge(this[at]||(this[at]={}),ce)}}},{45:45}],26:[function(be,Ae,Sn){"use strict";var at=be(3),ce=be(45),ge=function(Q){ce.extend(this,Q),this.initialize.apply(this,arguments)};ce.extend(ge.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var Q=this;return Q._view||(Q._view=ce.clone(Q._model)),Q._start={},Q},transition:function(Q){var Z=this,q=Z._model,j=Z._start,J=Z._view;return q&&1!==Q?(J||(J=Z._view={}),j||(j=Z._start={}),function ve(Q,Z,q,j){var J,ee,O,B,K,de,me,he,De,Ne=Object.keys(q);for(J=0,ee=Ne.length;J<ee;++J)if(de=q[O=Ne[J]],Z.hasOwnProperty(O)||(Z[O]=de),(B=Z[O])!==de&&"_"!==O[0]){if(Q.hasOwnProperty(O)||(Q[O]=B),(me=typeof de)==typeof(K=Q[O]))if("string"===me){if((he=at(K)).valid&&(De=at(de)).valid){Z[O]=De.mix(he,j).rgbString();continue}}else if("number"===me&&isFinite(K)&&isFinite(de)){Z[O]=K+(de-K)*j;continue}Z[O]=de}}(j,J,q,Q),Z):(Z._view=q,Z._start=null,Z)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return ce.isNumber(this._model.x)&&ce.isNumber(this._model.y)}}),ge.extend=ce.inherits,Ae.exports=ge},{3:3,45:45}],27:[function(be,Ae,Sn){"use strict";var ve=be(3),at=be(25),ce=be(45);Ae.exports=function(ge){function Q(j,J,ee){var O;return"string"==typeof j?(O=parseInt(j,10),-1!==j.indexOf("%")&&(O=O/100*J.parentNode[ee])):O=j,O}function Z(j){return null!=j&&"none"!==j}function q(j,J,ee){var O=document.defaultView,B=j.parentNode,K=O.getComputedStyle(j)[J],de=O.getComputedStyle(B)[J],me=Z(K),he=Z(de),De=Number.POSITIVE_INFINITY;return me||he?Math.min(me?Q(K,j,ee):De,he?Q(de,B,ee):De):"none"}ce.configMerge=function(){return ce.merge(ce.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(j,J,ee,O){var B=J[j]||{},K=ee[j];"scales"===j?J[j]=ce.scaleMerge(B,K):"scale"===j?J[j]=ce.merge(B,[ge.scaleService.getScaleDefaults(K.type),K]):ce._merger(j,J,ee,O)}})},ce.scaleMerge=function(){return ce.merge(ce.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(j,J,ee,O){if("xAxes"===j||"yAxes"===j){var B,K,de,me=ee[j].length;for(J[j]||(J[j]=[]),B=0;B<me;++B)K=ce.valueOrDefault((de=ee[j][B]).type,"xAxes"===j?"category":"linear"),B>=J[j].length&&J[j].push({}),ce.merge(J[j][B],!J[j][B].type||de.type&&de.type!==J[j][B].type?[ge.scaleService.getScaleDefaults(K),de]:de)}else ce._merger(j,J,ee,O)}})},ce.where=function(j,J){if(ce.isArray(j)&&Array.prototype.filter)return j.filter(J);var ee=[];return ce.each(j,function(O){J(O)&&ee.push(O)}),ee},ce.findIndex=Array.prototype.findIndex?function(j,J,ee){return j.findIndex(J,ee)}:function(j,J,ee){ee=void 0===ee?j:ee;for(var O=0,B=j.length;O<B;++O)if(J.call(ee,j[O],O,j))return O;return-1},ce.findNextWhere=function(j,J,ee){ce.isNullOrUndef(ee)&&(ee=-1);for(var O=ee+1;O<j.length;O++){var B=j[O];if(J(B))return B}},ce.findPreviousWhere=function(j,J,ee){ce.isNullOrUndef(ee)&&(ee=j.length);for(var O=ee-1;O>=0;O--){var B=j[O];if(J(B))return B}},ce.isNumber=function(j){return!isNaN(parseFloat(j))&&isFinite(j)},ce.almostEquals=function(j,J,ee){return Math.abs(j-J)<ee},ce.almostWhole=function(j,J){var ee=Math.round(j);return ee-J<j&&ee+J>j},ce.max=function(j){return j.reduce(function(J,ee){return isNaN(ee)?J:Math.max(J,ee)},Number.NEGATIVE_INFINITY)},ce.min=function(j){return j.reduce(function(J,ee){return isNaN(ee)?J:Math.min(J,ee)},Number.POSITIVE_INFINITY)},ce.sign=Math.sign?function(j){return Math.sign(j)}:function(j){return 0==(j=+j)||isNaN(j)?j:j>0?1:-1},ce.log10=Math.log10?function(j){return Math.log10(j)}:function(j){return Math.log(j)/Math.LN10},ce.toRadians=function(j){return j*(Math.PI/180)},ce.toDegrees=function(j){return j*(180/Math.PI)},ce.getAngleFromPoint=function(j,J){var ee=J.x-j.x,O=J.y-j.y,B=Math.sqrt(ee*ee+O*O),K=Math.atan2(O,ee);return K<-.5*Math.PI&&(K+=2*Math.PI),{angle:K,distance:B}},ce.distanceBetweenPoints=function(j,J){return Math.sqrt(Math.pow(J.x-j.x,2)+Math.pow(J.y-j.y,2))},ce.aliasPixel=function(j){return j%2==0?0:.5},ce.splineCurve=function(j,J,ee,O){var B=j.skip?J:j,K=J,de=ee.skip?J:ee,me=Math.sqrt(Math.pow(K.x-B.x,2)+Math.pow(K.y-B.y,2)),he=Math.sqrt(Math.pow(de.x-K.x,2)+Math.pow(de.y-K.y,2)),De=me/(me+he),Ne=he/(me+he),Ye=O*(De=isNaN(De)?0:De),P=O*(Ne=isNaN(Ne)?0:Ne);return{previous:{x:K.x-Ye*(de.x-B.x),y:K.y-Ye*(de.y-B.y)},next:{x:K.x+P*(de.x-B.x),y:K.y+P*(de.y-B.y)}}},ce.EPSILON=Number.EPSILON||1e-14,ce.splineCurveMonotone=function(j){var J,ee,O,B,he,De,Ne,Ye,P,K=(j||[]).map(function(We){return{model:We._model,deltaK:0,mK:0}}),de=K.length;for(J=0;J<de;++J)if(!(O=K[J]).model.skip){if(ee=J>0?K[J-1]:null,(B=J<de-1?K[J+1]:null)&&!B.model.skip){var me=B.model.x-O.model.x;O.deltaK=0!==me?(B.model.y-O.model.y)/me:0}O.mK=!ee||ee.model.skip?O.deltaK:!B||B.model.skip?ee.deltaK:this.sign(ee.deltaK)!==this.sign(O.deltaK)?0:(ee.deltaK+O.deltaK)/2}for(J=0;J<de-1;++J)B=K[J+1],(O=K[J]).model.skip||B.model.skip||(ce.almostEquals(O.deltaK,0,this.EPSILON)?O.mK=B.mK=0:(he=O.mK/O.deltaK,De=B.mK/O.deltaK,(Ye=Math.pow(he,2)+Math.pow(De,2))<=9||(Ne=3/Math.sqrt(Ye),O.mK=he*Ne*O.deltaK,B.mK=De*Ne*O.deltaK)));for(J=0;J<de;++J)(O=K[J]).model.skip||(B=J<de-1?K[J+1]:null,(ee=J>0?K[J-1]:null)&&!ee.model.skip&&(O.model.controlPointPreviousX=O.model.x-(P=(O.model.x-ee.model.x)/3),O.model.controlPointPreviousY=O.model.y-P*O.mK),B&&!B.model.skip&&(O.model.controlPointNextX=O.model.x+(P=(B.model.x-O.model.x)/3),O.model.controlPointNextY=O.model.y+P*O.mK))},ce.nextItem=function(j,J,ee){return ee?J>=j.length-1?j[0]:j[J+1]:J>=j.length-1?j[j.length-1]:j[J+1]},ce.previousItem=function(j,J,ee){return ee?J<=0?j[j.length-1]:j[J-1]:J<=0?j[0]:j[J-1]},ce.niceNum=function(j,J){var ee=Math.floor(ce.log10(j)),O=j/Math.pow(10,ee);return(J?O<1.5?1:O<3?2:O<7?5:10:O<=1?1:O<=2?2:O<=5?5:10)*Math.pow(10,ee)},ce.requestAnimFrame=typeof window>"u"?function(j){j()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(j){return window.setTimeout(j,1e3/60)},ce.getRelativePosition=function(j,J){var ee,O,B=j.originalEvent||j,K=j.currentTarget||j.srcElement,de=K.getBoundingClientRect(),me=B.touches;me&&me.length>0?(ee=me[0].clientX,O=me[0].clientY):(ee=B.clientX,O=B.clientY);var he=parseFloat(ce.getStyle(K,"padding-left")),De=parseFloat(ce.getStyle(K,"padding-top")),Ne=parseFloat(ce.getStyle(K,"padding-right")),Ye=parseFloat(ce.getStyle(K,"padding-bottom")),We=de.bottom-de.top-De-Ye;return{x:ee=Math.round((ee-de.left-he)/(de.right-de.left-he-Ne)*K.width/J.currentDevicePixelRatio),y:O=Math.round((O-de.top-De)/We*K.height/J.currentDevicePixelRatio)}},ce.getConstraintWidth=function(j){return q(j,"max-width","clientWidth")},ce.getConstraintHeight=function(j){return q(j,"max-height","clientHeight")},ce.getMaximumWidth=function(j){var J=j.parentNode;if(!J)return j.clientWidth;var ee=parseInt(ce.getStyle(J,"padding-left"),10),O=parseInt(ce.getStyle(J,"padding-right"),10),B=J.clientWidth-ee-O,K=ce.getConstraintWidth(j);return isNaN(K)?B:Math.min(B,K)},ce.getMaximumHeight=function(j){var J=j.parentNode;if(!J)return j.clientHeight;var ee=parseInt(ce.getStyle(J,"padding-top"),10),O=parseInt(ce.getStyle(J,"padding-bottom"),10),B=J.clientHeight-ee-O,K=ce.getConstraintHeight(j);return isNaN(K)?B:Math.min(B,K)},ce.getStyle=function(j,J){return j.currentStyle?j.currentStyle[J]:document.defaultView.getComputedStyle(j,null).getPropertyValue(J)},ce.retinaScale=function(j,J){var ee=j.currentDevicePixelRatio=J||window.devicePixelRatio||1;if(1!==ee){var O=j.canvas,B=j.height,K=j.width;O.height=B*ee,O.width=K*ee,j.ctx.scale(ee,ee),O.style.height=B+"px",O.style.width=K+"px"}},ce.fontString=function(j,J,ee){return J+" "+j+"px "+ee},ce.longestText=function(j,J,ee,O){var B=(O=O||{}).data=O.data||{},K=O.garbageCollect=O.garbageCollect||[];O.font!==J&&(B=O.data={},K=O.garbageCollect=[],O.font=J),j.font=J;var de=0;ce.each(ee,function(De){null!=De&&!0!==ce.isArray(De)?de=ce.measureText(j,B,K,de,De):ce.isArray(De)&&ce.each(De,function(Ne){null==Ne||ce.isArray(Ne)||(de=ce.measureText(j,B,K,de,Ne))})});var me=K.length/2;if(me>ee.length){for(var he=0;he<me;he++)delete B[K[he]];K.splice(0,me)}return de},ce.measureText=function(j,J,ee,O,B){var K=J[B];return K||(K=J[B]=j.measureText(B).width,ee.push(B)),K>O&&(O=K),O},ce.numberOfLabelLines=function(j){var J=1;return ce.each(j,function(ee){ce.isArray(ee)&&ee.length>J&&(J=ee.length)}),J},ce.color=ve?function(j){return j instanceof CanvasGradient&&(j=at.global.defaultColor),ve(j)}:function(j){return console.error("Color.js not found!"),j},ce.getHoverColor=function(j){return j instanceof CanvasPattern?j:ce.color(j).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(be,Ae,Sn){"use strict";function ve(j,J){return j.native?{x:j.x,y:j.y}:q.getRelativePosition(j,J)}function at(j,J){var ee,O,B,K,de;for(O=0,K=j.data.datasets.length;O<K;++O)if(j.isDatasetVisible(O))for(B=0,de=(ee=j.getDatasetMeta(O)).data.length;B<de;++B){var me=ee.data[B];me._view.skip||J(me)}}function ce(j,J){var ee=[];return at(j,function(O){O.inRange(J.x,J.y)&&ee.push(O)}),ee}function ge(j,J,ee,O){var B=Number.POSITIVE_INFINITY,K=[];return at(j,function(de){if(!ee||de.inRange(J.x,J.y)){var me=de.getCenterPoint(),he=O(J,me);he<B?(K=[de],B=he):he===B&&K.push(de)}}),K}function Q(j){var J=-1!==j.indexOf("x"),ee=-1!==j.indexOf("y");return function(O,B){var K=J?Math.abs(O.x-B.x):0,de=ee?Math.abs(O.y-B.y):0;return Math.sqrt(Math.pow(K,2)+Math.pow(de,2))}}function Z(j,J,ee){var O=ve(J,j);ee.axis=ee.axis||"x";var B=Q(ee.axis),K=ee.intersect?ce(j,O):ge(j,O,!1,B),de=[];return K.length?(j.data.datasets.forEach(function(me,he){if(j.isDatasetVisible(he)){var De=j.getDatasetMeta(he).data[K[0]._index];De&&!De._view.skip&&de.push(De)}}),de):[]}var q=be(45);Ae.exports={modes:{single:function(j,J){var ee=ve(J,j),O=[];return at(j,function(B){if(B.inRange(ee.x,ee.y))return O.push(B),O}),O.slice(0,1)},label:Z,index:Z,dataset:function(j,J,ee){var O=ve(J,j);ee.axis=ee.axis||"xy";var B=Q(ee.axis),K=ee.intersect?ce(j,O):ge(j,O,!1,B);return K.length>0&&(K=j.getDatasetMeta(K[0]._datasetIndex).data),K},"x-axis":function(j,J){return Z(j,J,{intersect:!1})},point:function(j,J){return ce(j,ve(J,j))},nearest:function(j,J,ee){var O=ve(J,j);ee.axis=ee.axis||"xy";var B=Q(ee.axis),K=ge(j,O,ee.intersect,B);return K.length>1&&K.sort(function(de,me){var he=de.getArea()-me.getArea();return 0===he&&(he=de._datasetIndex-me._datasetIndex),he}),K.slice(0,1)},x:function(j,J,ee){var O=ve(J,j),B=[],K=!1;return at(j,function(de){de.inXRange(O.x)&&B.push(de),de.inRange(O.x,O.y)&&(K=!0)}),ee.intersect&&!K&&(B=[]),B},y:function(j,J,ee){var O=ve(J,j),B=[],K=!1;return at(j,function(de){de.inYRange(O.y)&&B.push(de),de.inRange(O.x,O.y)&&(K=!0)}),ee.intersect&&!K&&(B=[]),B}}}},{45:45}],29:[function(be,Ae,Sn){"use strict";be(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),Ae.exports=function(){var ve=function(at,ce){return this.construct(at,ce),this};return ve.Chart=ve,ve}},{25:25}],30:[function(be,Ae,Sn){"use strict";var ve=be(45);Ae.exports=function(at){function ce(Q,Z){return ve.where(Q,function(q){return q.position===Z})}function ge(Q,Z){Q.forEach(function(q,j){return q._tmpIndex_=j,q}),Q.sort(function(q,j){var J=Z?j:q,ee=Z?q:j;return J.weight===ee.weight?J._tmpIndex_-ee._tmpIndex_:J.weight-ee.weight}),Q.forEach(function(q){delete q._tmpIndex_})}at.layoutService={defaults:{},addBox:function(Q,Z){Q.boxes||(Q.boxes=[]),Z.fullWidth=Z.fullWidth||!1,Z.position=Z.position||"top",Z.weight=Z.weight||0,Q.boxes.push(Z)},removeBox:function(Q,Z){var q=Q.boxes?Q.boxes.indexOf(Z):-1;-1!==q&&Q.boxes.splice(q,1)},configure:function(Q,Z,q){for(var j,J=["fullWidth","position","weight"],ee=J.length,O=0;O<ee;++O)q.hasOwnProperty(j=J[O])&&(Z[j]=q[j])},update:function(Q,Z,q){function j(sn){var On=ve.findNextWhere(Je,function(ni){return ni.box===sn});if(On)if(sn.isHorizontal()){var yi={left:Math.max(on,ht),right:Math.max(Tt,dt),top:0,bottom:0};sn.update(sn.fullWidth?We:Re,xe/2,yi)}else sn.update(On.minSize.width,je)}function J(sn){sn.isHorizontal()?(sn.left=sn.fullWidth?B:on,sn.right=sn.fullWidth?Z-K:on+Re,sn.top=Nn,sn.bottom=Nn+sn.height,Nn=sn.bottom):(sn.left=Zt,sn.right=Zt+sn.width,sn.top=Pt,sn.bottom=Pt+je,Zt=sn.right)}if(Q){var O=ve.options.toPadding((Q.options.layout||{}).padding),B=O.left,K=O.right,de=O.top,me=O.bottom,he=ce(Q.boxes,"left"),De=ce(Q.boxes,"right"),Ne=ce(Q.boxes,"top"),Ye=ce(Q.boxes,"bottom"),P=ce(Q.boxes,"chartArea");ge(he,!0),ge(De,!1),ge(Ne,!0),ge(Ye,!1);var We=Z-B-K,xe=q-de-me,ke=xe/2,Ve=(Z-We/2)/(he.length+De.length),ue=(q-ke)/(Ne.length+Ye.length),Re=We,je=xe,Je=[];ve.each(he.concat(De,Ne,Ye),function(sn){var On,yi=sn.isHorizontal();yi?(On=sn.update(sn.fullWidth?We:Re,ue),je-=On.height):(On=sn.update(Ve,ke),Re-=On.width),Je.push({horizontal:yi,minSize:On,box:sn})});var ht=0,dt=0,Nt=0,bt=0;ve.each(Ne.concat(Ye),function(sn){if(sn.getPadding){var On=sn.getPadding();ht=Math.max(ht,On.left),dt=Math.max(dt,On.right)}}),ve.each(he.concat(De),function(sn){if(sn.getPadding){var On=sn.getPadding();Nt=Math.max(Nt,On.top),bt=Math.max(bt,On.bottom)}});var on=B,Tt=K,Pt=de,un=me;ve.each(he.concat(De),j),ve.each(he,function(sn){on+=sn.width}),ve.each(De,function(sn){Tt+=sn.width}),ve.each(Ne.concat(Ye),j),ve.each(Ne,function(sn){Pt+=sn.height}),ve.each(Ye,function(sn){un+=sn.height}),ve.each(he.concat(De),function(sn){var On=ve.findNextWhere(Je,function(ni){return ni.box===sn});On&&sn.update(On.minSize.width,je,{left:0,right:0,top:Pt,bottom:un})}),on=B,Tt=K,Pt=de,un=me,ve.each(he,function(sn){on+=sn.width}),ve.each(De,function(sn){Tt+=sn.width}),ve.each(Ne,function(sn){Pt+=sn.height}),ve.each(Ye,function(sn){un+=sn.height});var vn=Math.max(ht-on,0);on+=vn,Tt+=Math.max(dt-Tt,0);var zt=Math.max(Nt-Pt,0);Pt+=zt,un+=Math.max(bt-un,0);var cn=q-Pt-un,Mn=Z-on-Tt;Mn===Re&&cn===je||(ve.each(he,function(sn){sn.height=cn}),ve.each(De,function(sn){sn.height=cn}),ve.each(Ne,function(sn){sn.fullWidth||(sn.width=Mn)}),ve.each(Ye,function(sn){sn.fullWidth||(sn.width=Mn)}),je=cn,Re=Mn);var Zt=B+vn,Nn=de+zt;ve.each(he.concat(Ne),J),Zt+=Re,Nn+=je,ve.each(De,J),ve.each(Ye,J),Q.chartArea={left:on,top:Pt,right:on+Re,bottom:Pt+je},ve.each(P,function(sn){sn.left=Q.chartArea.left,sn.top=Q.chartArea.top,sn.right=Q.chartArea.right,sn.bottom=Q.chartArea.bottom,sn.update(Re,je)})}}}}},{45:45}],31:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(26),ce=be(45);ve._set("global",{plugins:{}}),Ae.exports=function(ge){ge.plugins={_plugins:[],_cacheId:0,register:function(Q){var Z=this._plugins;[].concat(Q).forEach(function(q){-1===Z.indexOf(q)&&Z.push(q)}),this._cacheId++},unregister:function(Q){var Z=this._plugins;[].concat(Q).forEach(function(q){var j=Z.indexOf(q);-1!==j&&Z.splice(j,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(Q,Z,q){var j,J,ee,O,B,K=this.descriptors(Q),de=K.length;for(j=0;j<de;++j)if("function"==typeof(B=(ee=(J=K[j]).plugin)[Z])&&((O=[Q].concat(q||[])).push(J.options),!1===B.apply(ee,O)))return!1;return!0},descriptors:function(Q){var Z=Q._plugins||(Q._plugins={});if(Z.id===this._cacheId)return Z.descriptors;var q=[],j=[],J=Q&&Q.config||{},ee=J.options&&J.options.plugins||{};return this._plugins.concat(J.plugins||[]).forEach(function(O){if(-1===q.indexOf(O)){var B=O.id,K=ee[B];!1!==K&&(!0===K&&(K=ce.clone(ve.global.plugins[B])),q.push(O),j.push({plugin:O,options:K||{}}))}}),Z.descriptors=j,Z.id=this._cacheId,j}},ge.pluginService=ge.plugins,ge.PluginBase=at.extend({})}},{25:25,26:26,45:45}],32:[function(be,Ae,Sn){"use strict";function ve(q){var j,J,ee=[];for(j=0,J=q.length;j<J;++j)ee.push(q[j].label);return ee}function at(q,j,J){var ee=q.getPixelForTick(j);return J&&(ee-=0===j?(q.getPixelForTick(1)-ee)/2:(ee-q.getPixelForTick(j-1))/2),ee}var ce=be(25),ge=be(26),Q=be(45),Z=be(34);ce._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Z.formatters.values,minor:{},major:{}}}),Ae.exports=function(q){function j(O,B,K){return Q.isArray(B)?Q.longestText(O,K,B):O.measureText(B).width}function J(O){var B=Q.valueOrDefault,K=ce.global,de=B(O.fontSize,K.defaultFontSize),me=B(O.fontStyle,K.defaultFontStyle),he=B(O.fontFamily,K.defaultFontFamily);return{size:de,style:me,family:he,font:Q.fontString(de,me,he)}}function ee(O){return Q.options.toLineHeight(Q.valueOrDefault(O.lineHeight,1.2),Q.valueOrDefault(O.fontSize,ce.global.defaultFontSize))}q.Scale=ge.extend({getPadding:function(){var O=this;return{left:O.paddingLeft||0,top:O.paddingTop||0,right:O.paddingRight||0,bottom:O.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var O=this.options.ticks;for(var B in!1===O.minor&&(O.minor={display:!1}),!1===O.major&&(O.major={display:!1}),O)"major"!==B&&"minor"!==B&&(void 0===O.minor[B]&&(O.minor[B]=O[B]),void 0===O.major[B]&&(O.major[B]=O[B]))},beforeUpdate:function(){Q.callback(this.options.beforeUpdate,[this])},update:function(O,B,K){var de,me,he,De,Ne,Ye,P=this;for(P.beforeUpdate(),P.maxWidth=O,P.maxHeight=B,P.margins=Q.extend({left:0,right:0,top:0,bottom:0},K),P.longestTextCache=P.longestTextCache||{},P.beforeSetDimensions(),P.setDimensions(),P.afterSetDimensions(),P.beforeDataLimits(),P.determineDataLimits(),P.afterDataLimits(),P.beforeBuildTicks(),Ne=P.buildTicks()||[],P.afterBuildTicks(),P.beforeTickToLabelConversion(),he=P.convertTicksToLabels(Ne)||P.ticks,P.afterTickToLabelConversion(),P.ticks=he,de=0,me=he.length;de<me;++de)De=he[de],(Ye=Ne[de])?Ye.label=De:Ne.push(Ye={label:De,major:!1});return P._ticks=Ne,P.beforeCalculateTickRotation(),P.calculateTickRotation(),P.afterCalculateTickRotation(),P.beforeFit(),P.fit(),P.afterFit(),P.afterUpdate(),P.minSize},afterUpdate:function(){Q.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Q.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var O=this;O.isHorizontal()?(O.width=O.maxWidth,O.left=0,O.right=O.width):(O.height=O.maxHeight,O.top=0,O.bottom=O.height),O.paddingLeft=0,O.paddingTop=0,O.paddingRight=0,O.paddingBottom=0},afterSetDimensions:function(){Q.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Q.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Q.noop,afterDataLimits:function(){Q.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Q.callback(this.options.beforeBuildTicks,[this])},buildTicks:Q.noop,afterBuildTicks:function(){Q.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){Q.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var O=this,B=O.options.ticks;O.ticks=O.ticks.map(B.userCallback||B.callback,this)},afterTickToLabelConversion:function(){Q.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Q.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var O=this,B=O.ctx,K=O.options.ticks,de=ve(O._ticks),me=J(K);B.font=me.font;var he=K.minRotation||0;if(de.length&&O.options.display&&O.isHorizontal())for(var De,Ne=Q.longestText(B,me.font,de,O.longestTextCache),Ye=Ne,P=O.getPixelForTick(1)-O.getPixelForTick(0)-6;Ye>P&&he<K.maxRotation;){var We=Q.toRadians(he);if(De=Math.cos(We),Math.sin(We)*Ne>O.maxHeight){he--;break}he++,Ye=De*Ne}O.labelRotation=he},afterCalculateTickRotation:function(){Q.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Q.callback(this.options.beforeFit,[this])},fit:function(){var O=this,B=O.minSize={width:0,height:0},K=ve(O._ticks),de=O.options,me=de.ticks,he=de.scaleLabel,De=de.gridLines,Ne=de.display,Ye=O.isHorizontal(),P=J(me),We=de.gridLines.tickMarkLength;if(B.width=Ye?O.isFullWidth()?O.maxWidth-O.margins.left-O.margins.right:O.maxWidth:Ne&&De.drawTicks?We:0,B.height=Ye?Ne&&De.drawTicks?We:0:O.maxHeight,he.display&&Ne){var xe=ee(he)+Q.options.toPadding(he.padding).height;Ye?B.height+=xe:B.width+=xe}if(me.display&&Ne){var ke=Q.longestText(O.ctx,P.font,K,O.longestTextCache),Ve=Q.numberOfLabelLines(K),ue=.5*P.size,Re=O.options.ticks.padding;if(Ye){O.longestLabelWidth=ke;var je=Q.toRadians(O.labelRotation),Je=Math.cos(je),ht=Math.sin(je)*ke+P.size*Ve+ue*(Ve-1)+ue;B.height=Math.min(O.maxHeight,B.height+ht+Re),O.ctx.font=P.font;var dt=j(O.ctx,K[0],P.font),Nt=j(O.ctx,K[K.length-1],P.font);0!==O.labelRotation?(O.paddingLeft="bottom"===de.position?Je*dt+3:Je*ue+3,O.paddingRight="bottom"===de.position?Je*ue+3:Je*Nt+3):(O.paddingLeft=dt/2+3,O.paddingRight=Nt/2+3)}else me.mirror?ke=0:ke+=Re+ue,B.width=Math.min(O.maxWidth,B.width+ke),O.paddingTop=P.size/2,O.paddingBottom=P.size/2}O.handleMargins(),O.width=B.width,O.height=B.height},handleMargins:function(){var O=this;O.margins&&(O.paddingLeft=Math.max(O.paddingLeft-O.margins.left,0),O.paddingTop=Math.max(O.paddingTop-O.margins.top,0),O.paddingRight=Math.max(O.paddingRight-O.margins.right,0),O.paddingBottom=Math.max(O.paddingBottom-O.margins.bottom,0))},afterFit:function(){Q.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(O){if(Q.isNullOrUndef(O))return NaN;if("number"==typeof O&&!isFinite(O))return NaN;if(O)if(this.isHorizontal()){if(void 0!==O.x)return this.getRightValue(O.x)}else if(void 0!==O.y)return this.getRightValue(O.y);return O},getLabelForIndex:Q.noop,getPixelForValue:Q.noop,getValueForPixel:Q.noop,getPixelForTick:function(O){var B=this,K=B.options.offset;if(B.isHorizontal()){var de=(B.width-(B.paddingLeft+B.paddingRight))/Math.max(B._ticks.length-(K?0:1),1),me=de*O+B.paddingLeft;return K&&(me+=de/2),B.left+Math.round(me)+(B.isFullWidth()?B.margins.left:0)}return B.top+O*((B.height-(B.paddingTop+B.paddingBottom))/(B._ticks.length-1))},getPixelForDecimal:function(O){var B=this;return B.isHorizontal()?B.left+Math.round((B.width-(B.paddingLeft+B.paddingRight))*O+B.paddingLeft)+(B.isFullWidth()?B.margins.left:0):B.top+O*B.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var O=this,B=O.min,K=O.max;return O.beginAtZero?0:B<0&&K<0?K:B>0&&K>0?B:0},_autoSkip:function(O){var B,K,de,me,he=this,De=he.isHorizontal(),Ne=he.options.ticks.minor,Ye=O.length,P=Q.toRadians(he.labelRotation),We=Math.cos(P),xe=he.longestLabelWidth*We,ke=[];for(Ne.maxTicksLimit&&(me=Ne.maxTicksLimit),De&&(B=!1,(xe+Ne.autoSkipPadding)*Ye>he.width-(he.paddingLeft+he.paddingRight)&&(B=1+Math.floor((xe+Ne.autoSkipPadding)*Ye/(he.width-(he.paddingLeft+he.paddingRight)))),me&&Ye>me&&(B=Math.max(B,Math.floor(Ye/me)))),K=0;K<Ye;K++)de=O[K],(B>1&&K%B>0||K%B==0&&K+B>=Ye)&&K!==Ye-1&&delete de.label,ke.push(de);return ke},draw:function(O){var B=this,K=B.options;if(K.display){var de=B.ctx,me=ce.global,he=K.ticks.minor,De=K.ticks.major||he,Ne=K.gridLines,Ye=K.scaleLabel,P=0!==B.labelRotation,We=B.isHorizontal(),xe=he.autoSkip?B._autoSkip(B.getTicks()):B.getTicks(),ke=Q.valueOrDefault(he.fontColor,me.defaultFontColor),Ve=J(he),ue=Q.valueOrDefault(De.fontColor,me.defaultFontColor),Re=J(De),je=Ne.drawTicks?Ne.tickMarkLength:0,Je=Q.valueOrDefault(Ye.fontColor,me.defaultFontColor),ht=J(Ye),dt=Q.options.toPadding(Ye.padding),Nt=Q.toRadians(B.labelRotation),bt=[],on="right"===K.position?B.left:B.right-je,Tt="right"===K.position?B.left+je:B.right,Pt="bottom"===K.position?B.top:B.bottom-je,un="bottom"===K.position?B.top+je:B.bottom;if(Q.each(xe,function(Jn,xi){if(!Q.isNullOrUndef(Jn.label)){var oi,Ni,Jt,qt,gn=Jn.label;xi===B.zeroLineIndex&&K.offset===Ne.offsetGridLines?(oi=Ne.zeroLineWidth,Ni=Ne.zeroLineColor,Jt=Ne.zeroLineBorderDash,qt=Ne.zeroLineBorderDashOffset):(oi=Q.valueAtIndexOrDefault(Ne.lineWidth,xi),Ni=Q.valueAtIndexOrDefault(Ne.color,xi),Jt=Q.valueOrDefault(Ne.borderDash,me.borderDash),qt=Q.valueOrDefault(Ne.borderDashOffset,me.borderDashOffset));var Ln,dn,an,Wn,ui,Ii,ri,Yt,fn,Tn,jn="middle",Pn="middle",In=he.padding;if(We){var qn=je+In;"bottom"===K.position?(Pn=P?"middle":"top",jn=P?"right":"center",Tn=B.top+qn):(Pn=P?"middle":"bottom",jn=P?"left":"center",Tn=B.bottom-qn);var $n=at(B,xi,Ne.offsetGridLines&&xe.length>1);$n<B.left&&(Ni="rgba(0,0,0,0)"),$n+=Q.aliasPixel(oi),fn=B.getPixelForTick(xi)+he.labelOffset,Ln=an=ui=ri=$n,dn=Pt,Wn=un,Ii=O.top,Yt=O.bottom}else{var ai,di="left"===K.position;he.mirror?(jn=di?"left":"right",ai=In):(jn=di?"right":"left",ai=je+In),fn=di?B.right-ai:B.left+ai;var _i=at(B,xi,Ne.offsetGridLines&&xe.length>1);_i<B.top&&(Ni="rgba(0,0,0,0)"),_i+=Q.aliasPixel(oi),Tn=B.getPixelForTick(xi)+he.labelOffset,Ln=on,an=Tt,ui=O.left,ri=O.right,dn=Wn=Ii=Yt=_i}bt.push({tx1:Ln,ty1:dn,tx2:an,ty2:Wn,x1:ui,y1:Ii,x2:ri,y2:Yt,labelX:fn,labelY:Tn,glWidth:oi,glColor:Ni,glBorderDash:Jt,glBorderDashOffset:qt,rotation:-1*Nt,label:gn,major:Jn.major,textBaseline:Pn,textAlign:jn})}}),Q.each(bt,function(Jn){if(Ne.display&&(de.save(),de.lineWidth=Jn.glWidth,de.strokeStyle=Jn.glColor,de.setLineDash&&(de.setLineDash(Jn.glBorderDash),de.lineDashOffset=Jn.glBorderDashOffset),de.beginPath(),Ne.drawTicks&&(de.moveTo(Jn.tx1,Jn.ty1),de.lineTo(Jn.tx2,Jn.ty2)),Ne.drawOnChartArea&&(de.moveTo(Jn.x1,Jn.y1),de.lineTo(Jn.x2,Jn.y2)),de.stroke(),de.restore()),he.display){de.save(),de.translate(Jn.labelX,Jn.labelY),de.rotate(Jn.rotation),de.font=Jn.major?Re.font:Ve.font,de.fillStyle=Jn.major?ue:ke,de.textBaseline=Jn.textBaseline,de.textAlign=Jn.textAlign;var xi=Jn.label;if(Q.isArray(xi))for(var oi=0,Ni=0;oi<xi.length;++oi)de.fillText(""+xi[oi],0,Ni),Ni+=1.5*Ve.size;else de.fillText(xi,0,0);de.restore()}}),Ye.display){var vn,zt,cn=0,Mn=ee(Ye)/2;if(We)vn=B.left+(B.right-B.left)/2,zt="bottom"===K.position?B.bottom-Mn-dt.bottom:B.top+Mn+dt.top;else{var Zt="left"===K.position;vn=Zt?B.left+Mn+dt.top:B.right-Mn-dt.top,zt=B.top+(B.bottom-B.top)/2,cn=Zt?-.5*Math.PI:.5*Math.PI}de.save(),de.translate(vn,zt),de.rotate(cn),de.textAlign="center",de.textBaseline="middle",de.fillStyle=Je,de.font=ht.font,de.fillText(Ye.labelString,0,0),de.restore()}if(Ne.drawBorder){de.lineWidth=Q.valueAtIndexOrDefault(Ne.lineWidth,0),de.strokeStyle=Q.valueAtIndexOrDefault(Ne.color,0);var Nn=B.left,sn=B.right,On=B.top,yi=B.bottom,ni=Q.aliasPixel(de.lineWidth);We?(On=yi="top"===K.position?B.bottom:B.top,On+=ni,yi+=ni):(Nn=sn="left"===K.position?B.right:B.left,Nn+=ni,sn+=ni),de.beginPath(),de.moveTo(Nn,On),de.lineTo(sn,yi),de.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(45);Ae.exports=function(ce){ce.scaleService={constructors:{},defaults:{},registerScaleType:function(ge,Q,Z){this.constructors[ge]=Q,this.defaults[ge]=at.clone(Z)},getScaleConstructor:function(ge){return this.constructors.hasOwnProperty(ge)?this.constructors[ge]:void 0},getScaleDefaults:function(ge){return this.defaults.hasOwnProperty(ge)?at.merge({},[ve.scale,this.defaults[ge]]):{}},updateScaleDefaults:function(ge,Q){var Z=this;Z.defaults.hasOwnProperty(ge)&&(Z.defaults[ge]=at.extend(Z.defaults[ge],Q))},addScalesToLayout:function(ge){at.each(ge.scales,function(Q){Q.fullWidth=Q.options.fullWidth,Q.position=Q.options.position,Q.weight=Q.options.weight,ce.layoutService.addBox(ge,Q)})}}}},{25:25,45:45}],34:[function(be,Ae,Sn){"use strict";var ve=be(45);Ae.exports={generators:{linear:function(at,ce){var ge,Q=[];if(at.stepSize&&at.stepSize>0)ge=at.stepSize;else{var Z=ve.niceNum(ce.max-ce.min,!1);ge=ve.niceNum(Z/(at.maxTicks-1),!0)}var q=Math.floor(ce.min/ge)*ge,j=Math.ceil(ce.max/ge)*ge;at.min&&at.max&&at.stepSize&&ve.almostWhole((at.max-at.min)/at.stepSize,ge/1e3)&&(q=at.min,j=at.max);var J=(j-q)/ge;J=ve.almostEquals(J,Math.round(J),ge/1e3)?Math.round(J):Math.ceil(J),Q.push(void 0!==at.min?at.min:q);for(var ee=1;ee<J;++ee)Q.push(q+ee*ge);return Q.push(void 0!==at.max?at.max:j),Q},logarithmic:function(at,ce){var ge,Q,Z=[],q=ve.valueOrDefault,j=q(at.min,Math.pow(10,Math.floor(ve.log10(ce.min)))),J=Math.floor(ve.log10(ce.max)),ee=Math.ceil(ce.max/Math.pow(10,J));0===j?(ge=Math.floor(ve.log10(ce.minNotZero)),Q=Math.floor(ce.minNotZero/Math.pow(10,ge)),Z.push(j),j=Q*Math.pow(10,ge)):(ge=Math.floor(ve.log10(j)),Q=Math.floor(j/Math.pow(10,ge)));do{Z.push(j),10==++Q&&(Q=1,++ge),j=Q*Math.pow(10,ge)}while(ge<J||ge===J&&Q<ee);var O=q(at.max,j);return Z.push(O),Z}},formatters:{values:function(at){return ve.isArray(at)?at:""+at},linear:function(at,ce,ge){var Q=ge.length>3?ge[2]-ge[1]:ge[1]-ge[0];Math.abs(Q)>1&&at!==Math.floor(at)&&(Q=at-Math.floor(at));var Z=ve.log10(Math.abs(Q)),q="";if(0!==at){var j=-1*Math.floor(Z);j=Math.max(Math.min(j,20),0),q=at.toFixed(j)}else q="0";return q},logarithmic:function(at,ce,ge){var Q=at/Math.pow(10,Math.floor(ve.log10(at)));return 0===at?"0":1===Q||2===Q||5===Q||0===ce||ce===ge.length-1?at.toExponential():""}}}},{45:45}],35:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(26),ce=be(45);ve._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:ce.noop,title:function(ge,Q){var Z="",q=Q.labels,j=q?q.length:0;if(ge.length>0){var J=ge[0];J.xLabel?Z=J.xLabel:j>0&&J.index<j&&(Z=q[J.index])}return Z},afterTitle:ce.noop,beforeBody:ce.noop,beforeLabel:ce.noop,label:function(ge,Q){var Z=Q.datasets[ge.datasetIndex].label||"";return Z&&(Z+=": "),Z+ge.yLabel},labelColor:function(ge,Q){var Z=Q.getDatasetMeta(ge.datasetIndex).data[ge.index]._view;return{borderColor:Z.borderColor,backgroundColor:Z.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:ce.noop,afterBody:ce.noop,beforeFooter:ce.noop,footer:ce.noop,afterFooter:ce.noop}}}),Ae.exports=function(ge){function Q(B,K){var de=ce.color(B);return de.alpha(K*de.alpha()).rgbaString()}function Z(B,K){return K&&(ce.isArray(K)?Array.prototype.push.apply(B,K):B.push(K)),B}function q(B){var K=B._xScale,de=B._yScale||B._scale,me=B._index,he=B._datasetIndex;return{xLabel:K?K.getLabelForIndex(me,he):"",yLabel:de?de.getLabelForIndex(me,he):"",index:me,datasetIndex:he,x:B._model.x,y:B._model.y}}function j(B){var K=ve.global,de=ce.valueOrDefault;return{xPadding:B.xPadding,yPadding:B.yPadding,xAlign:B.xAlign,yAlign:B.yAlign,bodyFontColor:B.bodyFontColor,_bodyFontFamily:de(B.bodyFontFamily,K.defaultFontFamily),_bodyFontStyle:de(B.bodyFontStyle,K.defaultFontStyle),_bodyAlign:B.bodyAlign,bodyFontSize:de(B.bodyFontSize,K.defaultFontSize),bodySpacing:B.bodySpacing,titleFontColor:B.titleFontColor,_titleFontFamily:de(B.titleFontFamily,K.defaultFontFamily),_titleFontStyle:de(B.titleFontStyle,K.defaultFontStyle),titleFontSize:de(B.titleFontSize,K.defaultFontSize),_titleAlign:B.titleAlign,titleSpacing:B.titleSpacing,titleMarginBottom:B.titleMarginBottom,footerFontColor:B.footerFontColor,_footerFontFamily:de(B.footerFontFamily,K.defaultFontFamily),_footerFontStyle:de(B.footerFontStyle,K.defaultFontStyle),footerFontSize:de(B.footerFontSize,K.defaultFontSize),_footerAlign:B.footerAlign,footerSpacing:B.footerSpacing,footerMarginTop:B.footerMarginTop,caretSize:B.caretSize,cornerRadius:B.cornerRadius,backgroundColor:B.backgroundColor,opacity:0,legendColorBackground:B.multiKeyBackground,displayColors:B.displayColors,borderColor:B.borderColor,borderWidth:B.borderWidth}}ge.Tooltip=at.extend({initialize:function(){this._model=j(this._options),this._lastActive=[]},getTitle:function(){var B=this,K=B._options.callbacks,de=K.beforeTitle.apply(B,arguments),me=K.title.apply(B,arguments),he=K.afterTitle.apply(B,arguments),De=[];return De=Z(De,de),De=Z(De,me),Z(De,he)},getBeforeBody:function(){var B=this._options.callbacks.beforeBody.apply(this,arguments);return ce.isArray(B)?B:void 0!==B?[B]:[]},getBody:function(B,K){var de=this,me=de._options.callbacks,he=[];return ce.each(B,function(De){var Ne={before:[],lines:[],after:[]};Z(Ne.before,me.beforeLabel.call(de,De,K)),Z(Ne.lines,me.label.call(de,De,K)),Z(Ne.after,me.afterLabel.call(de,De,K)),he.push(Ne)}),he},getAfterBody:function(){var B=this._options.callbacks.afterBody.apply(this,arguments);return ce.isArray(B)?B:void 0!==B?[B]:[]},getFooter:function(){var B=this,K=B._options.callbacks,de=K.beforeFooter.apply(B,arguments),me=K.footer.apply(B,arguments),he=K.afterFooter.apply(B,arguments),De=[];return De=Z(De,de),De=Z(De,me),Z(De,he)},update:function(B){var K,de,me=this,he=me._options,De=me._model,Ne=me._model=j(he),Ye=me._active,P=me._data,We={xAlign:De.xAlign,yAlign:De.yAlign},xe={x:De.x,y:De.y},ke={width:De.width,height:De.height},Ve={x:De.caretX,y:De.caretY};if(Ye.length){Ne.opacity=1;var ue=[],Re=[];Ve=ge.Tooltip.positioners[he.position].call(me,Ye,me._eventPosition);var je=[];for(K=0,de=Ye.length;K<de;++K)je.push(q(Ye[K]));he.filter&&(je=je.filter(function(Je){return he.filter(Je,P)})),he.itemSort&&(je=je.sort(function(Je,ht){return he.itemSort(Je,ht,P)})),ce.each(je,function(Je){ue.push(he.callbacks.labelColor.call(me,Je,me._chart)),Re.push(he.callbacks.labelTextColor.call(me,Je,me._chart))}),Ne.title=me.getTitle(je,P),Ne.beforeBody=me.getBeforeBody(je,P),Ne.body=me.getBody(je,P),Ne.afterBody=me.getAfterBody(je,P),Ne.footer=me.getFooter(je,P),Ne.x=Math.round(Ve.x),Ne.y=Math.round(Ve.y),Ne.caretPadding=he.caretPadding,Ne.labelColors=ue,Ne.labelTextColors=Re,Ne.dataPoints=je,xe=function O(B,K,de){var me=B.x,he=B.y,Ne=B.caretPadding,P=de.xAlign,We=de.yAlign,xe=B.caretSize+Ne,ke=B.cornerRadius+Ne;return"right"===P?me-=K.width:"center"===P&&(me-=K.width/2),"top"===We?he+=xe:he-="bottom"===We?K.height+xe:K.height/2,"center"===We?"left"===P?me+=xe:"right"===P&&(me-=xe):"left"===P?me-=ke:"right"===P&&(me+=ke),{x:me,y:he}}(Ne,ke=function J(B,K){var de=B._chart.ctx,me=2*K.yPadding,he=0,De=K.body,Ne=De.reduce(function(Re,je){return Re+je.before.length+je.lines.length+je.after.length},0),Ye=K.title.length,P=K.footer.length,We=K.titleFontSize,xe=K.bodyFontSize,ke=K.footerFontSize;me+=Ye*We,me+=Ye?(Ye-1)*K.titleSpacing:0,me+=Ye?K.titleMarginBottom:0,me+=(Ne+=K.beforeBody.length+K.afterBody.length)*xe,me+=Ne?(Ne-1)*K.bodySpacing:0,me+=P?K.footerMarginTop:0,me+=P*ke,me+=P?(P-1)*K.footerSpacing:0;var Ve=0,ue=function(Re){he=Math.max(he,de.measureText(Re).width+Ve)};return de.font=ce.fontString(We,K._titleFontStyle,K._titleFontFamily),ce.each(K.title,ue),de.font=ce.fontString(xe,K._bodyFontStyle,K._bodyFontFamily),ce.each(K.beforeBody.concat(K.afterBody),ue),Ve=K.displayColors?xe+2:0,ce.each(De,function(Re){ce.each(Re.before,ue),ce.each(Re.lines,ue),ce.each(Re.after,ue)}),Ve=0,de.font=ce.fontString(ke,K._footerFontStyle,K._footerFontFamily),ce.each(K.footer,ue),{width:he+=2*K.xPadding,height:me}}(this,Ne),We=function ee(B,K){var de=B._model,me=B._chart,he=B._chart.chartArea,De="center",Ne="center";de.y<K.height?Ne="top":de.y>me.height-K.height&&(Ne="bottom");var Ye,P,We,xe,ke,Ve=(he.left+he.right)/2,ue=(he.top+he.bottom)/2;"center"===Ne?(Ye=function(je){return je<=Ve},P=function(je){return je>Ve}):(Ye=function(je){return je<=K.width/2},P=function(je){return je>=me.width-K.width/2}),We=function(je){return je+K.width>me.width},xe=function(je){return je-K.width<0},ke=function(je){return je<=ue?"top":"bottom"},Ye(de.x)?(De="left",We(de.x)&&(De="center",Ne=ke(de.y))):P(de.x)&&(De="right",xe(de.x)&&(De="center",Ne=ke(de.y)));var Re=B._options;return{xAlign:Re.xAlign?Re.xAlign:De,yAlign:Re.yAlign?Re.yAlign:Ne}}(this,ke))}else Ne.opacity=0;return Ne.xAlign=We.xAlign,Ne.yAlign=We.yAlign,Ne.x=xe.x,Ne.y=xe.y,Ne.width=ke.width,Ne.height=ke.height,Ne.caretX=Ve.x,Ne.caretY=Ve.y,me._model=Ne,B&&he.custom&&he.custom.call(me,Ne),me},drawCaret:function(B,K){var de=this._chart.ctx,he=this.getCaretPosition(B,K,this._view);de.lineTo(he.x1,he.y1),de.lineTo(he.x2,he.y2),de.lineTo(he.x3,he.y3)},getCaretPosition:function(B,K,de){var me,he,De,Ne,Ye,P,We=de.caretSize,xe=de.cornerRadius,ke=de.xAlign,Ve=de.yAlign,ue=B.x,Re=B.y,je=K.width,Je=K.height;if("center"===Ve)Ye=Re+Je/2,"left"===ke?(he=(me=ue)-We,De=me,Ne=Ye+We,P=Ye-We):(he=(me=ue+je)+We,De=me,Ne=Ye-We,P=Ye+We);else if("left"===ke?(me=(he=ue+xe+We)-We,De=he+We):"right"===ke?(me=(he=ue+je-xe-We)-We,De=he+We):(me=(he=ue+je/2)-We,De=he+We),"top"===Ve)Ye=(Ne=Re)-We,P=Ne;else{Ye=(Ne=Re+Je)+We,P=Ne;var ht=De;De=me,me=ht}return{x1:me,x2:he,x3:De,y1:Ne,y2:Ye,y3:P}},drawTitle:function(B,K,de,me){var he=K.title;if(he.length){de.textAlign=K._titleAlign,de.textBaseline="top";var Ye,P,De=K.titleFontSize,Ne=K.titleSpacing;for(de.fillStyle=Q(K.titleFontColor,me),de.font=ce.fontString(De,K._titleFontStyle,K._titleFontFamily),Ye=0,P=he.length;Ye<P;++Ye)de.fillText(he[Ye],B.x,B.y),B.y+=De+Ne,Ye+1===he.length&&(B.y+=K.titleMarginBottom-Ne)}},drawBody:function(B,K,de,me){var he=K.bodyFontSize,De=K.bodySpacing,Ne=K.body;de.textAlign=K._bodyAlign,de.textBaseline="top",de.font=ce.fontString(he,K._bodyFontStyle,K._bodyFontFamily);var Ye=0,P=function(xe){de.fillText(xe,B.x+Ye,B.y),B.y+=he+De};de.fillStyle=Q(K.bodyFontColor,me),ce.each(K.beforeBody,P);var We=K.displayColors;Ye=We?he+2:0,ce.each(Ne,function(xe,ke){var Ve=Q(K.labelTextColors[ke],me);de.fillStyle=Ve,ce.each(xe.before,P),ce.each(xe.lines,function(ue){We&&(de.fillStyle=Q(K.legendColorBackground,me),de.fillRect(B.x,B.y,he,he),de.lineWidth=1,de.strokeStyle=Q(K.labelColors[ke].borderColor,me),de.strokeRect(B.x,B.y,he,he),de.fillStyle=Q(K.labelColors[ke].backgroundColor,me),de.fillRect(B.x+1,B.y+1,he-2,he-2),de.fillStyle=Ve),P(ue)}),ce.each(xe.after,P)}),Ye=0,ce.each(K.afterBody,P),B.y-=De},drawFooter:function(B,K,de,me){var he=K.footer;he.length&&(B.y+=K.footerMarginTop,de.textAlign=K._footerAlign,de.textBaseline="top",de.fillStyle=Q(K.footerFontColor,me),de.font=ce.fontString(K.footerFontSize,K._footerFontStyle,K._footerFontFamily),ce.each(he,function(De){de.fillText(De,B.x,B.y),B.y+=K.footerFontSize+K.footerSpacing}))},drawBackground:function(B,K,de,me,he){de.fillStyle=Q(K.backgroundColor,he),de.strokeStyle=Q(K.borderColor,he),de.lineWidth=K.borderWidth;var De=K.xAlign,Ne=K.yAlign,Ye=B.x,P=B.y,We=me.width,xe=me.height,ke=K.cornerRadius;de.beginPath(),de.moveTo(Ye+ke,P),"top"===Ne&&this.drawCaret(B,me),de.lineTo(Ye+We-ke,P),de.quadraticCurveTo(Ye+We,P,Ye+We,P+ke),"center"===Ne&&"right"===De&&this.drawCaret(B,me),de.lineTo(Ye+We,P+xe-ke),de.quadraticCurveTo(Ye+We,P+xe,Ye+We-ke,P+xe),"bottom"===Ne&&this.drawCaret(B,me),de.lineTo(Ye+ke,P+xe),de.quadraticCurveTo(Ye,P+xe,Ye,P+xe-ke),"center"===Ne&&"left"===De&&this.drawCaret(B,me),de.lineTo(Ye,P+ke),de.quadraticCurveTo(Ye,P,Ye+ke,P),de.closePath(),de.fill(),K.borderWidth>0&&de.stroke()},draw:function(){var B=this._chart.ctx,K=this._view;if(0!==K.opacity){var de={width:K.width,height:K.height},me={x:K.x,y:K.y},he=Math.abs(K.opacity<.001)?0:K.opacity;this._options.enabled&&(K.title.length||K.beforeBody.length||K.body.length||K.afterBody.length||K.footer.length)&&(this.drawBackground(me,K,B,de,he),me.x+=K.xPadding,me.y+=K.yPadding,this.drawTitle(me,K,B,he),this.drawBody(me,K,B,he),this.drawFooter(me,K,B,he))}},handleEvent:function(B){var K=this,de=K._options,me=!1;if(K._lastActive=K._lastActive||[],K._active="mouseout"===B.type?[]:K._chart.getElementsAtEventForMode(B,de.mode,de),!(me=!ce.arrayEquals(K._active,K._lastActive)))return!1;if(K._lastActive=K._active,de.enabled||de.custom){K._eventPosition={x:B.x,y:B.y};var he=K._model;K.update(!0),K.pivot(),me|=he.x!==K._model.x||he.y!==K._model.y}return me}}),ge.Tooltip.positioners={average:function(B){if(!B.length)return!1;var K,de,me=0,he=0,De=0;for(K=0,de=B.length;K<de;++K){var Ne=B[K];if(Ne&&Ne.hasValue()){var Ye=Ne.tooltipPosition();me+=Ye.x,he+=Ye.y,++De}}return{x:Math.round(me/De),y:Math.round(he/De)}},nearest:function(B,K){var de,me,he,De=K.x,Ne=K.y,Ye=Number.POSITIVE_INFINITY;for(de=0,me=B.length;de<me;++de){var P=B[de];if(P&&P.hasValue()){var We=P.getCenterPoint(),xe=ce.distanceBetweenPoints(K,We);xe<Ye&&(Ye=xe,he=P)}}if(he){var ke=he.tooltipPosition();De=ke.x,Ne=ke.y}return{x:De,y:Ne}}}}},{25:25,26:26,45:45}],36:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(26),ce=be(45);ve._set("global",{elements:{arc:{backgroundColor:ve.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),Ae.exports=at.extend({inLabelRange:function(ge){var Q=this._view;return!!Q&&Math.pow(ge-Q.x,2)<Math.pow(Q.radius+Q.hoverRadius,2)},inRange:function(ge,Q){var Z=this._view;if(Z){for(var q=ce.getAngleFromPoint(Z,{x:ge,y:Q}),j=q.angle,J=q.distance,ee=Z.startAngle,O=Z.endAngle;O<ee;)O+=2*Math.PI;for(;j>O;)j-=2*Math.PI;for(;j<ee;)j+=2*Math.PI;return j>=ee&&j<=O&&J>=Z.innerRadius&&J<=Z.outerRadius}return!1},getCenterPoint:function(){var ge=this._view,Q=(ge.startAngle+ge.endAngle)/2,Z=(ge.innerRadius+ge.outerRadius)/2;return{x:ge.x+Math.cos(Q)*Z,y:ge.y+Math.sin(Q)*Z}},getArea:function(){var ge=this._view;return Math.PI*((ge.endAngle-ge.startAngle)/(2*Math.PI))*(Math.pow(ge.outerRadius,2)-Math.pow(ge.innerRadius,2))},tooltipPosition:function(){var ge=this._view,Q=ge.startAngle+(ge.endAngle-ge.startAngle)/2,Z=(ge.outerRadius-ge.innerRadius)/2+ge.innerRadius;return{x:ge.x+Math.cos(Q)*Z,y:ge.y+Math.sin(Q)*Z}},draw:function(){var ge=this._chart.ctx,Q=this._view,Z=Q.startAngle,q=Q.endAngle;ge.beginPath(),ge.arc(Q.x,Q.y,Q.outerRadius,Z,q),ge.arc(Q.x,Q.y,Q.innerRadius,q,Z,!0),ge.closePath(),ge.strokeStyle=Q.borderColor,ge.lineWidth=Q.borderWidth,ge.fillStyle=Q.backgroundColor,ge.fill(),ge.lineJoin="bevel",Q.borderWidth&&ge.stroke()}})},{25:25,26:26,45:45}],37:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(26),ce=be(45),ge=ve.global;ve._set("global",{elements:{line:{tension:.4,backgroundColor:ge.defaultColor,borderWidth:3,borderColor:ge.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),Ae.exports=at.extend({draw:function(){var Q,Z,q,j,J=this,ee=J._view,O=J._chart.ctx,B=ee.spanGaps,K=J._children.slice(),de=ge.elements.line,me=-1;for(J._loop&&K.length&&K.push(K[0]),O.save(),O.lineCap=ee.borderCapStyle||de.borderCapStyle,O.setLineDash&&O.setLineDash(ee.borderDash||de.borderDash),O.lineDashOffset=ee.borderDashOffset||de.borderDashOffset,O.lineJoin=ee.borderJoinStyle||de.borderJoinStyle,O.lineWidth=ee.borderWidth||de.borderWidth,O.strokeStyle=ee.borderColor||ge.defaultColor,O.beginPath(),me=-1,Q=0;Q<K.length;++Q)Z=K[Q],q=ce.previousItem(K,Q),j=Z._view,0===Q?j.skip||(O.moveTo(j.x,j.y),me=Q):(q=-1===me?q:K[me],j.skip||(me!==Q-1&&!B||-1===me?O.moveTo(j.x,j.y):ce.canvas.lineTo(O,q._view,Z._view),me=Q));O.stroke(),O.restore()}})},{25:25,26:26,45:45}],38:[function(be,Ae,Sn){"use strict";function ve(Z){var q=this._view;return!!q&&Math.pow(Z-q.x,2)<Math.pow(q.radius+q.hitRadius,2)}var at=be(25),ce=be(26),ge=be(45),Q=at.global.defaultColor;at._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Q,borderColor:Q,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),Ae.exports=ce.extend({inRange:function(Z,q){var j=this._view;return!!j&&Math.pow(Z-j.x,2)+Math.pow(q-j.y,2)<Math.pow(j.hitRadius+j.radius,2)},inLabelRange:ve,inXRange:ve,inYRange:function(Z){var q=this._view;return!!q&&Math.pow(Z-q.y,2)<Math.pow(q.radius+q.hitRadius,2)},getCenterPoint:function(){var Z=this._view;return{x:Z.x,y:Z.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var Z=this._view;return{x:Z.x,y:Z.y,padding:Z.radius+Z.borderWidth}},draw:function(Z){var q=this._view,j=this._model,J=this._chart.ctx,ee=q.pointStyle,O=q.radius,B=q.x,K=q.y,de=ge.color,me=0;q.skip||(J.strokeStyle=q.borderColor||Q,J.lineWidth=ge.valueOrDefault(q.borderWidth,at.global.elements.point.borderWidth),J.fillStyle=q.backgroundColor||Q,void 0!==Z&&(j.x<Z.left||1.01*Z.right<j.x||j.y<Z.top||1.01*Z.bottom<j.y)&&(j.x<Z.left?me=(B-j.x)/(Z.left-j.x):1.01*Z.right<j.x?me=(j.x-B)/(j.x-Z.right):j.y<Z.top?me=(K-j.y)/(Z.top-j.y):1.01*Z.bottom<j.y&&(me=(j.y-K)/(j.y-Z.bottom)),me=Math.round(100*me)/100,J.strokeStyle=de(J.strokeStyle).alpha(me).rgbString(),J.fillStyle=de(J.fillStyle).alpha(me).rgbString()),ge.canvas.drawPoint(J,ee,O,B,K))}})},{25:25,26:26,45:45}],39:[function(be,Ae,Sn){"use strict";function ve(Q){return void 0!==Q._view.width}function at(Q){var Z,q,j,J,ee=Q._view;if(ve(Q)){var O=ee.width/2;Z=ee.x-O,q=ee.x+O,j=Math.min(ee.y,ee.base),J=Math.max(ee.y,ee.base)}else{var B=ee.height/2;Z=Math.min(ee.x,ee.base),q=Math.max(ee.x,ee.base),j=ee.y-B,J=ee.y+B}return{left:Z,top:j,right:q,bottom:J}}var ce=be(25),ge=be(26);ce._set("global",{elements:{rectangle:{backgroundColor:ce.global.defaultColor,borderColor:ce.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),Ae.exports=ge.extend({draw:function(){function Q(Re){return xe[(ke+Re)%4]}var Z,q,j,J,ee,O,B,K=this._chart.ctx,de=this._view,me=de.borderWidth;if(de.horizontal?(j=de.y-de.height/2,J=de.y+de.height/2,ee=(q=de.x)>(Z=de.base)?1:-1,O=1,B=de.borderSkipped||"left"):(Z=de.x-de.width/2,q=de.x+de.width/2,ee=1,O=(J=de.base)>(j=de.y)?1:-1,B=de.borderSkipped||"bottom"),me){var he=Math.min(Math.abs(Z-q),Math.abs(j-J)),De=(me=me>he?he:me)/2,Ne=Z+("left"!==B?De*ee:0),Ye=q+("right"!==B?-De*ee:0),P=j+("top"!==B?De*O:0),We=J+("bottom"!==B?-De*O:0);Ne!==Ye&&(j=P,J=We),P!==We&&(Z=Ne,q=Ye)}K.beginPath(),K.fillStyle=de.backgroundColor,K.strokeStyle=de.borderColor,K.lineWidth=me;var xe=[[Z,J],[Z,j],[q,j],[q,J]],ke=["bottom","left","top","right"].indexOf(B,0);-1===ke&&(ke=0);var Ve=Q(0);K.moveTo(Ve[0],Ve[1]);for(var ue=1;ue<4;ue++)Ve=Q(ue),K.lineTo(Ve[0],Ve[1]);K.fill(),me&&K.stroke()},height:function(){var Q=this._view;return Q.base-Q.y},inRange:function(Q,Z){var q=!1;if(this._view){var j=at(this);q=Q>=j.left&&Q<=j.right&&Z>=j.top&&Z<=j.bottom}return q},inLabelRange:function(Q,Z){var q=this;if(!q._view)return!1;var j=at(q);return ve(q)?Q>=j.left&&Q<=j.right:Z>=j.top&&Z<=j.bottom},inXRange:function(Q){var Z=at(this);return Q>=Z.left&&Q<=Z.right},inYRange:function(Q){var Z=at(this);return Q>=Z.top&&Q<=Z.bottom},getCenterPoint:function(){var Q,Z,q=this._view;return ve(this)?(Q=q.x,Z=(q.y+q.base)/2):(Q=(q.x+q.base)/2,Z=q.y),{x:Q,y:Z}},getArea:function(){var Q=this._view;return Q.width*Math.abs(Q.y-Q.base)},tooltipPosition:function(){var Q=this._view;return{x:Q.x,y:Q.y}}})},{25:25,26:26}],40:[function(be,Ae,Sn){"use strict";Ae.exports={},Ae.exports.Arc=be(36),Ae.exports.Line=be(37),Ae.exports.Point=be(38),Ae.exports.Rectangle=be(39)},{36:36,37:37,38:38,39:39}],41:[function(be,Ae,at){"use strict";var ve=be(42);at=Ae.exports={clear:function(ce){ce.ctx.clearRect(0,0,ce.width,ce.height)},roundedRect:function(ce,ge,Q,Z,q,j){if(j){var J=Math.min(j,Z/2),ee=Math.min(j,q/2);ce.moveTo(ge+J,Q),ce.lineTo(ge+Z-J,Q),ce.quadraticCurveTo(ge+Z,Q,ge+Z,Q+ee),ce.lineTo(ge+Z,Q+q-ee),ce.quadraticCurveTo(ge+Z,Q+q,ge+Z-J,Q+q),ce.lineTo(ge+J,Q+q),ce.quadraticCurveTo(ge,Q+q,ge,Q+q-ee),ce.lineTo(ge,Q+ee),ce.quadraticCurveTo(ge,Q,ge+J,Q)}else ce.rect(ge,Q,Z,q)},drawPoint:function(ce,ge,Q,Z,q){var j,J,ee,O,B,K;if(!ge||"object"!=typeof ge||"[object HTMLImageElement]"!==(j=ge.toString())&&"[object HTMLCanvasElement]"!==j){if(!(isNaN(Q)||Q<=0)){switch(ge){default:ce.beginPath(),ce.arc(Z,q,Q,0,2*Math.PI),ce.closePath(),ce.fill();break;case"triangle":ce.beginPath(),B=(J=3*Q/Math.sqrt(3))*Math.sqrt(3)/2,ce.moveTo(Z-J/2,q+B/3),ce.lineTo(Z+J/2,q+B/3),ce.lineTo(Z,q-2*B/3),ce.closePath(),ce.fill();break;case"rect":K=1/Math.SQRT2*Q,ce.beginPath(),ce.fillRect(Z-K,q-K,2*K,2*K),ce.strokeRect(Z-K,q-K,2*K,2*K);break;case"rectRounded":var de=Q/Math.SQRT2,me=Z-de,he=q-de,De=Math.SQRT2*Q;ce.beginPath(),this.roundedRect(ce,me,he,De,De,Q/2),ce.closePath(),ce.fill();break;case"rectRot":K=1/Math.SQRT2*Q,ce.beginPath(),ce.moveTo(Z-K,q),ce.lineTo(Z,q+K),ce.lineTo(Z+K,q),ce.lineTo(Z,q-K),ce.closePath(),ce.fill();break;case"cross":ce.beginPath(),ce.moveTo(Z,q+Q),ce.lineTo(Z,q-Q),ce.moveTo(Z-Q,q),ce.lineTo(Z+Q,q),ce.closePath();break;case"crossRot":ce.beginPath(),ee=Math.cos(Math.PI/4)*Q,O=Math.sin(Math.PI/4)*Q,ce.moveTo(Z-ee,q-O),ce.lineTo(Z+ee,q+O),ce.moveTo(Z-ee,q+O),ce.lineTo(Z+ee,q-O),ce.closePath();break;case"star":ce.beginPath(),ce.moveTo(Z,q+Q),ce.lineTo(Z,q-Q),ce.moveTo(Z-Q,q),ce.lineTo(Z+Q,q),ee=Math.cos(Math.PI/4)*Q,O=Math.sin(Math.PI/4)*Q,ce.moveTo(Z-ee,q-O),ce.lineTo(Z+ee,q+O),ce.moveTo(Z-ee,q+O),ce.lineTo(Z+ee,q-O),ce.closePath();break;case"line":ce.beginPath(),ce.moveTo(Z-Q,q),ce.lineTo(Z+Q,q),ce.closePath();break;case"dash":ce.beginPath(),ce.moveTo(Z,q),ce.lineTo(Z+Q,q),ce.closePath()}ce.stroke()}}else ce.drawImage(ge,Z-ge.width/2,q-ge.height/2,ge.width,ge.height)},clipArea:function(ce,ge){ce.save(),ce.beginPath(),ce.rect(ge.left,ge.top,ge.right-ge.left,ge.bottom-ge.top),ce.clip()},unclipArea:function(ce){ce.restore()},lineTo:function(ce,ge,Q,Z){if(Q.steppedLine)return"after"===Q.steppedLine&&!Z||"after"!==Q.steppedLine&&Z?ce.lineTo(ge.x,Q.y):ce.lineTo(Q.x,ge.y),void ce.lineTo(Q.x,Q.y);Q.tension?ce.bezierCurveTo(Z?ge.controlPointPreviousX:ge.controlPointNextX,Z?ge.controlPointPreviousY:ge.controlPointNextY,Z?Q.controlPointNextX:Q.controlPointPreviousX,Z?Q.controlPointNextY:Q.controlPointPreviousY,Q.x,Q.y):ce.lineTo(Q.x,Q.y)}},ve.clear=at.clear,ve.drawRoundedRectangle=function(ce){ce.beginPath(),at.roundedRect.apply(at,arguments),ce.closePath()}},{42:42}],42:[function(be,Ae,Sn){"use strict";var at,ve={noop:function(){},uid:(at=0,function(){return at++}),isNullOrUndef:function(at){return null==at},isArray:Array.isArray?Array.isArray:function(at){return"[object Array]"===Object.prototype.toString.call(at)},isObject:function(at){return null!==at&&"[object Object]"===Object.prototype.toString.call(at)},valueOrDefault:function(at,ce){return void 0===at?ce:at},valueAtIndexOrDefault:function(at,ce,ge){return ve.valueOrDefault(ve.isArray(at)?at[ce]:at,ge)},callback:function(at,ce,ge){if(at&&"function"==typeof at.call)return at.apply(ge,ce)},each:function(at,ce,ge,Q){var Z,q,j;if(ve.isArray(at))if(q=at.length,Q)for(Z=q-1;Z>=0;Z--)ce.call(ge,at[Z],Z);else for(Z=0;Z<q;Z++)ce.call(ge,at[Z],Z);else if(ve.isObject(at))for(q=(j=Object.keys(at)).length,Z=0;Z<q;Z++)ce.call(ge,at[j[Z]],j[Z])},arrayEquals:function(at,ce){var ge,Q,Z,q;if(!at||!ce||at.length!==ce.length)return!1;for(ge=0,Q=at.length;ge<Q;++ge)if(q=ce[ge],(Z=at[ge])instanceof Array&&q instanceof Array){if(!ve.arrayEquals(Z,q))return!1}else if(Z!==q)return!1;return!0},clone:function(at){if(ve.isArray(at))return at.map(ve.clone);if(ve.isObject(at)){for(var ce={},ge=Object.keys(at),Q=ge.length,Z=0;Z<Q;++Z)ce[ge[Z]]=ve.clone(at[ge[Z]]);return ce}return at},_merger:function(at,ce,ge,Q){var Z=ce[at],q=ge[at];ve.isObject(Z)&&ve.isObject(q)?ve.merge(Z,q,Q):ce[at]=ve.clone(q)},_mergerIf:function(at,ce,ge){var Q=ce[at],Z=ge[at];ve.isObject(Q)&&ve.isObject(Z)?ve.mergeIf(Q,Z):ce.hasOwnProperty(at)||(ce[at]=ve.clone(Z))},merge:function(at,ce,ge){var Q,Z,q,j,J,ee=ve.isArray(ce)?ce:[ce],O=ee.length;if(!ve.isObject(at))return at;for(Q=(ge=ge||{}).merger||ve._merger,Z=0;Z<O;++Z)if(ve.isObject(ce=ee[Z]))for(J=0,j=(q=Object.keys(ce)).length;J<j;++J)Q(q[J],at,ce,ge);return at},mergeIf:function(at,ce){return ve.merge(at,ce,{merger:ve._mergerIf})},extend:function(at){for(var ce=1,ge=arguments.length;ce<ge;++ce)ve.each(arguments[ce],function(Q,Z){at[Z]=Q});return at},inherits:function(at){var ce=this,ge=at&&at.hasOwnProperty("constructor")?at.constructor:function(){return ce.apply(this,arguments)},Q=function(){this.constructor=ge};return Q.prototype=ce.prototype,ge.prototype=new Q,ge.extend=ve.inherits,at&&ve.extend(ge.prototype,at),ge.__super__=ce.prototype,ge}};Ae.exports=ve,ve.callCallback=ve.callback,ve.indexOf=function(at,ce,ge){return Array.prototype.indexOf.call(at,ce,ge)},ve.getValueOrDefault=ve.valueOrDefault,ve.getValueAtIndexOrDefault=ve.valueAtIndexOrDefault},{}],43:[function(be,Ae,Sn){"use strict";var ve=be(42),at={linear:function(ce){return ce},easeInQuad:function(ce){return ce*ce},easeOutQuad:function(ce){return-ce*(ce-2)},easeInOutQuad:function(ce){return(ce/=.5)<1?.5*ce*ce:-.5*(--ce*(ce-2)-1)},easeInCubic:function(ce){return ce*ce*ce},easeOutCubic:function(ce){return(ce-=1)*ce*ce+1},easeInOutCubic:function(ce){return(ce/=.5)<1?.5*ce*ce*ce:.5*((ce-=2)*ce*ce+2)},easeInQuart:function(ce){return ce*ce*ce*ce},easeOutQuart:function(ce){return-((ce-=1)*ce*ce*ce-1)},easeInOutQuart:function(ce){return(ce/=.5)<1?.5*ce*ce*ce*ce:-.5*((ce-=2)*ce*ce*ce-2)},easeInQuint:function(ce){return ce*ce*ce*ce*ce},easeOutQuint:function(ce){return(ce-=1)*ce*ce*ce*ce+1},easeInOutQuint:function(ce){return(ce/=.5)<1?.5*ce*ce*ce*ce*ce:.5*((ce-=2)*ce*ce*ce*ce+2)},easeInSine:function(ce){return 1-Math.cos(ce*(Math.PI/2))},easeOutSine:function(ce){return Math.sin(ce*(Math.PI/2))},easeInOutSine:function(ce){return-.5*(Math.cos(Math.PI*ce)-1)},easeInExpo:function(ce){return 0===ce?0:Math.pow(2,10*(ce-1))},easeOutExpo:function(ce){return 1===ce?1:1-Math.pow(2,-10*ce)},easeInOutExpo:function(ce){return 0===ce?0:1===ce?1:(ce/=.5)<1?.5*Math.pow(2,10*(ce-1)):.5*(2-Math.pow(2,-10*--ce))},easeInCirc:function(ce){return ce>=1?ce:-(Math.sqrt(1-ce*ce)-1)},easeOutCirc:function(ce){return Math.sqrt(1-(ce-=1)*ce)},easeInOutCirc:function(ce){return(ce/=.5)<1?-.5*(Math.sqrt(1-ce*ce)-1):.5*(Math.sqrt(1-(ce-=2)*ce)+1)},easeInElastic:function(ce){var ge=1.70158,Q=0,Z=1;return 0===ce?0:1===ce?1:(Q||(Q=.3),Z<1?(Z=1,ge=Q/4):ge=Q/(2*Math.PI)*Math.asin(1/Z),-Z*Math.pow(2,10*(ce-=1))*Math.sin((ce-ge)*(2*Math.PI)/Q))},easeOutElastic:function(ce){var ge=1.70158,Q=0,Z=1;return 0===ce?0:1===ce?1:(Q||(Q=.3),Z<1?(Z=1,ge=Q/4):ge=Q/(2*Math.PI)*Math.asin(1/Z),Z*Math.pow(2,-10*ce)*Math.sin((ce-ge)*(2*Math.PI)/Q)+1)},easeInOutElastic:function(ce){var ge=1.70158,Q=0,Z=1;return 0===ce?0:2==(ce/=.5)?1:(Q||(Q=.45),Z<1?(Z=1,ge=Q/4):ge=Q/(2*Math.PI)*Math.asin(1/Z),ce<1?Z*Math.pow(2,10*(ce-=1))*Math.sin((ce-ge)*(2*Math.PI)/Q)*-.5:Z*Math.pow(2,-10*(ce-=1))*Math.sin((ce-ge)*(2*Math.PI)/Q)*.5+1)},easeInBack:function(ce){return ce*ce*(2.70158*ce-1.70158)},easeOutBack:function(ce){return(ce-=1)*ce*(2.70158*ce+1.70158)+1},easeInOutBack:function(ce){var ge=1.70158;return(ce/=.5)<1?ce*ce*((1+(ge*=1.525))*ce-ge)*.5:.5*((ce-=2)*ce*((1+(ge*=1.525))*ce+ge)+2)},easeInBounce:function(ce){return 1-at.easeOutBounce(1-ce)},easeOutBounce:function(ce){return ce<1/2.75?7.5625*ce*ce:ce<2/2.75?7.5625*(ce-=1.5/2.75)*ce+.75:ce<2.5/2.75?7.5625*(ce-=2.25/2.75)*ce+.9375:7.5625*(ce-=2.625/2.75)*ce+.984375},easeInOutBounce:function(ce){return ce<.5?.5*at.easeInBounce(2*ce):.5*at.easeOutBounce(2*ce-1)+.5}};Ae.exports={effects:at},ve.easingEffects=at},{42:42}],44:[function(be,Ae,Sn){"use strict";var ve=be(42);Ae.exports={toLineHeight:function(at,ce){var ge=(""+at).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!ge||"normal"===ge[1])return 1.2*ce;switch(at=+ge[2],ge[3]){case"px":return at;case"%":at/=100}return ce*at},toPadding:function(at){var ce,ge,Q,Z;return ve.isObject(at)?(ce=+at.top||0,ge=+at.right||0,Q=+at.bottom||0,Z=+at.left||0):ce=ge=Q=Z=+at||0,{top:ce,right:ge,bottom:Q,left:Z,height:ce+Q,width:Z+ge}},resolve:function(at,ce,ge){var Q,Z,q;for(Q=0,Z=at.length;Q<Z;++Q)if(void 0!==(q=at[Q])&&(void 0!==ce&&"function"==typeof q&&(q=q(ce)),void 0!==ge&&ve.isArray(q)&&(q=q[ge]),void 0!==q))return q}}},{42:42}],45:[function(be,Ae,Sn){"use strict";Ae.exports=be(42),Ae.exports.easing=be(43),Ae.exports.canvas=be(41),Ae.exports.options=be(44)},{41:41,42:42,43:43,44:44}],46:[function(be,Ae,Sn){Ae.exports={acquireContext:function(ve){return ve&&ve.canvas&&(ve=ve.canvas),ve&&ve.getContext("2d")||null}}},{}],47:[function(be,Ae,Sn){"use strict";function ve(xe,ke){var Ve=de.getStyle(xe,ke),ue=Ve&&Ve.match(/^(\d+)(\.\d+)?px$/);return ue?Number(ue[1]):void 0}function ce(xe,ke,Ve){xe.addEventListener(ke,Ve,We)}function ge(xe,ke,Ve){xe.removeEventListener(ke,Ve,We)}function Q(xe,ke,Ve,ue,Re){return{type:xe,chart:ke,native:Re||null,x:void 0!==Ve?Ve:null,y:void 0!==ue?ue:null}}var de=be(45),me="$chartjs",he="chartjs-",De=he+"render-monitor",Ne=he+"render-animation",Ye=["animationstart","webkitAnimationStart"],P={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},We=!!function(){var xe=!1;try{var ke=Object.defineProperty({},"passive",{get:function(){xe=!0}});window.addEventListener("e",null,ke)}catch{}return xe}()&&{passive:!0};Ae.exports={_enabled:typeof window<"u"&&typeof document<"u",initialize:function(){var xe="from{opacity:0.99}to{opacity:1}";!function K(xe,ke){var Ve=xe._style||document.createElement("style");xe._style||(xe._style=Ve,ke="/* Chart.js */\n"+ke,Ve.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(Ve)),Ve.appendChild(document.createTextNode(ke))}(this,"@-webkit-keyframes "+Ne+"{"+xe+"}@keyframes "+Ne+"{"+xe+"}."+De+"{-webkit-animation:"+Ne+" 0.001s;animation:"+Ne+" 0.001s;}")},acquireContext:function(xe,ke){"string"==typeof xe?xe=document.getElementById(xe):xe.length&&(xe=xe[0]),xe&&xe.canvas&&(xe=xe.canvas);var Ve=xe&&xe.getContext&&xe.getContext("2d");return Ve&&Ve.canvas===xe?(function at(xe,ke){var Ve=xe.style,ue=xe.getAttribute("height"),Re=xe.getAttribute("width");if(xe[me]={initial:{height:ue,width:Re,style:{display:Ve.display,height:Ve.height,width:Ve.width}}},Ve.display=Ve.display||"block",null===Re||""===Re){var je=ve(xe,"width");void 0!==je&&(xe.width=je)}if(null===ue||""===ue)if(""===xe.style.height)xe.height=xe.width/(ke.options.aspectRatio||2);else{var Je=ve(xe,"height");void 0!==je&&(xe.height=Je)}}(xe,ke),Ve):null},releaseContext:function(xe){var ke=xe.canvas;if(ke[me]){var Ve=ke[me].initial;["height","width"].forEach(function(ue){var Re=Ve[ue];de.isNullOrUndef(Re)?ke.removeAttribute(ue):ke.setAttribute(ue,Re)}),de.each(Ve.style||{},function(ue,Re){ke.style[Re]=ue}),ke.width=ke.width,delete ke[me]}},addEventListener:function(xe,ke,Ve){var ue=xe.canvas;if("resize"!==ke){var Re=Ve[me]||(Ve[me]={});ce(ue,ke,(Re.proxies||(Re.proxies={}))[xe.id+"_"+ke]=function(je){Ve(function Z(xe,ke){var Ve=P[xe.type]||xe.type,ue=de.getRelativePosition(xe,ke);return Q(Ve,ke,ue.x,ue.y,xe)}(je,xe))})}else!function O(xe,ke,Ve){var ue=xe[me]||(xe[me]={}),Re=ue.resizer=function j(xe){var ke=document.createElement("div"),Ve=he+"size-monitor",ue="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";ke.style.cssText=ue,ke.className=Ve,ke.innerHTML='<div class="'+Ve+'-expand" style="'+ue+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+Ve+'-shrink" style="'+ue+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var Re=ke.childNodes[0],je=ke.childNodes[1];ke._reset=function(){Re.scrollLeft=1e6,Re.scrollTop=1e6,je.scrollLeft=1e6,je.scrollTop=1e6};var Je=function(){ke._reset(),xe()};return ce(Re,"scroll",Je.bind(Re,"expand")),ce(je,"scroll",Je.bind(je,"shrink")),ke}(function q(xe,ke){var Ve=!1,ue=[];return function(){ue=Array.prototype.slice.call(arguments),ke=ke||this,Ve||(Ve=!0,de.requestAnimFrame.call(window,function(){Ve=!1,xe.apply(ke,ue)}))}}(function(){if(ue.resizer)return ke(Q("resize",Ve))}));!function J(xe,ke){var Ve=xe[me]||(xe[me]={}),ue=Ve.renderProxy=function(Re){Re.animationName===Ne&&ke()};de.each(Ye,function(Re){ce(xe,Re,ue)}),Ve.reflow=!!xe.offsetParent,xe.classList.add(De)}(xe,function(){if(ue.resizer){var je=xe.parentNode;je&&je!==Re.parentNode&&je.insertBefore(Re,je.firstChild),Re._reset()}})}(ue,Ve,xe)},removeEventListener:function(xe,ke,Ve){var ue=xe.canvas;if("resize"!==ke){var Re=((Ve[me]||{}).proxies||{})[xe.id+"_"+ke];Re&&ge(ue,ke,Re)}else!function B(xe){var ke=xe[me]||{},Ve=ke.resizer;delete ke.resizer,function ee(xe){var ke=xe[me]||{},Ve=ke.renderProxy;Ve&&(de.each(Ye,function(ue){ge(xe,ue,Ve)}),delete ke.renderProxy),xe.classList.remove(De)}(xe),Ve&&Ve.parentNode&&Ve.parentNode.removeChild(Ve)}(ue)}},de.addEvent=ce,de.removeEvent=ge},{45:45}],48:[function(be,Ae,Sn){"use strict";var ve=be(45),at=be(46),ce=be(47);Ae.exports=ve.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},ce._enabled?ce:at)},{45:45,46:46,47:47}],49:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(40),ce=be(45);ve._set("global",{plugins:{filler:{propagate:!0}}}),Ae.exports=function(){function ge(B,K,de){var me,he=B._model||{},De=he.fill;if(void 0===De&&(De=!!he.backgroundColor),!1===De||null===De)return!1;if(!0===De)return"origin";if(me=parseFloat(De,10),isFinite(me)&&Math.floor(me)===me)return"-"!==De[0]&&"+"!==De[0]||(me=K+me),!(me===K||me<0||me>=de)&&me;switch(De){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return De;default:return!1}}function Q(B){var K,de=B.el._model||{},me=B.el._scale||{},he=B.fill,De=null;if(isFinite(he))return null;if("start"===he?De=void 0===de.scaleBottom?me.bottom:de.scaleBottom:"end"===he?De=void 0===de.scaleTop?me.top:de.scaleTop:void 0!==de.scaleZero?De=de.scaleZero:me.getBasePosition?De=me.getBasePosition():me.getBasePixel&&(De=me.getBasePixel()),null!=De){if(void 0!==De.x&&void 0!==De.y)return De;if("number"==typeof De&&isFinite(De))return{x:(K=me.isHorizontal())?De:null,y:K?null:De}}return null}function Z(B,K,de){var me,he=B[K].fill,De=[K];if(!de)return he;for(;!1!==he&&-1===De.indexOf(he);){if(!isFinite(he))return he;if(!(me=B[he]))return!1;if(me.visible)return he;De.push(he),he=me.fill}return!1}function q(B){var K=B.fill,de="dataset";return!1===K?null:(isFinite(K)||(de="boundary"),O[de](B))}function j(B){return B&&!B.skip}function J(B,K,de,me,he){var De;if(me&&he){for(B.moveTo(K[0].x,K[0].y),De=1;De<me;++De)ce.canvas.lineTo(B,K[De-1],K[De]);for(B.lineTo(de[he-1].x,de[he-1].y),De=he-1;De>0;--De)ce.canvas.lineTo(B,de[De],de[De-1],!0)}}var O={dataset:function(B){var K=B.fill,de=B.chart,me=de.getDatasetMeta(K),he=me&&de.isDatasetVisible(K)&&me.dataset._children||[],De=he.length||0;return De?function(Ne,Ye){return Ye<De&&he[Ye]._view||null}:null},boundary:function(B){var K=B.boundary,de=K?K.x:null,me=K?K.y:null;return function(he){return{x:null===de?he.x:de,y:null===me?he.y:me}}}};return{id:"filler",afterDatasetsUpdate:function(B,K){var de,me,he,De,Ne=(B.data.datasets||[]).length,Ye=K.propagate,P=[];for(me=0;me<Ne;++me)De=null,(he=(de=B.getDatasetMeta(me)).dataset)&&he._model&&he instanceof at.Line&&(De={visible:B.isDatasetVisible(me),fill:ge(he,me,Ne),chart:B,el:he}),de.$filler=De,P.push(De);for(me=0;me<Ne;++me)(De=P[me])&&(De.fill=Z(P,me,Ye),De.boundary=Q(De),De.mapper=q(De))},beforeDatasetDraw:function(B,K){var de=K.meta.$filler;if(de){var me=B.ctx,he=de.el,De=he._view,Ne=he._children||[],Ye=de.mapper,P=De.backgroundColor||ve.global.defaultColor;Ye&&P&&Ne.length&&(ce.canvas.clipArea(me,B.chartArea),function ee(B,K,de,me,he,De){var Ne,Ye,P,We,xe,ke,Ve,ue=K.length,Re=me.spanGaps,je=[],Je=[],ht=0,dt=0;for(B.beginPath(),Ne=0,Ye=ue+!!De;Ne<Ye;++Ne)xe=de(We=K[P=Ne%ue]._view,P,me),ke=j(We),Ve=j(xe),ke&&Ve?(ht=je.push(We),dt=Je.push(xe)):ht&&dt&&(Re?(ke&&je.push(We),Ve&&Je.push(xe)):(J(B,je,Je,ht,dt),ht=dt=0,je=[],Je=[]));J(B,je,Je,ht,dt),B.closePath(),B.fillStyle=he,B.fill()}(me,Ne,Ye,De,P,he._loop),ce.canvas.unclipArea(me))}}}}},{25:25,40:40,45:45}],50:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(26),ce=be(45);ve._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(ge,Q){var Z=Q.datasetIndex,q=this.chart,j=q.getDatasetMeta(Z);j.hidden=null===j.hidden?!q.data.datasets[Z].hidden:null,q.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(ge){var Q=ge.data;return ce.isArray(Q.datasets)?Q.datasets.map(function(Z,q){return{text:Z.label,fillStyle:ce.isArray(Z.backgroundColor)?Z.backgroundColor[0]:Z.backgroundColor,hidden:!ge.isDatasetVisible(q),lineCap:Z.borderCapStyle,lineDash:Z.borderDash,lineDashOffset:Z.borderDashOffset,lineJoin:Z.borderJoinStyle,lineWidth:Z.borderWidth,strokeStyle:Z.borderColor,pointStyle:Z.pointStyle,datasetIndex:q}},this):[]}}},legendCallback:function(ge){var Q=[];Q.push('<ul class="'+ge.id+'-legend">');for(var Z=0;Z<ge.data.datasets.length;Z++)Q.push('<li><span style="background-color:'+ge.data.datasets[Z].backgroundColor+'"></span>'),ge.data.datasets[Z].label&&Q.push(ge.data.datasets[Z].label),Q.push("</li>");return Q.push("</ul>"),Q.join("")}}),Ae.exports=function(ge){function Q(J,ee){return J.usePointStyle?ee*Math.SQRT2:J.boxWidth}function Z(J,ee){var O=new ge.Legend({ctx:J.ctx,options:ee,chart:J});q.configure(J,O,ee),q.addBox(J,O),J.legend=O}var q=ge.layoutService,j=ce.noop;return ge.Legend=at.extend({initialize:function(J){ce.extend(this,J),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:j,update:function(J,ee,O){var B=this;return B.beforeUpdate(),B.maxWidth=J,B.maxHeight=ee,B.margins=O,B.beforeSetDimensions(),B.setDimensions(),B.afterSetDimensions(),B.beforeBuildLabels(),B.buildLabels(),B.afterBuildLabels(),B.beforeFit(),B.fit(),B.afterFit(),B.afterUpdate(),B.minSize},afterUpdate:j,beforeSetDimensions:j,setDimensions:function(){var J=this;J.isHorizontal()?(J.width=J.maxWidth,J.left=0,J.right=J.width):(J.height=J.maxHeight,J.top=0,J.bottom=J.height),J.paddingLeft=0,J.paddingTop=0,J.paddingRight=0,J.paddingBottom=0,J.minSize={width:0,height:0}},afterSetDimensions:j,beforeBuildLabels:j,buildLabels:function(){var J=this,ee=J.options.labels||{},O=ce.callback(ee.generateLabels,[J.chart],J)||[];ee.filter&&(O=O.filter(function(B){return ee.filter(B,J.chart.data)})),J.options.reverse&&O.reverse(),J.legendItems=O},afterBuildLabels:j,beforeFit:j,fit:function(){var J=this,ee=J.options,O=ee.labels,B=ee.display,K=J.ctx,de=ve.global,me=ce.valueOrDefault,he=me(O.fontSize,de.defaultFontSize),De=me(O.fontStyle,de.defaultFontStyle),Ne=me(O.fontFamily,de.defaultFontFamily),Ye=ce.fontString(he,De,Ne),P=J.legendHitBoxes=[],We=J.minSize,xe=J.isHorizontal();if(xe?(We.width=J.maxWidth,We.height=B?10:0):(We.width=B?10:0,We.height=J.maxHeight),B)if(K.font=Ye,xe){var ke=J.lineWidths=[0],Ve=J.legendItems.length?he+O.padding:0;K.textAlign="left",K.textBaseline="top",ce.each(J.legendItems,function(Nt,bt){var on=Q(O,he)+he/2+K.measureText(Nt.text).width;ke[ke.length-1]+on+O.padding>=J.width&&(Ve+=he+O.padding,ke[ke.length]=J.left),P[bt]={left:0,top:0,width:on,height:he},ke[ke.length-1]+=on+O.padding}),We.height+=Ve}else{var ue=O.padding,Re=J.columnWidths=[],je=O.padding,Je=0,ht=0,dt=he+ue;ce.each(J.legendItems,function(Nt,bt){var on=Q(O,he)+he/2+K.measureText(Nt.text).width;ht+dt>We.height&&(je+=Je+O.padding,Re.push(Je),Je=0,ht=0),Je=Math.max(Je,on),ht+=dt,P[bt]={left:0,top:0,width:on,height:he}}),je+=Je,Re.push(Je),We.width+=je}J.width=We.width,J.height=We.height},afterFit:j,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var J=this,ee=J.options,O=ee.labels,B=ve.global,K=B.elements.line,de=J.width,me=J.lineWidths;if(ee.display){var he,De=J.ctx,Ne=ce.valueOrDefault,Ye=Ne(O.fontColor,B.defaultFontColor),P=Ne(O.fontSize,B.defaultFontSize),We=Ne(O.fontStyle,B.defaultFontStyle),xe=Ne(O.fontFamily,B.defaultFontFamily),ke=ce.fontString(P,We,xe);De.textAlign="left",De.textBaseline="middle",De.lineWidth=.5,De.strokeStyle=Ye,De.fillStyle=Ye,De.font=ke;var Ve=Q(O,P),ue=J.legendHitBoxes,Je=J.isHorizontal();he=Je?{x:J.left+(de-me[0])/2,y:J.top+O.padding,line:0}:{x:J.left+O.padding,y:J.top+O.padding,line:0};var ht=P+O.padding;ce.each(J.legendItems,function(dt,Nt){var bt=De.measureText(dt.text).width,on=Ve+P/2+bt,Tt=he.x,Pt=he.y;Je?Tt+on>=de&&(Pt=he.y+=ht,he.line++,Tt=he.x=J.left+(de-me[he.line])/2):Pt+ht>J.bottom&&(Tt=he.x=Tt+J.columnWidths[he.line]+O.padding,Pt=he.y=J.top+O.padding,he.line++),function(dt,Nt,bt){if(!(isNaN(Ve)||Ve<=0)){De.save(),De.fillStyle=Ne(bt.fillStyle,B.defaultColor),De.lineCap=Ne(bt.lineCap,K.borderCapStyle),De.lineDashOffset=Ne(bt.lineDashOffset,K.borderDashOffset),De.lineJoin=Ne(bt.lineJoin,K.borderJoinStyle),De.lineWidth=Ne(bt.lineWidth,K.borderWidth),De.strokeStyle=Ne(bt.strokeStyle,B.defaultColor);var on=0===Ne(bt.lineWidth,K.borderWidth);if(De.setLineDash&&De.setLineDash(Ne(bt.lineDash,K.borderDash)),ee.labels&&ee.labels.usePointStyle){var Tt=P*Math.SQRT2/2,Pt=Tt/Math.SQRT2;ce.canvas.drawPoint(De,bt.pointStyle,Tt,dt+Pt,Nt+Pt)}else on||De.strokeRect(dt,Nt,Ve,P),De.fillRect(dt,Nt,Ve,P);De.restore()}}(Tt,Pt,dt),ue[Nt].left=Tt,ue[Nt].top=Pt,function(dt,Nt,bt,on){var Tt=P/2,Pt=Ve+Tt+dt,un=Nt+Tt;De.fillText(bt.text,Pt,un),bt.hidden&&(De.beginPath(),De.lineWidth=2,De.moveTo(Pt,un),De.lineTo(Pt+on,un),De.stroke())}(Tt,Pt,dt,bt),Je?he.x+=on+O.padding:he.y+=ht})}},handleEvent:function(J){var ee=this,O=ee.options,B="mouseup"===J.type?"click":J.type,K=!1;if("mousemove"===B){if(!O.onHover)return}else if("click"!==B||!O.onClick)return;var de=J.x,me=J.y;if(de>=ee.left&&de<=ee.right&&me>=ee.top&&me<=ee.bottom)for(var he=ee.legendHitBoxes,De=0;De<he.length;++De){var Ne=he[De];if(de>=Ne.left&&de<=Ne.left+Ne.width&&me>=Ne.top&&me<=Ne.top+Ne.height){if("click"===B){O.onClick.call(ee,J.native,ee.legendItems[De]),K=!0;break}if("mousemove"===B){O.onHover.call(ee,J.native,ee.legendItems[De]),K=!0;break}}}return K}}),{id:"legend",beforeInit:function(J){var ee=J.options.legend;ee&&Z(J,ee)},beforeUpdate:function(J){var ee=J.options.legend,O=J.legend;ee?(ce.mergeIf(ee,ve.global.legend),O?(q.configure(J,O,ee),O.options=ee):Z(J,ee)):O&&(q.removeBox(J,O),delete J.legend)},afterEvent:function(J,ee){var O=J.legend;O&&O.handleEvent(ee)}}}},{25:25,26:26,45:45}],51:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(26),ce=be(45);ve._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),Ae.exports=function(ge){function Q(j,J){var ee=new ge.Title({ctx:j.ctx,options:J,chart:j});Z.configure(j,ee,J),Z.addBox(j,ee),j.titleBlock=ee}var Z=ge.layoutService,q=ce.noop;return ge.Title=at.extend({initialize:function(j){ce.extend(this,j),this.legendHitBoxes=[]},beforeUpdate:q,update:function(j,J,ee){var O=this;return O.beforeUpdate(),O.maxWidth=j,O.maxHeight=J,O.margins=ee,O.beforeSetDimensions(),O.setDimensions(),O.afterSetDimensions(),O.beforeBuildLabels(),O.buildLabels(),O.afterBuildLabels(),O.beforeFit(),O.fit(),O.afterFit(),O.afterUpdate(),O.minSize},afterUpdate:q,beforeSetDimensions:q,setDimensions:function(){var j=this;j.isHorizontal()?(j.width=j.maxWidth,j.left=0,j.right=j.width):(j.height=j.maxHeight,j.top=0,j.bottom=j.height),j.paddingLeft=0,j.paddingTop=0,j.paddingRight=0,j.paddingBottom=0,j.minSize={width:0,height:0}},afterSetDimensions:q,beforeBuildLabels:q,buildLabels:q,afterBuildLabels:q,beforeFit:q,fit:function(){var j=this,ee=j.options,O=ee.display,B=(0,ce.valueOrDefault)(ee.fontSize,ve.global.defaultFontSize),K=j.minSize,de=ce.isArray(ee.text)?ee.text.length:1,me=ce.options.toLineHeight(ee.lineHeight,B),he=O?de*me+2*ee.padding:0;j.isHorizontal()?(K.width=j.maxWidth,K.height=he):(K.width=he,K.height=j.maxHeight),j.width=K.width,j.height=K.height},afterFit:q,isHorizontal:function(){var j=this.options.position;return"top"===j||"bottom"===j},draw:function(){var j=this,J=j.ctx,ee=ce.valueOrDefault,O=j.options,B=ve.global;if(O.display){var K,de,me,he=ee(O.fontSize,B.defaultFontSize),De=ee(O.fontStyle,B.defaultFontStyle),Ne=ee(O.fontFamily,B.defaultFontFamily),Ye=ce.fontString(he,De,Ne),P=ce.options.toLineHeight(O.lineHeight,he),We=P/2+O.padding,xe=0,ke=j.top,Ve=j.left,ue=j.bottom,Re=j.right;J.fillStyle=ee(O.fontColor,B.defaultFontColor),J.font=Ye,j.isHorizontal()?(de=Ve+(Re-Ve)/2,me=ke+We,K=Re-Ve):(de="left"===O.position?Ve+We:Re-We,me=ke+(ue-ke)/2,K=ue-ke,xe=Math.PI*("left"===O.position?-.5:.5)),J.save(),J.translate(de,me),J.rotate(xe),J.textAlign="center",J.textBaseline="middle";var je=O.text;if(ce.isArray(je))for(var Je=0,ht=0;ht<je.length;++ht)J.fillText(je[ht],0,Je,K),Je+=P;else J.fillText(je,0,0,K);J.restore()}}}),{id:"title",beforeInit:function(j){var J=j.options.title;J&&Q(j,J)},beforeUpdate:function(j){var J=j.options.title,ee=j.titleBlock;J?(ce.mergeIf(J,ve.global.title),ee?(Z.configure(j,ee,J),ee.options=J):Q(j,J)):ee&&(ge.layoutService.removeBox(j,ee),delete j.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(be,Ae,Sn){"use strict";Ae.exports=function(ve){var at=ve.Scale.extend({getLabels:function(){var ce=this.chart.data;return this.options.labels||(this.isHorizontal()?ce.xLabels:ce.yLabels)||ce.labels},determineDataLimits:function(){var Q,ce=this,ge=ce.getLabels();ce.minIndex=0,ce.maxIndex=ge.length-1,void 0!==ce.options.ticks.min&&(Q=ge.indexOf(ce.options.ticks.min),ce.minIndex=-1!==Q?Q:ce.minIndex),void 0!==ce.options.ticks.max&&(Q=ge.indexOf(ce.options.ticks.max),ce.maxIndex=-1!==Q?Q:ce.maxIndex),ce.min=ge[ce.minIndex],ce.max=ge[ce.maxIndex]},buildTicks:function(){var ce=this,ge=ce.getLabels();ce.ticks=0===ce.minIndex&&ce.maxIndex===ge.length-1?ge:ge.slice(ce.minIndex,ce.maxIndex+1)},getLabelForIndex:function(ce,ge){var Q=this,Z=Q.chart.data,q=Q.isHorizontal();return Z.yLabels&&!q?Q.getRightValue(Z.datasets[ge].data[ce]):Q.ticks[ce-Q.minIndex]},getPixelForValue:function(ce,ge){var Q,Z=this,q=Z.options.offset,j=Math.max(Z.maxIndex+1-Z.minIndex-(q?0:1),1);if(null!=ce&&(Q=Z.isHorizontal()?ce.x:ce.y),void 0!==Q||void 0!==ce&&isNaN(ge)){var ee=Z.getLabels().indexOf(ce=Q||ce);ge=-1!==ee?ee:ge}if(Z.isHorizontal()){var O=Z.width/j,B=O*(ge-Z.minIndex);return q&&(B+=O/2),Z.left+Math.round(B)}var K=Z.height/j,de=K*(ge-Z.minIndex);return q&&(de+=K/2),Z.top+Math.round(de)},getPixelForTick:function(ce){return this.getPixelForValue(this.ticks[ce],ce+this.minIndex,null)},getValueForPixel:function(ce){var ge=this,Q=ge.options.offset,Z=Math.max(ge._ticks.length-(Q?0:1),1),q=ge.isHorizontal(),j=(q?ge.width:ge.height)/Z;return ce-=q?ge.left:ge.top,Q&&(ce-=j/2),(ce<=0?0:Math.round(ce/j))+ge.minIndex},getBasePixel:function(){return this.bottom}});ve.scaleService.registerScaleType("category",at,{position:"bottom"})}},{}],53:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(45),ce=be(34);Ae.exports=function(ge){var Q={position:"left",ticks:{callback:ce.formatters.linear}},Z=ge.LinearScaleBase.extend({determineDataLimits:function(){function q(me){return B?me.xAxisID===j.id:me.yAxisID===j.id}var j=this,J=j.options,ee=j.chart,O=ee.data.datasets,B=j.isHorizontal();j.min=null,j.max=null;var K=J.stacked;if(void 0===K&&at.each(O,function(me,he){if(!K){var De=ee.getDatasetMeta(he);ee.isDatasetVisible(he)&&q(De)&&void 0!==De.stack&&(K=!0)}}),J.stacked||K){var de={};at.each(O,function(me,he){var De=ee.getDatasetMeta(he),Ne=[De.type,void 0===J.stacked&&void 0===De.stack?he:"",De.stack].join(".");void 0===de[Ne]&&(de[Ne]={positiveValues:[],negativeValues:[]});var Ye=de[Ne].positiveValues,P=de[Ne].negativeValues;ee.isDatasetVisible(he)&&q(De)&&at.each(me.data,function(We,xe){var ke=+j.getRightValue(We);isNaN(ke)||De.data[xe].hidden||(Ye[xe]=Ye[xe]||0,P[xe]=P[xe]||0,J.relativePoints?Ye[xe]=100:ke<0?P[xe]+=ke:Ye[xe]+=ke)})}),at.each(de,function(me){var he=me.positiveValues.concat(me.negativeValues),De=at.min(he),Ne=at.max(he);j.min=null===j.min?De:Math.min(j.min,De),j.max=null===j.max?Ne:Math.max(j.max,Ne)})}else at.each(O,function(me,he){var De=ee.getDatasetMeta(he);ee.isDatasetVisible(he)&&q(De)&&at.each(me.data,function(Ne,Ye){var P=+j.getRightValue(Ne);isNaN(P)||De.data[Ye].hidden||((null===j.min||P<j.min)&&(j.min=P),(null===j.max||P>j.max)&&(j.max=P))})});j.min=isFinite(j.min)&&!isNaN(j.min)?j.min:0,j.max=isFinite(j.max)&&!isNaN(j.max)?j.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var q,j=this,J=j.options.ticks;if(j.isHorizontal())q=Math.min(J.maxTicksLimit?J.maxTicksLimit:11,Math.ceil(j.width/50));else{var ee=at.valueOrDefault(J.fontSize,ve.global.defaultFontSize);q=Math.min(J.maxTicksLimit?J.maxTicksLimit:11,Math.ceil(j.height/(2*ee)))}return q},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(q,j){return+this.getRightValue(this.chart.data.datasets[j].data[q])},getPixelForValue:function(q){var j,J=this,ee=J.start,O=+J.getRightValue(q),B=J.end-ee;return J.isHorizontal()?(j=J.left+J.width/B*(O-ee),Math.round(j)):(j=J.bottom-J.height/B*(O-ee),Math.round(j))},getValueForPixel:function(q){var j=this,J=j.isHorizontal();return j.start+(J?q-j.left:j.bottom-q)/(J?j.width:j.height)*(j.end-j.start)},getPixelForTick:function(q){return this.getPixelForValue(this.ticksAsNumbers[q])}});ge.scaleService.registerScaleType("linear",Z,Q)}},{25:25,34:34,45:45}],54:[function(be,Ae,Sn){"use strict";var ve=be(45),at=be(34);Ae.exports=function(ce){var ge=ve.noop;ce.LinearScaleBase=ce.Scale.extend({getRightValue:function(Q){return"string"==typeof Q?+Q:ce.Scale.prototype.getRightValue.call(this,Q)},handleTickRangeOptions:function(){var Q=this,Z=Q.options.ticks;if(Z.beginAtZero){var q=ve.sign(Q.min),j=ve.sign(Q.max);q<0&&j<0?Q.max=0:q>0&&j>0&&(Q.min=0)}var J=void 0!==Z.min||void 0!==Z.suggestedMin,ee=void 0!==Z.max||void 0!==Z.suggestedMax;void 0!==Z.min?Q.min=Z.min:void 0!==Z.suggestedMin&&(Q.min=null===Q.min?Z.suggestedMin:Math.min(Q.min,Z.suggestedMin)),void 0!==Z.max?Q.max=Z.max:void 0!==Z.suggestedMax&&(Q.max=null===Q.max?Z.suggestedMax:Math.max(Q.max,Z.suggestedMax)),J!==ee&&Q.min>=Q.max&&(J?Q.max=Q.min+1:Q.min=Q.max-1),Q.min===Q.max&&(Q.max++,Z.beginAtZero||Q.min--)},getTickLimit:ge,handleDirectionalChanges:ge,buildTicks:function(){var Q=this,Z=Q.options.ticks,q=Q.getTickLimit(),j={maxTicks:q=Math.max(2,q),min:Z.min,max:Z.max,stepSize:ve.valueOrDefault(Z.fixedStepSize,Z.stepSize)},J=Q.ticks=at.generators.linear(j,Q);Q.handleDirectionalChanges(),Q.max=ve.max(J),Q.min=ve.min(J),Z.reverse?(J.reverse(),Q.start=Q.max,Q.end=Q.min):(Q.start=Q.min,Q.end=Q.max)},convertTicksToLabels:function(){var Q=this;Q.ticksAsNumbers=Q.ticks.slice(),Q.zeroLineIndex=Q.ticks.indexOf(0),ce.Scale.prototype.convertTicksToLabels.call(Q)}})}},{34:34,45:45}],55:[function(be,Ae,Sn){"use strict";var ve=be(45),at=be(34);Ae.exports=function(ce){var ge={position:"left",ticks:{callback:at.formatters.logarithmic}},Q=ce.Scale.extend({determineDataLimits:function(){function Z(he){return K?he.xAxisID===q.id:he.yAxisID===q.id}var q=this,j=q.options,J=j.ticks,ee=q.chart,O=ee.data.datasets,B=ve.valueOrDefault,K=q.isHorizontal();q.min=null,q.max=null,q.minNotZero=null;var de=j.stacked;if(void 0===de&&ve.each(O,function(he,De){if(!de){var Ne=ee.getDatasetMeta(De);ee.isDatasetVisible(De)&&Z(Ne)&&void 0!==Ne.stack&&(de=!0)}}),j.stacked||de){var me={};ve.each(O,function(he,De){var Ne=ee.getDatasetMeta(De),Ye=[Ne.type,void 0===j.stacked&&void 0===Ne.stack?De:"",Ne.stack].join(".");ee.isDatasetVisible(De)&&Z(Ne)&&(void 0===me[Ye]&&(me[Ye]=[]),ve.each(he.data,function(P,We){var xe=me[Ye],ke=+q.getRightValue(P);isNaN(ke)||Ne.data[We].hidden||(xe[We]=xe[We]||0,j.relativePoints?xe[We]=100:xe[We]+=ke)}))}),ve.each(me,function(he){var De=ve.min(he),Ne=ve.max(he);q.min=null===q.min?De:Math.min(q.min,De),q.max=null===q.max?Ne:Math.max(q.max,Ne)})}else ve.each(O,function(he,De){var Ne=ee.getDatasetMeta(De);ee.isDatasetVisible(De)&&Z(Ne)&&ve.each(he.data,function(Ye,P){var We=+q.getRightValue(Ye);isNaN(We)||Ne.data[P].hidden||((null===q.min||We<q.min)&&(q.min=We),(null===q.max||We>q.max)&&(q.max=We),0!==We&&(null===q.minNotZero||We<q.minNotZero)&&(q.minNotZero=We))})});q.min=B(J.min,q.min),q.max=B(J.max,q.max),q.min===q.max&&(0!==q.min&&null!==q.min?(q.min=Math.pow(10,Math.floor(ve.log10(q.min))-1),q.max=Math.pow(10,Math.floor(ve.log10(q.max))+1)):(q.min=1,q.max=10))},buildTicks:function(){var Z=this,q=Z.options.ticks,J=Z.ticks=at.generators.logarithmic({min:q.min,max:q.max},Z);Z.isHorizontal()||J.reverse(),Z.max=ve.max(J),Z.min=ve.min(J),q.reverse?(J.reverse(),Z.start=Z.max,Z.end=Z.min):(Z.start=Z.min,Z.end=Z.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),ce.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(Z,q){return+this.getRightValue(this.chart.data.datasets[q].data[Z])},getPixelForTick:function(Z){return this.getPixelForValue(this.tickValues[Z])},getPixelForValue:function(Z){var q,j,J,ee=this,O=ee.start,B=+ee.getRightValue(Z),K=ee.options.ticks;return ee.isHorizontal()?(J=ve.log10(ee.end)-ve.log10(O),j=0===B?ee.left:ee.left+(q=ee.width)/J*(ve.log10(B)-ve.log10(O))):(q=ee.height,0!==O||K.reverse?0===ee.end&&K.reverse?(J=ve.log10(ee.start)-ve.log10(ee.minNotZero),j=B===ee.end?ee.top:B===ee.minNotZero?ee.top+.02*q:ee.top+.02*q+.98*q/J*(ve.log10(B)-ve.log10(ee.minNotZero))):0===B?j=K.reverse?ee.top:ee.bottom:(J=ve.log10(ee.end)-ve.log10(O),j=ee.bottom-(q=ee.height)/J*(ve.log10(B)-ve.log10(O))):(J=ve.log10(ee.end)-ve.log10(ee.minNotZero),j=B===O?ee.bottom:B===ee.minNotZero?ee.bottom-.02*q:ee.bottom-.02*q-.98*q/J*(ve.log10(B)-ve.log10(ee.minNotZero)))),j},getValueForPixel:function(Z){var q,j,J=this,ee=ve.log10(J.end)-ve.log10(J.start);return J.isHorizontal()?(j=J.width,q=J.start*Math.pow(10,(Z-J.left)*ee/j)):(j=J.height,q=Math.pow(10,(J.bottom-Z)*ee/j)/J.start),q}});ce.scaleService.registerScaleType("logarithmic",Q,ge)}},{34:34,45:45}],56:[function(be,Ae,Sn){"use strict";var ve=be(25),at=be(45),ce=be(34);Ae.exports=function(ge){function Q(P){var We=P.options;return We.angleLines.display||We.pointLabels.display?P.chart.data.labels.length:0}function Z(P){var We=P.options.pointLabels,xe=at.valueOrDefault(We.fontSize,De.defaultFontSize),ke=at.valueOrDefault(We.fontStyle,De.defaultFontStyle),Ve=at.valueOrDefault(We.fontFamily,De.defaultFontFamily);return{size:xe,style:ke,family:Ve,font:at.fontString(xe,ke,Ve)}}function q(P,We,xe){return at.isArray(xe)?{w:at.longestText(P,P.font,xe),h:xe.length*We+1.5*(xe.length-1)*We}:{w:P.measureText(xe).width,h:We}}function j(P,We,xe,ke,Ve){return P===ke||P===Ve?{start:We-xe/2,end:We+xe/2}:P<ke||P>Ve?{start:We-xe-5,end:We}:{start:We,end:We+xe+5}}function O(P){return 0===P||180===P?"center":P<180?"left":"right"}function B(P,We,xe,ke){if(at.isArray(We))for(var Ve=xe.y,ue=1.5*ke,Re=0;Re<We.length;++Re)P.fillText(We[Re],xe.x,Ve),Ve+=ue;else P.fillText(We,xe.x,xe.y)}function K(P,We,xe){90===P||270===P?xe.y-=We.h/2:(P>270||P<90)&&(xe.y-=We.h)}function he(P){return at.isNumber(P)?P:0}var De=ve.global,Ne={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:ce.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(P){return P}}},Ye=ge.LinearScaleBase.extend({setDimensions:function(){var P=this,We=P.options,xe=We.ticks;P.width=P.maxWidth,P.height=P.maxHeight,P.xCenter=Math.round(P.width/2),P.yCenter=Math.round(P.height/2);var ke=at.min([P.height,P.width]),Ve=at.valueOrDefault(xe.fontSize,De.defaultFontSize);P.drawingArea=We.display?ke/2-(Ve/2+xe.backdropPaddingY):ke/2},determineDataLimits:function(){var P=this,We=P.chart,xe=Number.POSITIVE_INFINITY,ke=Number.NEGATIVE_INFINITY;at.each(We.data.datasets,function(Ve,ue){if(We.isDatasetVisible(ue)){var Re=We.getDatasetMeta(ue);at.each(Ve.data,function(je,Je){var ht=+P.getRightValue(je);isNaN(ht)||Re.data[Je].hidden||(xe=Math.min(ht,xe),ke=Math.max(ht,ke))})}}),P.min=xe===Number.POSITIVE_INFINITY?0:xe,P.max=ke===Number.NEGATIVE_INFINITY?0:ke,P.handleTickRangeOptions()},getTickLimit:function(){var P=this.options.ticks,We=at.valueOrDefault(P.fontSize,De.defaultFontSize);return Math.min(P.maxTicksLimit?P.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*We)))},convertTicksToLabels:function(){var P=this;ge.LinearScaleBase.prototype.convertTicksToLabels.call(P),P.pointLabels=P.chart.data.labels.map(P.options.pointLabels.callback,P)},getLabelForIndex:function(P,We){return+this.getRightValue(this.chart.data.datasets[We].data[P])},fit:function(){this.options.pointLabels.display?function J(P){var We,xe,ke,Ve=Z(P),ue=Math.min(P.height/2,P.width/2),Re={r:P.width,l:0,t:P.height,b:0},je={};P.ctx.font=Ve.font,P._pointLabelSizes=[];var Je=Q(P);for(We=0;We<Je;We++){ke=P.getPointPosition(We,ue),xe=q(P.ctx,Ve.size,P.pointLabels[We]||""),P._pointLabelSizes[We]=xe;var ht=P.getIndexAngle(We),dt=at.toDegrees(ht)%360,Nt=j(dt,ke.x,xe.w,0,180),bt=j(dt,ke.y,xe.h,90,270);Nt.start<Re.l&&(Re.l=Nt.start,je.l=ht),Nt.end>Re.r&&(Re.r=Nt.end,je.r=ht),bt.start<Re.t&&(Re.t=bt.start,je.t=ht),bt.end>Re.b&&(Re.b=bt.end,je.b=ht)}P.setReductions(ue,Re,je)}(this):function ee(P){var We=Math.min(P.height/2,P.width/2);P.drawingArea=Math.round(We),P.setCenterPoint(0,0,0,0)}(this)},setReductions:function(P,We,xe){var Ve=We.l/Math.sin(xe.l),ue=Math.max(We.r-this.width,0)/Math.sin(xe.r),Re=-We.t/Math.cos(xe.t),je=-Math.max(We.b-this.height,0)/Math.cos(xe.b);Ve=he(Ve),ue=he(ue),Re=he(Re),je=he(je),this.drawingArea=Math.min(Math.round(P-(Ve+ue)/2),Math.round(P-(Re+je)/2)),this.setCenterPoint(Ve,ue,Re,je)},setCenterPoint:function(P,We,xe,ke){var Ve=this,je=xe+Ve.drawingArea,Je=Ve.height-ke-Ve.drawingArea;Ve.xCenter=Math.round((P+Ve.drawingArea+(Ve.width-We-Ve.drawingArea))/2+Ve.left),Ve.yCenter=Math.round((je+Je)/2+Ve.top)},getIndexAngle:function(P){return P*(2*Math.PI/Q(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(P){var We=this;if(null===P)return 0;var xe=We.drawingArea/(We.max-We.min);return We.options.ticks.reverse?(We.max-P)*xe:(P-We.min)*xe},getPointPosition:function(P,We){var ke=this.getIndexAngle(P)-Math.PI/2;return{x:Math.round(Math.cos(ke)*We)+this.xCenter,y:Math.round(Math.sin(ke)*We)+this.yCenter}},getPointPositionForValue:function(P,We){return this.getPointPosition(P,this.getDistanceFromCenterForValue(We))},getBasePosition:function(){var P=this,We=P.min,xe=P.max;return P.getPointPositionForValue(0,P.beginAtZero?0:We<0&&xe<0?xe:We>0&&xe>0?We:0)},draw:function(){var P=this,We=P.options,xe=We.gridLines,ke=We.ticks,Ve=at.valueOrDefault;if(We.display){var ue=P.ctx,Re=this.getIndexAngle(0),je=Ve(ke.fontSize,De.defaultFontSize),Je=Ve(ke.fontStyle,De.defaultFontStyle),ht=Ve(ke.fontFamily,De.defaultFontFamily),dt=at.fontString(je,Je,ht);at.each(P.ticks,function(Nt,bt){if(bt>0||ke.reverse){var on=P.getDistanceFromCenterForValue(P.ticksAsNumbers[bt]);if(xe.display&&0!==bt&&function me(P,We,xe,ke){var Ve=P.ctx;if(Ve.strokeStyle=at.valueAtIndexOrDefault(We.color,ke-1),Ve.lineWidth=at.valueAtIndexOrDefault(We.lineWidth,ke-1),P.options.gridLines.circular)Ve.beginPath(),Ve.arc(P.xCenter,P.yCenter,xe,0,2*Math.PI),Ve.closePath(),Ve.stroke();else{var ue=Q(P);if(0===ue)return;Ve.beginPath();var Re=P.getPointPosition(0,xe);Ve.moveTo(Re.x,Re.y);for(var je=1;je<ue;je++)Re=P.getPointPosition(je,xe),Ve.lineTo(Re.x,Re.y);Ve.closePath(),Ve.stroke()}}(P,xe,on,bt),ke.display){var Tt=Ve(ke.fontColor,De.defaultFontColor);if(ue.font=dt,ue.save(),ue.translate(P.xCenter,P.yCenter),ue.rotate(Re),ke.showLabelBackdrop){var Pt=ue.measureText(Nt).width;ue.fillStyle=ke.backdropColor,ue.fillRect(-Pt/2-ke.backdropPaddingX,-on-je/2-ke.backdropPaddingY,Pt+2*ke.backdropPaddingX,je+2*ke.backdropPaddingY)}ue.textAlign="center",ue.textBaseline="middle",ue.fillStyle=Tt,ue.fillText(Nt,0,-on),ue.restore()}}}),(We.angleLines.display||We.pointLabels.display)&&function de(P){var We=P.ctx,xe=at.valueOrDefault,ke=P.options,Ve=ke.angleLines,ue=ke.pointLabels;We.lineWidth=Ve.lineWidth,We.strokeStyle=Ve.color;var Re=P.getDistanceFromCenterForValue(ke.ticks.reverse?P.min:P.max),je=Z(P);We.textBaseline="top";for(var Je=Q(P)-1;Je>=0;Je--){if(Ve.display){var ht=P.getPointPosition(Je,Re);We.beginPath(),We.moveTo(P.xCenter,P.yCenter),We.lineTo(ht.x,ht.y),We.stroke(),We.closePath()}if(ue.display){var dt=P.getPointPosition(Je,Re+5),Nt=xe(ue.fontColor,De.defaultFontColor);We.font=je.font,We.fillStyle=Nt;var bt=P.getIndexAngle(Je),on=at.toDegrees(bt);We.textAlign=O(on),K(on,P._pointLabelSizes[Je],dt),B(We,P.pointLabels[Je]||"",dt,je.size)}}}(P)}}});ge.scaleService.registerScaleType("radialLinear",Ye,Ne)}},{25:25,34:34,45:45}],57:[function(be,Ae,Sn){"use strict";function ve(xe,ke){return xe-ke}function at(xe){var ke,Ve,ue,Re={},je=[];for(ke=0,Ve=xe.length;ke<Ve;++ke)Re[ue=xe[ke]]||(Re[ue]=!0,je.push(ue));return je}function Q(xe,ke,Ve,ue){var Re=function ge(xe,ke,Ve){for(var ue,Re,je,Je=0,ht=xe.length-1;Je>=0&&Je<=ht;){if(je=xe[ue=Je+ht>>1],!(Re=xe[ue-1]||null))return{lo:null,hi:je};if(je[ke]<Ve)Je=ue+1;else{if(!(Re[ke]>Ve))return{lo:Re,hi:je};ht=ue-1}}return{lo:je,hi:null}}(xe,ke,Ve),je=Re.lo?Re.hi?Re.lo:xe[xe.length-2]:xe[0],Je=Re.lo?Re.hi?Re.hi:xe[xe.length-1]:xe[1],ht=Je[ke]-je[ke];return je[ue]+(Je[ue]-je[ue])*(ht?(Ve-je[ke])/ht:0)}function Z(xe,ke){var Ve=ke.parser,ue=ke.parser||ke.format;return"function"==typeof Ve?Ve(xe):"string"==typeof xe&&"string"==typeof ue?me(xe,ue):(xe instanceof me||(xe=me(xe)),xe.isValid()?xe:"function"==typeof ue?ue(xe):xe)}function q(xe,ke){if(De.isNullOrUndef(xe))return null;var Ve=ke.options.time,ue=Z(ke.getRightValue(xe),Ve);return ue.isValid()?(Ve.round&&ue.startOf(Ve.round),ue.valueOf()):null}function O(xe){for(var ke=We.indexOf(xe)+1,Ve=We.length;ke<Ve;++ke)if(P[We[ke]].common)return We[ke]}var me=be(1);me="function"==typeof me?me:window.moment;var he=be(25),De=be(45),Ne=Number.MIN_SAFE_INTEGER||-9007199254740991,Ye=Number.MAX_SAFE_INTEGER||9007199254740991,P={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},We=Object.keys(P);Ae.exports=function(xe){var ke=xe.Scale.extend({initialize:function(){if(!me)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),xe.Scale.prototype.initialize.call(this)},update:function(){var ue=this.options;return ue.time&&ue.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),xe.Scale.prototype.update.apply(this,arguments)},getRightValue:function(Ve){return Ve&&void 0!==Ve.t&&(Ve=Ve.t),xe.Scale.prototype.getRightValue.call(this,Ve)},determineDataLimits:function(){var Ve,ue,Re,je,Je,ht,dt=this,Nt=dt.chart,bt=dt.options.time,on=Ye,Tt=Ne,Pt=[],un=[],vn=[];for(Ve=0,Re=Nt.data.labels.length;Ve<Re;++Ve)vn.push(q(Nt.data.labels[Ve],dt));for(Ve=0,Re=(Nt.data.datasets||[]).length;Ve<Re;++Ve)if(Nt.isDatasetVisible(Ve))if(De.isObject((Je=Nt.data.datasets[Ve].data)[0]))for(un[Ve]=[],ue=0,je=Je.length;ue<je;++ue)ht=q(Je[ue],dt),Pt.push(ht),un[Ve][ue]=ht;else Pt.push.apply(Pt,vn),un[Ve]=vn.slice(0);else un[Ve]=[];vn.length&&(vn=at(vn).sort(ve),on=Math.min(on,vn[0]),Tt=Math.max(Tt,vn[vn.length-1])),Pt.length&&(Pt=at(Pt).sort(ve),on=Math.min(on,Pt[0]),Tt=Math.max(Tt,Pt[Pt.length-1])),on=q(bt.min,dt)||on,Tt=q(bt.max,dt)||Tt,on=on===Ye?+me().startOf("day"):on,Tt=Tt===Ne?+me().endOf("day")+1:Tt,dt.min=Math.min(on,Tt),dt.max=Math.max(on+1,Tt),dt._horizontal=dt.isHorizontal(),dt._table=[],dt._timestamps={data:Pt,datasets:un,labels:vn}},buildTicks:function(){var Ve,ue,Re,je=this,Je=je.min,ht=je.max,dt=je.options,Nt=dt.time,bt=[],on=[];switch(dt.ticks.source){case"data":bt=je._timestamps.data;break;case"labels":bt=je._timestamps.labels;break;default:bt=function B(xe,ke,Ve,ue){var Re,je=ue.time,Je=je.unit||function J(xe,ke,Ve,ue){var Re,je,ht=We.length;for(Re=We.indexOf(xe);Re<ht-1;++Re)if((je=P[We[Re]]).common&&Math.ceil((Ve-ke)/((je.steps?je.steps[je.steps.length-1]:Ye)*je.size))<=ue)return We[Re];return We[ht-1]}(je.minUnit,xe,ke,Ve),ht=O(Je),dt=De.valueOrDefault(je.stepSize,je.unitStepSize),Nt="week"===Je&&je.isoWeekday,bt=ue.ticks.major.enabled,on=P[Je],Tt=me(xe),Pt=me(ke),un=[];for(dt||(dt=function j(xe,ke,Ve,ue){var Re,je,Je,ht=ke-xe,dt=P[Ve],Nt=dt.size,bt=dt.steps;if(!bt)return Math.ceil(ht/((ue||1)*Nt));for(Re=0,je=bt.length;Re<je&&(Je=bt[Re],!(Math.ceil(ht/(Nt*Je))<=ue));++Re);return Je}(xe,ke,Je,Ve)),Nt&&(Tt=Tt.isoWeekday(Nt),Pt=Pt.isoWeekday(Nt)),Tt=Tt.startOf(Nt?"day":Je),(Pt=Pt.startOf(Nt?"day":Je))<ke&&Pt.add(1,Je),Re=me(Tt),bt&&ht&&!Nt&&!je.round&&(Re.startOf(ht),Re.add(~~((Tt-Re)/(on.size*dt))*dt,Je));Re<Pt;Re.add(dt,Je))un.push(+Re);return un.push(+Re),un}(Je,ht,je.getLabelCapacity(Je),dt)}for("ticks"===dt.bounds&&bt.length&&(Je=bt[0],ht=bt[bt.length-1]),Je=q(Nt.min,je)||Je,ht=q(Nt.max,je)||ht,Ve=0,ue=bt.length;Ve<ue;++Ve)(Re=bt[Ve])>=Je&&Re<=ht&&on.push(Re);return je.min=Je,je.max=ht,je._unit=Nt.unit||function ee(xe,ke,Ve,ue){var Re,je,Je=me.duration(me(ue).diff(me(Ve)));for(Re=We.length-1;Re>=We.indexOf(ke);Re--)if(P[je=We[Re]].common&&Je.as(je)>=xe.length)return je;return We[ke?We.indexOf(ke):0]}(on,Nt.minUnit,je.min,je.max),je._majorUnit=O(je._unit),je._table=function ce(xe,ke,Ve,ue){if("linear"===ue||!xe.length)return[{time:ke,pos:0},{time:Ve,pos:1}];var Re,je,Je,ht,dt,Nt=[],bt=[ke];for(Re=0,je=xe.length;Re<je;++Re)(ht=xe[Re])>ke&&ht<Ve&&bt.push(ht);for(bt.push(Ve),Re=0,je=bt.length;Re<je;++Re)dt=bt[Re+1],ht=bt[Re],void 0!==(Je=bt[Re-1])&&void 0!==dt&&Math.round((dt+Je)/2)===ht||Nt.push({time:ht,pos:Re/(je-1)});return Nt}(je._timestamps.data,Je,ht,dt.distribution),je._offsets=function K(xe,ke,Ve,ue,Re){var Je,ht=0,dt=0;return Re.offset&&ke.length&&(Re.time.min||(Je=ke[0],ht=(Q(xe,"time",ke.length>1?ke[1]:ue,"pos")-Q(xe,"time",Je,"pos"))/2),Re.time.max||(Je=ke.length>1?ke[ke.length-2]:Ve,dt=(Q(xe,"time",ke[ke.length-1],"pos")-Q(xe,"time",Je,"pos"))/2)),{left:ht,right:dt}}(je._table,on,Je,ht,dt),function de(xe,ke){var Ve,ue,Re,je,Je=[];for(Ve=0,ue=xe.length;Ve<ue;++Ve)Re=xe[Ve],je=!!ke&&Re===+me(Re).startOf(ke),Je.push({value:Re,major:je});return Je}(on,je._majorUnit)},getLabelForIndex:function(Ve,ue){var je=this.chart.data,Je=this.options.time,ht=je.labels&&Ve<je.labels.length?je.labels[Ve]:"",dt=je.datasets[ue].data[Ve];return De.isObject(dt)&&(ht=this.getRightValue(dt)),Je.tooltipFormat&&(ht=Z(ht,Je).format(Je.tooltipFormat)),ht},tickFormatFunction:function(Ve,ue,Re,je){var ht=this.options,dt=Ve.valueOf(),Nt=ht.time.displayFormats,bt=Nt[this._unit],on=this._majorUnit,Tt=Nt[on],Pt=Ve.clone().startOf(on).valueOf(),un=ht.ticks.major,vn=un.enabled&&on&&Tt&&dt===Pt,zt=Ve.format(je||(vn?Tt:bt)),cn=vn?un:ht.ticks.minor,Mn=De.valueOrDefault(cn.callback,cn.userCallback);return Mn?Mn(zt,ue,Re):zt},convertTicksToLabels:function(Ve){var ue,Re,je=[];for(ue=0,Re=Ve.length;ue<Re;++ue)je.push(this.tickFormatFunction(me(Ve[ue].value),ue,Ve));return je},getPixelForOffset:function(Ve){var ue=this,Re=ue._horizontal?ue.width:ue.height,je=ue._horizontal?ue.left:ue.top,Je=Q(ue._table,"time",Ve,"pos");return je+Re*(ue._offsets.left+Je)/(ue._offsets.left+1+ue._offsets.right)},getPixelForValue:function(Ve,ue,Re){var Je=null;if(void 0!==ue&&void 0!==Re&&(Je=this._timestamps.datasets[Re][ue]),null===Je&&(Je=q(Ve,this)),null!==Je)return this.getPixelForOffset(Je)},getPixelForTick:function(Ve){var ue=this.getTicks();return Ve>=0&&Ve<ue.length?this.getPixelForOffset(ue[Ve].value):null},getValueForPixel:function(Ve){var ue=this,Re=ue._horizontal?ue.width:ue.height,ht=Q(ue._table,"pos",(Re?(Ve-(ue._horizontal?ue.left:ue.top))/Re:0)*(ue._offsets.left+1+ue._offsets.left)-ue._offsets.right,"time");return me(ht)},getLabelWidth:function(Ve){var Re=this.options.ticks,je=this.ctx.measureText(Ve).width,Je=De.toRadians(Re.maxRotation),ht=Math.cos(Je),dt=Math.sin(Je);return je*ht+De.valueOrDefault(Re.fontSize,he.global.defaultFontSize)*dt},getLabelCapacity:function(Ve){var ue=this,Re=ue.options.time.displayFormats.millisecond,je=ue.tickFormatFunction(me(Ve),0,[],Re),Je=ue.getLabelWidth(je),ht=ue.isHorizontal()?ue.width:ue.height;return Math.floor(ht/Je)}});xe.scaleService.registerScaleType("time",ke,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)}),function(be,Ae){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=be.document?Ae(be,!0):function(Sn){if(!Sn.document)throw new Error("jQuery requires a window with a document");return Ae(Sn)}:Ae(be)}(typeof window<"u"?window:this,function(be,Ae){"use strict";var Sn=[],ve=Object.getPrototypeOf,at=Sn.slice,ce=Sn.flat?function(S){return Sn.flat.call(S)}:function(S){return Sn.concat.apply([],S)},ge=Sn.push,Q=Sn.indexOf,Z={},q=Z.toString,j=Z.hasOwnProperty,J=j.toString,ee=J.call(Object),O={},B=function(S){return"function"==typeof S&&"number"!=typeof S.nodeType&&"function"!=typeof S.item},K=function(S){return null!=S&&S===S.window},de=be.document,me={type:!0,src:!0,nonce:!0,noModule:!0};function he(S,k,re){var fe,L,M=(re=re||de).createElement("script");if(M.text=S,k)for(fe in me)(L=k[fe]||k.getAttribute&&k.getAttribute(fe))&&M.setAttribute(fe,L);re.head.appendChild(M).parentNode.removeChild(M)}function De(S){return null==S?S+"":"object"==typeof S||"function"==typeof S?Z[q.call(S)]||"object":typeof S}var Ye=/HTML$/i,P=function(S,k){return new P.fn.init(S,k)};function We(S){var k=!!S&&"length"in S&&S.length,re=De(S);return!B(S)&&!K(S)&&("array"===re||0===k||"number"==typeof k&&0<k&&k-1 in S)}function xe(S,k){return S.nodeName&&S.nodeName.toLowerCase()===k.toLowerCase()}P.fn=P.prototype={jquery:"3.7.1",constructor:P,length:0,toArray:function(){return at.call(this)},get:function(S){return null==S?at.call(this):S<0?this[S+this.length]:this[S]},pushStack:function(S){var k=P.merge(this.constructor(),S);return k.prevObject=this,k},each:function(S){return P.each(this,S)},map:function(S){return this.pushStack(P.map(this,function(k,re){return S.call(k,re,k)}))},slice:function(){return this.pushStack(at.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(S,k){return(k+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(S,k){return k%2}))},eq:function(S){var k=this.length,re=+S+(S<0?k:0);return this.pushStack(0<=re&&re<k?[this[re]]:[])},end:function(){return this.prevObject||this.constructor()},push:ge,sort:Sn.sort,splice:Sn.splice},P.extend=P.fn.extend=function(){var S,k,re,fe,L,M,x=arguments[0]||{},w=1,v=arguments.length,f=!1;for("boolean"==typeof x&&(f=x,x=arguments[w]||{},w++),"object"==typeof x||B(x)||(x={}),w===v&&(x=this,w--);w<v;w++)if(null!=(S=arguments[w]))for(k in S)fe=S[k],"__proto__"!==k&&x!==fe&&(f&&fe&&(P.isPlainObject(fe)||(L=Array.isArray(fe)))?(re=x[k],M=L&&!Array.isArray(re)?[]:L||P.isPlainObject(re)?re:{},L=!1,x[k]=P.extend(f,M,fe)):void 0!==fe&&(x[k]=fe));return x},P.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(S){throw new Error(S)},noop:function(){},isPlainObject:function(S){var k,re;return!(!S||"[object Object]"!==q.call(S)||(k=ve(S))&&("function"!=typeof(re=j.call(k,"constructor")&&k.constructor)||J.call(re)!==ee))},isEmptyObject:function(S){var k;for(k in S)return!1;return!0},globalEval:function(S,k,re){he(S,{nonce:k&&k.nonce},re)},each:function(S,k){var re,fe=0;if(We(S))for(re=S.length;fe<re&&!1!==k.call(S[fe],fe,S[fe]);fe++);else for(fe in S)if(!1===k.call(S[fe],fe,S[fe]))break;return S},text:function(S){var k,re="",fe=0,L=S.nodeType;if(!L)for(;k=S[fe++];)re+=P.text(k);return 1===L||11===L?S.textContent:9===L?S.documentElement.textContent:3===L||4===L?S.nodeValue:re},makeArray:function(S,k){var re=k||[];return null!=S&&(We(Object(S))?P.merge(re,"string"==typeof S?[S]:S):ge.call(re,S)),re},inArray:function(S,k,re){return null==k?-1:Q.call(k,S,re)},isXMLDoc:function(S){var re=S&&(S.ownerDocument||S).documentElement;return!Ye.test(S&&S.namespaceURI||re&&re.nodeName||"HTML")},merge:function(S,k){for(var re=+k.length,fe=0,L=S.length;fe<re;fe++)S[L++]=k[fe];return S.length=L,S},grep:function(S,k,re){for(var fe=[],L=0,M=S.length,x=!re;L<M;L++)!k(S[L],L)!==x&&fe.push(S[L]);return fe},map:function(S,k,re){var fe,L,M=0,x=[];if(We(S))for(fe=S.length;M<fe;M++)null!=(L=k(S[M],M,re))&&x.push(L);else for(M in S)null!=(L=k(S[M],M,re))&&x.push(L);return ce(x)},guid:1,support:O}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=Sn[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(S,k){Z["[object "+k+"]"]=k.toLowerCase()});var ke=Sn.pop,Ve=Sn.sort,ue=Sn.splice,Re="[\\x20\\t\\r\\n\\f]",je=new RegExp("^"+Re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Re+"+$","g");P.contains=function(S,k){var re=k&&k.parentNode;return S===re||!(!re||1!==re.nodeType||!(S.contains?S.contains(re):S.compareDocumentPosition&&16&S.compareDocumentPosition(re)))};var Je=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ht(S,k){return k?"\0"===S?"\ufffd":S.slice(0,-1)+"\\"+S.charCodeAt(S.length-1).toString(16)+" ":"\\"+S}P.escapeSelector=function(S){return(S+"").replace(Je,ht)};var dt=de,Nt=ge;!function(){var S,k,re,fe,L,M,x,w,v,f,p=Nt,_=P.expando,C=0,I=0,N=Ie(),z=Ie(),V=Ie(),Y=Ie(),U=function(Ue,ot){return Ue===ot&&(L=!0),0},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",X="(?:\\\\[\\da-fA-F]{1,6}"+Re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",le="\\["+Re+"*("+X+")(?:"+Re+"*([*^$|!~]?=)"+Re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+X+"))|)"+Re+"*\\]",G=":("+X+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+le+")*)|.*)\\)|)",W=new RegExp(Re+"+","g"),F=new RegExp("^"+Re+"*,"+Re+"*"),A=new RegExp("^"+Re+"*([>+~]|"+Re+")"+Re+"*"),E=new RegExp(Re+"|>"),ie=new RegExp(G),pe=new RegExp("^"+X+"$"),ae={ID:new RegExp("^#("+X+")"),CLASS:new RegExp("^\\.("+X+")"),TAG:new RegExp("^("+X+"|[*])"),ATTR:new RegExp("^"+le),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Re+"*(even|odd|(([+-]|)(\\d*)n|)"+Re+"*(?:([+-]|)"+Re+"*(\\d+)|))"+Re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+Re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Re+"*((?:-\\d)?\\d*)"+Re+"*\\)|)(?=[^-]|$)","i")},Ce=/^(?:input|select|textarea|button)$/i,Le=/^h\d$/i,tt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ze=/[+~]/,qe=new RegExp("\\\\[\\da-fA-F]{1,6}"+Re+"?|\\\\([^\\r\\n\\f])","g"),$e=function(Ue,ot){var pt="0x"+Ue.slice(1)-65536;return ot||(pt<0?String.fromCharCode(pt+65536):String.fromCharCode(pt>>10|55296,1023&pt|56320))},Qe=function(){wn()},st=Oe(function(Ue){return!0===Ue.disabled&&xe(Ue,"fieldset")},{dir:"parentNode",next:"legend"});try{p.apply(Sn=at.call(dt.childNodes),dt.childNodes)}catch{p={apply:function(ot,pt){Nt.apply(ot,at.call(pt))},call:function(ot){Nt.apply(ot,at.call(arguments,1))}}}function nt(Ue,ot,pt,Lt){var tn,Hn,Gn,Yn,Vn,vi,ii,si=ot&&ot.ownerDocument,Kt=ot?ot.nodeType:9;if(pt=pt||[],"string"!=typeof Ue||!Ue||1!==Kt&&9!==Kt&&11!==Kt)return pt;if(!Lt&&(wn(ot),ot=ot||M,w)){if(11!==Kt&&(Vn=tt.exec(Ue)))if(tn=Vn[1]){if(9===Kt){if(!(Gn=ot.getElementById(tn)))return pt;if(Gn.id===tn)return p.call(pt,Gn),pt}else if(si&&(Gn=si.getElementById(tn))&&nt.contains(ot,Gn)&&Gn.id===tn)return p.call(pt,Gn),pt}else{if(Vn[2])return p.apply(pt,ot.getElementsByTagName(Ue)),pt;if((tn=Vn[3])&&ot.getElementsByClassName)return p.apply(pt,ot.getElementsByClassName(tn)),pt}if(!(Y[Ue+" "]||v&&v.test(Ue))){if(ii=Ue,si=ot,1===Kt&&(E.test(Ue)||A.test(Ue))){for((si=Ze.test(Ue)&&mn(ot.parentNode)||ot)==ot&&O.scope||((Yn=ot.getAttribute("id"))?Yn=P.escapeSelector(Yn):ot.setAttribute("id",Yn=_)),Hn=(vi=yt(Ue)).length;Hn--;)vi[Hn]=(Yn?"#"+Yn:":scope")+" "+ze(vi[Hn]);ii=vi.join(",")}try{return p.apply(pt,si.querySelectorAll(ii)),pt}catch{Y(Ue,!0)}finally{Yn===_&&ot.removeAttribute("id")}}}return en(Ue.replace(je,"$1"),ot,pt,Lt)}function Ie(){var Ue=[];return function ot(pt,Lt){return Ue.push(pt+" ")>k.cacheLength&&delete ot[Ue.shift()],ot[pt+" "]=Lt}}function Fe(Ue){return Ue[_]=!0,Ue}function et(Ue){var ot=M.createElement("fieldset");try{return!!Ue(ot)}catch{return!1}finally{ot.parentNode&&ot.parentNode.removeChild(ot),ot=null}}function ct(Ue){return function(ot){return xe(ot,"input")&&ot.type===Ue}}function xt(Ue){return function(ot){return(xe(ot,"input")||xe(ot,"button"))&&ot.type===Ue}}function Wt(Ue){return function(ot){return"form"in ot?ot.parentNode&&!1===ot.disabled?"label"in ot?"label"in ot.parentNode?ot.parentNode.disabled===Ue:ot.disabled===Ue:ot.isDisabled===Ue||ot.isDisabled!==!Ue&&st(ot)===Ue:ot.disabled===Ue:"label"in ot&&ot.disabled===Ue}}function ln(Ue){return Fe(function(ot){return ot=+ot,Fe(function(pt,Lt){for(var tn,Hn=Ue([],pt.length,ot),Gn=Hn.length;Gn--;)pt[tn=Hn[Gn]]&&(pt[tn]=!(Lt[tn]=pt[tn]))})})}function mn(Ue){return Ue&&typeof Ue.getElementsByTagName<"u"&&Ue}function wn(Ue){var ot,pt=Ue?Ue.ownerDocument||Ue:dt;return pt!=M&&9===pt.nodeType&&pt.documentElement&&(x=(M=pt).documentElement,w=!P.isXMLDoc(M),f=x.matches||x.webkitMatchesSelector||x.msMatchesSelector,x.msMatchesSelector&&dt!=M&&(ot=M.defaultView)&&ot.top!==ot&&ot.addEventListener("unload",Qe),O.getById=et(function(Lt){return x.appendChild(Lt).id=P.expando,!M.getElementsByName||!M.getElementsByName(P.expando).length}),O.disconnectedMatch=et(function(Lt){return f.call(Lt,"*")}),O.scope=et(function(){return M.querySelectorAll(":scope")}),O.cssHas=et(function(){try{return M.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),O.getById?(k.filter.ID=function(Lt){var tn=Lt.replace(qe,$e);return function(Hn){return Hn.getAttribute("id")===tn}},k.find.ID=function(Lt,tn){if(typeof tn.getElementById<"u"&&w){var Hn=tn.getElementById(Lt);return Hn?[Hn]:[]}}):(k.filter.ID=function(Lt){var tn=Lt.replace(qe,$e);return function(Hn){var Gn=typeof Hn.getAttributeNode<"u"&&Hn.getAttributeNode("id");return Gn&&Gn.value===tn}},k.find.ID=function(Lt,tn){if(typeof tn.getElementById<"u"&&w){var Hn,Gn,Yn,Vn=tn.getElementById(Lt);if(Vn){if((Hn=Vn.getAttributeNode("id"))&&Hn.value===Lt)return[Vn];for(Yn=tn.getElementsByName(Lt),Gn=0;Vn=Yn[Gn++];)if((Hn=Vn.getAttributeNode("id"))&&Hn.value===Lt)return[Vn]}return[]}}),k.find.TAG=function(Lt,tn){return typeof tn.getElementsByTagName<"u"?tn.getElementsByTagName(Lt):tn.querySelectorAll(Lt)},k.find.CLASS=function(Lt,tn){if(typeof tn.getElementsByClassName<"u"&&w)return tn.getElementsByClassName(Lt)},v=[],et(function(Lt){var tn;x.appendChild(Lt).innerHTML="<a id='"+_+"' href='' disabled='disabled'></a><select id='"+_+"-\r\\' disabled='disabled'><option selected=''></option></select>",Lt.querySelectorAll("[selected]").length||v.push("\\["+Re+"*(?:value|"+ne+")"),Lt.querySelectorAll("[id~="+_+"-]").length||v.push("~="),Lt.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]"),Lt.querySelectorAll(":checked").length||v.push(":checked"),(tn=M.createElement("input")).setAttribute("type","hidden"),Lt.appendChild(tn).setAttribute("name","D"),x.appendChild(Lt).disabled=!0,2!==Lt.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),(tn=M.createElement("input")).setAttribute("name",""),Lt.appendChild(tn),Lt.querySelectorAll("[name='']").length||v.push("\\["+Re+"*name"+Re+"*="+Re+"*(?:''|\"\")")}),O.cssHas||v.push(":has"),v=v.length&&new RegExp(v.join("|")),U=function(Lt,tn){if(Lt===tn)return L=!0,0;var Hn=!Lt.compareDocumentPosition-!tn.compareDocumentPosition;return Hn||(1&(Hn=(Lt.ownerDocument||Lt)==(tn.ownerDocument||tn)?Lt.compareDocumentPosition(tn):1)||!O.sortDetached&&tn.compareDocumentPosition(Lt)===Hn?Lt===M||Lt.ownerDocument==dt&&nt.contains(dt,Lt)?-1:tn===M||tn.ownerDocument==dt&&nt.contains(dt,tn)?1:fe?Q.call(fe,Lt)-Q.call(fe,tn):0:4&Hn?-1:1)}),M}for(S in nt.matches=function(Ue,ot){return nt(Ue,null,null,ot)},nt.matchesSelector=function(Ue,ot){if(wn(Ue),w&&!Y[ot+" "]&&(!v||!v.test(ot)))try{var pt=f.call(Ue,ot);if(pt||O.disconnectedMatch||Ue.document&&11!==Ue.document.nodeType)return pt}catch{Y(ot,!0)}return 0<nt(ot,M,null,[Ue]).length},nt.contains=function(Ue,ot){return(Ue.ownerDocument||Ue)!=M&&wn(Ue),P.contains(Ue,ot)},nt.attr=function(Ue,ot){(Ue.ownerDocument||Ue)!=M&&wn(Ue);var pt=k.attrHandle[ot.toLowerCase()],Lt=pt&&j.call(k.attrHandle,ot.toLowerCase())?pt(Ue,ot,!w):void 0;return void 0!==Lt?Lt:Ue.getAttribute(ot)},nt.error=function(Ue){throw new Error("Syntax error, unrecognized expression: "+Ue)},P.uniqueSort=function(Ue){var ot,pt=[],Lt=0,tn=0;if(L=!O.sortStable,fe=!O.sortStable&&at.call(Ue,0),Ve.call(Ue,U),L){for(;ot=Ue[tn++];)ot===Ue[tn]&&(Lt=pt.push(tn));for(;Lt--;)ue.call(Ue,pt[Lt],1)}return fe=null,Ue},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(at.apply(this)))},(k=P.expr={cacheLength:50,createPseudo:Fe,match:ae,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ue){return Ue[1]=Ue[1].replace(qe,$e),Ue[3]=(Ue[3]||Ue[4]||Ue[5]||"").replace(qe,$e),"~="===Ue[2]&&(Ue[3]=" "+Ue[3]+" "),Ue.slice(0,4)},CHILD:function(Ue){return Ue[1]=Ue[1].toLowerCase(),"nth"===Ue[1].slice(0,3)?(Ue[3]||nt.error(Ue[0]),Ue[4]=+(Ue[4]?Ue[5]+(Ue[6]||1):2*("even"===Ue[3]||"odd"===Ue[3])),Ue[5]=+(Ue[7]+Ue[8]||"odd"===Ue[3])):Ue[3]&&nt.error(Ue[0]),Ue},PSEUDO:function(Ue){var ot,pt=!Ue[6]&&Ue[2];return ae.CHILD.test(Ue[0])?null:(Ue[3]?Ue[2]=Ue[4]||Ue[5]||"":pt&&ie.test(pt)&&(ot=yt(pt,!0))&&(ot=pt.indexOf(")",pt.length-ot)-pt.length)&&(Ue[0]=Ue[0].slice(0,ot),Ue[2]=pt.slice(0,ot)),Ue.slice(0,3))}},filter:{TAG:function(Ue){var ot=Ue.replace(qe,$e).toLowerCase();return"*"===Ue?function(){return!0}:function(pt){return xe(pt,ot)}},CLASS:function(Ue){var ot=N[Ue+" "];return ot||(ot=new RegExp("(^|"+Re+")"+Ue+"("+Re+"|$)"))&&N(Ue,function(pt){return ot.test("string"==typeof pt.className&&pt.className||typeof pt.getAttribute<"u"&&pt.getAttribute("class")||"")})},ATTR:function(Ue,ot,pt){return function(Lt){var tn=nt.attr(Lt,Ue);return null==tn?"!="===ot:!ot||(tn+="","="===ot?tn===pt:"!="===ot?tn!==pt:"^="===ot?pt&&0===tn.indexOf(pt):"*="===ot?pt&&-1<tn.indexOf(pt):"$="===ot?pt&&tn.slice(-pt.length)===pt:"~="===ot?-1<(" "+tn.replace(W," ")+" ").indexOf(pt):"|="===ot&&(tn===pt||tn.slice(0,pt.length+1)===pt+"-"))}},CHILD:function(Ue,ot,pt,Lt,tn){var Hn="nth"!==Ue.slice(0,3),Gn="last"!==Ue.slice(-4),Yn="of-type"===ot;return 1===Lt&&0===tn?function(Vn){return!!Vn.parentNode}:function(Vn,vi,ii){var si,Kt,$t,kt,jt,Xn=Hn!==Gn?"nextSibling":"previousSibling",Fn=Vn.parentNode,ti=Yn&&Vn.nodeName.toLowerCase(),_t=!ii&&!Yn,Dt=!1;if(Fn){if(Hn){for(;Xn;){for($t=Vn;$t=$t[Xn];)if(Yn?xe($t,ti):1===$t.nodeType)return!1;jt=Xn="only"===Ue&&!jt&&"nextSibling"}return!0}if(jt=[Gn?Fn.firstChild:Fn.lastChild],Gn&&_t){for(Dt=(kt=(si=(Kt=Fn[_]||(Fn[_]={}))[Ue]||[])[0]===C&&si[1])&&si[2],$t=kt&&Fn.childNodes[kt];$t=++kt&&$t&&$t[Xn]||(Dt=kt=0)||jt.pop();)if(1===$t.nodeType&&++Dt&&$t===Vn){Kt[Ue]=[C,kt,Dt];break}}else if(_t&&(Dt=kt=(si=(Kt=Vn[_]||(Vn[_]={}))[Ue]||[])[0]===C&&si[1]),!1===Dt)for(;($t=++kt&&$t&&$t[Xn]||(Dt=kt=0)||jt.pop())&&(!(Yn?xe($t,ti):1===$t.nodeType)||!++Dt||(_t&&((Kt=$t[_]||($t[_]={}))[Ue]=[C,Dt]),$t!==Vn)););return(Dt-=tn)===Lt||Dt%Lt==0&&0<=Dt/Lt}}},PSEUDO:function(Ue,ot){var pt,Lt=k.pseudos[Ue]||k.setFilters[Ue.toLowerCase()]||nt.error("unsupported pseudo: "+Ue);return Lt[_]?Lt(ot):1<Lt.length?(pt=[Ue,Ue,"",ot],k.setFilters.hasOwnProperty(Ue.toLowerCase())?Fe(function(tn,Hn){for(var Gn,Yn=Lt(tn,ot),Vn=Yn.length;Vn--;)tn[Gn=Q.call(tn,Yn[Vn])]=!(Hn[Gn]=Yn[Vn])}):function(tn){return Lt(tn,0,pt)}):Lt}},pseudos:{not:Fe(function(Ue){var ot=[],pt=[],Lt=Mt(Ue.replace(je,"$1"));return Lt[_]?Fe(function(tn,Hn,Gn,Yn){for(var Vn,vi=Lt(tn,null,Yn,[]),ii=tn.length;ii--;)(Vn=vi[ii])&&(tn[ii]=!(Hn[ii]=Vn))}):function(tn,Hn,Gn){return ot[0]=tn,Lt(ot,null,Gn,pt),ot[0]=null,!pt.pop()}}),has:Fe(function(Ue){return function(ot){return 0<nt(Ue,ot).length}}),contains:Fe(function(Ue){return Ue=Ue.replace(qe,$e),function(ot){return-1<(ot.textContent||P.text(ot)).indexOf(Ue)}}),lang:Fe(function(Ue){return pe.test(Ue||"")||nt.error("unsupported lang: "+Ue),Ue=Ue.replace(qe,$e).toLowerCase(),function(ot){var pt;do{if(pt=w?ot.lang:ot.getAttribute("xml:lang")||ot.getAttribute("lang"))return(pt=pt.toLowerCase())===Ue||0===pt.indexOf(Ue+"-")}while((ot=ot.parentNode)&&1===ot.nodeType);return!1}}),target:function(Ue){var ot=be.location&&be.location.hash;return ot&&ot.slice(1)===Ue.id},root:function(Ue){return Ue===x},focus:function(Ue){return Ue===function(){try{return M.activeElement}catch{}}()&&M.hasFocus()&&!!(Ue.type||Ue.href||~Ue.tabIndex)},enabled:Wt(!1),disabled:Wt(!0),checked:function(Ue){return xe(Ue,"input")&&!!Ue.checked||xe(Ue,"option")&&!!Ue.selected},selected:function(Ue){return!0===Ue.selected},empty:function(Ue){for(Ue=Ue.firstChild;Ue;Ue=Ue.nextSibling)if(Ue.nodeType<6)return!1;return!0},parent:function(Ue){return!k.pseudos.empty(Ue)},header:function(Ue){return Le.test(Ue.nodeName)},input:function(Ue){return Ce.test(Ue.nodeName)},button:function(Ue){return xe(Ue,"input")&&"button"===Ue.type||xe(Ue,"button")},text:function(Ue){var ot;return xe(Ue,"input")&&"text"===Ue.type&&(null==(ot=Ue.getAttribute("type"))||"text"===ot.toLowerCase())},first:ln(function(){return[0]}),last:ln(function(Ue,ot){return[ot-1]}),eq:ln(function(Ue,ot,pt){return[pt<0?pt+ot:pt]}),even:ln(function(Ue,ot){for(var pt=0;pt<ot;pt+=2)Ue.push(pt);return Ue}),odd:ln(function(Ue,ot){for(var pt=1;pt<ot;pt+=2)Ue.push(pt);return Ue}),lt:ln(function(Ue,ot,pt){var Lt;for(Lt=pt<0?pt+ot:ot<pt?ot:pt;0<=--Lt;)Ue.push(Lt);return Ue}),gt:ln(function(Ue,ot,pt){for(var Lt=pt<0?pt+ot:pt;++Lt<ot;)Ue.push(Lt);return Ue})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[S]=ct(S);for(S in{submit:!0,reset:!0})k.pseudos[S]=xt(S);function xn(){}function yt(Ue,ot){var pt,Lt,tn,Hn,Gn,Yn,Vn,vi=z[Ue+" "];if(vi)return ot?0:vi.slice(0);for(Gn=Ue,Yn=[],Vn=k.preFilter;Gn;){for(Hn in pt&&!(Lt=F.exec(Gn))||(Lt&&(Gn=Gn.slice(Lt[0].length)||Gn),Yn.push(tn=[])),pt=!1,(Lt=A.exec(Gn))&&(pt=Lt.shift(),tn.push({value:pt,type:Lt[0].replace(je," ")}),Gn=Gn.slice(pt.length)),k.filter)!(Lt=ae[Hn].exec(Gn))||Vn[Hn]&&!(Lt=Vn[Hn](Lt))||(pt=Lt.shift(),tn.push({value:pt,type:Hn,matches:Lt}),Gn=Gn.slice(pt.length));if(!pt)break}return ot?Gn.length:Gn?nt.error(Ue):z(Ue,Yn).slice(0)}function ze(Ue){for(var ot=0,pt=Ue.length,Lt="";ot<pt;ot++)Lt+=Ue[ot].value;return Lt}function Oe(Ue,ot,pt){var Lt=ot.dir,tn=ot.next,Hn=tn||Lt,Gn=pt&&"parentNode"===Hn,Yn=I++;return ot.first?function(Vn,vi,ii){for(;Vn=Vn[Lt];)if(1===Vn.nodeType||Gn)return Ue(Vn,vi,ii);return!1}:function(Vn,vi,ii){var si,Kt,$t=[C,Yn];if(ii){for(;Vn=Vn[Lt];)if((1===Vn.nodeType||Gn)&&Ue(Vn,vi,ii))return!0}else for(;Vn=Vn[Lt];)if(1===Vn.nodeType||Gn)if(Kt=Vn[_]||(Vn[_]={}),tn&&xe(Vn,tn))Vn=Vn[Lt]||Vn;else{if((si=Kt[Hn])&&si[0]===C&&si[1]===Yn)return $t[2]=si[2];if((Kt[Hn]=$t)[2]=Ue(Vn,vi,ii))return!0}return!1}}function ut(Ue){return 1<Ue.length?function(ot,pt,Lt){for(var tn=Ue.length;tn--;)if(!Ue[tn](ot,pt,Lt))return!1;return!0}:Ue[0]}function St(Ue,ot,pt,Lt,tn){for(var Hn,Gn=[],Yn=0,Vn=Ue.length,vi=null!=ot;Yn<Vn;Yn++)(Hn=Ue[Yn])&&(pt&&!pt(Hn,Lt,tn)||(Gn.push(Hn),vi&&ot.push(Yn)));return Gn}function Ot(Ue,ot,pt,Lt,tn,Hn){return Lt&&!Lt[_]&&(Lt=Ot(Lt)),tn&&!tn[_]&&(tn=Ot(tn,Hn)),Fe(function(Gn,Yn,Vn,vi){var ii,si,Kt,$t,kt=[],jt=[],Xn=Yn.length,Fn=Gn||function(_t,Dt,Be){for(var rt=0,Ct=Dt.length;rt<Ct;rt++)nt(_t,Dt[rt],Be);return Be}(ot||"*",Vn.nodeType?[Vn]:Vn,[]),ti=!Ue||!Gn&&ot?Fn:St(Fn,kt,Ue,Vn,vi);if(pt?pt(ti,$t=tn||(Gn?Ue:Xn||Lt)?[]:Yn,Vn,vi):$t=ti,Lt)for(ii=St($t,jt),Lt(ii,[],Vn,vi),si=ii.length;si--;)(Kt=ii[si])&&($t[jt[si]]=!(ti[jt[si]]=Kt));if(Gn){if(tn||Ue){if(tn){for(ii=[],si=$t.length;si--;)(Kt=$t[si])&&ii.push(ti[si]=Kt);tn(null,$t=[],ii,vi)}for(si=$t.length;si--;)(Kt=$t[si])&&-1<(ii=tn?Q.call(Gn,Kt):kt[si])&&(Gn[ii]=!(Yn[ii]=Kt))}}else $t=St($t===Yn?$t.splice(Xn,$t.length):$t),tn?tn(null,Yn,$t,vi):p.apply(Yn,$t)})}function Ft(Ue){for(var ot,pt,Lt,tn=Ue.length,Hn=k.relative[Ue[0].type],Gn=Hn||k.relative[" "],Yn=Hn?1:0,Vn=Oe(function(si){return si===ot},Gn,!0),vi=Oe(function(si){return-1<Q.call(ot,si)},Gn,!0),ii=[function(si,Kt,$t){var kt=!Hn&&($t||Kt!=re)||((ot=Kt).nodeType?Vn(si,Kt,$t):vi(si,Kt,$t));return ot=null,kt}];Yn<tn;Yn++)if(pt=k.relative[Ue[Yn].type])ii=[Oe(ut(ii),pt)];else{if((pt=k.filter[Ue[Yn].type].apply(null,Ue[Yn].matches))[_]){for(Lt=++Yn;Lt<tn&&!k.relative[Ue[Lt].type];Lt++);return Ot(1<Yn&&ut(ii),1<Yn&&ze(Ue.slice(0,Yn-1).concat({value:" "===Ue[Yn-2].type?"*":""})).replace(je,"$1"),pt,Yn<Lt&&Ft(Ue.slice(Yn,Lt)),Lt<tn&&Ft(Ue=Ue.slice(Lt)),Lt<tn&&ze(Ue))}ii.push(pt)}return ut(ii)}function Mt(Ue,ot){var pt,Lt,tn,Hn,Gn,Yn,Vn=[],vi=[],ii=V[Ue+" "];if(!ii){for(ot||(ot=yt(Ue)),pt=ot.length;pt--;)(ii=Ft(ot[pt]))[_]?Vn.push(ii):vi.push(ii);(ii=V(Ue,(Lt=vi,Hn=0<(tn=Vn).length,Gn=0<Lt.length,Yn=function(si,Kt,$t,kt,jt){var Xn,Fn,ti,_t=0,Dt="0",Be=si&&[],rt=[],Ct=re,Bt=si||Gn&&k.find.TAG("*",jt),nn=C+=null==Ct?1:Math.random()||.1,Vt=Bt.length;for(jt&&(re=Kt==M||Kt||jt);Dt!==Vt&&null!=(Xn=Bt[Dt]);Dt++){if(Gn&&Xn){for(Fn=0,Kt||Xn.ownerDocument==M||(wn(Xn),$t=!w);ti=Lt[Fn++];)if(ti(Xn,Kt||M,$t)){p.call(kt,Xn);break}jt&&(C=nn)}Hn&&((Xn=!ti&&Xn)&&_t--,si&&Be.push(Xn))}if(_t+=Dt,Hn&&Dt!==_t){for(Fn=0;ti=tn[Fn++];)ti(Be,rt,Kt,$t);if(si){if(0<_t)for(;Dt--;)Be[Dt]||rt[Dt]||(rt[Dt]=ke.call(kt));rt=St(rt)}p.apply(kt,rt),jt&&!si&&0<rt.length&&1<_t+tn.length&&P.uniqueSort(kt)}return jt&&(C=nn,re=Ct),Be},Hn?Fe(Yn):Yn))).selector=Ue}return ii}function en(Ue,ot,pt,Lt){var tn,Hn,Gn,Yn,Vn,vi="function"==typeof Ue&&Ue,ii=!Lt&&yt(Ue=vi.selector||Ue);if(pt=pt||[],1===ii.length){if(2<(Hn=ii[0]=ii[0].slice(0)).length&&"ID"===(Gn=Hn[0]).type&&9===ot.nodeType&&w&&k.relative[Hn[1].type]){if(!(ot=(k.find.ID(Gn.matches[0].replace(qe,$e),ot)||[])[0]))return pt;vi&&(ot=ot.parentNode),Ue=Ue.slice(Hn.shift().value.length)}for(tn=ae.needsContext.test(Ue)?0:Hn.length;tn--&&!k.relative[Yn=(Gn=Hn[tn]).type];)if((Vn=k.find[Yn])&&(Lt=Vn(Gn.matches[0].replace(qe,$e),Ze.test(Hn[0].type)&&mn(ot.parentNode)||ot))){if(Hn.splice(tn,1),!(Ue=Lt.length&&ze(Hn)))return p.apply(pt,Lt),pt;break}}return(vi||Mt(Ue,ii))(Lt,ot,!w,pt,!ot||Ze.test(Ue)&&mn(ot.parentNode)||ot),pt}xn.prototype=k.filters=k.pseudos,k.setFilters=new xn,O.sortStable=_.split("").sort(U).join("")===_,wn(),O.sortDetached=et(function(Ue){return 1&Ue.compareDocumentPosition(M.createElement("fieldset"))}),P.find=nt,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,nt.compile=Mt,nt.select=en,nt.setDocument=wn,nt.tokenize=yt,nt.escape=P.escapeSelector,nt.getText=P.text,nt.isXML=P.isXMLDoc,nt.selectors=P.expr,nt.support=P.support,nt.uniqueSort=P.uniqueSort}();var bt=function(S,k,re){for(var fe=[],L=void 0!==re;(S=S[k])&&9!==S.nodeType;)if(1===S.nodeType){if(L&&P(S).is(re))break;fe.push(S)}return fe},on=function(S,k){for(var re=[];S;S=S.nextSibling)1===S.nodeType&&S!==k&&re.push(S);return re},Tt=P.expr.match.needsContext,Pt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function un(S,k,re){return B(k)?P.grep(S,function(fe,L){return!!k.call(fe,L,fe)!==re}):k.nodeType?P.grep(S,function(fe){return fe===k!==re}):"string"!=typeof k?P.grep(S,function(fe){return-1<Q.call(k,fe)!==re}):P.filter(k,S,re)}P.filter=function(S,k,re){var fe=k[0];return re&&(S=":not("+S+")"),1===k.length&&1===fe.nodeType?P.find.matchesSelector(fe,S)?[fe]:[]:P.find.matches(S,P.grep(k,function(L){return 1===L.nodeType}))},P.fn.extend({find:function(S){var k,re,fe=this.length,L=this;if("string"!=typeof S)return this.pushStack(P(S).filter(function(){for(k=0;k<fe;k++)if(P.contains(L[k],this))return!0}));for(re=this.pushStack([]),k=0;k<fe;k++)P.find(S,L[k],re);return 1<fe?P.uniqueSort(re):re},filter:function(S){return this.pushStack(un(this,S||[],!1))},not:function(S){return this.pushStack(un(this,S||[],!0))},is:function(S){return!!un(this,"string"==typeof S&&Tt.test(S)?P(S):S||[],!1).length}});var vn,zt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(S,k,re){var fe,L;if(!S)return this;if(re=re||vn,"string"==typeof S){if(!(fe="<"===S[0]&&">"===S[S.length-1]&&3<=S.length?[null,S,null]:zt.exec(S))||!fe[1]&&k)return!k||k.jquery?(k||re).find(S):this.constructor(k).find(S);if(fe[1]){if(P.merge(this,P.parseHTML(fe[1],(k=k instanceof P?k[0]:k)&&k.nodeType?k.ownerDocument||k:de,!0)),Pt.test(fe[1])&&P.isPlainObject(k))for(fe in k)B(this[fe])?this[fe](k[fe]):this.attr(fe,k[fe]);return this}return(L=de.getElementById(fe[2]))&&(this[0]=L,this.length=1),this}return S.nodeType?(this[0]=S,this.length=1,this):B(S)?void 0!==re.ready?re.ready(S):S(P):P.makeArray(S,this)}).prototype=P.fn,vn=P(de);var cn=/^(?:parents|prev(?:Until|All))/,Mn={children:!0,contents:!0,next:!0,prev:!0};function Zt(S,k){for(;(S=S[k])&&1!==S.nodeType;);return S}P.fn.extend({has:function(S){var k=P(S,this),re=k.length;return this.filter(function(){for(var fe=0;fe<re;fe++)if(P.contains(this,k[fe]))return!0})},closest:function(S,k){var re,fe=0,L=this.length,M=[],x="string"!=typeof S&&P(S);if(!Tt.test(S))for(;fe<L;fe++)for(re=this[fe];re&&re!==k;re=re.parentNode)if(re.nodeType<11&&(x?-1<x.index(re):1===re.nodeType&&P.find.matchesSelector(re,S))){M.push(re);break}return this.pushStack(1<M.length?P.uniqueSort(M):M)},index:function(S){return S?"string"==typeof S?Q.call(P(S),this[0]):Q.call(this,S.jquery?S[0]:S):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(S,k){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(S,k))))},addBack:function(S){return this.add(null==S?this.prevObject:this.prevObject.filter(S))}}),P.each({parent:function(S){var k=S.parentNode;return k&&11!==k.nodeType?k:null},parents:function(S){return bt(S,"parentNode")},parentsUntil:function(S,k,re){return bt(S,"parentNode",re)},next:function(S){return Zt(S,"nextSibling")},prev:function(S){return Zt(S,"previousSibling")},nextAll:function(S){return bt(S,"nextSibling")},prevAll:function(S){return bt(S,"previousSibling")},nextUntil:function(S,k,re){return bt(S,"nextSibling",re)},prevUntil:function(S,k,re){return bt(S,"previousSibling",re)},siblings:function(S){return on((S.parentNode||{}).firstChild,S)},children:function(S){return on(S.firstChild)},contents:function(S){return null!=S.contentDocument&&ve(S.contentDocument)?S.contentDocument:(xe(S,"template")&&(S=S.content||S),P.merge([],S.childNodes))}},function(S,k){P.fn[S]=function(re,fe){var L=P.map(this,k,re);return"Until"!==S.slice(-5)&&(fe=re),fe&&"string"==typeof fe&&(L=P.filter(fe,L)),1<this.length&&(Mn[S]||P.uniqueSort(L),cn.test(S)&&L.reverse()),this.pushStack(L)}});var Nn=/[^\x20\t\r\n\f]+/g;function sn(S){return S}function On(S){throw S}function yi(S,k,re,fe){var L;try{S&&B(L=S.promise)?L.call(S).done(k).fail(re):S&&B(L=S.then)?L.call(S,k,re):k.apply(void 0,[S].slice(fe))}catch(M){re.apply(void 0,[M])}}P.Callbacks=function(S){var re;S="string"==typeof S?(re={},P.each(S.match(Nn)||[],function(C,I){re[I]=!0}),re):P.extend({},S);var fe,L,M,x,w=[],v=[],f=-1,p=function(){for(x=x||S.once,M=fe=!0;v.length;f=-1)for(L=v.shift();++f<w.length;)!1===w[f].apply(L[0],L[1])&&S.stopOnFalse&&(f=w.length,L=!1);S.memory||(L=!1),fe=!1,x&&(w=L?[]:"")},_={add:function(){return w&&(L&&!fe&&(f=w.length-1,v.push(L)),function C(I){P.each(I,function(N,z){B(z)?S.unique&&_.has(z)||w.push(z):z&&z.length&&"string"!==De(z)&&C(z)})}(arguments),L&&!fe&&p()),this},remove:function(){return P.each(arguments,function(C,I){for(var N;-1<(N=P.inArray(I,w,N));)w.splice(N,1),N<=f&&f--}),this},has:function(C){return C?-1<P.inArray(C,w):0<w.length},empty:function(){return w&&(w=[]),this},disable:function(){return x=v=[],w=L="",this},disabled:function(){return!w},lock:function(){return x=v=[],L||fe||(w=L=""),this},locked:function(){return!!x},fireWith:function(C,I){return x||(I=[C,(I=I||[]).slice?I.slice():I],v.push(I),fe||p()),this},fire:function(){return _.fireWith(this,arguments),this},fired:function(){return!!M}};return _},P.extend({Deferred:function(S){var k=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],re="pending",fe={state:function(){return re},always:function(){return L.done(arguments).fail(arguments),this},catch:function(M){return fe.then(null,M)},pipe:function(){var M=arguments;return P.Deferred(function(x){P.each(k,function(w,v){var f=B(M[v[4]])&&M[v[4]];L[v[1]](function(){var p=f&&f.apply(this,arguments);p&&B(p.promise)?p.promise().progress(x.notify).done(x.resolve).fail(x.reject):x[v[0]+"With"](this,f?[p]:arguments)})}),M=null}).promise()},then:function(M,x,w){var v=0;function f(p,_,C,I){return function(){var N=this,z=arguments,V=function(){var U,ne;if(!(p<v)){if((U=C.apply(N,z))===_.promise())throw new TypeError("Thenable self-resolution");B(ne=U&&("object"==typeof U||"function"==typeof U)&&U.then)?I?ne.call(U,f(v,_,sn,I),f(v,_,On,I)):(v++,ne.call(U,f(v,_,sn,I),f(v,_,On,I),f(v,_,sn,_.notifyWith))):(C!==sn&&(N=void 0,z=[U]),(I||_.resolveWith)(N,z))}},Y=I?V:function(){try{V()}catch(U){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(U,Y.error),v<=p+1&&(C!==On&&(N=void 0,z=[U]),_.rejectWith(N,z))}};p?Y():(P.Deferred.getErrorHook?Y.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(Y.error=P.Deferred.getStackHook()),be.setTimeout(Y))}}return P.Deferred(function(p){k[0][3].add(f(0,p,B(w)?w:sn,p.notifyWith)),k[1][3].add(f(0,p,B(M)?M:sn)),k[2][3].add(f(0,p,B(x)?x:On))}).promise()},promise:function(M){return null!=M?P.extend(M,fe):fe}},L={};return P.each(k,function(M,x){var w=x[2],v=x[5];fe[x[1]]=w.add,v&&w.add(function(){re=v},k[3-M][2].disable,k[3-M][3].disable,k[0][2].lock,k[0][3].lock),w.add(x[3].fire),L[x[0]]=function(){return L[x[0]+"With"](this===L?void 0:this,arguments),this},L[x[0]+"With"]=w.fireWith}),fe.promise(L),S&&S.call(L,L),L},when:function(S){var k=arguments.length,re=k,fe=Array(re),L=at.call(arguments),M=P.Deferred(),x=function(w){return function(v){fe[w]=this,L[w]=1<arguments.length?at.call(arguments):v,--k||M.resolveWith(fe,L)}};if(k<=1&&(yi(S,M.done(x(re)).resolve,M.reject,!k),"pending"===M.state()||B(L[re]&&L[re].then)))return M.then();for(;re--;)yi(L[re],x(re),M.reject);return M.promise()}});var ni=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(S,k){be.console&&be.console.warn&&S&&ni.test(S.name)&&be.console.warn("jQuery.Deferred exception: "+S.message,S.stack,k)},P.readyException=function(S){be.setTimeout(function(){throw S})};var Jn=P.Deferred();function xi(){de.removeEventListener("DOMContentLoaded",xi),be.removeEventListener("load",xi),P.ready()}P.fn.ready=function(S){return Jn.then(S).catch(function(k){P.readyException(k)}),this},P.extend({isReady:!1,readyWait:1,ready:function(S){(!0===S?--P.readyWait:P.isReady)||(P.isReady=!0)!==S&&0<--P.readyWait||Jn.resolveWith(de,[P])}}),P.ready.then=Jn.then,"complete"===de.readyState||"loading"!==de.readyState&&!de.documentElement.doScroll?be.setTimeout(P.ready):(de.addEventListener("DOMContentLoaded",xi),be.addEventListener("load",xi));var oi=function(S,k,re,fe,L,M,x){var w=0,v=S.length,f=null==re;if("object"===De(re))for(w in L=!0,re)oi(S,k,w,re[w],!0,M,x);else if(void 0!==fe&&(L=!0,B(fe)||(x=!0),f&&(x?(k.call(S,fe),k=null):(f=k,k=function(p,_,C){return f.call(P(p),C)})),k))for(;w<v;w++)k(S[w],re,x?fe:fe.call(S[w],w,k(S[w],re)));return L?S:f?k.call(S):v?k(S[0],re):M},Ni=/^-ms-/,Jt=/-([a-z])/g;function qt(S,k){return k.toUpperCase()}function gn(S){return S.replace(Ni,"ms-").replace(Jt,qt)}var Ln=function(S){return 1===S.nodeType||9===S.nodeType||!+S.nodeType};function dn(){this.expando=P.expando+dn.uid++}dn.uid=1,dn.prototype={cache:function(S){var k=S[this.expando];return k||(k={},Ln(S)&&(S.nodeType?S[this.expando]=k:Object.defineProperty(S,this.expando,{value:k,configurable:!0}))),k},set:function(S,k,re){var fe,L=this.cache(S);if("string"==typeof k)L[gn(k)]=re;else for(fe in k)L[gn(fe)]=k[fe];return L},get:function(S,k){return void 0===k?this.cache(S):S[this.expando]&&S[this.expando][gn(k)]},access:function(S,k,re){return void 0===k||k&&"string"==typeof k&&void 0===re?this.get(S,k):(this.set(S,k,re),void 0!==re?re:k)},remove:function(S,k){var re,fe=S[this.expando];if(void 0!==fe){if(void 0!==k)for((re=(k=Array.isArray(k)?k.map(gn):(k=gn(k))in fe?[k]:k.match(Nn)||[]).length);re--;)delete fe[k[re]];(void 0===k||P.isEmptyObject(fe))&&(S.nodeType?S[this.expando]=void 0:delete S[this.expando])}},hasData:function(S){var k=S[this.expando];return void 0!==k&&!P.isEmptyObject(k)}};var an=new dn,Wn=new dn,ui=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ii=/[A-Z]/g;function ri(S,k,re){var fe,L;if(void 0===re&&1===S.nodeType)if(fe="data-"+k.replace(Ii,"-$&").toLowerCase(),"string"==typeof(re=S.getAttribute(fe))){try{re="true"===(L=re)||"false"!==L&&("null"===L?null:L===+L+""?+L:ui.test(L)?JSON.parse(L):L)}catch{}Wn.set(S,k,re)}else re=void 0;return re}P.extend({hasData:function(S){return Wn.hasData(S)||an.hasData(S)},data:function(S,k,re){return Wn.access(S,k,re)},removeData:function(S,k){Wn.remove(S,k)},_data:function(S,k,re){return an.access(S,k,re)},_removeData:function(S,k){an.remove(S,k)}}),P.fn.extend({data:function(S,k){var re,fe,L,M=this[0],x=M&&M.attributes;if(void 0===S){if(this.length&&(L=Wn.get(M),1===M.nodeType&&!an.get(M,"hasDataAttrs"))){for(re=x.length;re--;)x[re]&&0===(fe=x[re].name).indexOf("data-")&&(fe=gn(fe.slice(5)),ri(M,fe,L[fe]));an.set(M,"hasDataAttrs",!0)}return L}return"object"==typeof S?this.each(function(){Wn.set(this,S)}):oi(this,function(w){var v;if(M&&void 0===w)return void 0!==(v=Wn.get(M,S))||void 0!==(v=ri(M,S))?v:void 0;this.each(function(){Wn.set(this,S,w)})},null,k,1<arguments.length,null,!0)},removeData:function(S){return this.each(function(){Wn.remove(this,S)})}}),P.extend({queue:function(S,k,re){var fe;if(S)return fe=an.get(S,k=(k||"fx")+"queue"),re&&(!fe||Array.isArray(re)?fe=an.access(S,k,P.makeArray(re)):fe.push(re)),fe||[]},dequeue:function(S,k){var re=P.queue(S,k=k||"fx"),fe=re.length,L=re.shift(),M=P._queueHooks(S,k);"inprogress"===L&&(L=re.shift(),fe--),L&&("fx"===k&&re.unshift("inprogress"),delete M.stop,L.call(S,function(){P.dequeue(S,k)},M)),!fe&&M&&M.empty.fire()},_queueHooks:function(S,k){var re=k+"queueHooks";return an.get(S,re)||an.access(S,re,{empty:P.Callbacks("once memory").add(function(){an.remove(S,[k+"queue",re])})})}}),P.fn.extend({queue:function(S,k){var re=2;return"string"!=typeof S&&(k=S,S="fx",re--),arguments.length<re?P.queue(this[0],S):void 0===k?this:this.each(function(){var fe=P.queue(this,S,k);P._queueHooks(this,S),"fx"===S&&"inprogress"!==fe[0]&&P.dequeue(this,S)})},dequeue:function(S){return this.each(function(){P.dequeue(this,S)})},clearQueue:function(S){return this.queue(S||"fx",[])},promise:function(S,k){var re,fe=1,L=P.Deferred(),M=this,x=this.length,w=function(){--fe||L.resolveWith(M,[M])};for("string"!=typeof S&&(k=S,S=void 0),S=S||"fx";x--;)(re=an.get(M[x],S+"queueHooks"))&&re.empty&&(fe++,re.empty.add(w));return w(),L.promise(k)}});var Yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fn=new RegExp("^(?:([+-])=|)("+Yt+")([a-z%]*)$","i"),Tn=["Top","Right","Bottom","Left"],jn=de.documentElement,Pn=function(S){return P.contains(S.ownerDocument,S)},In={composed:!0};jn.getRootNode&&(Pn=function(S){return P.contains(S.ownerDocument,S)||S.getRootNode(In)===S.ownerDocument});var qn=function(S,k){return"none"===(S=k||S).style.display||""===S.style.display&&Pn(S)&&"none"===P.css(S,"display")};function $n(S,k,re,fe){var L,M,x=20,w=fe?function(){return fe.cur()}:function(){return P.css(S,k,"")},v=w(),f=re&&re[3]||(P.cssNumber[k]?"":"px"),p=S.nodeType&&(P.cssNumber[k]||"px"!==f&&+v)&&fn.exec(P.css(S,k));if(p&&p[3]!==f){for(f=f||p[3],p=+(v/=2)||1;x--;)P.style(S,k,p+f),(1-M)*(1-(M=w()/v||.5))<=0&&(x=0),p/=M;P.style(S,k,(p*=2)+f),re=re||[]}return re&&(p=+p||+v||0,L=re[1]?p+(re[1]+1)*re[2]:+re[2],fe&&(fe.unit=f,fe.start=p,fe.end=L)),L}var ai={};function di(S,k){for(var re,fe,L,M,x,w,v,f=[],p=0,_=S.length;p<_;p++)(fe=S[p]).style&&(re=fe.style.display,k?("none"===re&&(f[p]=an.get(fe,"display")||null,f[p]||(fe.style.display="")),""===fe.style.display&&qn(fe)&&(f[p]=(v=x=M=void 0,x=(L=fe).ownerDocument,(v=ai[w=L.nodeName])||(M=x.body.appendChild(x.createElement(w)),v=P.css(M,"display"),M.parentNode.removeChild(M),"none"===v&&(v="block"),ai[w]=v)))):"none"!==re&&(f[p]="none",an.set(fe,"display",re)));for(p=0;p<_;p++)null!=f[p]&&(S[p].style.display=f[p]);return S}P.fn.extend({show:function(){return di(this,!0)},hide:function(){return di(this)},toggle:function(S){return"boolean"==typeof S?S?this.show():this.hide():this.each(function(){qn(this)?P(this).show():P(this).hide()})}});var _i,Zi,nr=/^(?:checkbox|radio)$/i,Mi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,gr=/^$|^module$|\/(?:java|ecma)script/i;_i=de.createDocumentFragment().appendChild(de.createElement("div")),(Zi=de.createElement("input")).setAttribute("type","radio"),Zi.setAttribute("checked","checked"),Zi.setAttribute("name","t"),_i.appendChild(Zi),O.checkClone=_i.cloneNode(!0).cloneNode(!0).lastChild.checked,_i.innerHTML="<textarea>x</textarea>",O.noCloneChecked=!!_i.cloneNode(!0).lastChild.defaultValue,_i.innerHTML="<option></option>",O.option=!!_i.lastChild;var Fi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ui(S,k){var re;return re=typeof S.getElementsByTagName<"u"?S.getElementsByTagName(k||"*"):typeof S.querySelectorAll<"u"?S.querySelectorAll(k||"*"):[],void 0===k||k&&xe(S,k)?P.merge([S],re):re}function Vi(S,k){for(var re=0,fe=S.length;re<fe;re++)an.set(S[re],"globalEval",!k||an.get(k[re],"globalEval"))}Fi.tbody=Fi.tfoot=Fi.colgroup=Fi.caption=Fi.thead,Fi.th=Fi.td,O.option||(Fi.optgroup=Fi.option=[1,"<select multiple='multiple'>","</select>"]);var ki=/<|&#?\w+;/;function pr(S,k,re,fe,L){for(var M,x,w,v,f,p,_=k.createDocumentFragment(),C=[],I=0,N=S.length;I<N;I++)if((M=S[I])||0===M)if("object"===De(M))P.merge(C,M.nodeType?[M]:M);else if(ki.test(M)){for(x=x||_.appendChild(k.createElement("div")),w=(Mi.exec(M)||["",""])[1].toLowerCase(),x.innerHTML=(v=Fi[w]||Fi._default)[1]+P.htmlPrefilter(M)+v[2],p=v[0];p--;)x=x.lastChild;P.merge(C,x.childNodes),(x=_.firstChild).textContent=""}else C.push(k.createTextNode(M));for(_.textContent="",I=0;M=C[I++];)if(fe&&-1<P.inArray(M,fe))L&&L.push(M);else if(f=Pn(M),x=Ui(_.appendChild(M),"script"),f&&Vi(x),re)for(p=0;M=x[p++];)gr.test(M.type||"")&&re.push(M);return _}var Wi=/^([^.]*)(?:\.(.+)|)/;function wr(){return!0}function io(){return!1}function Qt(S,k,re,fe,L,M){var x,w;if("object"==typeof k){for(w in"string"!=typeof re&&(fe=fe||re,re=void 0),k)Qt(S,w,re,fe,k[w],M);return S}if(null==fe&&null==L?(L=re,fe=re=void 0):null==L&&("string"==typeof re?(L=fe,fe=void 0):(L=fe,fe=re,re=void 0)),!1===L)L=io;else if(!L)return S;return 1===M&&(x=L,(L=function(v){return P().off(v),x.apply(this,arguments)}).guid=x.guid||(x.guid=P.guid++)),S.each(function(){P.event.add(this,k,L,fe,re)})}function hn(S,k,re){re?(an.set(S,k,!1),P.event.add(S,k,{namespace:!1,handler:function(fe){var L,M=an.get(this,k);if(1&fe.isTrigger&&this[k]){if(M)(P.event.special[k]||{}).delegateType&&fe.stopPropagation();else if(M=at.call(arguments),an.set(this,k,M),this[k](),L=an.get(this,k),an.set(this,k,!1),M!==L)return fe.stopImmediatePropagation(),fe.preventDefault(),L}else M&&(an.set(this,k,P.event.trigger(M[0],M.slice(1),this)),fe.stopPropagation(),fe.isImmediatePropagationStopped=wr)}})):void 0===an.get(S,k)&&P.event.add(S,k,wr)}P.event={global:{},add:function(S,k,re,fe,L){var M,x,w,v,f,p,_,C,I,N,z,V=an.get(S);if(Ln(S))for(re.handler&&(re=(M=re).handler,L=M.selector),L&&P.find.matchesSelector(jn,L),re.guid||(re.guid=P.guid++),(v=V.events)||(v=V.events=Object.create(null)),(x=V.handle)||(x=V.handle=function(Y){return typeof P<"u"&&P.event.triggered!==Y.type?P.event.dispatch.apply(S,arguments):void 0}),f=(k=(k||"").match(Nn)||[""]).length;f--;)I=z=(w=Wi.exec(k[f])||[])[1],N=(w[2]||"").split(".").sort(),I&&(_=P.event.special[I]||{},_=P.event.special[I=(L?_.delegateType:_.bindType)||I]||{},p=P.extend({type:I,origType:z,data:fe,handler:re,guid:re.guid,selector:L,needsContext:L&&P.expr.match.needsContext.test(L),namespace:N.join(".")},M),(C=v[I])||((C=v[I]=[]).delegateCount=0,_.setup&&!1!==_.setup.call(S,fe,N,x)||S.addEventListener&&S.addEventListener(I,x)),_.add&&(_.add.call(S,p),p.handler.guid||(p.handler.guid=re.guid)),L?C.splice(C.delegateCount++,0,p):C.push(p),P.event.global[I]=!0)},remove:function(S,k,re,fe,L){var M,x,w,v,f,p,_,C,I,N,z,V=an.hasData(S)&&an.get(S);if(V&&(v=V.events)){for(f=(k=(k||"").match(Nn)||[""]).length;f--;)if(I=z=(w=Wi.exec(k[f])||[])[1],N=(w[2]||"").split(".").sort(),I){for(_=P.event.special[I]||{},C=v[I=(fe?_.delegateType:_.bindType)||I]||[],w=w[2]&&new RegExp("(^|\\.)"+N.join("\\.(?:.*\\.|)")+"(\\.|$)"),x=M=C.length;M--;)p=C[M],!L&&z!==p.origType||re&&re.guid!==p.guid||w&&!w.test(p.namespace)||fe&&fe!==p.selector&&("**"!==fe||!p.selector)||(C.splice(M,1),p.selector&&C.delegateCount--,_.remove&&_.remove.call(S,p));x&&!C.length&&(_.teardown&&!1!==_.teardown.call(S,N,V.handle)||P.removeEvent(S,I,V.handle),delete v[I])}else for(I in v)P.event.remove(S,I+k[f],re,fe,!0);P.isEmptyObject(v)&&an.remove(S,"handle events")}},dispatch:function(S){var k,re,fe,L,M,x,w=new Array(arguments.length),v=P.event.fix(S),f=(an.get(this,"events")||Object.create(null))[v.type]||[],p=P.event.special[v.type]||{};for(w[0]=v,k=1;k<arguments.length;k++)w[k]=arguments[k];if(v.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,v)){for(x=P.event.handlers.call(this,v,f),k=0;(L=x[k++])&&!v.isPropagationStopped();)for(v.currentTarget=L.elem,re=0;(M=L.handlers[re++])&&!v.isImmediatePropagationStopped();)v.rnamespace&&!1!==M.namespace&&!v.rnamespace.test(M.namespace)||(v.handleObj=M,v.data=M.data,void 0!==(fe=((P.event.special[M.origType]||{}).handle||M.handler).apply(L.elem,w))&&!1===(v.result=fe)&&(v.preventDefault(),v.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,v),v.result}},handlers:function(S,k){var re,fe,L,M,x,w=[],v=k.delegateCount,f=S.target;if(v&&f.nodeType&&!("click"===S.type&&1<=S.button))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==S.type||!0!==f.disabled)){for(M=[],x={},re=0;re<v;re++)void 0===x[L=(fe=k[re]).selector+" "]&&(x[L]=fe.needsContext?-1<P(L,this).index(f):P.find(L,this,null,[f]).length),x[L]&&M.push(fe);M.length&&w.push({elem:f,handlers:M})}return f=this,v<k.length&&w.push({elem:f,handlers:k.slice(v)}),w},addProp:function(S,k){Object.defineProperty(P.Event.prototype,S,{enumerable:!0,configurable:!0,get:B(k)?function(){if(this.originalEvent)return k(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[S]},set:function(re){Object.defineProperty(this,S,{enumerable:!0,configurable:!0,writable:!0,value:re})}})},fix:function(S){return S[P.expando]?S:new P.Event(S)},special:{load:{noBubble:!0},click:{setup:function(S){var k=this||S;return nr.test(k.type)&&k.click&&xe(k,"input")&&hn(k,"click",!0),!1},trigger:function(S){var k=this||S;return nr.test(k.type)&&k.click&&xe(k,"input")&&hn(k,"click"),!0},_default:function(S){var k=S.target;return nr.test(k.type)&&k.click&&xe(k,"input")&&an.get(k,"click")||xe(k,"a")}},beforeunload:{postDispatch:function(S){void 0!==S.result&&S.originalEvent&&(S.originalEvent.returnValue=S.result)}}}},P.removeEvent=function(S,k,re){S.removeEventListener&&S.removeEventListener(k,re)},P.Event=function(S,k){if(!(this instanceof P.Event))return new P.Event(S,k);S&&S.type?(this.originalEvent=S,this.type=S.type,this.isDefaultPrevented=S.defaultPrevented||void 0===S.defaultPrevented&&!1===S.returnValue?wr:io,this.target=S.target&&3===S.target.nodeType?S.target.parentNode:S.target,this.currentTarget=S.currentTarget,this.relatedTarget=S.relatedTarget):this.type=S,k&&P.extend(this,k),this.timeStamp=S&&S.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:io,isPropagationStopped:io,isImmediatePropagationStopped:io,isSimulated:!1,preventDefault:function(){var S=this.originalEvent;this.isDefaultPrevented=wr,S&&!this.isSimulated&&S.preventDefault()},stopPropagation:function(){var S=this.originalEvent;this.isPropagationStopped=wr,S&&!this.isSimulated&&S.stopPropagation()},stopImmediatePropagation:function(){var S=this.originalEvent;this.isImmediatePropagationStopped=wr,S&&!this.isSimulated&&S.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(S,k){function re(fe){if(de.documentMode){var L=an.get(this,"handle"),M=P.event.fix(fe);M.type="focusin"===fe.type?"focus":"blur",M.isSimulated=!0,L(fe),M.target===M.currentTarget&&L(M)}else P.event.simulate(k,fe.target,P.event.fix(fe))}P.event.special[S]={setup:function(){var fe;if(hn(this,S,!0),!de.documentMode)return!1;(fe=an.get(this,k))||this.addEventListener(k,re),an.set(this,k,(fe||0)+1)},trigger:function(){return hn(this,S),!0},teardown:function(){var fe;if(!de.documentMode)return!1;(fe=an.get(this,k)-1)?an.set(this,k,fe):(this.removeEventListener(k,re),an.remove(this,k))},_default:function(fe){return an.get(fe.target,S)},delegateType:k},P.event.special[k]={setup:function(){var fe=this.ownerDocument||this.document||this,L=de.documentMode?this:fe,M=an.get(L,k);M||(de.documentMode?this.addEventListener(k,re):fe.addEventListener(S,re,!0)),an.set(L,k,(M||0)+1)},teardown:function(){var fe=this.ownerDocument||this.document||this,L=de.documentMode?this:fe,M=an.get(L,k)-1;M?an.set(L,k,M):(de.documentMode?this.removeEventListener(k,re):fe.removeEventListener(S,re,!0),an.remove(L,k))}}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(S,k){P.event.special[S]={delegateType:k,bindType:k,handle:function(re){var fe,L=re.relatedTarget,M=re.handleObj;return L&&(L===this||P.contains(this,L))||(re.type=M.origType,fe=M.handler.apply(this,arguments),re.type=k),fe}}}),P.fn.extend({on:function(S,k,re,fe){return Qt(this,S,k,re,fe)},one:function(S,k,re,fe){return Qt(this,S,k,re,fe,1)},off:function(S,k,re){var fe,L;if(S&&S.preventDefault&&S.handleObj)return fe=S.handleObj,P(S.delegateTarget).off(fe.namespace?fe.origType+"."+fe.namespace:fe.origType,fe.selector,fe.handler),this;if("object"==typeof S){for(L in S)this.off(L,k,S[L]);return this}return!1!==k&&"function"!=typeof k||(re=k,k=void 0),!1===re&&(re=io),this.each(function(){P.event.remove(this,S,re,k)})}});var Un=/<script|<style|<link/i,Bn=/checked\s*(?:[^=]|=\s*.checked.)/i,Qn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function bi(S,k){return xe(S,"table")&&xe(11!==k.nodeType?k:k.firstChild,"tr")&&P(S).children("tbody")[0]||S}function wi(S){return S.type=(null!==S.getAttribute("type"))+"/"+S.type,S}function Ai(S){return"true/"===(S.type||"").slice(0,5)?S.type=S.type.slice(5):S.removeAttribute("type"),S}function hi(S,k){var re,fe,L,M,x,w;if(1===k.nodeType){if(an.hasData(S)&&(w=an.get(S).events))for(L in an.remove(k,"handle events"),w)for(re=0,fe=w[L].length;re<fe;re++)P.event.add(k,L,w[L][re]);Wn.hasData(S)&&(M=Wn.access(S),x=P.extend({},M),Wn.set(k,x))}}function Ci(S,k,re,fe){k=ce(k);var L,M,x,w,v,f,p=0,_=S.length,C=_-1,I=k[0],N=B(I);if(N||1<_&&"string"==typeof I&&!O.checkClone&&Bn.test(I))return S.each(function(z){var V=S.eq(z);N&&(k[0]=I.call(this,z,V.html())),Ci(V,k,re,fe)});if(_&&(M=(L=pr(k,S[0].ownerDocument,!1,S,fe)).firstChild,1===L.childNodes.length&&(L=M),M||fe)){for(w=(x=P.map(Ui(L,"script"),wi)).length;p<_;p++)v=L,p!==C&&(v=P.clone(v,!0,!0),w&&P.merge(x,Ui(v,"script"))),re.call(S[p],v,p);if(w)for(f=x[x.length-1].ownerDocument,P.map(x,Ai),p=0;p<w;p++)gr.test((v=x[p]).type||"")&&!an.access(v,"globalEval")&&P.contains(f,v)&&(v.src&&"module"!==(v.type||"").toLowerCase()?P._evalUrl&&!v.noModule&&P._evalUrl(v.src,{nonce:v.nonce||v.getAttribute("nonce")},f):he(v.textContent.replace(Qn,""),v,f))}return S}function gi(S,k,re){for(var fe,L=k?P.filter(k,S):S,M=0;null!=(fe=L[M]);M++)re||1!==fe.nodeType||P.cleanData(Ui(fe)),fe.parentNode&&(re&&Pn(fe)&&Vi(Ui(fe,"script")),fe.parentNode.removeChild(fe));return S}P.extend({htmlPrefilter:function(S){return S},clone:function(S,k,re){var fe,L,M,x,w,v,f,p=S.cloneNode(!0),_=Pn(S);if(!(O.noCloneChecked||1!==S.nodeType&&11!==S.nodeType||P.isXMLDoc(S)))for(x=Ui(p),fe=0,L=(M=Ui(S)).length;fe<L;fe++)w=M[fe],"input"===(f=(v=x[fe]).nodeName.toLowerCase())&&nr.test(w.type)?v.checked=w.checked:"input"!==f&&"textarea"!==f||(v.defaultValue=w.defaultValue);if(k)if(re)for(M=M||Ui(S),x=x||Ui(p),fe=0,L=M.length;fe<L;fe++)hi(M[fe],x[fe]);else hi(S,p);return 0<(x=Ui(p,"script")).length&&Vi(x,!_&&Ui(S,"script")),p},cleanData:function(S){for(var k,re,fe,L=P.event.special,M=0;void 0!==(re=S[M]);M++)if(Ln(re)){if(k=re[an.expando]){if(k.events)for(fe in k.events)L[fe]?P.event.remove(re,fe):P.removeEvent(re,fe,k.handle);re[an.expando]=void 0}re[Wn.expando]&&(re[Wn.expando]=void 0)}}}),P.fn.extend({detach:function(S){return gi(this,S,!0)},remove:function(S){return gi(this,S)},text:function(S){return oi(this,function(k){return void 0===k?P.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=k)})},null,S,arguments.length)},append:function(){return Ci(this,arguments,function(S){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||bi(this,S).appendChild(S)})},prepend:function(){return Ci(this,arguments,function(S){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var k=bi(this,S);k.insertBefore(S,k.firstChild)}})},before:function(){return Ci(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this)})},after:function(){return Ci(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this.nextSibling)})},empty:function(){for(var S,k=0;null!=(S=this[k]);k++)1===S.nodeType&&(P.cleanData(Ui(S,!1)),S.textContent="");return this},clone:function(S,k){return S=null!=S&&S,k=k??S,this.map(function(){return P.clone(this,S,k)})},html:function(S){return oi(this,function(k){var re=this[0]||{},fe=0,L=this.length;if(void 0===k&&1===re.nodeType)return re.innerHTML;if("string"==typeof k&&!Un.test(k)&&!Fi[(Mi.exec(k)||["",""])[1].toLowerCase()]){k=P.htmlPrefilter(k);try{for(;fe<L;fe++)1===(re=this[fe]||{}).nodeType&&(P.cleanData(Ui(re,!1)),re.innerHTML=k);re=0}catch{}}re&&this.empty().append(k)},null,S,arguments.length)},replaceWith:function(){var S=[];return Ci(this,arguments,function(k){var re=this.parentNode;P.inArray(this,S)<0&&(P.cleanData(Ui(this)),re&&re.replaceChild(k,this))},S)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(S,k){P.fn[S]=function(re){for(var fe,L=[],M=P(re),x=M.length-1,w=0;w<=x;w++)fe=w===x?this:this.clone(!0),P(M[w])[k](fe),ge.apply(L,fe.get());return this.pushStack(L)}});var mi=new RegExp("^("+Yt+")(?!px)[a-z%]+$","i"),Li=/^--/,Ki=function(S){var k=S.ownerDocument.defaultView;return k&&k.opener||(k=be),k.getComputedStyle(S)},ar=function(S,k,re){var fe,L,M={};for(L in k)M[L]=S.style[L],S.style[L]=k[L];for(L in fe=re.call(S),k)S.style[L]=M[L];return fe},Fr=new RegExp(Tn.join("|"),"i");function Sr(S,k,re){var fe,L,M,x,w=Li.test(k),v=S.style;return(re=re||Ki(S))&&(x=re.getPropertyValue(k)||re[k],w&&x&&(x=x.replace(je,"$1")||void 0),""!==x||Pn(S)||(x=P.style(S,k)),!O.pixelBoxStyles()&&mi.test(x)&&Fr.test(k)&&(fe=v.width,L=v.minWidth,M=v.maxWidth,v.minWidth=v.maxWidth=v.width=x,x=re.width,v.width=fe,v.minWidth=L,v.maxWidth=M)),void 0!==x?x+"":x}function Ur(S,k){return{get:function(){if(!S())return(this.get=k).apply(this,arguments);delete this.get}}}!function(){function S(){if(f){v.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",f.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",jn.appendChild(v).appendChild(f);var p=be.getComputedStyle(f);re="1%"!==p.top,w=12===k(p.marginLeft),f.style.right="60%",M=36===k(p.right),fe=36===k(p.width),f.style.position="absolute",L=12===k(f.offsetWidth/3),jn.removeChild(v),f=null}}function k(p){return Math.round(parseFloat(p))}var re,fe,L,M,x,w,v=de.createElement("div"),f=de.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",O.clearCloneStyle="content-box"===f.style.backgroundClip,P.extend(O,{boxSizingReliable:function(){return S(),fe},pixelBoxStyles:function(){return S(),M},pixelPosition:function(){return S(),re},reliableMarginLeft:function(){return S(),w},scrollboxSize:function(){return S(),L},reliableTrDimensions:function(){var p,_,C,I;return null==x&&(p=de.createElement("table"),_=de.createElement("tr"),C=de.createElement("div"),p.style.cssText="position:absolute;left:-11111px;border-collapse:separate",_.style.cssText="box-sizing:content-box;border:1px solid",_.style.height="1px",C.style.height="9px",C.style.display="block",jn.appendChild(p).appendChild(_).appendChild(C),I=be.getComputedStyle(_),x=parseInt(I.height,10)+parseInt(I.borderTopWidth,10)+parseInt(I.borderBottomWidth,10)===_.offsetHeight,jn.removeChild(p)),x}}))}();var zi=["Webkit","Moz","ms"],Xr=de.createElement("div").style,ro={};function oo(S){return P.cssProps[S]||ro[S]||(S in Xr?S:ro[S]=function(re){for(var fe=re[0].toUpperCase()+re.slice(1),L=zi.length;L--;)if((re=zi[L]+fe)in Xr)return re}(S)||S)}var So=/^(none|table(?!-c[ea]).+)/,Ho={position:"absolute",visibility:"hidden",display:"block"},Er={letterSpacing:"0",fontWeight:"400"};function ra(S,k,re){var fe=fn.exec(k);return fe?Math.max(0,fe[2]-(re||0))+(fe[3]||"px"):k}function vo(S,k,re,fe,L,M){var x="width"===k?1:0,w=0,v=0,f=0;if(re===(fe?"border":"content"))return 0;for(;x<4;x+=2)"margin"===re&&(f+=P.css(S,re+Tn[x],!0,L)),fe?("content"===re&&(v-=P.css(S,"padding"+Tn[x],!0,L)),"margin"!==re&&(v-=P.css(S,"border"+Tn[x]+"Width",!0,L))):(v+=P.css(S,"padding"+Tn[x],!0,L),"padding"!==re?v+=P.css(S,"border"+Tn[x]+"Width",!0,L):w+=P.css(S,"border"+Tn[x]+"Width",!0,L));return!fe&&0<=M&&(v+=Math.max(0,Math.ceil(S["offset"+k[0].toUpperCase()+k.slice(1)]-M-v-w-.5))||0),v+f}function Dr(S,k,re){var fe=Ki(S),L=(!O.boxSizingReliable()||re)&&"border-box"===P.css(S,"boxSizing",!1,fe),M=L,x=Sr(S,k,fe),w="offset"+k[0].toUpperCase()+k.slice(1);if(mi.test(x)){if(!re)return x;x="auto"}return(!O.boxSizingReliable()&&L||!O.reliableTrDimensions()&&xe(S,"tr")||"auto"===x||!parseFloat(x)&&"inline"===P.css(S,"display",!1,fe))&&S.getClientRects().length&&(L="border-box"===P.css(S,"boxSizing",!1,fe),(M=w in S)&&(x=S[w])),(x=parseFloat(x)||0)+vo(S,k,re||(L?"border":"content"),M,fe,x)+"px"}function yr(S,k,re,fe,L){return new yr.prototype.init(S,k,re,fe,L)}P.extend({cssHooks:{opacity:{get:function(S,k){if(k){var re=Sr(S,"opacity");return""===re?"1":re}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(S,k,re,fe){if(S&&3!==S.nodeType&&8!==S.nodeType&&S.style){var L,M,x,w=gn(k),v=Li.test(k),f=S.style;if(v||(k=oo(w)),x=P.cssHooks[k]||P.cssHooks[w],void 0===re)return x&&"get"in x&&void 0!==(L=x.get(S,!1,fe))?L:f[k];"string"==(M=typeof re)&&(L=fn.exec(re))&&L[1]&&(re=$n(S,k,L),M="number"),null!=re&&re==re&&("number"!==M||v||(re+=L&&L[3]||(P.cssNumber[w]?"":"px")),O.clearCloneStyle||""!==re||0!==k.indexOf("background")||(f[k]="inherit"),x&&"set"in x&&void 0===(re=x.set(S,re,fe))||(v?f.setProperty(k,re):f[k]=re))}},css:function(S,k,re,fe){var L,M,x,w=gn(k);return Li.test(k)||(k=oo(w)),(x=P.cssHooks[k]||P.cssHooks[w])&&"get"in x&&(L=x.get(S,!0,re)),void 0===L&&(L=Sr(S,k,fe)),"normal"===L&&k in Er&&(L=Er[k]),""===re||re?(M=parseFloat(L),!0===re||isFinite(M)?M||0:L):L}}),P.each(["height","width"],function(S,k){P.cssHooks[k]={get:function(re,fe,L){if(fe)return!So.test(P.css(re,"display"))||re.getClientRects().length&&re.getBoundingClientRect().width?Dr(re,k,L):ar(re,Ho,function(){return Dr(re,k,L)})},set:function(re,fe,L){var M,x=Ki(re),w=!O.scrollboxSize()&&"absolute"===x.position,v=(w||L)&&"border-box"===P.css(re,"boxSizing",!1,x),f=L?vo(re,k,L,v,x):0;return v&&w&&(f-=Math.ceil(re["offset"+k[0].toUpperCase()+k.slice(1)]-parseFloat(x[k])-vo(re,k,"border",!1,x)-.5)),f&&(M=fn.exec(fe))&&"px"!==(M[3]||"px")&&(re.style[k]=fe,fe=P.css(re,k)),ra(0,fe,f)}}}),P.cssHooks.marginLeft=Ur(O.reliableMarginLeft,function(S,k){if(k)return(parseFloat(Sr(S,"marginLeft"))||S.getBoundingClientRect().left-ar(S,{marginLeft:0},function(){return S.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(S,k){P.cssHooks[S+k]={expand:function(re){for(var fe=0,L={},M="string"==typeof re?re.split(" "):[re];fe<4;fe++)L[S+Tn[fe]+k]=M[fe]||M[fe-2]||M[0];return L}},"margin"!==S&&(P.cssHooks[S+k].set=ra)}),P.fn.extend({css:function(S,k){return oi(this,function(re,fe,L){var M,x,w={},v=0;if(Array.isArray(fe)){for(M=Ki(re),x=fe.length;v<x;v++)w[fe[v]]=P.css(re,fe[v],!1,M);return w}return void 0!==L?P.style(re,fe,L):P.css(re,fe)},S,k,1<arguments.length)}}),((P.Tween=yr).prototype={constructor:yr,init:function(S,k,re,fe,L,M){this.elem=S,this.prop=re,this.easing=L||P.easing._default,this.options=k,this.start=this.now=this.cur(),this.end=fe,this.unit=M||(P.cssNumber[re]?"":"px")},cur:function(){var S=yr.propHooks[this.prop];return S&&S.get?S.get(this):yr.propHooks._default.get(this)},run:function(S){var k,re=yr.propHooks[this.prop];return this.pos=k=this.options.duration?P.easing[this.easing](S,this.options.duration*S,0,1,this.options.duration):S,this.now=(this.end-this.start)*k+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),re&&re.set?re.set(this):yr.propHooks._default.set(this),this}}).init.prototype=yr.prototype,(yr.propHooks={_default:{get:function(S){var k;return 1!==S.elem.nodeType||null!=S.elem[S.prop]&&null==S.elem.style[S.prop]?S.elem[S.prop]:(k=P.css(S.elem,S.prop,""))&&"auto"!==k?k:0},set:function(S){P.fx.step[S.prop]?P.fx.step[S.prop](S):1!==S.elem.nodeType||!P.cssHooks[S.prop]&&null==S.elem.style[oo(S.prop)]?S.elem[S.prop]=S.now:P.style(S.elem,S.prop,S.now+S.unit)}}}).scrollTop=yr.propHooks.scrollLeft={set:function(S){S.elem.nodeType&&S.elem.parentNode&&(S.elem[S.prop]=S.now)}},P.easing={linear:function(S){return S},swing:function(S){return.5-Math.cos(S*Math.PI)/2},_default:"swing"},P.fx=yr.prototype.init,P.fx.step={};var Hr,hr,Ji,xr,Co=/^(?:toggle|show|hide)$/,Qi=/queueHooks$/;function Bi(){hr&&(!1===de.hidden&&be.requestAnimationFrame?be.requestAnimationFrame(Bi):be.setTimeout(Bi,P.fx.interval),P.fx.tick())}function Gr(){return be.setTimeout(function(){Hr=void 0}),Hr=Date.now()}function Vr(S,k){var re,fe=0,L={height:S};for(k=k?1:0;fe<4;fe+=2-k)L["margin"+(re=Tn[fe])]=L["padding"+re]=S;return k&&(L.opacity=L.width=S),L}function $i(S,k,re){for(var fe,L=(sr.tweeners[k]||[]).concat(sr.tweeners["*"]),M=0,x=L.length;M<x;M++)if(fe=L[M].call(re,k,S))return fe}function sr(S,k,re){var fe,L,M=0,x=sr.prefilters.length,w=P.Deferred().always(function(){delete v.elem}),v=function(){if(L)return!1;for(var _=Hr||Gr(),C=Math.max(0,f.startTime+f.duration-_),I=1-(C/f.duration||0),N=0,z=f.tweens.length;N<z;N++)f.tweens[N].run(I);return w.notifyWith(S,[f,I,C]),I<1&&z?C:(z||w.notifyWith(S,[f,1,0]),w.resolveWith(S,[f]),!1)},f=w.promise({elem:S,props:P.extend({},k),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},re),originalProperties:k,originalOptions:re,startTime:Hr||Gr(),duration:re.duration,tweens:[],createTween:function(_,C){var I=P.Tween(S,f.opts,_,C,f.opts.specialEasing[_]||f.opts.easing);return f.tweens.push(I),I},stop:function(_){var C=0,I=_?f.tweens.length:0;if(L)return this;for(L=!0;C<I;C++)f.tweens[C].run(1);return _?(w.notifyWith(S,[f,1,0]),w.resolveWith(S,[f,_])):w.rejectWith(S,[f,_]),this}}),p=f.props;for(function(_,C){var I,N,z,V,Y;for(I in _)if(z=C[N=gn(I)],V=_[I],Array.isArray(V)&&(z=V[1],V=_[I]=V[0]),I!==N&&(_[N]=V,delete _[I]),(Y=P.cssHooks[N])&&"expand"in Y)for(I in V=Y.expand(V),delete _[N],V)I in _||(_[I]=V[I],C[I]=z);else C[N]=z}(p,f.opts.specialEasing);M<x;M++)if(fe=sr.prefilters[M].call(f,S,p,f.opts))return B(fe.stop)&&(P._queueHooks(f.elem,f.opts.queue).stop=fe.stop.bind(fe)),fe;return P.map(p,$i,f),B(f.opts.start)&&f.opts.start.call(S,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),P.fx.timer(P.extend(v,{elem:S,anim:f,queue:f.opts.queue})),f}P.Animation=P.extend(sr,{tweeners:{"*":[function(S,k){var re=this.createTween(S,k);return $n(re.elem,S,fn.exec(k),re),re}]},tweener:function(S,k){B(S)?(k=S,S=["*"]):S=S.match(Nn);for(var re,fe=0,L=S.length;fe<L;fe++)(sr.tweeners[re=S[fe]]=sr.tweeners[re]||[]).unshift(k)},prefilters:[function(S,k,re){var fe,L,M,x,w,v,f,p,_="width"in k||"height"in k,C=this,I={},N=S.style,z=S.nodeType&&qn(S),V=an.get(S,"fxshow");for(fe in re.queue||(null==(x=P._queueHooks(S,"fx")).unqueued&&(x.unqueued=0,w=x.empty.fire,x.empty.fire=function(){x.unqueued||w()}),x.unqueued++,C.always(function(){C.always(function(){x.unqueued--,P.queue(S,"fx").length||x.empty.fire()})})),k)if(Co.test(L=k[fe])){if(delete k[fe],M=M||"toggle"===L,L===(z?"hide":"show")){if("show"!==L||!V||void 0===V[fe])continue;z=!0}I[fe]=V&&V[fe]||P.style(S,fe)}if((v=!P.isEmptyObject(k))||!P.isEmptyObject(I))for(fe in _&&1===S.nodeType&&(re.overflow=[N.overflow,N.overflowX,N.overflowY],null==(f=V&&V.display)&&(f=an.get(S,"display")),"none"===(p=P.css(S,"display"))&&(f?p=f:(di([S],!0),f=S.style.display||f,p=P.css(S,"display"),di([S]))),("inline"===p||"inline-block"===p&&null!=f)&&"none"===P.css(S,"float")&&(v||(C.done(function(){N.display=f}),null==f&&(f="none"===(p=N.display)?"":p)),N.display="inline-block")),re.overflow&&(N.overflow="hidden",C.always(function(){N.overflow=re.overflow[0],N.overflowX=re.overflow[1],N.overflowY=re.overflow[2]})),v=!1,I)v||(V?"hidden"in V&&(z=V.hidden):V=an.access(S,"fxshow",{display:f}),M&&(V.hidden=!z),z&&di([S],!0),C.done(function(){for(fe in z||di([S]),an.remove(S,"fxshow"),I)P.style(S,fe,I[fe])})),v=$i(z?V[fe]:0,fe,C),fe in V||(V[fe]=v.start,z&&(v.end=v.start,v.start=0))}],prefilter:function(S,k){k?sr.prefilters.unshift(S):sr.prefilters.push(S)}}),P.speed=function(S,k,re){var fe=S&&"object"==typeof S?P.extend({},S):{complete:re||!re&&k||B(S)&&S,duration:S,easing:re&&k||k&&!B(k)&&k};return P.fx.off?fe.duration=0:"number"!=typeof fe.duration&&(fe.duration=fe.duration in P.fx.speeds?P.fx.speeds[fe.duration]:P.fx.speeds._default),null!=fe.queue&&!0!==fe.queue||(fe.queue="fx"),fe.old=fe.complete,fe.complete=function(){B(fe.old)&&fe.old.call(this),fe.queue&&P.dequeue(this,fe.queue)},fe},P.fn.extend({fadeTo:function(S,k,re,fe){return this.filter(qn).css("opacity",0).show().end().animate({opacity:k},S,re,fe)},animate:function(S,k,re,fe){var L=P.isEmptyObject(S),M=P.speed(k,re,fe),x=function(){var w=sr(this,P.extend({},S),M);(L||an.get(this,"finish"))&&w.stop(!0)};return x.finish=x,L||!1===M.queue?this.each(x):this.queue(M.queue,x)},stop:function(S,k,re){var fe=function(L){var M=L.stop;delete L.stop,M(re)};return"string"!=typeof S&&(re=k,k=S,S=void 0),k&&this.queue(S||"fx",[]),this.each(function(){var L=!0,M=null!=S&&S+"queueHooks",x=P.timers,w=an.get(this);if(M)w[M]&&w[M].stop&&fe(w[M]);else for(M in w)w[M]&&w[M].stop&&Qi.test(M)&&fe(w[M]);for(M=x.length;M--;)x[M].elem!==this||null!=S&&x[M].queue!==S||(x[M].anim.stop(re),L=!1,x.splice(M,1));!L&&re||P.dequeue(this,S)})},finish:function(S){return!1!==S&&(S=S||"fx"),this.each(function(){var k,re=an.get(this),fe=re[S+"queue"],L=re[S+"queueHooks"],M=P.timers,x=fe?fe.length:0;for(re.finish=!0,P.queue(this,S,[]),L&&L.stop&&L.stop.call(this,!0),k=M.length;k--;)M[k].elem===this&&M[k].queue===S&&(M[k].anim.stop(!0),M.splice(k,1));for(k=0;k<x;k++)fe[k]&&fe[k].finish&&fe[k].finish.call(this);delete re.finish})}}),P.each(["toggle","show","hide"],function(S,k){var re=P.fn[k];P.fn[k]=function(fe,L,M){return null==fe||"boolean"==typeof fe?re.apply(this,arguments):this.animate(Vr(k,!0),fe,L,M)}}),P.each({slideDown:Vr("show"),slideUp:Vr("hide"),slideToggle:Vr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(S,k){P.fn[S]=function(re,fe,L){return this.animate(k,re,fe,L)}}),P.timers=[],P.fx.tick=function(){var S,k=0,re=P.timers;for(Hr=Date.now();k<re.length;k++)(S=re[k])()||re[k]!==S||re.splice(k--,1);re.length||P.fx.stop(),Hr=void 0},P.fx.timer=function(S){P.timers.push(S),P.fx.start()},P.fx.interval=13,P.fx.start=function(){hr||(hr=!0,Bi())},P.fx.stop=function(){hr=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(S,k){return S=P.fx&&P.fx.speeds[S]||S,this.queue(k=k||"fx",function(re,fe){var L=be.setTimeout(re,S);fe.stop=function(){be.clearTimeout(L)}})},Ji=de.createElement("input"),xr=de.createElement("select").appendChild(de.createElement("option")),Ji.type="checkbox",O.checkOn=""!==Ji.value,O.optSelected=xr.selected,(Ji=de.createElement("input")).value="t",Ji.type="radio",O.radioValue="t"===Ji.value;var br,or=P.expr.attrHandle;P.fn.extend({attr:function(S,k){return oi(this,P.attr,S,k,1<arguments.length)},removeAttr:function(S){return this.each(function(){P.removeAttr(this,S)})}}),P.extend({attr:function(S,k,re){var fe,L,M=S.nodeType;if(3!==M&&8!==M&&2!==M)return typeof S.getAttribute>"u"?P.prop(S,k,re):(1===M&&P.isXMLDoc(S)||(L=P.attrHooks[k.toLowerCase()]||(P.expr.match.bool.test(k)?br:void 0)),void 0!==re?null===re?void P.removeAttr(S,k):L&&"set"in L&&void 0!==(fe=L.set(S,re,k))?fe:(S.setAttribute(k,re+""),re):L&&"get"in L&&null!==(fe=L.get(S,k))?fe:null==(fe=P.find.attr(S,k))?void 0:fe)},attrHooks:{type:{set:function(S,k){if(!O.radioValue&&"radio"===k&&xe(S,"input")){var re=S.value;return S.setAttribute("type",k),re&&(S.value=re),k}}}},removeAttr:function(S,k){var re,fe=0,L=k&&k.match(Nn);if(L&&1===S.nodeType)for(;re=L[fe++];)S.removeAttribute(re)}}),br={set:function(S,k,re){return!1===k?P.removeAttr(S,re):S.setAttribute(re,re),re}},P.each(P.expr.match.bool.source.match(/\w+/g),function(S,k){var re=or[k]||P.find.attr;or[k]=function(fe,L,M){var x,w,v=L.toLowerCase();return M||(w=or[v],or[v]=x,x=null!=re(fe,L,M)?v:null,or[v]=w),x}});var To=/^(?:input|select|textarea|button)$/i,Eo=/^(?:a|area)$/i;function Zr(S){return(S.match(Nn)||[]).join(" ")}function lo(S){return S.getAttribute&&S.getAttribute("class")||""}function Vo(S){return Array.isArray(S)?S:"string"==typeof S&&S.match(Nn)||[]}P.fn.extend({prop:function(S,k){return oi(this,P.prop,S,k,1<arguments.length)},removeProp:function(S){return this.each(function(){delete this[P.propFix[S]||S]})}}),P.extend({prop:function(S,k,re){var fe,L,M=S.nodeType;if(3!==M&&8!==M&&2!==M)return 1===M&&P.isXMLDoc(S)||(L=P.propHooks[k=P.propFix[k]||k]),void 0!==re?L&&"set"in L&&void 0!==(fe=L.set(S,re,k))?fe:S[k]=re:L&&"get"in L&&null!==(fe=L.get(S,k))?fe:S[k]},propHooks:{tabIndex:{get:function(S){var k=P.find.attr(S,"tabindex");return k?parseInt(k,10):To.test(S.nodeName)||Eo.test(S.nodeName)&&S.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),O.optSelected||(P.propHooks.selected={get:function(S){return null},set:function(S){}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this}),P.fn.extend({addClass:function(S){var k,re,fe,L,M,x;return B(S)?this.each(function(w){P(this).addClass(S.call(this,w,lo(this)))}):(k=Vo(S)).length?this.each(function(){if(fe=lo(this),re=1===this.nodeType&&" "+Zr(fe)+" "){for(M=0;M<k.length;M++)re.indexOf(" "+(L=k[M])+" ")<0&&(re+=L+" ");x=Zr(re),fe!==x&&this.setAttribute("class",x)}}):this},removeClass:function(S){var k,re,fe,L,M,x;return B(S)?this.each(function(w){P(this).removeClass(S.call(this,w,lo(this)))}):arguments.length?(k=Vo(S)).length?this.each(function(){if(fe=lo(this),re=1===this.nodeType&&" "+Zr(fe)+" "){for(M=0;M<k.length;M++)for(L=k[M];-1<re.indexOf(" "+L+" ");)re=re.replace(" "+L+" "," ");x=Zr(re),fe!==x&&this.setAttribute("class",x)}}):this:this.attr("class","")},toggleClass:function(S,k){var re,fe,L,M,x=typeof S,w="string"===x||Array.isArray(S);return B(S)?this.each(function(v){P(this).toggleClass(S.call(this,v,lo(this),k),k)}):"boolean"==typeof k&&w?k?this.addClass(S):this.removeClass(S):(re=Vo(S),this.each(function(){if(w)for(M=P(this),L=0;L<re.length;L++)M.hasClass(fe=re[L])?M.removeClass(fe):M.addClass(fe);else void 0!==S&&"boolean"!==x||((fe=lo(this))&&an.set(this,"__className__",fe),this.setAttribute&&this.setAttribute("class",fe||!1===S?"":an.get(this,"__className__")||""))}))},hasClass:function(S){var k,re,fe=0;for(k=" "+S+" ";re=this[fe++];)if(1===re.nodeType&&-1<(" "+Zr(lo(re))+" ").indexOf(k))return!0;return!1}});var No=/\r/g;P.fn.extend({val:function(S){var k,re,fe,L=this[0];return arguments.length?(fe=B(S),this.each(function(M){var x;1===this.nodeType&&(null==(x=fe?S.call(this,M,P(this).val()):S)?x="":"number"==typeof x?x+="":Array.isArray(x)&&(x=P.map(x,function(w){return null==w?"":w+""})),(k=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in k&&void 0!==k.set(this,x,"value")||(this.value=x))})):L?(k=P.valHooks[L.type]||P.valHooks[L.nodeName.toLowerCase()])&&"get"in k&&void 0!==(re=k.get(L,"value"))?re:"string"==typeof(re=L.value)?re.replace(No,""):re??"":void 0}}),P.extend({valHooks:{option:{get:function(S){return P.find.attr(S,"value")??Zr(P.text(S))}},select:{get:function(S){var k,re,fe,L=S.options,M=S.selectedIndex,x="select-one"===S.type,w=x?null:[],v=x?M+1:L.length;for(fe=M<0?v:x?M:0;fe<v;fe++)if(((re=L[fe]).selected||fe===M)&&!re.disabled&&(!re.parentNode.disabled||!xe(re.parentNode,"optgroup"))){if(k=P(re).val(),x)return k;w.push(k)}return w},set:function(S,k){for(var re,fe,L=S.options,M=P.makeArray(k),x=L.length;x--;)((fe=L[x]).selected=-1<P.inArray(P.valHooks.option.get(fe),M))&&(re=!0);return re||(S.selectedIndex=-1),M}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(S,k){if(Array.isArray(k))return S.checked=-1<P.inArray(P(S).val(),k)}},O.checkOn||(P.valHooks[this].get=function(S){return null===S.getAttribute("value")?"on":S.value})});var ir=be.location,Oi={guid:Date.now()},Kr=/\?/;P.parseXML=function(S){var k,re;if(!S||"string"!=typeof S)return null;try{k=(new be.DOMParser).parseFromString(S,"text/xml")}catch{}return re=k&&k.getElementsByTagName("parsererror")[0],k&&!re||P.error("Invalid XML: "+(re?P.map(re.childNodes,function(fe){return fe.textContent}).join("\n"):S)),k};var uo=/^(?:focusinfocus|focusoutblur)$/,Nr=function(S){S.stopPropagation()};P.extend(P.event,{trigger:function(S,k,re,fe){var L,M,x,w,v,f,p,_,C=[re||de],I=j.call(S,"type")?S.type:S,N=j.call(S,"namespace")?S.namespace.split("."):[];if(M=_=x=re=re||de,3!==re.nodeType&&8!==re.nodeType&&!uo.test(I+P.event.triggered)&&(-1<I.indexOf(".")&&(I=(N=I.split(".")).shift(),N.sort()),v=I.indexOf(":")<0&&"on"+I,(S=S[P.expando]?S:new P.Event(I,"object"==typeof S&&S)).isTrigger=fe?2:3,S.namespace=N.join("."),S.rnamespace=S.namespace?new RegExp("(^|\\.)"+N.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,S.result=void 0,S.target||(S.target=re),k=null==k?[S]:P.makeArray(k,[S]),p=P.event.special[I]||{},fe||!p.trigger||!1!==p.trigger.apply(re,k))){if(!fe&&!p.noBubble&&!K(re)){for(uo.test((w=p.delegateType||I)+I)||(M=M.parentNode);M;M=M.parentNode)C.push(M),x=M;x===(re.ownerDocument||de)&&C.push(x.defaultView||x.parentWindow||be)}for(L=0;(M=C[L++])&&!S.isPropagationStopped();)_=M,S.type=1<L?w:p.bindType||I,(f=(an.get(M,"events")||Object.create(null))[S.type]&&an.get(M,"handle"))&&f.apply(M,k),(f=v&&M[v])&&f.apply&&Ln(M)&&(S.result=f.apply(M,k),!1===S.result&&S.preventDefault());return S.type=I,fe||S.isDefaultPrevented()||p._default&&!1!==p._default.apply(C.pop(),k)||!Ln(re)||v&&B(re[I])&&!K(re)&&((x=re[v])&&(re[v]=null),P.event.triggered=I,S.isPropagationStopped()&&_.addEventListener(I,Nr),re[I](),S.isPropagationStopped()&&_.removeEventListener(I,Nr),P.event.triggered=void 0,x&&(re[v]=x)),S.result}},simulate:function(S,k,re){var fe=P.extend(new P.Event,re,{type:S,isSimulated:!0});P.event.trigger(fe,null,k)}}),P.fn.extend({trigger:function(S,k){return this.each(function(){P.event.trigger(S,k,this)})},triggerHandler:function(S,k){var re=this[0];if(re)return P.event.trigger(S,k,re,!0)}});var qr=/\[\]$/,co=/\r?\n/g,Wo=/^(?:submit|button|image|reset|file)$/i,oa=/^(?:input|select|textarea|keygen)/i;function Lr(S,k,re,fe){var L;if(Array.isArray(k))P.each(k,function(M,x){re||qr.test(S)?fe(S,x):Lr(S+"["+("object"==typeof x&&null!=x?M:"")+"]",x,re,fe)});else if(re||"object"!==De(k))fe(S,k);else for(L in k)Lr(S+"["+L+"]",k[L],re,fe)}P.param=function(S,k){var re,fe=[],L=function(M,x){var w=B(x)?x():x;fe[fe.length]=encodeURIComponent(M)+"="+encodeURIComponent(w??"")};if(null==S)return"";if(Array.isArray(S)||S.jquery&&!P.isPlainObject(S))P.each(S,function(){L(this.name,this.value)});else for(re in S)Lr(re,S[re],k,L);return fe.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var S=P.prop(this,"elements");return S?P.makeArray(S):this}).filter(function(){var S=this.type;return this.name&&!P(this).is(":disabled")&&oa.test(this.nodeName)&&!Wo.test(S)&&(this.checked||!nr.test(S))}).map(function(S,k){var re=P(this).val();return null==re?null:Array.isArray(re)?P.map(re,function(fe){return{name:k.name,value:fe.replace(co,"\r\n")}}):{name:k.name,value:re.replace(co,"\r\n")}}).get()}});var Wr=/%20/g,Do=/#.*$/,Jr=/([?&])_=[^&]*/,Ar=/^(.*?):[ \t]*([^\r\n]*)$/gm,yo=/^(?:GET|HEAD)$/,mr=/^\/\//,ho={},qo={},bo="*/".concat("*"),Mr=de.createElement("a");function xo(S){return function(k,re){"string"!=typeof k&&(re=k,k="*");var fe,L=0,M=k.toLowerCase().match(Nn)||[];if(B(re))for(;fe=M[L++];)"+"===fe[0]?(fe=fe.slice(1)||"*",(S[fe]=S[fe]||[]).unshift(re)):(S[fe]=S[fe]||[]).push(re)}}function Yo(S,k,re,fe){var L={},M=S===qo;function x(w){var v;return L[w]=!0,P.each(S[w]||[],function(f,p){var _=p(k,re,fe);return"string"!=typeof _||M||L[_]?M?!(v=_):void 0:(k.dataTypes.unshift(_),x(_),!1)}),v}return x(k.dataTypes[0])||!L["*"]&&x("*")}function D(S,k){var re,fe,L=P.ajaxSettings.flatOptions||{};for(re in k)void 0!==k[re]&&((L[re]?S:fe||(fe={}))[re]=k[re]);return fe&&P.extend(!0,S,fe),S}Mr.href=ir.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ir.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ir.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(S,k){return k?D(D(S,P.ajaxSettings),k):D(P.ajaxSettings,S)},ajaxPrefilter:xo(ho),ajaxTransport:xo(qo),ajax:function(S,k){"object"==typeof S&&(k=S,S=void 0);var re,fe,L,M,x,w,v,f,p,_,C=P.ajaxSetup({},k=k||{}),I=C.context||C,N=C.context&&(I.nodeType||I.jquery)?P(I):P.event,z=P.Deferred(),V=P.Callbacks("once memory"),Y=C.statusCode||{},U={},ne={},X="canceled",le={readyState:0,getResponseHeader:function(W){var F;if(v){if(!M)for(M={};F=Ar.exec(L);)M[F[1].toLowerCase()+" "]=(M[F[1].toLowerCase()+" "]||[]).concat(F[2]);F=M[W.toLowerCase()+" "]}return null==F?null:F.join(", ")},getAllResponseHeaders:function(){return v?L:null},setRequestHeader:function(W,F){return null==v&&(W=ne[W.toLowerCase()]=ne[W.toLowerCase()]||W,U[W]=F),this},overrideMimeType:function(W){return null==v&&(C.mimeType=W),this},statusCode:function(W){var F;if(W)if(v)le.always(W[le.status]);else for(F in W)Y[F]=[Y[F],W[F]];return this},abort:function(W){var F=W||X;return re&&re.abort(F),G(0,F),this}};if(z.promise(le),C.url=((S||C.url||ir.href)+"").replace(mr,ir.protocol+"//"),C.type=k.method||k.type||C.method||C.type,C.dataTypes=(C.dataType||"*").toLowerCase().match(Nn)||[""],null==C.crossDomain){w=de.createElement("a");try{w.href=C.url,w.href=w.href,C.crossDomain=Mr.protocol+"//"+Mr.host!=w.protocol+"//"+w.host}catch{C.crossDomain=!0}}if(C.data&&C.processData&&"string"!=typeof C.data&&(C.data=P.param(C.data,C.traditional)),Yo(ho,C,k,le),v)return le;for(p in(f=P.event&&C.global)&&0==P.active++&&P.event.trigger("ajaxStart"),C.type=C.type.toUpperCase(),C.hasContent=!yo.test(C.type),fe=C.url.replace(Do,""),C.hasContent?C.data&&C.processData&&0===(C.contentType||"").indexOf("application/x-www-form-urlencoded")&&(C.data=C.data.replace(Wr,"+")):(_=C.url.slice(fe.length),C.data&&(C.processData||"string"==typeof C.data)&&(fe+=(Kr.test(fe)?"&":"?")+C.data,delete C.data),!1===C.cache&&(fe=fe.replace(Jr,"$1"),_=(Kr.test(fe)?"&":"?")+"_="+Oi.guid+++_),C.url=fe+_),C.ifModified&&(P.lastModified[fe]&&le.setRequestHeader("If-Modified-Since",P.lastModified[fe]),P.etag[fe]&&le.setRequestHeader("If-None-Match",P.etag[fe])),(C.data&&C.hasContent&&!1!==C.contentType||k.contentType)&&le.setRequestHeader("Content-Type",C.contentType),le.setRequestHeader("Accept",C.dataTypes[0]&&C.accepts[C.dataTypes[0]]?C.accepts[C.dataTypes[0]]+("*"!==C.dataTypes[0]?", "+bo+"; q=0.01":""):C.accepts["*"]),C.headers)le.setRequestHeader(p,C.headers[p]);if(C.beforeSend&&(!1===C.beforeSend.call(I,le,C)||v))return le.abort();if(X="abort",V.add(C.complete),le.done(C.success),le.fail(C.error),re=Yo(qo,C,k,le)){if(le.readyState=1,f&&N.trigger("ajaxSend",[le,C]),v)return le;C.async&&0<C.timeout&&(x=be.setTimeout(function(){le.abort("timeout")},C.timeout));try{v=!1,re.send(U,G)}catch(W){if(v)throw W;G(-1,W)}}else G(-1,"No Transport");function G(W,F,A,E){var ie,pe,ae,Ce,Le,tt=F;v||(v=!0,x&&be.clearTimeout(x),re=void 0,L=E||"",le.readyState=0<W?4:0,ie=200<=W&&W<300||304===W,A&&(Ce=function(Ze,qe,$e){for(var Qe,st,nt,Ie,Fe=Ze.contents,et=Ze.dataTypes;"*"===et[0];)et.shift(),void 0===Qe&&(Qe=Ze.mimeType||qe.getResponseHeader("Content-Type"));if(Qe)for(st in Fe)if(Fe[st]&&Fe[st].test(Qe)){et.unshift(st);break}if(et[0]in $e)nt=et[0];else{for(st in $e){if(!et[0]||Ze.converters[st+" "+et[0]]){nt=st;break}Ie||(Ie=st)}nt=nt||Ie}if(nt)return nt!==et[0]&&et.unshift(nt),$e[nt]}(C,le,A)),!ie&&-1<P.inArray("script",C.dataTypes)&&P.inArray("json",C.dataTypes)<0&&(C.converters["text script"]=function(){}),Ce=function(Ze,qe,$e,Qe){var st,nt,Ie,Fe,et,ct={},xt=Ze.dataTypes.slice();if(xt[1])for(Ie in Ze.converters)ct[Ie.toLowerCase()]=Ze.converters[Ie];for(nt=xt.shift();nt;)if(Ze.responseFields[nt]&&($e[Ze.responseFields[nt]]=qe),!et&&Qe&&Ze.dataFilter&&(qe=Ze.dataFilter(qe,Ze.dataType)),et=nt,nt=xt.shift())if("*"===nt)nt=et;else if("*"!==et&&et!==nt){if(!(Ie=ct[et+" "+nt]||ct["* "+nt]))for(st in ct)if((Fe=st.split(" "))[1]===nt&&(Ie=ct[et+" "+Fe[0]]||ct["* "+Fe[0]])){!0===Ie?Ie=ct[st]:!0!==ct[st]&&(nt=Fe[0],xt.unshift(Fe[1]));break}if(!0!==Ie)if(Ie&&Ze.throws)qe=Ie(qe);else try{qe=Ie(qe)}catch(Wt){return{state:"parsererror",error:Ie?Wt:"No conversion from "+et+" to "+nt}}}return{state:"success",data:qe}}(C,Ce,le,ie),ie?(C.ifModified&&((Le=le.getResponseHeader("Last-Modified"))&&(P.lastModified[fe]=Le),(Le=le.getResponseHeader("etag"))&&(P.etag[fe]=Le)),204===W||"HEAD"===C.type?tt="nocontent":304===W?tt="notmodified":(tt=Ce.state,pe=Ce.data,ie=!(ae=Ce.error))):(ae=tt,!W&&tt||(tt="error",W<0&&(W=0))),le.status=W,le.statusText=(F||tt)+"",ie?z.resolveWith(I,[pe,tt,le]):z.rejectWith(I,[le,tt,ae]),le.statusCode(Y),Y=void 0,f&&N.trigger(ie?"ajaxSuccess":"ajaxError",[le,C,ie?pe:ae]),V.fireWith(I,[le,tt]),f&&(N.trigger("ajaxComplete",[le,C]),--P.active||P.event.trigger("ajaxStop")))}return le},getJSON:function(S,k,re){return P.get(S,k,re,"json")},getScript:function(S,k){return P.get(S,void 0,k,"script")}}),P.each(["get","post"],function(S,k){P[k]=function(re,fe,L,M){return B(fe)&&(M=M||L,L=fe,fe=void 0),P.ajax(P.extend({url:re,type:k,dataType:M,data:fe,success:L},P.isPlainObject(re)&&re))}}),P.ajaxPrefilter(function(S){var k;for(k in S.headers)"content-type"===k.toLowerCase()&&(S.contentType=S.headers[k]||"")}),P._evalUrl=function(S,k,re){return P.ajax({url:S,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(fe){P.globalEval(fe,k,re)}})},P.fn.extend({wrapAll:function(S){var k;return this[0]&&(B(S)&&(S=S.call(this[0])),k=P(S,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&k.insertBefore(this[0]),k.map(function(){for(var re=this;re.firstElementChild;)re=re.firstElementChild;return re}).append(this)),this},wrapInner:function(S){return B(S)?this.each(function(k){P(this).wrapInner(S.call(this,k))}):this.each(function(){var k=P(this),re=k.contents();re.length?re.wrapAll(S):k.append(S)})},wrap:function(S){var k=B(S);return this.each(function(re){P(this).wrapAll(k?S.call(this,re):S)})},unwrap:function(S){return this.parent(S).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(S){return!P.expr.pseudos.visible(S)},P.expr.pseudos.visible=function(S){return!!(S.offsetWidth||S.offsetHeight||S.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new be.XMLHttpRequest}catch{}};var te={0:200,1223:204},ye=P.ajaxSettings.xhr();O.cors=!!ye&&"withCredentials"in ye,O.ajax=ye=!!ye,P.ajaxTransport(function(S){var k,re;if(O.cors||ye&&!S.crossDomain)return{send:function(fe,L){var M,x=S.xhr();if(x.open(S.type,S.url,S.async,S.username,S.password),S.xhrFields)for(M in S.xhrFields)x[M]=S.xhrFields[M];for(M in S.mimeType&&x.overrideMimeType&&x.overrideMimeType(S.mimeType),S.crossDomain||fe["X-Requested-With"]||(fe["X-Requested-With"]="XMLHttpRequest"),fe)x.setRequestHeader(M,fe[M]);k=function(w){return function(){k&&(k=re=x.onload=x.onerror=x.onabort=x.ontimeout=x.onreadystatechange=null,"abort"===w?x.abort():"error"===w?"number"!=typeof x.status?L(0,"error"):L(x.status,x.statusText):L(te[x.status]||x.status,x.statusText,"text"!==(x.responseType||"text")||"string"!=typeof x.responseText?{binary:x.response}:{text:x.responseText},x.getAllResponseHeaders()))}},x.onload=k(),re=x.onerror=x.ontimeout=k("error"),void 0!==x.onabort?x.onabort=re:x.onreadystatechange=function(){4===x.readyState&&be.setTimeout(function(){k&&re()})},k=k("abort");try{x.send(S.hasContent&&S.data||null)}catch(w){if(k)throw w}},abort:function(){k&&k()}}}),P.ajaxPrefilter(function(S){S.crossDomain&&(S.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(S){return P.globalEval(S),S}}}),P.ajaxPrefilter("script",function(S){void 0===S.cache&&(S.cache=!1),S.crossDomain&&(S.type="GET")}),P.ajaxTransport("script",function(S){var k,re;if(S.crossDomain||S.scriptAttrs)return{send:function(fe,L){k=P("<script>").attr(S.scriptAttrs||{}).prop({charset:S.scriptCharset,src:S.url}).on("load error",re=function(M){k.remove(),re=null,M&&L("error"===M.type?404:200,M.type)}),de.head.appendChild(k[0])},abort:function(){re&&re()}}});var _e,Ee=[],Xe=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var S=Ee.pop()||P.expando+"_"+Oi.guid++;return this[S]=!0,S}}),P.ajaxPrefilter("json jsonp",function(S,k,re){var fe,L,M,x=!1!==S.jsonp&&(Xe.test(S.url)?"url":"string"==typeof S.data&&0===(S.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(S.data)&&"data");if(x||"jsonp"===S.dataTypes[0])return fe=S.jsonpCallback=B(S.jsonpCallback)?S.jsonpCallback():S.jsonpCallback,x?S[x]=S[x].replace(Xe,"$1"+fe):!1!==S.jsonp&&(S.url+=(Kr.test(S.url)?"&":"?")+S.jsonp+"="+fe),S.converters["script json"]=function(){return M||P.error(fe+" was not called"),M[0]},S.dataTypes[0]="json",L=be[fe],be[fe]=function(){M=arguments},re.always(function(){void 0===L?P(be).removeProp(fe):be[fe]=L,S[fe]&&(S.jsonpCallback=k.jsonpCallback,Ee.push(fe)),M&&B(L)&&L(M[0]),M=L=void 0}),"script"}),O.createHTMLDocument=((_e=de.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_e.childNodes.length),P.parseHTML=function(S,k,re){return"string"!=typeof S?[]:("boolean"==typeof k&&(re=k,k=!1),k||(O.createHTMLDocument?((fe=(k=de.implementation.createHTMLDocument("")).createElement("base")).href=de.location.href,k.head.appendChild(fe)):k=de),M=!re&&[],(L=Pt.exec(S))?[k.createElement(L[1])]:(L=pr([S],k,M),M&&M.length&&P(M).remove(),P.merge([],L.childNodes)));var fe,L,M},P.fn.load=function(S,k,re){var fe,L,M,x=this,w=S.indexOf(" ");return-1<w&&(fe=Zr(S.slice(w)),S=S.slice(0,w)),B(k)?(re=k,k=void 0):k&&"object"==typeof k&&(L="POST"),0<x.length&&P.ajax({url:S,type:L||"GET",dataType:"html",data:k}).done(function(v){M=arguments,x.html(fe?P("<div>").append(P.parseHTML(v)).find(fe):v)}).always(re&&function(v,f){x.each(function(){re.apply(this,M||[v.responseText,f,v])})}),this},P.expr.pseudos.animated=function(S){return P.grep(P.timers,function(k){return S===k.elem}).length},P.offset={setOffset:function(S,k,re){var fe,L,M,x,w,v,f=P.css(S,"position"),p=P(S),_={};"static"===f&&(S.style.position="relative"),w=p.offset(),M=P.css(S,"top"),v=P.css(S,"left"),("absolute"===f||"fixed"===f)&&-1<(M+v).indexOf("auto")?(x=(fe=p.position()).top,L=fe.left):(x=parseFloat(M)||0,L=parseFloat(v)||0),B(k)&&(k=k.call(S,re,P.extend({},w))),null!=k.top&&(_.top=k.top-w.top+x),null!=k.left&&(_.left=k.left-w.left+L),"using"in k?k.using.call(S,_):p.css(_)}},P.fn.extend({offset:function(S){if(arguments.length)return void 0===S?this:this.each(function(L){P.offset.setOffset(this,S,L)});var k,re,fe=this[0];return fe?fe.getClientRects().length?{top:(k=fe.getBoundingClientRect()).top+(re=fe.ownerDocument.defaultView).pageYOffset,left:k.left+re.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var S,k,re,fe=this[0],L={top:0,left:0};if("fixed"===P.css(fe,"position"))k=fe.getBoundingClientRect();else{for(k=this.offset(),re=fe.ownerDocument,S=fe.offsetParent||re.documentElement;S&&(S===re.body||S===re.documentElement)&&"static"===P.css(S,"position");)S=S.parentNode;S&&S!==fe&&1===S.nodeType&&((L=P(S).offset()).top+=P.css(S,"borderTopWidth",!0),L.left+=P.css(S,"borderLeftWidth",!0))}return{top:k.top-L.top-P.css(fe,"marginTop",!0),left:k.left-L.left-P.css(fe,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var S=this.offsetParent;S&&"static"===P.css(S,"position");)S=S.offsetParent;return S||jn})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(S,k){var re="pageYOffset"===k;P.fn[S]=function(fe){return oi(this,function(L,M,x){var w;if(K(L)?w=L:9===L.nodeType&&(w=L.defaultView),void 0===x)return w?w[k]:L[M];w?w.scrollTo(re?w.pageXOffset:x,re?x:w.pageYOffset):L[M]=x},S,fe,arguments.length)}}),P.each(["top","left"],function(S,k){P.cssHooks[k]=Ur(O.pixelPosition,function(re,fe){if(fe)return fe=Sr(re,k),mi.test(fe)?P(re).position()[k]+"px":fe})}),P.each({Height:"height",Width:"width"},function(S,k){P.each({padding:"inner"+S,content:k,"":"outer"+S},function(re,fe){P.fn[fe]=function(L,M){var x=arguments.length&&(re||"boolean"!=typeof L),w=re||(!0===L||!0===M?"margin":"border");return oi(this,function(v,f,p){var _;return K(v)?0===fe.indexOf("outer")?v["inner"+S]:v.document.documentElement["client"+S]:9===v.nodeType?(_=v.documentElement,Math.max(v.body["scroll"+S],_["scroll"+S],v.body["offset"+S],_["offset"+S],_["client"+S])):void 0===p?P.css(v,f,w):P.style(v,f,p,w)},k,x?L:void 0,x)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(S,k){P.fn[k]=function(re){return this.on(k,re)}}),P.fn.extend({bind:function(S,k,re){return this.on(S,null,k,re)},unbind:function(S,k){return this.off(S,null,k)},delegate:function(S,k,re,fe){return this.on(k,S,re,fe)},undelegate:function(S,k,re){return 1===arguments.length?this.off(S,"**"):this.off(k,S||"**",re)},hover:function(S,k){return this.on("mouseenter",S).on("mouseleave",k||S)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(S,k){P.fn[k]=function(re,fe){return 0<arguments.length?this.on(k,null,re,fe):this.trigger(k)}});var He=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(S,k){var re,fe,L;if("string"==typeof k&&(re=S[k],k=S,S=re),B(S))return fe=at.call(arguments,2),(L=function(){return S.apply(k||this,fe.concat(at.call(arguments)))}).guid=S.guid=S.guid||P.guid++,L},P.holdReady=function(S){S?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=xe,P.isFunction=B,P.isWindow=K,P.camelCase=gn,P.type=De,P.now=Date.now,P.isNumeric=function(S){var k=P.type(S);return("number"===k||"string"===k)&&!isNaN(S-parseFloat(S))},P.trim=function(S){return null==S?"":(S+"").replace(He,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return P});var Ge=be.jQuery,ft=be.$;return P.noConflict=function(S){return be.$===P&&(be.$=ft),S&&be.jQuery===P&&(be.jQuery=Ge),P},typeof Ae>"u"&&(be.jQuery=be.$=P),P}),function(be){"use strict";var Ae;"function"==typeof define&&define.amd?define(["jquery"],function(Sn){return be(Sn,window,document)}):"object"==typeof exports?(Ae=require("jquery"),typeof window>"u"?module.exports=function(Sn,ve){return Sn=Sn||window,ve=ve||Ae(Sn),be(ve,Sn,Sn.document)}:module.exports=be(Ae,window,window.document)):window.DataTable=be(jQuery,window,document)}(function(be,Ae,Sn,ve){"use strict";function at(D){var te=parseInt(D,10);return!isNaN(te)&&isFinite(D)?te:null}function ce(D,te,ye){var _e=typeof D,Ee="string"==_e;return"number"==_e||"bigint"==_e||!!Ye(D)||(te&&Ee&&(D=P(D,te)),ye&&Ee&&(D=D.replace(Ne,"")),!isNaN(parseFloat(D))&&isFinite(D))}function ge(D,te,ye){var _e;return!!Ye(D)||(Ye(_e=D)||"string"==typeof _e)&&!!ce(D.replace(me,"").replace(/<script/i,""),te,ye)||null}function Q(D,te,ye,_e){var Ee=[],Xe=0,He=te.length;if(_e!==ve)for(;Xe<He;Xe++)D[te[Xe]][ye]&&Ee.push(D[te[Xe]][ye][_e]);else for(;Xe<He;Xe++)Ee.push(D[te[Xe]][ye]);return Ee}function Z(D,te){var ye,_e=[];te===ve?(te=0,ye=D):(ye=te,te=D);for(var Ee=te;Ee<ye;Ee++)_e.push(Ee);return _e}function q(D){for(var te=[],ye=0,_e=D.length;ye<_e;ye++)D[ye]&&te.push(D[ye]);return te}function j(D,te){return-1!==this.indexOf(D,te=te===ve?0:te)}var J,ee,O,B=function(D,te){if(B.factory(D,te))return B;if(this instanceof B)return be(D).DataTable(te);te=D,this.$=function(He,Ge){return this.api(!0).$(He,Ge)},this._=function(He,Ge){return this.api(!0).rows(He,Ge).data()},this.api=function(He){return new Oi(He?Hr(this[J.iApiIndex]):this)},this.fnAddData=function(S,Ge){var ft=this.api(!0);return S=(Array.isArray(S)&&(Array.isArray(S[0])||be.isPlainObject(S[0]))?ft.rows:ft.row).add(S),Ge!==ve&&!Ge||ft.draw(),S.flatten().toArray()},this.fnAdjustColumnSizing=function(He){var Ge=this.api(!0).columns.adjust(),ft=Ge.settings()[0],S=ft.oScroll;He===ve||He?Ge.draw(!1):""===S.sX&&""===S.sY||gi(ft)},this.fnClearTable=function(He){var Ge=this.api(!0).clear();He!==ve&&!He||Ge.draw()},this.fnClose=function(He){this.api(!0).row(He).child.hide()},this.fnDeleteRow=function(k,Ge,ft){var S=this.api(!0),re=(k=S.rows(k)).settings()[0],fe=re.aoData[k[0][0]];return k.remove(),Ge&&Ge.call(this,re,fe),ft!==ve&&!ft||S.draw(),fe},this.fnDestroy=function(He){this.api(!0).destroy(He)},this.fnDraw=function(He){this.api(!0).draw(He)},this.fnFilter=function(He,Ge,ft,S,k,re){var fe=this.api(!0);(null===Ge||Ge===ve?fe:fe.column(Ge)).search(He,ft,S,re),fe.draw()},this.fnGetData=function(He,Ge){var ft,S=this.api(!0);return He!==ve?(ft=He.nodeName?He.nodeName.toLowerCase():"",Ge!==ve||"td"==ft||"th"==ft?S.cell(He,Ge).data():S.row(He).data()||null):S.data().toArray()},this.fnGetNodes=function(He){var Ge=this.api(!0);return He!==ve?Ge.row(He).node():Ge.rows().nodes().flatten().toArray()},this.fnGetPosition=function(He){var Ge=this.api(!0),ft=He.nodeName.toUpperCase();return"TR"==ft?Ge.row(He).index():"TD"==ft||"TH"==ft?[(ft=Ge.cell(He).index()).row,ft.columnVisible,ft.column]:null},this.fnIsOpen=function(He){return this.api(!0).row(He).child.isShown()},this.fnOpen=function(He,Ge,ft){return this.api(!0).row(He).child(Ge,ft).show().child()[0]},this.fnPageChange=function(He,Ge){He=this.api(!0).page(He),Ge!==ve&&!Ge||He.draw(!1)},this.fnSetColumnVis=function(He,Ge,ft){He=this.api(!0).column(He).visible(Ge),ft!==ve&&!ft||He.columns.adjust().draw()},this.fnSettings=function(){return Hr(this[J.iApiIndex])},this.fnSort=function(He){this.api(!0).order(He).draw()},this.fnSortListener=function(He,Ge,ft){this.api(!0).order.listener(He,Ge,ft)},this.fnUpdate=function(He,Ge,ft,S,k){var re=this.api(!0);return(ft===ve||null===ft?re.row(Ge):re.cell(Ge,ft)).data(He),k!==ve&&!k||re.columns.adjust(),S!==ve&&!S||re.draw(),0},this.fnVersionCheck=J.fnVersionCheck;var ye,_e=this,Ee=te===ve,Xe=this.length;for(ye in Ee&&(te={}),this.oApi=this.internal=J.internal,B.ext.internal)ye&&(this[ye]=Yo(ye));return this.each(function(){var He=1<Xe?xr({},te,!0):te,Ge=0,ft=this.getAttribute("id"),S=!1,k=B.defaults,re=be(this);if("table"!=this.nodeName.toLowerCase())hr(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{ht(k),dt(k.column),Re(k,k,!0),Re(k.column,k.column,!0),Re(k,be.extend(He,re.data()),!0);for(var fe=B.settings,L=(Ge=0,fe.length);Ge<L;Ge++){var M=fe[Ge];if(M.nTable==this||M.nTHead&&M.nTHead.parentNode==this||M.nTFoot&&M.nTFoot.parentNode==this){if(Ee||(He.bRetrieve!==ve?He:k).bRetrieve)return M.oInstance;if((He.bDestroy!==ve?He:k).bDestroy){M.oInstance.fnDestroy();break}return void hr(M,0,"Cannot reinitialise DataTable",3)}if(M.sTableId==this.id){fe.splice(Ge,1);break}}null!==ft&&""!==ft||(ft="DataTables_Table_"+B.ext._unique++,this.id=ft);var v,f,p=be.extend(!0,{},B.models.oSettings,{sDestroyWidth:re[0].style.width,sInstance:ft,sTableId:ft}),_=(p.nTable=this,p.oApi=_e.internal,p.oInit=He,fe.push(p),p.oInstance=1===_e.length?_e:re.dataTable(),ht(He),je(He.oLanguage),He.aLengthMenu&&!He.iDisplayLength&&(He.iDisplayLength=(Array.isArray(He.aLengthMenu[0])?He.aLengthMenu[0]:He.aLengthMenu)[0]),He=xr(be.extend(!0,{},k),He),Ji(p.oFeatures,He,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ji(p,He,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Ji(p.oScroll,He,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ji(p.oLanguage,He,"fnInfoCallback"),Qi(p,"aoDrawCallback",He.fnDrawCallback,"user"),Qi(p,"aoServerParams",He.fnServerParams,"user"),Qi(p,"aoStateSaveParams",He.fnStateSaveParams,"user"),Qi(p,"aoStateLoadParams",He.fnStateLoadParams,"user"),Qi(p,"aoStateLoaded",He.fnStateLoaded,"user"),Qi(p,"aoRowCallback",He.fnRowCallback,"user"),Qi(p,"aoRowCreatedCallback",He.fnCreatedRow,"user"),Qi(p,"aoHeaderCallback",He.fnHeaderCallback,"user"),Qi(p,"aoFooterCallback",He.fnFooterCallback,"user"),Qi(p,"aoInitComplete",He.fnInitComplete,"user"),Qi(p,"aoPreDrawCallback",He.fnPreDrawCallback,"user"),p.rowIdFn=oi(He.rowId),Nt(p),p.oClasses),C=(be.extend(_,B.ext.classes,He.oClasses),re.addClass(_.sTable),p.iInitDisplayStart===ve&&(p.iInitDisplayStart=He.iDisplayStart,p._iDisplayStart=He.iDisplayStart),null!==He.iDeferLoading&&(p.bDeferLoading=!0,ft=Array.isArray(He.iDeferLoading),p._iRecordsDisplay=ft?He.iDeferLoading[0]:He.iDeferLoading,p._iRecordsTotal=ft?He.iDeferLoading[1]:He.iDeferLoading),p.oLanguage),I=(be.extend(!0,C,He.oLanguage),C.sUrl?(be.ajax({dataType:"json",url:C.sUrl,success:function(Y){Re(k.oLanguage,Y),je(Y),be.extend(!0,C,Y,p.oInit.oLanguage),Bi(p,null,"i18n",[p]),hn(p)},error:function(){hn(p)}}),S=!0):Bi(p,null,"i18n",[p]),null===He.asStripeClasses&&(p.asStripeClasses=[_.sStripeOdd,_.sStripeEven]),ft=p.asStripeClasses,re.children("tbody").find("tr").eq(0)),N=(-1!==be.inArray(!0,be.map(ft,function(Y,U){return I.hasClass(Y)}))&&(be("tbody tr",this).removeClass(ft.join(" ")),p.asDestroyStripes=ft.slice()),[]);if(0!==(ft=this.getElementsByTagName("thead")).length&&(Tn(p.aoHeader,ft[0]),N=jn(p)),null===He.aoColumns)for(v=[],Ge=0,L=N.length;Ge<L;Ge++)v.push(null);else v=He.aoColumns;for(Ge=0,L=v.length;Ge<L;Ge++)on(p,N?N[Ge]:null);Zt(p,He.aoColumnDefs,v,function(Y,U){Tt(p,Y,U)}),I.length&&(f=function(Y,U){return null!==Y.getAttribute("data-"+U)?U:null},be(I[0]).children("th, td").each(function(Y,U){var ne,X=p.aoColumns[Y];X||hr(p,0,"Incorrect column count",18),X.mData===Y&&(ne=f(U,"sort")||f(U,"order"),U=f(U,"filter")||f(U,"search"),null===ne&&null===U||(X.mData={_:Y+".display",sort:null!==ne?Y+".@data-"+ne:ve,type:null!==ne?Y+".@data-"+ne:ve,filter:null!==U?Y+".@data-"+U:ve},X._isArrayHost=!0,Tt(p,Y)))}));var z=p.oFeatures;ft=function(){if(He.aaSorting===ve){var Y=p.aaSorting;for(Ge=0,L=Y.length;Ge<L;Ge++)Y[Ge][1]=p.aoColumns[Ge].asSorting[0]}Er(p),z.bSort&&Qi(p,"aoDrawCallback",function(){var le,G;p.bSorted&&(le=Xr(p),G={},be.each(le,function(W,F){G[F.src]=F.dir}),Bi(p,null,"order",[p,le,G]),oo(p))}),Qi(p,"aoDrawCallback",function(){(p.bSorted||"ssp"===$i(p)||z.bDeferRender)&&Er(p)},"sc");var X,U=re.children("caption").each(function(){this._captionSide=be(this).css("caption-side")}),ne=(0===(X=re.children("thead")).length&&(X=be("<thead/>").appendTo(re)),p.nTHead=X[0],re.children("tbody"));if(0===(X=0===(0===ne.length&&(ne=be("<tbody/>").insertAfter(X)),p.nTBody=ne[0],X=re.children("tfoot")).length&&0<U.length&&(""!==p.oScroll.sX||""!==p.oScroll.sY)?be("<tfoot/>").appendTo(re):X).length||0===X.children().length?re.addClass(_.sNoFooter):0<X.length&&(p.nTFoot=X[0],Tn(p.aoFooter,p.nTFoot)),He.aaData)for(Ge=0;Ge<He.aaData.length;Ge++)Nn(p,He.aaData[Ge]);else!p.bDeferLoading&&"dom"!=$i(p)||sn(p,be(p.nTBody).children("tr"));p.aiDisplay=p.aiDisplayMaster.slice(),!(p.bInitialised=!0)===S&&hn(p)},Qi(p,"aoDrawCallback",vo,"state_save"),He.bStateSave?(z.bStateSave=!0,Dr(p,0,ft)):ft()}}),_e=null,this},K={},de=/[\r\n\u2028]/g,me=/<.*?>/g,he=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,De=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),Ne=/['\u00A0,$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,Ye=function(D){return!D||!0===D||"-"===D},P=function(D,te){return K[te]||(K[te]=new RegExp(Fi(te),"g")),"string"==typeof D&&"."!==te?D.replace(/\./g,"").replace(K[te],"."):D},We=function(D,te,ye){var _e=[],Ee=0,Xe=D.length;if(ye!==ve)for(;Ee<Xe;Ee++)D[Ee]&&D[Ee][te]&&_e.push(D[Ee][te][ye]);else for(;Ee<Xe;Ee++)D[Ee]&&_e.push(D[Ee][te]);return _e},ke=function(D){if(function(D){if(!(D.length<2))for(var te=D.slice().sort(),ye=te[0],_e=1,Ee=te.length;_e<Ee;_e++){if(te[_e]===ye)return!1;ye=te[_e]}return!0}(D))return D.slice();var te,ye,_e,Ee=[],Xe=D.length,He=0;e:for(ye=0;ye<Xe;ye++){for(te=D[ye],_e=0;_e<He;_e++)if(Ee[_e]===te)continue e;Ee.push(te),He++}return Ee},Ve=function(D,te){if(Array.isArray(te))for(var ye=0;ye<te.length;ye++)Ve(D,te[ye]);else D.push(te);return D};function ue(D){var te,ye,_e={};be.each(D,function(Ee,Xe){(te=Ee.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(te[1]+" ")&&(ye=Ee.replace(te[0],te[2].toLowerCase()),_e[ye]=Ee,"o"===te[1]&&ue(D[Ee]))}),D._hungarianMap=_e}function Re(D,te,ye){var _e;D._hungarianMap||ue(D),be.each(te,function(Ee,Xe){(_e=D._hungarianMap[Ee])===ve||!ye&&te[_e]!==ve||("o"===_e.charAt(0)?(te[_e]||(te[_e]={}),be.extend(!0,te[_e],te[Ee]),Re(D[_e],te[_e],ye)):te[_e]=te[Ee])})}function je(D){var te,ye=B.defaults.oLanguage,_e=ye.sDecimal;_e&&Do(_e),D&&(te=D.sZeroRecords,!D.sEmptyTable&&te&&"No data available in table"===ye.sEmptyTable&&Ji(D,D,"sZeroRecords","sEmptyTable"),!D.sLoadingRecords&&te&&"Loading..."===ye.sLoadingRecords&&Ji(D,D,"sZeroRecords","sLoadingRecords"),D.sInfoThousands&&(D.sThousands=D.sInfoThousands),(te=D.sDecimal)&&_e!==te&&Do(te))}Array.isArray||(Array.isArray=function(D){return"[object Array]"===Object.prototype.toString.call(D)}),Array.prototype.includes||(Array.prototype.includes=j),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=j),B.util={throttle:function(D,te){var ye,_e,Ee=te!==ve?te:200;return function(){var Xe=this,He=+new Date,Ge=arguments;ye&&He<ye+Ee?(clearTimeout(_e),_e=setTimeout(function(){ye=ve,D.apply(Xe,Ge)},Ee)):(ye=He,D.apply(Xe,Ge))}},escapeRegex:function(D){return D.replace(De,"\\$1")},set:function(D){var te;return be.isPlainObject(D)?B.util.set(D._):null===D?function(){}:"function"==typeof D?function(ye,_e,Ee){D(ye,"set",_e,Ee)}:"string"!=typeof D||-1===D.indexOf(".")&&-1===D.indexOf("[")&&-1===D.indexOf("(")?function(ye,_e){ye[D]=_e}:(te=function(ye,_e,Ee){for(var Xe,He,Ge,ft,S=xi(Ee),k=(Ee=S[S.length-1],0),re=S.length-1;k<re;k++){if("__proto__"===S[k]||"constructor"===S[k])throw new Error("Cannot set prototype values");if(Xe=S[k].match(ni),He=S[k].match(Jn),Xe){if(S[k]=S[k].replace(ni,""),ye[S[k]]=[],(Xe=S.slice()).splice(0,k+1),ft=Xe.join("."),Array.isArray(_e))for(var fe=0,L=_e.length;fe<L;fe++)te(Ge={},_e[fe],ft),ye[S[k]].push(Ge);else ye[S[k]]=_e;return}He&&(S[k]=S[k].replace(Jn,""),ye=ye[S[k]](_e)),null!==ye[S[k]]&&ye[S[k]]!==ve||(ye[S[k]]={}),ye=ye[S[k]]}Ee.match(Jn)?ye[Ee.replace(Jn,"")](_e):ye[Ee.replace(ni,"")]=_e},function(ye,_e){return te(ye,_e,D)})},get:function(D){var te,ye;return be.isPlainObject(D)?(te={},be.each(D,function(_e,Ee){Ee&&(te[_e]=B.util.get(Ee))}),function(_e,Ee,Xe,He){var Ge=te[Ee]||te._;return Ge!==ve?Ge(_e,Ee,Xe,He):_e}):null===D?function(_e){return _e}:"function"==typeof D?function(_e,Ee,Xe,He){return D(_e,Ee,Xe,He)}:"string"!=typeof D||-1===D.indexOf(".")&&-1===D.indexOf("[")&&-1===D.indexOf("(")?function(_e,Ee){return _e[D]}:(ye=function(_e,Ee,Xe){var He,Ge,ft;if(""!==Xe)for(var S=xi(Xe),k=0,re=S.length;k<re;k++){if(M=S[k].match(ni),He=S[k].match(Jn),M){if(S[k]=S[k].replace(ni,""),""!==S[k]&&(_e=_e[S[k]]),Ge=[],S.splice(0,k+1),ft=S.join("."),Array.isArray(_e))for(var fe=0,L=_e.length;fe<L;fe++)Ge.push(ye(_e[fe],Ee,ft));var M=M[0].substring(1,M[0].length-1);_e=""===M?Ge:Ge.join(M);break}if(He)S[k]=S[k].replace(Jn,""),_e=_e[S[k]]();else{if(null===_e||null===_e[S[k]])return null;if(_e===ve||_e[S[k]]===ve)return ve;_e=_e[S[k]]}}return _e},function(_e,Ee){return ye(_e,Ee,D)})}};var Je=function(D,te,ye){D[te]!==ve&&(D[ye]=D[te])};function ht(D){Je(D,"ordering","bSort"),Je(D,"orderMulti","bSortMulti"),Je(D,"orderClasses","bSortClasses"),Je(D,"orderCellsTop","bSortCellsTop"),Je(D,"order","aaSorting"),Je(D,"orderFixed","aaSortingFixed"),Je(D,"paging","bPaginate"),Je(D,"pagingType","sPaginationType"),Je(D,"pageLength","iDisplayLength"),Je(D,"searching","bFilter"),"boolean"==typeof D.sScrollX&&(D.sScrollX=D.sScrollX?"100%":""),"boolean"==typeof D.scrollX&&(D.scrollX=D.scrollX?"100%":"");var te=D.aoSearchCols;if(te)for(var ye=0,_e=te.length;ye<_e;ye++)te[ye]&&Re(B.models.oSearch,te[ye])}function dt(D){Je(D,"orderable","bSortable"),Je(D,"orderData","aDataSort"),Je(D,"orderSequence","asSorting"),Je(D,"orderDataType","sortDataType");var te=D.aDataSort;"number"!=typeof te||Array.isArray(te)||(D.aDataSort=[te])}function Nt(D){var te,ye,_e,Ee;B.__browser||(B.__browser=te={},Ee=(_e=(ye=be("<div/>").css({position:"fixed",top:0,left:-1*be(Ae).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(be("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(be("<div/>").css({width:"100%",height:10}))).appendTo("body")).children()).children(),te.barWidth=_e[0].offsetWidth-_e[0].clientWidth,te.bScrollOversize=100===Ee[0].offsetWidth&&100!==_e[0].clientWidth,te.bScrollbarLeft=1!==Math.round(Ee.offset().left),te.bBounding=!!ye[0].getBoundingClientRect().width,ye.remove()),be.extend(D.oBrowser,B.__browser),D.oScroll.iBarWidth=B.__browser.barWidth}function bt(D,te,ye,_e,Ee,Xe){var He,Ge=_e,ft=!1;for(ye!==ve&&(He=ye,ft=!0);Ge!==Ee;)D.hasOwnProperty(Ge)&&(He=ft?te(He,D[Ge],Ge,D):D[Ge],ft=!0,Ge+=Xe);return He}function on(D,te){var ye=D.aoColumns.length,_e=be.extend({},B.models.oColumn,_e=B.defaults.column,{nTh:te||Sn.createElement("th"),sTitle:_e.sTitle||(te?te.innerHTML:""),aDataSort:_e.aDataSort||[ye],mData:_e.mData||ye,idx:ye});(D.aoColumns.push(_e),_e=D.aoPreSearchCols)[ye]=be.extend({},B.models.oSearch,_e[ye]),Tt(D,ye,be(te).data())}function Tt(D,Ee,re){function _e(fe){return"string"==typeof fe&&-1!==fe.indexOf("@")}var Xe=D.oClasses,He=be((Ee=D.aoColumns[Ee]).nTh),Ge=(Ee.sWidthOrig||(Ee.sWidthOrig=He.attr("width")||null,(k=(He.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/))&&(Ee.sWidthOrig=k[1])),re!==ve&&null!==re&&(dt(re),Re(B.defaults.column,re,!0),re.mDataProp===ve||re.mData||(re.mData=re.mDataProp),re.sType&&(Ee._sManualType=re.sType),re.className&&!re.sClass&&(re.sClass=re.className),re.sClass&&He.addClass(re.sClass),k=Ee.sClass,be.extend(Ee,re),Ji(Ee,re,"sWidth","sWidthOrig"),k!==Ee.sClass&&(Ee.sClass=k+" "+Ee.sClass),re.iDataSort!==ve&&(Ee.aDataSort=[re.iDataSort]),Ji(Ee,re,"aDataSort"),Ee.ariaTitle||(Ee.ariaTitle=He.attr("aria-label"))),Ee.mData),ft=oi(Ge),S=Ee.mRender?oi(Ee.mRender):null,k=(Ee._bAttrSrc=be.isPlainObject(Ge)&&(_e(Ge.sort)||_e(Ge.type)||_e(Ge.filter)),Ee._setter=null,Ee.fnGetData=function(fe,L,M){var x=ft(fe,L,ve,M);return S&&L?S(x,L,fe,M):x},Ee.fnSetData=function(fe,L,M){return Ni(Ge)(fe,L,M)},"number"==typeof Ge||Ee._isArrayHost||(D._rowReadObject=!0),D.oFeatures.bSort||(Ee.bSortable=!1,He.addClass(Xe.sSortableNone)),-1!==be.inArray("asc",Ee.asSorting));re=-1!==be.inArray("desc",Ee.asSorting),Ee.bSortable&&(k||re)?k&&!re?(Ee.sSortingClass=Xe.sSortableAsc,Ee.sSortingClassJUI=Xe.sSortJUIAscAllowed):!k&&re?(Ee.sSortingClass=Xe.sSortableDesc,Ee.sSortingClassJUI=Xe.sSortJUIDescAllowed):(Ee.sSortingClass=Xe.sSortable,Ee.sSortingClassJUI=Xe.sSortJUI):(Ee.sSortingClass=Xe.sSortableNone,Ee.sSortingClassJUI="")}function Pt(D){if(!1!==D.oFeatures.bAutoWidth){var te=D.aoColumns;Ki(D);for(var ye=0,_e=te.length;ye<_e;ye++)te[ye].nTh.style.width=te[ye].sWidth}var Ee=D.oScroll;""===Ee.sY&&""===Ee.sX||gi(D),Bi(D,null,"column-sizing",[D])}function un(D,te){return"number"==typeof(D=cn(D,"bVisible"))[te]?D[te]:null}function vn(D,te){return D=cn(D,"bVisible"),-1!==(te=be.inArray(te,D))?te:null}function zt(D){var te=0;return be.each(D.aoColumns,function(ye,_e){_e.bVisible&&"none"!==be(_e.nTh).css("display")&&te++}),te}function cn(D,te){var ye=[];return be.map(D.aoColumns,function(_e,Ee){_e[te]&&ye.push(Ee)}),ye}function Mn(D){for(var te,ye,_e,Ee,Xe,He,Ge,ft=D.aoColumns,S=D.aoData,k=B.ext.type.detect,re=0,fe=ft.length;re<fe;re++)if(Ge=[],!(Xe=ft[re]).sType&&Xe._sManualType)Xe.sType=Xe._sManualType;else if(!Xe.sType){for(te=0,ye=k.length;te<ye;te++){for(_e=0,Ee=S.length;_e<Ee&&(Ge[_e]===ve&&(Ge[_e]=On(D,_e,re,"type")),(He=k[te](Ge[_e],D))||te===k.length-1)&&("html"!==He||Ye(Ge[_e]));_e++);if(He){Xe.sType=He;break}}Xe.sType||(Xe.sType="string")}}function Zt(D,te,ye,_e){var Ee,Xe,He,Ge,ft=D.aoColumns;if(te)for(Ee=te.length-1;0<=Ee;Ee--)for(var S,k=(S=te[Ee]).target!==ve?S.target:S.targets!==ve?S.targets:S.aTargets,re=0,fe=(k=Array.isArray(k)?k:[k]).length;re<fe;re++)if("number"==typeof k[re]&&0<=k[re]){for(;ft.length<=k[re];)on(D);_e(k[re],S)}else if("number"==typeof k[re]&&k[re]<0)_e(ft.length+k[re],S);else if("string"==typeof k[re])for(He=0,Ge=ft.length;He<Ge;He++)"_all"!=k[re]&&!be(ft[He].nTh).hasClass(k[re])||_e(He,S);if(ye)for(Ee=0,Xe=ye.length;Ee<Xe;Ee++)_e(Ee,ye[Ee])}function Nn(D,te,ye,_e){for(var Ee=D.aoData.length,Xe=be.extend(!0,{},B.models.oRow,{src:ye?"dom":"data",idx:Ee}),He=(Xe._aData=te,D.aoData.push(Xe),D.aoColumns),Ge=0,ft=He.length;Ge<ft;Ge++)He[Ge].sType=null;return D.aiDisplayMaster.push(Ee),(te=D.rowIdFn(te))!==ve&&(D.aIds[te]=Xe),!ye&&D.oFeatures.bDeferRender||an(D,Ee,ye,_e),Ee}function sn(D,te){var ye;return(te=te instanceof be?te:be(te)).map(function(_e,Ee){return ye=dn(D,Ee),Nn(D,ye.data,Ee,ye.cells)})}function On(D,te,ye,_e){"search"===_e?_e="filter":"order"===_e&&(_e="sort");var Ee=D.iDraw,Xe=D.aoColumns[ye],He=D.aoData[te]._aData,Ge=Xe.sDefaultContent,ft=Xe.fnGetData(He,_e,{settings:D,row:te,col:ye});if(ft===ve)return D.iDrawError!=Ee&&null===Ge&&(hr(D,0,"Requested unknown parameter "+("function"==typeof Xe.mData?"{function}":"'"+Xe.mData+"'")+" for row "+te+", column "+ye,4),D.iDrawError=Ee),Ge;if(ft!==He&&null!==ft||null===Ge||_e===ve){if("function"==typeof ft)return ft.call(He)}else ft=Ge;return null===ft&&"display"===_e?"":"filter"===_e&&(te=B.ext.type.search)[Xe.sType]?te[Xe.sType](ft):ft}function yi(D,te,ye,_e){D.aoColumns[ye].fnSetData(D.aoData[te]._aData,_e,{settings:D,row:te,col:ye})}var ni=/\[.*?\]$/,Jn=/\(\)$/;function xi(D){return be.map(D.match(/(\\.|[^\.])+/g)||[""],function(te){return te.replace(/\\\./g,".")})}var oi=B.util.get,Ni=B.util.set;function Jt(D){return We(D.aoData,"_aData")}function qt(D){D.aoData.length=0,D.aiDisplayMaster.length=0,D.aiDisplay.length=0,D.aIds={}}function gn(D,te,ye){for(var _e=-1,Ee=0,Xe=D.length;Ee<Xe;Ee++)D[Ee]==te?_e=Ee:D[Ee]>te&&D[Ee]--;-1!=_e&&ye===ve&&D.splice(_e,1)}function Ln(D,te,ye,_e){function Ee(k,re){for(;k.childNodes.length;)k.removeChild(k.firstChild);k.innerHTML=On(D,te,re,"display")}var Xe,He,Ge=D.aoData[te];if("dom"!==ye&&(ye&&"auto"!==ye||"dom"!==Ge.src)){var ft=Ge.anCells;if(ft)if(_e!==ve)Ee(ft[_e],_e);else for(Xe=0,He=ft.length;Xe<He;Xe++)Ee(ft[Xe],Xe)}else Ge._aData=dn(D,Ge,_e,_e===ve?ve:Ge._aData).data;Ge._aSortData=null,Ge._aFilterData=null;var S=D.aoColumns;if(_e!==ve)S[_e].sType=null;else{for(Xe=0,He=S.length;Xe<He;Xe++)S[Xe].sType=null;Wn(D,Ge)}}function dn(D,w,ye,_e){function Ee(v,f){var p;"string"==typeof v&&-1!==(p=v.indexOf("@"))&&(p=v.substring(p+1),Ni(v)(_e,f.getAttribute(p)))}function Xe(v){ye!==ve&&ye!==re||(Ge=fe[re],ft=v.innerHTML.trim(),Ge&&Ge._bAttrSrc?(Ni(Ge.mData._)(_e,ft),Ee(Ge.mData.sort,v),Ee(Ge.mData.type,v),Ee(Ge.mData.filter,v)):L?(Ge._setter||(Ge._setter=Ni(Ge.mData)),Ge._setter(_e,ft)):_e[re]=ft),re++}var He,Ge,ft,S=[],k=w.firstChild,re=0,fe=D.aoColumns,L=D._rowReadObject;if(_e=_e!==ve?_e:L?{}:[],k)for(;k;)"TD"!=(He=k.nodeName.toUpperCase())&&"TH"!=He||(Xe(k),S.push(k)),k=k.nextSibling;else for(var M=0,x=(S=w.anCells).length;M<x;M++)Xe(S[M]);return(w=w.firstChild?w:w.nTr)&&(w=w.getAttribute("id"))&&Ni(D.rowId)(_e,w),{data:_e,cells:S}}function an(D,te,ye,_e){var Ee,Xe,He,Ge,ft,S,k=D.aoData[te],re=k._aData,fe=[];if(null===k.nTr){for(Ee=ye||Sn.createElement("tr"),k.nTr=Ee,k.anCells=fe,Ee._DT_RowIndex=te,Wn(D,k),Ge=0,ft=D.aoColumns.length;Ge<ft;Ge++)He=D.aoColumns[Ge],(Xe=(S=!ye)?Sn.createElement(He.sCellType):_e[Ge])||hr(D,0,"Incorrect column count",18),Xe._DT_CellIndex={row:te,column:Ge},fe.push(Xe),!S&&(!He.mRender&&He.mData===Ge||be.isPlainObject(He.mData)&&He.mData._===Ge+".display")||(Xe.innerHTML=On(D,te,Ge,"display")),He.sClass&&(Xe.className+=" "+He.sClass),He.bVisible&&!ye?Ee.appendChild(Xe):!He.bVisible&&ye&&Xe.parentNode.removeChild(Xe),He.fnCreatedCell&&He.fnCreatedCell.call(D.oInstance,Xe,On(D,te,Ge),re,te,Ge);Bi(D,"aoRowCreatedCallback",null,[Ee,re,te,fe])}}function Wn(D,te){var ye=te.nTr,_e=te._aData;ye&&((D=D.rowIdFn(_e))&&(ye.id=D),_e.DT_RowClass&&(D=_e.DT_RowClass.split(" "),te.__rowc=te.__rowc?ke(te.__rowc.concat(D)):D,be(ye).removeClass(te.__rowc.join(" ")).addClass(_e.DT_RowClass)),_e.DT_RowAttr&&be(ye).attr(_e.DT_RowAttr),_e.DT_RowData&&be(ye).data(_e.DT_RowData))}function ui(D){var te,ye,_e,Ee=D.nTHead,Xe=D.nTFoot,He=0===be("th, td",Ee).length,Ge=D.oClasses,ft=D.aoColumns;for(He&&(ye=be("<tr/>").appendTo(Ee)),k=0,re=ft.length;k<re;k++)te=be((_e=ft[k]).nTh).addClass(_e.sClass),He&&te.appendTo(ye),D.oFeatures.bSort&&(te.addClass(_e.sSortingClass),!1!==_e.bSortable&&(te.attr("tabindex",D.iTabIndex).attr("aria-controls",D.sTableId),Ho(D,_e.nTh,k))),_e.sTitle!=te[0].innerHTML&&te.html(_e.sTitle),Vr(D,"header")(D,te,_e,Ge);if(He&&Tn(D.aoHeader,Ee),be(Ee).children("tr").children("th, td").addClass(Ge.sHeaderTH),be(Xe).children("tr").children("th, td").addClass(Ge.sFooterTH),null!==Xe)for(var S=D.aoFooter[0],k=0,re=S.length;k<re;k++)(_e=ft[k])?(_e.nTf=S[k].cell,_e.sClass&&be(_e.nTf).addClass(_e.sClass)):hr(D,0,"Incorrect column count",18)}function Ii(D,te,ye){var _e,Ee,Xe,He,Ge,ft,S,k,re,fe=[],L=[],M=D.aoColumns.length;if(te){for(ye===ve&&(ye=!1),_e=0,Ee=te.length;_e<Ee;_e++){for(fe[_e]=te[_e].slice(),fe[_e].nTr=te[_e].nTr,Xe=M-1;0<=Xe;Xe--)D.aoColumns[Xe].bVisible||ye||fe[_e].splice(Xe,1);L.push([])}for(_e=0,Ee=fe.length;_e<Ee;_e++){if(S=fe[_e].nTr)for(;ft=S.firstChild;)S.removeChild(ft);for(Xe=0,He=fe[_e].length;Xe<He;Xe++)if(re=k=1,L[_e][Xe]===ve){for(S.appendChild(fe[_e][Xe].cell),L[_e][Xe]=1;fe[_e+k]!==ve&&fe[_e][Xe].cell==fe[_e+k][Xe].cell;)L[_e+k][Xe]=1,k++;for(;fe[_e][Xe+re]!==ve&&fe[_e][Xe].cell==fe[_e][Xe+re].cell;){for(Ge=0;Ge<k;Ge++)L[_e+Ge][Xe+re]=1;re++}be(fe[_e][Xe].cell).attr("rowspan",k).attr("colspan",re)}}}}function ri(D,te){ye="ssp"==$i(ft=D),(Ge=ft.iInitDisplayStart)!==ve&&-1!==Ge&&(ft._iDisplayStart=!ye&&Ge>=ft.fnRecordsDisplay()?0:Ge,ft.iInitDisplayStart=-1);var ye=Bi(D,"aoPreDrawCallback","preDraw",[D]);if(-1!==be.inArray(!1,ye))hi(D,!1);else{var _e=[],Ee=0,Xe=D.asStripeClasses,He=Xe.length,Ge=D.oLanguage,ft="ssp"==$i(D),S=D.aiDisplay,k=(ye=D._iDisplayStart,D.fnDisplayEnd());if(D.bDrawing=!0,D.bDeferLoading)D.bDeferLoading=!1,D.iDraw++,hi(D,!1);else if(ft){if(!D.bDestroying&&!te)return void In(D)}else D.iDraw++;if(0!==S.length)for(var re=ft?D.aoData.length:k,fe=ft?0:ye;fe<re;fe++){var L,M=S[fe],x=D.aoData[M],w=(null===x.nTr&&an(D,M),x.nTr);0!==He&&x._sRowStripe!=(L=Xe[Ee%He])&&(be(w).removeClass(x._sRowStripe).addClass(L),x._sRowStripe=L),Bi(D,"aoRowCallback",null,[w,x._aData,Ee,fe,M]),_e.push(w),Ee++}else te=Ge.sZeroRecords,1==D.iDraw&&"ajax"==$i(D)?te=Ge.sLoadingRecords:Ge.sEmptyTable&&0===D.fnRecordsTotal()&&(te=Ge.sEmptyTable),_e[0]=be("<tr/>",{class:He?Xe[0]:""}).append(be("<td />",{valign:"top",colSpan:zt(D),class:D.oClasses.sRowEmpty}).html(te))[0];Bi(D,"aoHeaderCallback","header",[be(D.nTHead).children("tr")[0],Jt(D),ye,k,S]),Bi(D,"aoFooterCallback","footer",[be(D.nTFoot).children("tr")[0],Jt(D),ye,k,S]),(ft=be(D.nTBody)).children().detach(),ft.append(be(_e)),Bi(D,"aoDrawCallback","draw",[D]),D.bSorted=!1,D.bFiltered=!1,D.bDrawing=!1}}function Yt(D,te){var ye=(_e=D.oFeatures).bSort,_e=_e.bFilter;ye&&ro(D),_e?_i(D,D.oPreviousSearch):D.aiDisplay=D.aiDisplayMaster.slice(),!0!==te&&(D._iDisplayStart=0),D._drawHold=te,ri(D),D._drawHold=!1}function fn(D){for(var te,ye,_e,Ee,Xe,He,Ge,ft=D.oClasses,S=be(D.nTable),k=(S=be("<div/>").insertBefore(S),D.oFeatures),re=be("<div/>",{id:D.sTableId+"_wrapper",class:ft.sWrapper+(D.nTFoot?"":" "+ft.sNoFooter)}),fe=(D.nHolding=S[0],D.nTableWrapper=re[0],D.nTableReinsertBefore=D.nTable.nextSibling,D.sDom.split("")),L=0;L<fe.length;L++){if(te=null,"<"==(ye=fe[L])){if(_e=be("<div/>")[0],"'"==(Ee=fe[L+1])||'"'==Ee){for(Xe="",He=2;fe[L+He]!=Ee;)Xe+=fe[L+He],He++;"H"==Xe?Xe=ft.sJUIHeader:"F"==Xe&&(Xe=ft.sJUIFooter),-1!=Xe.indexOf(".")?(Ge=Xe.split("."),_e.id=Ge[0].substr(1,Ge[0].length-1),_e.className=Ge[1]):"#"==Xe.charAt(0)?_e.id=Xe.substr(1,Xe.length-1):_e.className=Xe,L+=He}re.append(_e),re=be(_e)}else if(">"==ye)re=re.parent();else if("l"==ye&&k.bPaginate&&k.bLengthChange)te=Qn(D);else if("f"==ye&&k.bFilter)te=di(D);else if("r"==ye&&k.bProcessing)te=Ai(D);else if("t"==ye)te=Ci(D);else if("i"==ye&&k.bInfo)te=wr(D);else if("p"==ye&&k.bPaginate)te=bi(D);else if(0!==B.ext.feature.length)for(var M=B.ext.feature,x=0,w=M.length;x<w;x++)if(ye==M[x].cFeature){te=M[x].fnInit(D);break}te&&((Ge=D.aanFeatures)[ye]||(Ge[ye]=[]),Ge[ye].push(te),re.append(te))}S.replaceWith(re),D.nHolding=null}function Tn(D,te){var ye,_e,Ee,Xe,He,Ge,ft,S,k,re,fe=be(te).children("tr");for(D.splice(0,D.length),Ee=0,Ge=fe.length;Ee<Ge;Ee++)D.push([]);for(Ee=0,Ge=fe.length;Ee<Ge;Ee++)for(_e=(ye=fe[Ee]).firstChild;_e;){if("TD"==_e.nodeName.toUpperCase()||"TH"==_e.nodeName.toUpperCase())for(S=(S=+_e.getAttribute("colspan"))&&0!==S&&1!==S?S:1,k=(k=+_e.getAttribute("rowspan"))&&0!==k&&1!==k?k:1,ft=function(L,M,x){for(var w=L[M];w[x];)x++;return x}(D,Ee,0),re=1===S,He=0;He<S;He++)for(Xe=0;Xe<k;Xe++)D[Ee+Xe][ft+He]={cell:_e,unique:re},D[Ee+Xe].nTr=ye;_e=_e.nextSibling}}function jn(D,te,ye){var _e=[];ye||(ye=D.aoHeader,te&&Tn(ye=[],te));for(var Ee=0,Xe=ye.length;Ee<Xe;Ee++)for(var He=0,Ge=ye[Ee].length;He<Ge;He++)!ye[Ee][He].unique||_e[He]&&D.bSortCellsTop||(_e[He]=ye[Ee][He].cell);return _e}function Pn(D,te,ye){function _e(k){var re=D.jqXHR?D.jqXHR.status:null;(null===k||"number"==typeof re&&204==re)&&ai(D,k={},[]),(re=k.error||k.sError)&&hr(D,0,re),D.json=k,Bi(D,null,"xhr",[D,k,D.jqXHR]),ye(k)}Bi(D,"aoServerParams","serverParams",[te]),te&&Array.isArray(te)&&(Ee={},Xe=/(.*?)\[\]$/,be.each(te,function(k,re){var fe=re.name.match(Xe);fe?(Ee[fe=fe[0]]||(Ee[fe]=[]),Ee[fe].push(re.value)):Ee[re.name]=re.value}),te=Ee);var Ee,Xe,He,Ge=D.ajax,ft=D.oInstance,S=(be.isPlainObject(Ge)&&Ge.data&&(S="function"==typeof(He=Ge.data)?He(te,D):He,te="function"==typeof He&&S?S:be.extend(!0,te,S),delete Ge.data),{data:te,success:_e,dataType:"json",cache:!1,type:D.sServerMethod,error:function(k,re,fe){var L=Bi(D,null,"xhr",[D,null,D.jqXHR]);-1===be.inArray(!0,L)&&("parsererror"==re?hr(D,0,"Invalid JSON response",1):4===k.readyState&&hr(D,0,"Ajax error",7)),hi(D,!1)}});D.oAjaxData=te,Bi(D,null,"preXhr",[D,te]),D.fnServerData?D.fnServerData.call(ft,D.sAjaxSource,be.map(te,function(k,re){return{name:re,value:k}}),_e,D):D.sAjaxSource||"string"==typeof Ge?D.jqXHR=be.ajax(be.extend(S,{url:Ge||D.sAjaxSource})):"function"==typeof Ge?D.jqXHR=Ge.call(ft,te,_e,D):(D.jqXHR=be.ajax(be.extend(S,Ge)),Ge.data=He)}function In(D){D.iDraw++,hi(D,!0);var te=D._drawHold;Pn(D,qn(D),function(ye){D._drawHold=te,$n(D,ye),D._drawHold=!1})}function qn(D){for(var te,ye,_e,Ee=D.aoColumns,Xe=Ee.length,He=D.oFeatures,Ge=D.oPreviousSearch,ft=D.aoPreSearchCols,S=[],k=Xr(D),re=D._iDisplayStart,fe=!1!==He.bPaginate?D._iDisplayLength:-1,L=function(w,v){S.push({name:w,value:v})},M=(L("sEcho",D.iDraw),L("iColumns",Xe),L("sColumns",We(Ee,"sName").join(",")),L("iDisplayStart",re),L("iDisplayLength",fe),{draw:D.iDraw,columns:[],order:[],start:re,length:fe,search:{value:Ge.sSearch,regex:Ge.bRegex}}),x=0;x<Xe;x++)M.columns.push({data:te="function"==typeof(ye=Ee[x]).mData?"function":ye.mData,name:ye.sName,searchable:ye.bSearchable,orderable:ye.bSortable,search:{value:(_e=ft[x]).sSearch,regex:_e.bRegex}}),L("mDataProp_"+x,te),He.bFilter&&(L("sSearch_"+x,_e.sSearch),L("bRegex_"+x,_e.bRegex),L("bSearchable_"+x,ye.bSearchable)),He.bSort&&L("bSortable_"+x,ye.bSortable);return He.bFilter&&(L("sSearch",Ge.sSearch),L("bRegex",Ge.bRegex)),He.bSort&&(be.each(k,function(w,v){M.order.push({column:v.col,dir:v.dir}),L("iSortCol_"+w,v.col),L("sSortDir_"+w,v.dir)}),L("iSortingCols",k.length)),null===(re=B.ext.legacy.ajax)?D.sAjaxSource?S:M:re?S:M}function $n(D,te){function ye(S,k){return te[S]!==ve?te[S]:te[k]}var _e=ai(D,te),Ee=ye("sEcho","draw"),Xe=ye("iTotalRecords","recordsTotal"),He=ye("iTotalDisplayRecords","recordsFiltered");if(Ee!==ve){if(+Ee<D.iDraw)return;D.iDraw=+Ee}_e=_e||[],qt(D),D._iRecordsTotal=parseInt(Xe,10),D._iRecordsDisplay=parseInt(He,10);for(var Ge=0,ft=_e.length;Ge<ft;Ge++)Nn(D,_e[Ge]);D.aiDisplay=D.aiDisplayMaster.slice(),ri(D,!0),D._bInitComplete||Un(D,te),hi(D,!1)}function ai(D,te,ye){if(D=be.isPlainObject(D.ajax)&&D.ajax.dataSrc!==ve?D.ajax.dataSrc:D.sAjaxDataProp,!ye)return"data"===D?te.aaData||te[D]:""!==D?oi(D)(te):te;Ni(D)(te,ye)}function di(D){function te(k){var re=this.value||"";Ee.return&&"Enter"!==k.key||re!=Ee.sSearch&&(_i(D,{sSearch:re,bRegex:Ee.bRegex,bSmart:Ee.bSmart,bCaseInsensitive:Ee.bCaseInsensitive,return:Ee.return}),D._iDisplayStart=0,ri(D))}var ye=D.sTableId,_e=D.oLanguage,Ee=D.oPreviousSearch,Xe=D.aanFeatures,Ge='<input type="search" class="'+(ft=D.oClasses).sFilterInput+'"/>',He=(He=_e.sSearch).match(/_INPUT_/)?He.replace("_INPUT_",Ge):He+Ge,ft=(Ge=be("<div/>",{id:Xe.f?null:ye+"_filter",class:ft.sFilter}).append(be("<label/>").append(He)),null!==D.searchDelay?D.searchDelay:"ssp"===$i(D)?400:0),S=be("input",Ge).val(Ee.sSearch).attr("placeholder",_e.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",ft?ar(te,ft):te).on("mouseup.DT",function(k){setTimeout(function(){te.call(S[0],k)},10)}).on("keypress.DT",function(k){if(13==k.keyCode)return!1}).attr("aria-controls",ye);return be(D.nTable).on("search.dt.DT",function(k,re){if(D===re)try{S[0]!==Sn.activeElement&&S.val(Ee.sSearch)}catch{}}),Ge[0]}function _i(D,te,ye){function _e(ft){Xe.sSearch=ft.sSearch,Xe.bRegex=ft.bRegex,Xe.bSmart=ft.bSmart,Xe.bCaseInsensitive=ft.bCaseInsensitive,Xe.return=ft.return}function Ee(ft){return ft.bEscapeRegex!==ve?!ft.bEscapeRegex:ft.bRegex}var Xe=D.oPreviousSearch,He=D.aoPreSearchCols;if(Mn(D),"ssp"!=$i(D)){Mi(D,te.sSearch,ye,Ee(te),te.bSmart,te.bCaseInsensitive),_e(te);for(var Ge=0;Ge<He.length;Ge++)nr(D,He[Ge].sSearch,Ge,Ee(He[Ge]),He[Ge].bSmart,He[Ge].bCaseInsensitive);Zi(D)}else _e(te);D.bFiltered=!0,Bi(D,null,"search",[D])}function Zi(D){for(var te,ye,_e=B.ext.search,Ee=D.aiDisplay,Xe=0,He=_e.length;Xe<He;Xe++){for(var Ge=[],ft=0,S=Ee.length;ft<S;ft++)_e[Xe](D,(te=D.aoData[ye=Ee[ft]])._aFilterData,ye,te._aData,ft)&&Ge.push(ye);Ee.length=0,be.merge(Ee,Ge)}}function nr(D,te,ye,_e,Ee,Xe){if(""!==te){for(var Ge=[],ft=D.aiDisplay,S=gr(te,_e,Ee,Xe),k=0;k<ft.length;k++)S.test(D.aoData[ft[k]]._aFilterData[ye])&&Ge.push(ft[k]);D.aiDisplay=Ge}}function Mi(D,te,ye,_e,k,re){var He,Ge,ft,S=gr(te,_e,k,re),fe=(k=D.oPreviousSearch.sSearch,re=D.aiDisplayMaster,[]);if(0!==B.ext.search.length&&(ye=!0),Ge=ki(D),te.length<=0)D.aiDisplay=re.slice();else{for((Ge||ye||_e||k.length>te.length||0!==te.indexOf(k)||D.bSorted)&&(D.aiDisplay=re.slice()),He=D.aiDisplay,ft=0;ft<He.length;ft++)S.test(D.aoData[He[ft]]._sFilterRow)&&fe.push(He[ft]);D.aiDisplay=fe}}function gr(D,te,ye,_e){return D=te?D:Fi(D),ye&&(D="^(?=.*?"+be.map(D.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(Ee){var Xe;return'"'===Ee.charAt(0)?Ee=(Xe=Ee.match(/^"(.*)"$/))?Xe[1]:Ee:"\u201c"===Ee.charAt(0)&&(Ee=(Xe=Ee.match(/^\u201C(.*)\u201D$/))?Xe[1]:Ee),Ee.replace('"',"")}).join(")(?=.*?")+").*$"),new RegExp(D,_e?"i":"")}var Fi=B.util.escapeRegex,Ui=be("<div>")[0],Vi=Ui.textContent!==ve;function ki(D){for(var te,ye,_e,Ee,Xe,He=D.aoColumns,Ge=!1,ft=0,S=D.aoData.length;ft<S;ft++)if(!(Xe=D.aoData[ft])._aFilterData){for(_e=[],te=0,ye=He.length;te<ye;te++)He[te].bSearchable?"string"!=typeof(Ee=null===(Ee=On(D,ft,te,"filter"))?"":Ee)&&Ee.toString&&(Ee=Ee.toString()):Ee="",Ee.indexOf&&-1!==Ee.indexOf("&")&&(Ui.innerHTML=Ee,Ee=Vi?Ui.textContent:Ui.innerText),Ee.replace&&(Ee=Ee.replace(/[\r\n\u2028]/g,"")),_e.push(Ee);Xe._aFilterData=_e,Xe._sFilterRow=_e.join("  "),Ge=!0}return Ge}function pr(D){return{search:D.sSearch,smart:D.bSmart,regex:D.bRegex,caseInsensitive:D.bCaseInsensitive}}function Wi(D){return{sSearch:D.search,bSmart:D.smart,bRegex:D.regex,bCaseInsensitive:D.caseInsensitive}}function wr(D){var te=D.sTableId,ye=D.aanFeatures.i,_e=be("<div/>",{class:D.oClasses.sInfo,id:ye?null:te+"_info"});return ye||(D.aoDrawCallback.push({fn:io,sName:"information"}),_e.attr("role","status").attr("aria-live","polite"),be(D.nTable).attr("aria-describedby",te+"_info")),_e[0]}function io(D){var te,ye,_e,Ee,Xe,He,Ge=D.aanFeatures.i;0!==Ge.length&&(He=D.oLanguage,te=D._iDisplayStart+1,ye=D.fnDisplayEnd(),_e=D.fnRecordsTotal(),Xe=(Ee=D.fnRecordsDisplay())?He.sInfo:He.sInfoEmpty,Ee!==_e&&(Xe+=" "+He.sInfoFiltered),Xe=Qt(D,Xe+=He.sInfoPostFix),null!==(He=He.fnInfoCallback)&&(Xe=He.call(D.oInstance,D,te,ye,_e,Ee,Xe)),be(Ge).html(Xe))}function Qt(D,te){var ye=D.fnFormatNumber,_e=D._iDisplayStart+1,Ee=D._iDisplayLength,Xe=D.fnRecordsDisplay(),He=-1===Ee;return te.replace(/_START_/g,ye.call(D,_e)).replace(/_END_/g,ye.call(D,D.fnDisplayEnd())).replace(/_MAX_/g,ye.call(D,D.fnRecordsTotal())).replace(/_TOTAL_/g,ye.call(D,Xe)).replace(/_PAGE_/g,ye.call(D,He?1:Math.ceil(_e/Ee))).replace(/_PAGES_/g,ye.call(D,He?1:Math.ceil(Xe/Ee)))}function hn(D){var te,ye,_e,Ee=D.iInitDisplayStart,Xe=D.aoColumns,He=D.oFeatures,Ge=D.bDeferLoading;if(D.bInitialised){for(fn(D),ui(D),Ii(D,D.aoHeader),Ii(D,D.aoFooter),hi(D,!0),He.bAutoWidth&&Ki(D),te=0,ye=Xe.length;te<ye;te++)(_e=Xe[te]).sWidth&&(_e.nTh.style.width=zi(_e.sWidth));Bi(D,null,"preInit",[D]),Yt(D),"ssp"==(He=$i(D))&&!Ge||("ajax"==He?Pn(D,[],function(ft){var S=ai(D,ft);for(te=0;te<S.length;te++)Nn(D,S[te]);D.iInitDisplayStart=Ee,Yt(D),hi(D,!1),Un(D,ft)}):(hi(D,!1),Un(D)))}else setTimeout(function(){hn(D)},200)}function Un(D,te){D._bInitComplete=!0,(te||D.oInit.aaData)&&Pt(D),Bi(D,null,"plugin-init",[D,te]),Bi(D,"aoInitComplete","init",[D,te])}function Bn(D,te){te=parseInt(te,10),D._iDisplayLength=te,Gr(D),Bi(D,null,"length",[D,te])}function Qn(D){for(var te=D.oClasses,ye=D.sTableId,_e=D.aLengthMenu,Ee=Array.isArray(_e[0]),Xe=Ee?_e[0]:_e,He=Ee?_e[1]:_e,Ge=be("<select/>",{name:ye+"_length","aria-controls":ye,class:te.sLengthSelect}),ft=0,S=Xe.length;ft<S;ft++)Ge[0][ft]=new Option("number"==typeof He[ft]?D.fnFormatNumber(He[ft]):He[ft],Xe[ft]);var k=be("<div><label/></div>").addClass(te.sLength);return D.aanFeatures.l||(k[0].id=ye+"_length"),k.children().append(D.oLanguage.sLengthMenu.replace("_MENU_",Ge[0].outerHTML)),be("select",k).val(D._iDisplayLength).on("change.DT",function(re){Bn(D,be(this).val()),ri(D)}),be(D.nTable).on("length.dt.DT",function(re,fe,L){D===fe&&be("select",k).val(L)}),k[0]}function bi(D){function te(He){ri(He)}var ye=B.ext.pager[Ee=D.sPaginationType],_e="function"==typeof ye,Ee=be("<div/>").addClass(D.oClasses.sPaging+Ee)[0],Xe=D.aanFeatures;return _e||ye.fnInit(D,Ee,te),Xe.p||(Ee.id=D.sTableId+"_paginate",D.aoDrawCallback.push({fn:function(He){if(_e)for(var Ge=He._iDisplayStart,ft=He._iDisplayLength,S=He.fnRecordsDisplay(),k=-1===ft,re=k?0:Math.ceil(Ge/ft),fe=k?1:Math.ceil(S/ft),L=ye(re,fe),M=0,x=Xe.p.length;M<x;M++)Vr(He,"pageButton")(He,Xe.p[M],M,L,re,fe);else ye.fnUpdate(He,te)},sName:"pagination"})),Ee}function wi(D,te,ye){var _e=D._iDisplayStart,Ee=D._iDisplayLength,Xe=(0===(Xe=D.fnRecordsDisplay())||-1===Ee?_e=0:"number"==typeof te?Xe<(_e=te*Ee)&&(_e=0):"first"==te?_e=0:"previous"==te?(_e=0<=Ee?_e-Ee:0)<0&&(_e=0):"next"==te?_e+Ee<Xe&&(_e+=Ee):"last"==te?_e=Math.floor((Xe-1)/Ee)*Ee:hr(D,0,"Unknown paging action: "+te,5),D._iDisplayStart!==_e);return D._iDisplayStart=_e,Xe?(Bi(D,null,"page",[D]),ye&&ri(D)):Bi(D,null,"page-nc",[D]),Xe}function Ai(D){return be("<div/>",{id:D.aanFeatures.r?null:D.sTableId+"_processing",class:D.oClasses.sProcessing,role:"status"}).html(D.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(D.nTable)[0]}function hi(D,te){D.oFeatures.bProcessing&&be(D.aanFeatures.r).css("display",te?"block":"none"),Bi(D,null,"processing",[D,te])}function Ci(D){var te,ye,_e,Ee,Xe,He,Ge,ft,S,k,re,fe,L=be(D.nTable),M=D.oScroll;return""===M.sX&&""===M.sY?D.nTable:(te=M.sX,ye=M.sY,_e=D.oClasses,Xe=(Ee=L.children("caption")).length?Ee[0]._captionSide:null,ft=be(L[0].cloneNode(!1)),He=be(L[0].cloneNode(!1)),S=function(x){return x?zi(x):null},(Ge=L.children("tfoot")).length||(Ge=null),ft=be(re="<div/>",{class:_e.sScrollWrapper}).append(be(re,{class:_e.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:te?S(te):"100%"}).append(be(re,{class:_e.sScrollHeadInner}).css({"box-sizing":"content-box",width:M.sXInner||"100%"}).append(ft.removeAttr("id").css("margin-left",0).append("top"===Xe?Ee:null).append(L.children("thead"))))).append(be(re,{class:_e.sScrollBody}).css({position:"relative",overflow:"auto",width:S(te)}).append(L)),Ge&&ft.append(be(re,{class:_e.sScrollFoot}).css({overflow:"hidden",border:0,width:te?S(te):"100%"}).append(be(re,{class:_e.sScrollFootInner}).append(He.removeAttr("id").css("margin-left",0).append("bottom"===Xe?Ee:null).append(L.children("tfoot"))))),S=ft.children(),k=S[0],re=S[1],fe=Ge?S[2]:null,te&&be(re).on("scroll.DT",function(x){var w=this.scrollLeft;k.scrollLeft=w,Ge&&(fe.scrollLeft=w)}),be(re).css("max-height",ye),M.bCollapse||be(re).css("height",ye),D.nScrollHead=k,D.nScrollBody=re,D.nScrollFoot=fe,D.aoDrawCallback.push({fn:gi,sName:"scrolling"}),ft[0])}function gi(D){function te(W){(W=W.style).paddingTop="0",W.paddingBottom="0",W.borderTopWidth="0",W.borderBottomWidth="0",W.height=0}var ye,_e,Ee,Xe,He,Ge=(k=D.oScroll).sX,ft=k.sXInner,S=k.sY,k=k.iBarWidth,re=be(D.nScrollHead),fe=re[0].style,L=(M=re.children("div"))[0].style,M=M.children("table"),x=D.nScrollBody,w=be(x),v=x.style,f=be(D.nScrollFoot).children("div"),p=f.children("table"),_=be(D.nTHead),C=be(D.nTable),I=C[0],N=I.style,z=D.nTFoot?be(D.nTFoot):null,V=D.oBrowser,Y=V.bScrollOversize,U=(We(D.aoColumns,"nTh"),[]),ne=[],X=[],le=[],G=x.scrollHeight>x.clientHeight;D.scrollBarVis!==G&&D.scrollBarVis!==ve?(D.scrollBarVis=G,Pt(D)):(D.scrollBarVis=G,C.children("thead, tfoot").remove(),z&&(G=z.clone().prependTo(C),He=z.find("tr"),_e=G.find("tr"),G.find("[id]").removeAttr("id")),G=_.clone().prependTo(C),_=_.find("tr"),ye=G.find("tr"),G.find("th, td").removeAttr("tabindex"),G.find("[id]").removeAttr("id"),Ge||(v.width="100%",re[0].style.width="100%"),be.each(jn(D,G),function(W,F){Ee=un(D,W),F.style.width=D.aoColumns[Ee].sWidth}),z&&mi(function(W){W.style.width=""},_e),re=C.outerWidth(),""===Ge?(N.width="100%",Y&&(C.find("tbody").height()>x.offsetHeight||"scroll"==w.css("overflow-y"))&&(N.width=zi(C.outerWidth()-k)),re=C.outerWidth()):""!==ft&&(N.width=zi(ft),re=C.outerWidth()),mi(te,ye),mi(function(W){var F=Ae.getComputedStyle?Ae.getComputedStyle(W).width:zi(be(W).width());X.push(W.innerHTML),U.push(F)},ye),mi(function(W,F){W.style.width=U[F]},_),be(ye).css("height",0),z&&(mi(te,_e),mi(function(W){le.push(W.innerHTML),ne.push(zi(be(W).css("width")))},_e),mi(function(W,F){W.style.width=ne[F]},He),be(_e).height(0)),mi(function(W,F){W.innerHTML='<div class="dataTables_sizing">'+X[F]+"</div>",W.childNodes[0].style.height="0",W.childNodes[0].style.overflow="hidden",W.style.width=U[F]},ye),z&&mi(function(W,F){W.innerHTML='<div class="dataTables_sizing">'+le[F]+"</div>",W.childNodes[0].style.height="0",W.childNodes[0].style.overflow="hidden",W.style.width=ne[F]},_e),Math.round(C.outerWidth())<Math.round(re)?(Xe=x.scrollHeight>x.offsetHeight||"scroll"==w.css("overflow-y")?re+k:re,Y&&(x.scrollHeight>x.offsetHeight||"scroll"==w.css("overflow-y"))&&(N.width=zi(Xe-k)),""!==Ge&&""===ft||hr(D,1,"Possible column misalignment",6)):Xe="100%",v.width=zi(Xe),fe.width=zi(Xe),z&&(D.nScrollFoot.style.width=zi(Xe)),S||Y&&(v.height=zi(I.offsetHeight+k)),G=C.outerWidth(),M[0].style.width=zi(G),L.width=zi(G),_=C.height()>x.clientHeight||"scroll"==w.css("overflow-y"),L[He="padding"+(V.bScrollbarLeft?"Left":"Right")]=_?k+"px":"0px",z&&(p[0].style.width=zi(G),f[0].style.width=zi(G),f[0].style[He]=_?k+"px":"0px"),C.children("colgroup").insertBefore(C.children("thead")),w.trigger("scroll"),!D.bSorted&&!D.bFiltered||D._drawHold||(x.scrollTop=0))}function mi(D,te,ye){for(var _e,Ee,Xe=0,He=0,Ge=te.length;He<Ge;){for(_e=te[He].firstChild,Ee=ye?ye[He].firstChild:null;_e;)1===_e.nodeType&&(ye?D(_e,Ee,Xe):D(_e,Xe),Xe++),_e=_e.nextSibling,Ee=ye?Ee.nextSibling:null;He++}}var Li=/<.*?>/g;function Ki(D){var te,ye,_e=D.nTable,Ee=D.aoColumns,Xe=(Ge=D.oScroll).sY,He=Ge.sX,Ge=Ge.sXInner,ft=Ee.length,S=cn(D,"bVisible"),k=be("th",D.nTHead),re=_e.getAttribute("width"),fe=_e.parentNode,L=!1,M=D.oBrowser,x=M.bScrollOversize,v=((w=_e.style.width)&&-1!==w.indexOf("%")&&(re=w),Fr(We(Ee,"sWidthOrig"),fe));for(I=0;I<S.length;I++)null!==(te=Ee[S[I]]).sWidth&&(te.sWidth=v[I],L=!0);if(x||!L&&!He&&!Xe&&ft==zt(D)&&ft==k.length)for(I=0;I<ft;I++){var f=un(D,I);null!==f&&(Ee[f].sWidth=zi(k.eq(I).width()))}else{var w,p=((w=be(_e).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove(),be("<tr/>").appendTo(w.find("tbody")));for(w.find("thead, tfoot").remove(),w.append(be(D.nTHead).clone()).append(be(D.nTFoot).clone()),w.find("tfoot th, tfoot td").css("width",""),k=jn(D,w.find("thead")[0]),I=0;I<S.length;I++)k[I].style.width=null!==(te=Ee[S[I]]).sWidthOrig&&""!==te.sWidthOrig?zi(te.sWidthOrig):"",te.sWidthOrig&&He&&be(k[I]).append(be("<div/>").css({width:te.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(D.aoData.length)for(I=0;I<S.length;I++)te=Ee[ye=S[I]],be(Sr(D,ye)).clone(!1).append(te.sContentPadding).appendTo(p);be("[name]",w).removeAttr("name");for(var _=be("<div/>").css(He||Xe?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(w).appendTo(fe),C=(He&&Ge?w.width(Ge):He?(w.css("width","auto"),w.removeAttr("width"),w.width()<fe.clientWidth&&re&&w.width(fe.clientWidth)):Xe?w.width(fe.clientWidth):re&&w.width(re),0),I=0;I<S.length;I++){var z,N=(z=be(k[I])).outerWidth()-z.width();C+=z=M.bBounding?Math.ceil(k[I].getBoundingClientRect().width):z.outerWidth(),Ee[S[I]].sWidth=zi(z-N)}_e.style.width=zi(C),_.remove()}re&&(_e.style.width=zi(re)),!re&&!He||D._reszEvt||(Ge=function(){be(Ae).on("resize.DT-"+D.sInstance,ar(function(){Pt(D)}))},x?setTimeout(Ge,1e3):Ge(),D._reszEvt=!0)}var ar=B.util.throttle;function Fr(D,te){for(var ye=[],_e=[],Ee=0;Ee<D.length;Ee++)ye.push(D[Ee]?be("<div/>").css("width",zi(D[Ee])).appendTo(te||Sn.body):null);for(Ee=0;Ee<D.length;Ee++)_e.push(ye[Ee]?ye[Ee][0].offsetWidth:null);return be(ye).remove(),_e}function Sr(D,te){var ye,_e=Ur(D,te);return _e<0?null:(ye=D.aoData[_e]).nTr?ye.anCells[te]:be("<td/>").html(On(D,_e,te,"display"))[0]}function Ur(D,te){for(var ye,_e=-1,Ee=-1,Xe=0,He=D.aoData.length;Xe<He;Xe++)(ye=(ye=(ye=On(D,Xe,te,"display")+"").replace(Li,"")).replace(/&nbsp;/g," ")).length>_e&&(_e=ye.length,Ee=Xe);return Ee}function zi(D){return null===D?"0px":"number"==typeof D?D<0?"0px":D+"px":D.match(/\d$/)?D+"px":D}function Xr(D){function te(M){M.length&&!Array.isArray(M[0])?L.push(M):be.merge(L,M)}var ye,_e,Ee,Xe,He,Ge,ft,S=[],k=D.aoColumns,re=D.aaSortingFixed,fe=be.isPlainObject(re),L=[];for(Array.isArray(re)&&te(re),fe&&re.pre&&te(re.pre),te(D.aaSorting),fe&&re.post&&te(re.post),ye=0;ye<L.length;ye++)for(Ee=(Xe=k[ft=L[ye][_e=0]].aDataSort).length;_e<Ee;_e++)Ge=k[He=Xe[_e]].sType||"string",L[ye]._idx===ve&&(L[ye]._idx=be.inArray(L[ye][1],k[He].asSorting)),S.push({src:ft,col:He,dir:L[ye][1],index:L[ye]._idx,type:Ge,formatter:B.ext.type.order[Ge+"-pre"]});return S}function ro(D){var te,ye,_e,Ee,Xe,He=[],Ge=B.ext.type.order,ft=D.aoData,S=0,k=D.aiDisplayMaster;for(Mn(D),te=0,ye=(Xe=Xr(D)).length;te<ye;te++)(Ee=Xe[te]).formatter&&S++,ra(D,Ee.col);if("ssp"!=$i(D)&&0!==Xe.length){for(te=0,_e=k.length;te<_e;te++)He[k[te]]=te;k.sort(S===Xe.length?function(re,fe){for(var L,M,x,w,v=Xe.length,f=ft[re]._aSortData,p=ft[fe]._aSortData,_=0;_<v;_++)if(0!=(x=(L=f[(w=Xe[_]).col])<(M=p[w.col])?-1:M<L?1:0))return"asc"===w.dir?x:-x;return(L=He[re])<(M=He[fe])?-1:M<L?1:0}:function(re,fe){for(var L,M,x,w=Xe.length,v=ft[re]._aSortData,f=ft[fe]._aSortData,p=0;p<w;p++)if(L=v[(x=Xe[p]).col],0!==(x=(Ge[x.type+"-"+x.dir]||Ge["string-"+x.dir])(L,M=f[x.col])))return x;return(L=He[re])<(M=He[fe])?-1:M<L?1:0})}D.bSorted=!0}function oo(D){for(var te=D.aoColumns,ye=Xr(D),_e=D.oLanguage.oAria,Ee=0,Xe=te.length;Ee<Xe;Ee++){var He=te[Ee],Ge=He.asSorting,ft=He.ariaTitle||He.sTitle.replace(/<.*?>/g,""),S=He.nTh;S.removeAttribute("aria-sort"),He=He.bSortable?ft+("asc"===(0<ye.length&&ye[0].col==Ee&&(S.setAttribute("aria-sort","asc"==ye[0].dir?"ascending":"descending"),Ge[ye[0].index+1])||Ge[0])?_e.sSortAscending:_e.sSortDescending):ft,S.setAttribute("aria-label",He)}}function So(D,te,ye,_e){function Ee(S,k){var re=S._idx;return(re=re===ve?be.inArray(S[1],ft):re)+1<ft.length?re+1:k?null:0}var Xe,He=D.aoColumns[te],Ge=D.aaSorting,ft=He.asSorting;"number"==typeof Ge[0]&&(Ge=D.aaSorting=[Ge]),ye&&D.oFeatures.bSortMulti?-1!==(He=be.inArray(te,We(Ge,"0")))?null===(Xe=null===(Xe=Ee(Ge[He],!0))&&1===Ge.length?0:Xe)?Ge.splice(He,1):(Ge[He][1]=ft[Xe],Ge[He]._idx=Xe):(Ge.push([te,ft[0],0]),Ge[Ge.length-1]._idx=0):Ge.length&&Ge[0][0]==te?(Xe=Ee(Ge[0]),Ge.length=1,Ge[0][1]=ft[Xe],Ge[0]._idx=Xe):(Ge.length=0,Ge.push([te,ft[0]]),Ge[0]._idx=0),Yt(D),"function"==typeof _e&&_e(D)}function Ho(D,te,ye,_e){var Ee=D.aoColumns[ye];Co(te,{},function(Xe){!1!==Ee.bSortable&&(D.oFeatures.bProcessing?(hi(D,!0),setTimeout(function(){So(D,ye,Xe.shiftKey,_e),"ssp"!==$i(D)&&hi(D,!1)},0)):So(D,ye,Xe.shiftKey,_e))})}function Er(D){var te,ye,Ee=D.aLastSort,Xe=D.oClasses.sSortColumn,He=Xr(D),Ge=D.oFeatures;if(Ge.bSort&&Ge.bSortClasses){for(te=0,ye=Ee.length;te<ye;te++)be(We(D.aoData,"anCells",Ee[te].src)).removeClass(Xe+(te<2?te+1:3));for(te=0,ye=He.length;te<ye;te++)be(We(D.aoData,"anCells",He[te].src)).addClass(Xe+(te<2?te+1:3))}D.aLastSort=He}function ra(D,te){for(var ye,_e,Ee,Xe=D.aoColumns[te],He=B.ext.order[Xe.sSortDataType],Ge=(He&&(ye=He.call(D.oInstance,D,te,vn(D,te))),B.ext.type.order[Xe.sType+"-pre"]),ft=0,S=D.aoData.length;ft<S;ft++)(_e=D.aoData[ft])._aSortData||(_e._aSortData=[]),_e._aSortData[te]&&!He||(Ee=He?ye[ft]:On(D,ft,te,"sort"),_e._aSortData[te]=Ge?Ge(Ee):Ee)}function vo(D){var te;D._bLoadingState||(te={time:+new Date,start:D._iDisplayStart,length:D._iDisplayLength,order:be.extend(!0,[],D.aaSorting),search:pr(D.oPreviousSearch),columns:be.map(D.aoColumns,function(ye,_e){return{visible:ye.bVisible,search:pr(D.aoPreSearchCols[_e])}})},D.oSavedState=te,Bi(D,"aoStateSaveParams","stateSaveParams",[D,te]),D.oFeatures.bStateSave&&!D.bDestroying&&D.fnStateSaveCallback.call(D.oInstance,D,te))}function Dr(D,te,ye){var _e;if(D.oFeatures.bStateSave)return(_e=D.fnStateLoadCallback.call(D.oInstance,D,function(Ee){yr(D,Ee,ye)}))!==ve&&yr(D,_e,ye),!0;ye()}function yr(D,te,ye){var _e,Ee,Xe=D.aoColumns,He=(D._bLoadingState=!0,D._bInitComplete?new B.Api(D):null);if(te&&te.time){var Ge=Bi(D,"aoStateLoadParams","stateLoadParams",[D,te]);if(-1!==be.inArray(!1,Ge))D._bLoadingState=!1;else if(0<(Ge=D.iStateDuration)&&te.time<+new Date-1e3*Ge)D._bLoadingState=!1;else if(te.columns&&Xe.length!==te.columns.length)D._bLoadingState=!1;else{if(D.oLoadedState=be.extend(!0,{},te),te.length!==ve&&(He?He.page.len(te.length):D._iDisplayLength=te.length),te.start!==ve&&(null===He?(D._iDisplayStart=te.start,D.iInitDisplayStart=te.start):wi(D,te.start/D._iDisplayLength)),te.order!==ve&&(D.aaSorting=[],be.each(te.order,function(S,k){D.aaSorting.push(k[0]>=Xe.length?[0,k[1]]:k)})),te.search!==ve&&be.extend(D.oPreviousSearch,Wi(te.search)),te.columns){for(_e=0,Ee=te.columns.length;_e<Ee;_e++){var ft=te.columns[_e];ft.visible!==ve&&(He?He.column(_e).visible(ft.visible,!1):Xe[_e].bVisible=ft.visible),ft.search!==ve&&be.extend(D.aoPreSearchCols[_e],Wi(ft.search))}He&&He.columns.adjust()}D._bLoadingState=!1,Bi(D,"aoStateLoaded","stateLoaded",[D,te])}}else D._bLoadingState=!1;ye()}function Hr(ye){var te=B.settings;return-1!==(ye=be.inArray(ye,We(te,"nTable")))?te[ye]:null}function hr(D,te,ye,_e){if(ye="DataTables warning: "+(D?"table id="+D.sTableId+" - ":"")+ye,_e&&(ye+=". For more information about this error, please see https://datatables.net/tn/"+_e),te)Ae.console&&console.log&&console.log(ye);else if(te=(te=B.ext).sErrMode||te.errMode,D&&Bi(D,null,"error",[D,_e,ye]),"alert"==te)alert(ye);else{if("throw"==te)throw new Error(ye);"function"==typeof te&&te(D,_e,ye)}}function Ji(D,te,ye,_e){Array.isArray(ye)?be.each(ye,function(Ee,Xe){Array.isArray(Xe)?Ji(D,te,Xe[0],Xe[1]):Ji(D,te,Xe)}):(_e===ve&&(_e=ye),te[ye]!==ve&&(D[_e]=te[ye]))}function xr(D,te,ye){var _e,Ee;for(Ee in te)te.hasOwnProperty(Ee)&&(be.isPlainObject(_e=te[Ee])?(be.isPlainObject(D[Ee])||(D[Ee]={}),be.extend(!0,D[Ee],_e)):D[Ee]=ye&&"data"!==Ee&&"aaData"!==Ee&&Array.isArray(_e)?_e.slice():_e);return D}function Co(D,te,ye){be(D).on("click.DT",te,function(_e){be(D).trigger("blur"),ye(_e)}).on("keypress.DT",te,function(_e){13===_e.which&&(_e.preventDefault(),ye(_e))}).on("selectstart.DT",function(){return!1})}function Qi(D,te,ye,_e){ye&&D[te].push({fn:ye,sName:_e})}function Bi(D,te,ye,_e){var Ee=[];return te&&(Ee=be.map(D[te].slice().reverse(),function(Xe,He){return Xe.fn.apply(D.oInstance,_e)})),null!==ye&&(te=be.Event(ye+".dt"),(ye=be(D.nTable)).trigger(te,_e),0===ye.parents("body").length&&be("body").trigger(te,_e),Ee.push(te.result)),Ee}function Gr(D){var te=D._iDisplayStart,ye=D.fnDisplayEnd(),_e=D._iDisplayLength;ye<=te&&(te=ye-_e),te-=te%_e,D._iDisplayStart=te=-1===_e||te<0?0:te}function Vr(ye,te){var _e=B.ext.renderer[te];return be.isPlainObject(ye=ye.renderer)&&ye[te]?_e[ye[te]]||_e._:"string"==typeof ye&&_e[ye]||_e._}function $i(D){return D.oFeatures.bServerSide?"ssp":D.ajax||D.sAjaxSource?"ajax":"dom"}function sr(D,te){var ye;return Array.isArray(D)?be.map(D,function(_e){return sr(_e,te)}):"number"==typeof D?[te[D]]:(ye=be.map(te,function(_e,Ee){return _e.nTable}),be(ye).filter(D).map(function(_e){var Ee=be.inArray(this,ye);return te[Ee]}).toArray())}function br(D,te,ye){var _e,Ee;ye&&(_e=new Oi(D)).one("draw",function(){ye(_e.ajax.json())}),"ssp"==$i(D)?Yt(D,te):(hi(D,!0),(Ee=D.jqXHR)&&4!==Ee.readyState&&Ee.abort(),Pn(D,[],function(Xe){qt(D);for(var He=ai(D,Xe),Ge=0,ft=He.length;Ge<ft;Ge++)Nn(D,He[Ge]);Yt(D,te),hi(D,!1)}))}function or(D,te,ye,_e,Ee){for(var Xe,He,Ge,ft,S=[],k=typeof te,re=0,fe=(te=te&&"string"!=k&&"function"!=k&&te.length!==ve?te:[te]).length;re<fe;re++)for(Ge=0,ft=(He=te[re]&&te[re].split&&!te[re].match(/[\[\(:]/)?te[re].split(","):[te[re]]).length;Ge<ft;Ge++)(Xe=ye("string"==typeof He[Ge]?He[Ge].trim():He[Ge]))&&Xe.length&&(S=S.concat(Xe));var L=J.selector[D];if(L.length)for(re=0,fe=L.length;re<fe;re++)S=L[re](_e,Ee,S);return ke(S)}function To(D){return(D=D||{}).filter&&D.search===ve&&(D.search=D.filter),be.extend({search:"none",order:"current",page:"all"},D)}function Eo(D){for(var te=0,ye=D.length;te<ye;te++)if(0<D[te].length)return D[0]=D[te],D[0].length=1,D.length=1,D.context=[D.context[te]],D;return D.length=0,D}function lo(D,te){var ye=D.context;if(ye.length&&D.length&&(_e=ye[0].aoData[D[0]])._details){(_e._detailsShow=te)?(_e._details.insertAfter(_e.nTr),be(_e.nTr).addClass("dt-hasChild")):(_e._details.detach(),be(_e.nTr).removeClass("dt-hasChild")),Bi(ye[0],null,"childRow",[te,D.row(D[0])]);var _e,Ee=ye[0],Xe=new Oi(Ee),He=Ee.aoData;Xe.off((te="draw"+(_e=".dt.DT_details"))+" "+(D="column-sizing"+_e)+" "+(_e="destroy"+_e)),We(He,"_details").length>0&&(Xe.on(te,function(k,re){Ee===re&&Xe.rows({page:"current"}).eq(0).each(function(fe){var L=He[fe];L._detailsShow&&L._details.insertAfter(L.nTr)})}),Xe.on(D,function(k,re,fe,L){if(Ee===re)for(var M,x=zt(re),w=0,v=He.length;w<v;w++)(M=He[w])._details&&M._details.each(function(){var f=be(this).children("td");1==f.length&&f.attr("colspan",x)})}),Xe.on(_e,function(k,re){if(Ee===re)for(var fe=0,L=He.length;fe<L;fe++)He[fe]._details&&Nr(Xe,fe)})),uo(ye)}}function Vo(D,te,ye,_e,Ee){for(var Xe=[],He=0,Ge=Ee.length;He<Ge;He++)Xe.push(On(D,Ee[He],te));return Xe}var No=[],ir=Array.prototype,Oi=function(D,te){if(!(this instanceof Oi))return new Oi(D,te);function ye(He){var Ge,ft,S,k;k=be.map(S=B.settings,function(re,fe){return re.nTable}),(He=He?He.nTable&&He.oApi?[He]:He.nodeName&&"table"===He.nodeName.toLowerCase()?-1!==(Ge=be.inArray(He,k))?[S[Ge]]:null:He&&"function"==typeof He.settings?He.settings().toArray():("string"==typeof He?ft=be(He):He instanceof be&&(ft=He),ft?ft.map(function(re){return-1!==(Ge=be.inArray(this,k))?S[Ge]:null}).toArray():void 0):[])&&_e.push.apply(_e,He)}var _e=[];if(Array.isArray(D))for(var Ee=0,Xe=D.length;Ee<Xe;Ee++)ye(D[Ee]);else ye(D);this.context=ke(_e),te&&be.merge(this,te),this.selector={rows:null,cols:null,opts:null},Oi.extend(this,this,No)},Kr=(B.Api=Oi,be.extend(Oi.prototype,{any:function(){return 0!==this.count()},concat:ir.concat,context:[],count:function(){return this.flatten().length},each:function(D){for(var te=0,ye=this.length;te<ye;te++)D.call(this,this[te],te,this);return this},eq:function(D){var te=this.context;return te.length>D?new Oi(te[D],this[D]):null},filter:function(D){var te=[];if(ir.filter)te=ir.filter.call(this,D,this);else for(var ye=0,_e=this.length;ye<_e;ye++)D.call(this,this[ye],ye,this)&&te.push(this[ye]);return new Oi(this.context,te)},flatten:function(){var D=[];return new Oi(this.context,D.concat.apply(D,this.toArray()))},join:ir.join,indexOf:ir.indexOf||function(D,te){for(var ye=te||0,_e=this.length;ye<_e;ye++)if(this[ye]===D)return ye;return-1},iterator:function(D,te,ye,_e){var Ee,Xe,He,Ge,ft,S,k,re,fe=[],L=this.context,M=this.selector;for("string"==typeof D&&(_e=ye,ye=te,te=D,D=!1),Xe=0,He=L.length;Xe<He;Xe++){var x=new Oi(L[Xe]);if("table"===te)(Ee=ye.call(x,L[Xe],Xe))!==ve&&fe.push(Ee);else if("columns"===te||"rows"===te)(Ee=ye.call(x,L[Xe],this[Xe],Xe))!==ve&&fe.push(Ee);else if("column"===te||"column-rows"===te||"row"===te||"cell"===te)for(k=this[Xe],"column-rows"===te&&(S=Kr(L[Xe],M.opts)),Ge=0,ft=k.length;Ge<ft;Ge++)re=k[Ge],(Ee="cell"===te?ye.call(x,L[Xe],re.row,re.column,Xe,Ge):ye.call(x,L[Xe],re,Xe,Ge,S))!==ve&&fe.push(Ee)}return fe.length||_e?((D=(_e=new Oi(L,D?fe.concat.apply([],fe):fe)).selector).rows=M.rows,D.cols=M.cols,D.opts=M.opts,_e):this},lastIndexOf:ir.lastIndexOf||function(D,te){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(D){var te=[];if(ir.map)te=ir.map.call(this,D,this);else for(var ye=0,_e=this.length;ye<_e;ye++)te.push(D.call(this,this[ye],ye));return new Oi(this.context,te)},pluck:function(D){var te=B.util.get(D);return this.map(function(ye){return te(ye)})},pop:ir.pop,push:ir.push,reduce:ir.reduce||function(D,te){return bt(this,D,te,0,this.length,1)},reduceRight:ir.reduceRight||function(D,te){return bt(this,D,te,this.length-1,-1,-1)},reverse:ir.reverse,selector:null,shift:ir.shift,slice:function(){return new Oi(this.context,this)},sort:ir.sort,splice:ir.splice,toArray:function(){return ir.slice.call(this)},to$:function(){return be(this)},toJQuery:function(){return be(this)},unique:function(){return new Oi(this.context,ke(this))},unshift:ir.unshift}),Oi.extend=function(D,te,ye){if(ye.length&&te&&(te instanceof Oi||te.__dt_wrapper))for(var _e,Ee=0,Xe=ye.length;Ee<Xe;Ee++)te[(_e=ye[Ee]).name]="function"===_e.type?function(He,Ge,ft){return function(){var S=Ge.apply(He,arguments);return Oi.extend(S,S,ft.methodExt),S}}(D,_e.val,_e):"object"===_e.type?{}:_e.val,te[_e.name].__dt_wrapper=!0,Oi.extend(D,te[_e.name],_e.propExt)},Oi.register=ee=function(D,te){if(Array.isArray(D))for(var ye=0,_e=D.length;ye<_e;ye++)Oi.register(D[ye],te);else for(var Ee=D.split("."),Xe=No,He=0,Ge=Ee.length;He<Ge;He++){var ft,S,k=function(re,fe){for(var L=0,M=re.length;L<M;L++)if(re[L].name===fe)return re[L];return null}(Xe,S=(ft=-1!==Ee[He].indexOf("()"))?Ee[He].replace("()",""):Ee[He]);k||Xe.push(k={name:S,val:{},methodExt:[],propExt:[],type:"object"}),He===Ge-1?(k.val=te,k.type="function"==typeof te?"function":be.isPlainObject(te)?"object":"other"):Xe=ft?k.methodExt:k.propExt}},Oi.registerPlural=O=function(D,te,ye){Oi.register(D,ye),Oi.register(te,function(){var _e=ye.apply(this,arguments);return _e===this?this:_e instanceof Oi?_e.length?Array.isArray(_e[0])?new Oi(_e.context,_e[0]):_e[0]:ve:_e})},ee("tables()",function(D){return D!==ve&&null!==D?new Oi(sr(D,this.context)):this}),ee("table()",function(te){var ye=(te=this.tables(te)).context;return ye.length?new Oi(ye[0]):te}),O("tables().nodes()","table().node()",function(){return this.iterator("table",function(D){return D.nTable},1)}),O("tables().body()","table().body()",function(){return this.iterator("table",function(D){return D.nTBody},1)}),O("tables().header()","table().header()",function(){return this.iterator("table",function(D){return D.nTHead},1)}),O("tables().footer()","table().footer()",function(){return this.iterator("table",function(D){return D.nTFoot},1)}),O("tables().containers()","table().container()",function(){return this.iterator("table",function(D){return D.nTableWrapper},1)}),ee("draw()",function(D){return this.iterator("table",function(te){"page"===D?ri(te):Yt(te,!1===(D="string"==typeof D?"full-hold"!==D:D))})}),ee("page()",function(D){return D===ve?this.page.info().page:this.iterator("table",function(te){wi(te,D)})}),ee("page.info()",function(D){var te,ye,_e,Ee,Xe;return 0===this.context.length?ve:(ye=(te=this.context[0])._iDisplayStart,_e=te.oFeatures.bPaginate?te._iDisplayLength:-1,Ee=te.fnRecordsDisplay(),{page:(Xe=-1===_e)?0:Math.floor(ye/_e),pages:Xe?1:Math.ceil(Ee/_e),start:ye,end:te.fnDisplayEnd(),length:_e,recordsTotal:te.fnRecordsTotal(),recordsDisplay:Ee,serverSide:"ssp"===$i(te)})}),ee("page.len()",function(D){return D===ve?0!==this.context.length?this.context[0]._iDisplayLength:ve:this.iterator("table",function(te){Bn(te,D)})}),ee("ajax.json()",function(){var D=this.context;if(0<D.length)return D[0].json}),ee("ajax.params()",function(){var D=this.context;if(0<D.length)return D[0].oAjaxData}),ee("ajax.reload()",function(D,te){return this.iterator("table",function(ye){br(ye,!1===te,D)})}),ee("ajax.url()",function(D){var te=this.context;return D===ve?0===te.length?ve:(te=te[0]).ajax?be.isPlainObject(te.ajax)?te.ajax.url:te.ajax:te.sAjaxSource:this.iterator("table",function(ye){be.isPlainObject(ye.ajax)?ye.ajax.url=D:ye.ajax=D})}),ee("ajax.url().load()",function(D,te){return this.iterator("table",function(ye){br(ye,!1===te,D)})}),function(D,ft){var ye,_e=[],Ee=D.aiDisplay,Xe=D.aiDisplayMaster,He=ft.search,Ge=ft.order;if(ft=ft.page,"ssp"==$i(D))return"removed"===He?[]:Z(0,Xe.length);if("current"==ft)for(k=D._iDisplayStart,re=D.fnDisplayEnd();k<re;k++)_e.push(Ee[k]);else if("current"==Ge||"applied"==Ge){if("none"==He)_e=Xe.slice();else if("applied"==He)_e=Ee.slice();else if("removed"==He){for(var S={},k=0,re=Ee.length;k<re;k++)S[Ee[k]]=null;_e=be.map(Xe,function(fe){return S.hasOwnProperty(fe)?null:fe})}}else if("index"==Ge||"original"==Ge)for(k=0,re=D.aoData.length;k<re;k++)("none"==He||-1===(ye=be.inArray(k,Ee))&&"removed"==He||0<=ye&&"applied"==He)&&_e.push(k);return _e}),uo=(ee("rows()",function(D,te){D===ve?D="":be.isPlainObject(D)&&(te=D,D=""),te=To(te);var ye=this.iterator("table",function(_e){return or("row",D,function(Ge){var ft=at(Ge),S=Ee.aoData;if(null!==ft&&!Xe)return[ft];if(He=He||Kr(Ee,Xe),null!==ft&&-1!==be.inArray(ft,He))return[ft];if(null===Ge||Ge===ve||""===Ge)return He;if("function"==typeof Ge)return be.map(He,function(re){var fe=S[re];return Ge(re,fe._aData,fe.nTr)?re:null});if(Ge.nodeName)return k=Ge._DT_CellIndex,(ft=Ge._DT_RowIndex)!==ve?S[ft]&&S[ft].nTr===Ge?[ft]:[]:k?S[k.row]&&S[k.row].nTr===Ge.parentNode?[k.row]:[]:(ft=be(Ge).closest("*[data-dt-row]")).length?[ft.data("dt-row")]:[];if("string"==typeof Ge&&"#"===Ge.charAt(0)){var k=Ee.aIds[Ge.replace(/^#/,"")];if(k!==ve)return[k.idx]}return ft=q(Q(Ee.aoData,He,"nTr")),be(ft).filter(Ge).map(function(){return this._DT_RowIndex}).toArray()},Ee=_e,Xe=te);var Ee,Xe,He},1);return ye.selector.rows=D,ye.selector.opts=te,ye}),ee("rows().nodes()",function(){return this.iterator("row",function(D,te){return D.aoData[te].nTr||ve},1)}),ee("rows().data()",function(){return this.iterator(!0,"rows",function(D,te){return Q(D.aoData,te,"_aData")},1)}),O("rows().cache()","row().cache()",function(D){return this.iterator("row",function(te,ye){return te=te.aoData[ye],"search"===D?te._aFilterData:te._aSortData},1)}),O("rows().invalidate()","row().invalidate()",function(D){return this.iterator("row",function(te,ye){Ln(te,ye,D)})}),O("rows().indexes()","row().index()",function(){return this.iterator("row",function(D,te){return te},1)}),O("rows().ids()","row().id()",function(D){for(var te=[],ye=this.context,_e=0,Ee=ye.length;_e<Ee;_e++)for(var Xe=0,He=this[_e].length;Xe<He;Xe++){var Ge=ye[_e].rowIdFn(ye[_e].aoData[this[_e][Xe]]._aData);te.push((!0===D?"#":"")+Ge)}return new Oi(ye,te)}),O("rows().remove()","row().remove()",function(){var D=this;return this.iterator("row",function(te,ye,_e){var Ee,Xe,He,Ge,ft,S,k=te.aoData,re=k[ye];for(k.splice(ye,1),Ee=0,Xe=k.length;Ee<Xe;Ee++)if(S=(ft=k[Ee]).anCells,null!==ft.nTr&&(ft.nTr._DT_RowIndex=Ee),null!==S)for(He=0,Ge=S.length;He<Ge;He++)S[He]._DT_CellIndex.row=Ee;gn(te.aiDisplayMaster,ye),gn(te.aiDisplay,ye),gn(D[_e],ye,!1),0<te._iRecordsDisplay&&te._iRecordsDisplay--,Gr(te),(_e=te.rowIdFn(re._aData))!==ve&&delete te.aIds[_e]}),this.iterator("table",function(te){for(var ye=0,_e=te.aoData.length;ye<_e;ye++)te.aoData[ye].idx=ye}),this}),ee("rows.add()",function(D){var te=this.iterator("table",function(_e){for(var Ee,Xe=[],He=0,Ge=D.length;He<Ge;He++)(Ee=D[He]).nodeName&&"TR"===Ee.nodeName.toUpperCase()?Xe.push(sn(_e,Ee)[0]):Xe.push(Nn(_e,Ee));return Xe},1),ye=this.rows(-1);return ye.pop(),be.merge(ye,te),ye}),ee("row()",function(D,te){return Eo(this.rows(D,te))}),ee("row().data()",function(D){var te,ye=this.context;return D===ve?ye.length&&this.length?ye[0].aoData[this[0]]._aData:ve:((te=ye[0].aoData[this[0]])._aData=D,Array.isArray(D)&&te.nTr&&te.nTr.id&&Ni(ye[0].rowId)(D,te.nTr.id),Ln(ye[0],this[0],"data"),this)}),ee("row().node()",function(){var D=this.context;return D.length&&this.length&&D[0].aoData[this[0]].nTr||null}),ee("row.add()",function(D){D instanceof be&&D.length&&(D=D[0]);var te=this.iterator("table",function(ye){return D.nodeName&&"TR"===D.nodeName.toUpperCase()?sn(ye,D)[0]:Nn(ye,D)});return this.row(te[0])}),be(Sn).on("plugin-init.dt",function(D,te){var Xe,ye=new Oi(te),_e="stateSaveParams."+(Xe="on-plugin-init"),Ee="destroy. "+Xe;ye.on(_e,function(He,Ge,ft){for(var S=Ge.rowIdFn,k=Ge.aoData,re=[],fe=0;fe<k.length;fe++)k[fe]._detailsShow&&re.push("#"+S(k[fe]._aData));ft.childRows=re}),ye.on(Ee,function(){ye.off(_e+" "+Ee)}),(Xe=ye.state.loaded())&&Xe.childRows&&ye.rows(be.map(Xe.childRows,function(He){return He.replace(/:/g,"\\:")})).every(function(){Bi(te,null,"requestChild",[this])})}),B.util.throttle(function(D){vo(D[0])},500)),Nr=function(D,te){var ye=D.context;ye.length&&(te=ye[0].aoData[te!==ve?te:D[0]])&&te._details&&(te._details.remove(),te._detailsShow=ve,te._details=ve,be(te.nTr).removeClass("dt-hasChild"),uo(ye))},qr="row().child",co=qr+"()",Wo=(ee(co,function(D,te){var ye=this.context;return D===ve?ye.length&&this.length?ye[0].aoData[this[0]]._details:ve:(!0===D?this.child.show():!1===D?Nr(this):ye.length&&this.length&&function Zr(D,te,ye,_e){var Xe=[];(function Ee(He,Ge){var ft;if(Array.isArray(He)||He instanceof be)for(var S=0,k=He.length;S<k;S++)Ee(He[S],Ge);else He.nodeName&&"tr"===He.nodeName.toLowerCase()?Xe.push(He):(ft=be("<tr><td></td></tr>").addClass(Ge),be("td",ft).addClass(Ge).html(He)[0].colSpan=zt(D),Xe.push(ft[0]))})(ye,_e),te._details&&te._details.detach(),te._details=be(Xe),te._detailsShow&&te._details.insertAfter(te.nTr)}(ye[0],ye[0].aoData[this[0]],D,te),this)}),ee([qr+".show()",co+".show()"],function(D){return lo(this,!0),this}),ee([qr+".hide()",co+".hide()"],function(){return lo(this,!1),this}),ee([qr+".remove()",co+".remove()"],function(){return Nr(this),this}),ee(qr+".isShown()",function(){var D=this.context;return D.length&&this.length&&D[0].aoData[this[0]]._detailsShow||!1}),/^([^:]+):(name|visIdx|visible)$/),oa=(ee("columns()",function(D,te){D===ve?D="":be.isPlainObject(D)&&(te=D,D=""),te=To(te);var ye=this.iterator("table",function(_e){return Xe=D,He=te,Ge=(Ee=_e).aoColumns,ft=We(Ge,"sName"),S=We(Ge,"nTh"),or("column",Xe,function(k){var re,fe=at(k);if(""===k)return Z(Ge.length);if(null!==fe)return[0<=fe?fe:Ge.length+fe];if("function"==typeof k)return re=Kr(Ee,He),be.map(Ge,function(w,v){return k(v,Vo(Ee,v,0,0,re),S[v])?v:null});var L="string"==typeof k?k.match(Wo):"";if(L)switch(L[2]){case"visIdx":case"visible":var M,x=parseInt(L[1],10);return x<0?[(M=be.map(Ge,function(w,v){return w.bVisible?v:null}))[M.length+x]]:[un(Ee,x)];case"name":return be.map(ft,function(w,v){return w===L[1]?v:null});default:return[]}return k.nodeName&&k._DT_CellIndex?[k._DT_CellIndex.column]:(fe=be(S).filter(k).map(function(){return be.inArray(this,S)}).toArray()).length||!k.nodeName?fe:(fe=be(k).closest("*[data-dt-column]")).length?[fe.data("dt-column")]:[]},Ee,He);var Ee,Xe,He,Ge,ft,S},1);return ye.selector.cols=D,ye.selector.opts=te,ye}),O("columns().header()","column().header()",function(D,te){return this.iterator("column",function(ye,_e){return ye.aoColumns[_e].nTh},1)}),O("columns().footer()","column().footer()",function(D,te){return this.iterator("column",function(ye,_e){return ye.aoColumns[_e].nTf},1)}),O("columns().data()","column().data()",function(){return this.iterator("column-rows",Vo,1)}),O("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(D,te){return D.aoColumns[te].mData},1)}),O("columns().cache()","column().cache()",function(D){return this.iterator("column-rows",function(te,ye,_e,Ee,Xe){return Q(te.aoData,Xe,"search"===D?"_aFilterData":"_aSortData",ye)},1)}),O("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(D,te,ye,_e,Ee){return Q(D.aoData,Ee,"anCells",te)},1)}),O("columns().visible()","column().visible()",function(D,te){var ye=this,_e=this.iterator("column",function(Ee,S){if(D===ve)return Ee.aoColumns[S].bVisible;var He,Ge,ft=S,k=Ee.aoColumns,re=k[ft],fe=Ee.aoData;if((S=D)===ve);else if(re.bVisible!==S){if(S)for(var L=be.inArray(!0,We(k,"bVisible"),ft+1),M=0,x=fe.length;M<x;M++)He=fe[M].anCells,(Ge=fe[M].nTr)&&Ge.insertBefore(He[ft],He[L]||null);else be(We(Ee.aoData,"anCells",ft)).detach();re.bVisible=S}});return D!==ve&&this.iterator("table",function(Ee){Ii(Ee,Ee.aoHeader),Ii(Ee,Ee.aoFooter),Ee.aiDisplay.length||be(Ee.nTBody).find("td[colspan]").attr("colspan",zt(Ee)),vo(Ee),ye.iterator("column",function(Xe,He){Bi(Xe,null,"column-visibility",[Xe,He,D,te])}),te!==ve&&!te||ye.columns.adjust()}),_e}),O("columns().indexes()","column().index()",function(D){return this.iterator("column",function(te,ye){return"visible"===D?vn(te,ye):ye},1)}),ee("columns.adjust()",function(){return this.iterator("table",function(D){Pt(D)},1)}),ee("column.index()",function(D,te){var ye;if(0!==this.context.length)return ye=this.context[0],"fromVisible"===D||"toData"===D?un(ye,te):"fromData"===D||"toVisible"===D?vn(ye,te):void 0}),ee("column()",function(D,te){return Eo(this.columns(D,te))}),ee("cells()",function(D,te,ye){var _e,Ee,Xe,He,Ge,ft,S;return be.isPlainObject(D)&&(D.row===ve?(ye=D,D=null):(ye=te,te=null)),be.isPlainObject(te)&&(ye=te,te=null),null===te||te===ve?this.iterator("table",function(k){return re=k,k=D,fe=To(ye),_=re.aoData,C=Kr(re,fe),I=q(Q(_,C,"anCells")),N=be(Ve([],I)),z=re.aoColumns.length,or("cell",k,function(V){var Y,U="function"==typeof V;if(null===V||V===ve||U){for(M=[],x=0,w=C.length;x<w;x++)for(L=C[x],v=0;v<z;v++)f={row:L,column:v},(!U||(p=_[L],V(f,On(re,L,v),p.anCells?p.anCells[v]:null)))&&M.push(f);return M}return be.isPlainObject(V)?V.column!==ve&&V.row!==ve&&-1!==be.inArray(V.row,C)?[V]:[]:(Y=N.filter(V).map(function(ne,X){return{row:X._DT_CellIndex.row,column:X._DT_CellIndex.column}}).toArray()).length||!V.nodeName?Y:(p=be(V).closest("*[data-dt-row]")).length?[{row:p.data("dt-row"),column:p.data("dt-column")}]:[]},re,fe);var re,fe,L,M,x,w,v,f,p,_,C,I,N,z}):(_e=this.columns(te,S=ye?{page:ye.page,order:ye.order,search:ye.search}:{}),Ee=this.rows(D,S),S=this.iterator("table",function(k,re){var fe=[];for(Xe=0,He=Ee[re].length;Xe<He;Xe++)for(Ge=0,ft=_e[re].length;Ge<ft;Ge++)fe.push({row:Ee[re][Xe],column:_e[re][Ge]});return fe},1),S=ye&&ye.selected?this.cells(S,ye):S,be.extend(S.selector,{cols:te,rows:D,opts:ye}),S)}),O("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(D,te,ye){return(D=D.aoData[te])&&D.anCells?D.anCells[ye]:ve},1)}),ee("cells().data()",function(){return this.iterator("cell",function(D,te,ye){return On(D,te,ye)},1)}),O("cells().cache()","cell().cache()",function(D){return D="search"===D?"_aFilterData":"_aSortData",this.iterator("cell",function(te,ye,_e){return te.aoData[ye][D][_e]},1)}),O("cells().render()","cell().render()",function(D){return this.iterator("cell",function(te,ye,_e){return On(te,ye,_e,D)},1)}),O("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(D,te,ye){return{row:te,column:ye,columnVisible:vn(D,ye)}},1)}),O("cells().invalidate()","cell().invalidate()",function(D){return this.iterator("cell",function(te,ye,_e){Ln(te,ye,D,_e)})}),ee("cell()",function(D,te,ye){return Eo(this.cells(D,te,ye))}),ee("cell().data()",function(D){var te=this.context,ye=this[0];return D===ve?te.length&&ye.length?On(te[0],ye[0].row,ye[0].column):ve:(yi(te[0],ye[0].row,ye[0].column,D),Ln(te[0],ye[0].row,"data",ye[0].column),this)}),ee("order()",function(D,te){var ye=this.context;return D===ve?0!==ye.length?ye[0].aaSorting:ve:("number"==typeof D?D=[[D,te]]:D.length&&!Array.isArray(D[0])&&(D=Array.prototype.slice.call(arguments)),this.iterator("table",function(_e){_e.aaSorting=D.slice()}))}),ee("order.listener()",function(D,te,ye){return this.iterator("table",function(_e){Ho(_e,D,te,ye)})}),ee("order.fixed()",function(D){var te;return D?this.iterator("table",function(ye){ye.aaSortingFixed=be.extend(!0,{},D)}):(te=(te=this.context).length?te[0].aaSortingFixed:ve,Array.isArray(te)?{pre:te}:te)}),ee(["columns().order()","column().order()"],function(D){var te=this;return this.iterator("table",function(ye,_e){var Ee=[];be.each(te[_e],function(Xe,He){Ee.push([He,D])}),ye.aaSorting=Ee})}),ee("search()",function(D,te,ye,_e){var Ee=this.context;return D===ve?0!==Ee.length?Ee[0].oPreviousSearch.sSearch:ve:this.iterator("table",function(Xe){Xe.oFeatures.bFilter&&_i(Xe,be.extend({},Xe.oPreviousSearch,{sSearch:D+"",bRegex:null!==te&&te,bSmart:null===ye||ye,bCaseInsensitive:null===_e||_e}),1)})}),O("columns().search()","column().search()",function(D,te,ye,_e){return this.iterator("column",function(Ee,Xe){var He=Ee.aoPreSearchCols;if(D===ve)return He[Xe].sSearch;Ee.oFeatures.bFilter&&(be.extend(He[Xe],{sSearch:D+"",bRegex:null!==te&&te,bSmart:null===ye||ye,bCaseInsensitive:null===_e||_e}),_i(Ee,Ee.oPreviousSearch,1))})}),ee("state()",function(){return this.context.length?this.context[0].oSavedState:null}),ee("state.clear()",function(){return this.iterator("table",function(D){D.fnStateSaveCallback.call(D.oInstance,D,{})})}),ee("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),ee("state.save()",function(){return this.iterator("table",function(D){vo(D)})}),B.use=function(D,te){"lib"===te||D.fn?be=D:"win"==te||D.document?Sn=(Ae=D).document:"datetime"!==te&&"DateTime"!==D.type||(B.DateTime=D)},B.factory=function(D,te){var ye=!1;return D&&D.document&&(Sn=(Ae=D).document),te&&te.fn&&te.fn.jquery&&(be=te,ye=!0),ye},B.versionCheck=B.fnVersionCheck=function(D){for(var te,ye,_e=B.version.split("."),Ee=D.split("."),Xe=0,He=Ee.length;Xe<He;Xe++)if((te=parseInt(_e[Xe],10)||0)!==(ye=parseInt(Ee[Xe],10)||0))return ye<te;return!0},B.isDataTable=B.fnIsDataTable=function(D){var te=be(D).get(0),ye=!1;return D instanceof B.Api||(be.each(B.settings,function(_e,Ee){var Xe=Ee.nScrollHead?be("table",Ee.nScrollHead)[0]:null,He=Ee.nScrollFoot?be("table",Ee.nScrollFoot)[0]:null;Ee.nTable!==te&&Xe!==te&&He!==te||(ye=!0)}),ye)},B.tables=B.fnTables=function(D){var te=!1,ye=(be.isPlainObject(D)&&(te=D.api,D=D.visible),be.map(B.settings,function(_e){if(!D||be(_e.nTable).is(":visible"))return _e.nTable}));return te?new Oi(ye):ye},B.camelToHungarian=Re,ee("$()",function(D,te){return te=this.rows(te).nodes(),te=be(te),be([].concat(te.filter(D).toArray(),te.find(D).toArray()))}),be.each(["on","one","off"],function(D,te){ee(te+"()",function(){var ye=Array.prototype.slice.call(arguments),_e=(ye[0]=be.map(ye[0].split(/\s/),function(Ee){return Ee.match(/\.dt\b/)?Ee:Ee+".dt"}).join(" "),be(this.tables().nodes()));return _e[te].apply(_e,ye),this})}),ee("clear()",function(){return this.iterator("table",function(D){qt(D)})}),ee("settings()",function(){return new Oi(this.context,this.context)}),ee("init()",function(){var D=this.context;return D.length?D[0].oInit:null}),ee("data()",function(){return this.iterator("table",function(D){return We(D.aoData,"_aData")}).flatten()}),ee("destroy()",function(D){return D=D||!1,this.iterator("table",function(te){var ye,_e=te.oClasses,Ee=te.nTable,He=te.nTBody,S=te.nTHead,ft=te.nTFoot,Xe=be(Ee),Ge=(He=be(He),be(te.nTableWrapper)),k=be.map(te.aoData,function(re){return re.nTr});te.bDestroying=!0,Bi(te,"aoDestroyCallback","destroy",[te]),D||new Oi(te).columns().visible(!0),Ge.off(".DT").find(":not(tbody *)").off(".DT"),be(Ae).off(".DT-"+te.sInstance),Ee!=S.parentNode&&(Xe.children("thead").detach(),Xe.append(S)),ft&&Ee!=ft.parentNode&&(Xe.children("tfoot").detach(),Xe.append(ft)),te.aaSorting=[],te.aaSortingFixed=[],Er(te),be(k).removeClass(te.asStripeClasses.join(" ")),be("th, td",S).removeClass(_e.sSortable+" "+_e.sSortableAsc+" "+_e.sSortableDesc+" "+_e.sSortableNone),He.children().detach(),He.append(k),ft=te.nTableWrapper.parentNode,-1!==(Xe[S=D?"remove":"detach"](),Ge[S](),!D&&ft&&(ft.insertBefore(Ee,te.nTableReinsertBefore),Xe.css("width",te.sDestroyWidth).removeClass(_e.sTable),(ye=te.asDestroyStripes.length)&&He.children().each(function(re){be(this).addClass(te.asDestroyStripes[re%ye])})),k=be.inArray(te,B.settings))&&B.settings.splice(k,1)})}),be.each(["column","row","cell"],function(D,te){ee(te+"s().every()",function(ye){var _e=this.selector.opts,Ee=this;return this.iterator(te,function(Xe,He,Ge,ft,S){ye.call(Ee[te](He,"cell"===te?Ge:_e,"cell"===te?_e:ve),He,Ge,ft,S)})})}),ee("i18n()",function(Ee,te,ye){var _e=this.context[0];return(Ee=oi(Ee)(_e.oLanguage))===ve&&(Ee=te),"string"==typeof(Ee=ye!==ve&&be.isPlainObject(Ee)?Ee[ye]!==ve?Ee[ye]:Ee._:Ee)?Ee.replace("%d",ye):Ee}),B.version="1.13.7",B.settings=[],B.models={},B.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},B.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},B.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},B.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(D){return D.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(D){try{return JSON.parse((-1===D.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+D.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(D,te){try{(-1===D.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+D.sInstance+"_"+location.pathname,JSON.stringify(te))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:be.extend({},B.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},ue(B.defaults),B.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},ue(B.defaults.column),B.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:ve,oAjaxData:ve,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==$i(this)?+this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==$i(this)?+this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var D=this._iDisplayLength,te=this._iDisplayStart,ye=te+D,_e=this.aiDisplay.length,Ee=this.oFeatures,Xe=Ee.bPaginate;return Ee.bServerSide?!1===Xe||-1===D?te+_e:Math.min(te+D,this._iRecordsDisplay):!Xe||_e<ye||-1===D?_e:ye},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},B.ext=J={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:B.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:B.version},be.extend(J,{afnFiltering:J.search,aTypes:J.type.detect,ofnSearch:J.type.search,oSort:J.type.order,afnSortData:J.order,aoFeatures:J.feature,oApi:J.internal,oStdClasses:J.classes,oPagination:J.pager}),be.extend(B.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),B.ext.pager);function Lr(D,te){var ye=[],_e=oa.numbers_length,Ee=Math.floor(_e/2);return te<=_e?ye=Z(0,te):D<=Ee?((ye=Z(0,_e-2)).push("ellipsis"),ye.push(te-1)):((te-1-Ee<=D?ye=Z(te-(_e-2),te):((ye=Z(D-Ee+2,D+Ee-1)).push("ellipsis"),ye.push(te-1),ye)).splice(0,0,"ellipsis"),ye.splice(0,0,0)),ye.DT_el="span",ye}function Wr(D,te,ye,_e){var Ee;return 0===D||D&&"-"!==D?"number"==(Ee=typeof D)||"bigint"==Ee?D:((D=te?P(D,te):D).replace&&(ye&&(D=D.replace(ye,"")),_e&&(D=D.replace(_e,""))),+D):-1/0}function Do(D){be.each({num:function(te){return Wr(te,D)},"num-fmt":function(te){return Wr(te,D,Ne)},"html-num":function(te){return Wr(te,D,me)},"html-num-fmt":function(te){return Wr(te,D,me,Ne)}},function(te,ye){J.type.order[te+D+"-pre"]=ye,te.match(/^html\-/)&&(J.type.search[te+D]=J.type.search.html)})}function Jr(D){return"string"==typeof(D=Array.isArray(D)?D.join(","):D)?D.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):D}function Ar(D,te,ye,_e,Ee){return Ae.moment?D[te](Ee):Ae.luxon?D[ye](Ee):_e?D[_e](Ee):D}be.extend(oa,{simple:function(D,te){return["previous","next"]},full:function(D,te){return["first","previous","next","last"]},numbers:function(D,te){return[Lr(D,te)]},simple_numbers:function(D,te){return["previous",Lr(D,te),"next"]},full_numbers:function(D,te){return["first","previous",Lr(D,te),"next","last"]},first_last_numbers:function(D,te){return["first",Lr(D,te),"last"]},_numbers:Lr,numbers_length:7}),be.extend(!0,B.ext.renderer,{pageButton:{_:function(D,te,ye,_e,Ee,Xe){var Ge,ft,S,k=D.oClasses,re=D.oLanguage.oPaginate,fe=D.oLanguage.oAria.paginate||{};try{S=be(te).find(Sn.activeElement).data("dt-idx")}catch{}(function He(L,M){for(var x,w=k.sPageButtonDisabled,v=function(I){wi(D,I.data.action,!0)},f=0,p=M.length;f<p;f++)if(x=M[f],Array.isArray(x)){var _=be("<"+(x.DT_el||"div")+"/>").appendTo(L);He(_,x)}else{var C=!1;switch(Ge=null,ft=x){case"ellipsis":L.append('<span class="ellipsis">&#x2026;</span>');break;case"first":Ge=re.sFirst,0===Ee&&(C=!0);break;case"previous":Ge=re.sPrevious,0===Ee&&(C=!0);break;case"next":Ge=re.sNext,0!==Xe&&Ee!==Xe-1||(C=!0);break;case"last":Ge=re.sLast,0!==Xe&&Ee!==Xe-1||(C=!0);break;default:Ge=D.fnFormatNumber(x+1),ft=Ee===x?k.sPageButtonActive:""}null!==Ge&&(C&&(ft+=" "+w),Co(be("<"+(_=D.oInit.pagingTag||"a")+">",{class:k.sPageButton+" "+ft,"aria-controls":D.sTableId,"aria-disabled":C?"true":null,"aria-label":fe[x],role:"link","aria-current":ft===k.sPageButtonActive?"page":null,"data-dt-idx":x,tabindex:C?-1:D.iTabIndex,id:0===ye&&"string"==typeof x?D.sTableId+"_"+x:null}).html(Ge).appendTo(L),{action:x},v))}})(be(te).empty(),_e),S!==ve&&be(te).find("[data-dt-idx="+S+"]").trigger("focus")}}}),be.extend(B.ext.type.detect,[function(D,te){return ce(D,te=te.oLanguage.sDecimal)?"num"+te:null},function(D,te){var ye;return(!D||D instanceof Date||he.test(D))&&(null!==(ye=Date.parse(D))&&!isNaN(ye)||Ye(D))?"date":null},function(D,te){return ce(D,te=te.oLanguage.sDecimal,!0)?"num-fmt"+te:null},function(D,te){return ge(D,te=te.oLanguage.sDecimal)?"html-num"+te:null},function(D,te){return ge(D,te=te.oLanguage.sDecimal,!0)?"html-num-fmt"+te:null},function(D,te){return Ye(D)||"string"==typeof D&&-1!==D.indexOf("<")?"html":null}]),be.extend(B.ext.type.search,{html:function(D){return Ye(D)?D:"string"==typeof D?D.replace(de," ").replace(me,""):""},string:function(D){return Ye(D)||"string"!=typeof D?D:D.replace(de," ")}}),be.extend(J.type.order,{"date-pre":function(D){return D=Date.parse(D),isNaN(D)?-1/0:D},"html-pre":function(D){return Ye(D)?"":D.replace?D.replace(/<.*?>/g,"").toLowerCase():D+""},"string-pre":function(D){return Ye(D)?"":"string"==typeof D?D.toLowerCase():D.toString?D.toString():""},"string-asc":function(D,te){return D<te?-1:te<D?1:0},"string-desc":function(D,te){return D<te?1:te<D?-1:0}}),Do(""),be.extend(!0,B.ext.renderer,{header:{_:function(D,te,ye,_e){be(D.nTable).on("order.dt.DT",function(Ee,Xe,He,Ge){D===Xe&&(Xe=ye.idx,te.removeClass(_e.sSortAsc+" "+_e.sSortDesc).addClass("asc"==Ge[Xe]?_e.sSortAsc:"desc"==Ge[Xe]?_e.sSortDesc:ye.sSortingClass))})},jqueryui:function(D,te,ye,_e){be("<div/>").addClass(_e.sSortJUIWrapper).append(te.contents()).append(be("<span/>").addClass(_e.sSortIcon+" "+ye.sSortingClassJUI)).appendTo(te),be(D.nTable).on("order.dt.DT",function(Ee,Xe,He,Ge){D===Xe&&(Xe=ye.idx,te.removeClass(_e.sSortAsc+" "+_e.sSortDesc).addClass("asc"==Ge[Xe]?_e.sSortAsc:"desc"==Ge[Xe]?_e.sSortDesc:ye.sSortingClass),te.find("span."+_e.sSortIcon).removeClass(_e.sSortJUIAsc+" "+_e.sSortJUIDesc+" "+_e.sSortJUI+" "+_e.sSortJUIAscAllowed+" "+_e.sSortJUIDescAllowed).addClass("asc"==Ge[Xe]?_e.sSortJUIAsc:"desc"==Ge[Xe]?_e.sSortJUIDesc:ye.sSortingClassJUI))})}}});var yo=!1;function mr(D,te,ye){var _e;if(Ae.moment){if(!(_e=Ae.moment.utc(D,te,ye,!0)).isValid())return null}else if(Ae.luxon){if(!(_e=te&&"string"==typeof D?Ae.luxon.DateTime.fromFormat(D,te):Ae.luxon.DateTime.fromISO(D)).isValid)return null;_e.setLocale(ye)}else te?(yo||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),yo=!0):_e=new Date(D);return _e}function ho(D){return function(te,ye,_e,Ee){0===arguments.length?(_e="en",te=ye=null):1===arguments.length?(_e="en",ye=te,te=null):2===arguments.length&&(_e=ye,ye=te,te=null);var Xe="datetime-"+ye;return B.ext.type.order[Xe]||(B.ext.type.detect.unshift(function(He){return He===Xe&&Xe}),B.ext.type.order[Xe+"-asc"]=function(He,Ge){return(He=He.valueOf())===(Ge=Ge.valueOf())?0:He<Ge?-1:1},B.ext.type.order[Xe+"-desc"]=function(He,Ge){return(He=He.valueOf())===(Ge=Ge.valueOf())?0:Ge<He?-1:1}),function(He,Ge){var ft;return null!==He&&He!==ve||(He="--now"===Ee?(ft=new Date,new Date(Date.UTC(ft.getFullYear(),ft.getMonth(),ft.getDate(),ft.getHours(),ft.getMinutes(),ft.getSeconds()))):""),"type"===Ge?Xe:""===He?"sort"!==Ge?"":mr("0000-01-01 00:00:00",null,_e):(null===ye||te!==ye||"sort"===Ge||"type"===Ge||He instanceof Date)&&null!==(ft=mr(He,te,_e))?"sort"===Ge?ft:(He=null===ye?Ar(ft,"toDate","toJSDate","")[D]():Ar(ft,"format","toFormat","toISOString",ye),"display"===Ge?Jr(He):He):He}}}var qo=",",bo=".";if(Ae.Intl!==ve)try{for(var Mr=(new Intl.NumberFormat).formatToParts(100000.1),xo=0;xo<Mr.length;xo++)"group"===Mr[xo].type?qo=Mr[xo].value:"decimal"===Mr[xo].type&&(bo=Mr[xo].value)}catch{}function Yo(D){return function(){var te=[Hr(this[B.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return B.ext.internal[D].apply(this,te)}}return B.datetime=function(D,te){var ye="datetime-detect-"+D;te=te||"en",B.ext.type.order[ye]||(B.ext.type.detect.unshift(function(_e){var Ee=mr(_e,D,te);return!(""!==_e&&!Ee)&&ye}),B.ext.type.order[ye+"-pre"]=function(_e){return mr(_e,D,te)||0})},B.render={date:ho("toLocaleDateString"),datetime:ho("toLocaleString"),time:ho("toLocaleTimeString"),number:function(D,te,ye,_e,Ee){return null!==D&&D!==ve||(D=qo),null!==te&&te!==ve||(te=bo),{display:function(Xe){if("number"!=typeof Xe&&"string"!=typeof Xe||""===Xe||null===Xe)return Xe;var He=Xe<0?"-":"",Ge=parseFloat(Xe);return isNaN(Ge)?Jr(Xe):(Ge=Ge.toFixed(ye),Xe=Math.abs(Ge),Ge=parseInt(Xe,10),Xe=ye?te+(Xe-Ge).toFixed(ye).substring(2):"",(He=0===Ge&&0===parseFloat(Xe)?"":He)+(_e||"")+Ge.toString().replace(/\B(?=(\d{3})+(?!\d))/g,D)+Xe+(Ee||""))}}},text:function(){return{display:Jr,filter:Jr}}},be.extend(B.ext.internal,{_fnExternApiFunc:Yo,_fnBuildAjax:Pn,_fnAjaxUpdate:In,_fnAjaxParameters:qn,_fnAjaxUpdateDraw:$n,_fnAjaxDataSrc:ai,_fnAddColumn:on,_fnColumnOptions:Tt,_fnAdjustColumnSizing:Pt,_fnVisibleToColumnIndex:un,_fnColumnIndexToVisible:vn,_fnVisbleColumns:zt,_fnGetColumns:cn,_fnColumnTypes:Mn,_fnApplyColumnDefs:Zt,_fnHungarianMap:ue,_fnCamelToHungarian:Re,_fnLanguageCompat:je,_fnBrowserDetect:Nt,_fnAddData:Nn,_fnAddTr:sn,_fnNodeToDataIndex:function(D,te){return te._DT_RowIndex!==ve?te._DT_RowIndex:null},_fnNodeToColumnIndex:function(D,te,ye){return be.inArray(ye,D.aoData[te].anCells)},_fnGetCellData:On,_fnSetCellData:yi,_fnSplitObjNotation:xi,_fnGetObjectDataFn:oi,_fnSetObjectDataFn:Ni,_fnGetDataMaster:Jt,_fnClearTable:qt,_fnDeleteIndex:gn,_fnInvalidate:Ln,_fnGetRowElements:dn,_fnCreateTr:an,_fnBuildHead:ui,_fnDrawHead:Ii,_fnDraw:ri,_fnReDraw:Yt,_fnAddOptionsHtml:fn,_fnDetectHeader:Tn,_fnGetUniqueThs:jn,_fnFeatureHtmlFilter:di,_fnFilterComplete:_i,_fnFilterCustom:Zi,_fnFilterColumn:nr,_fnFilter:Mi,_fnFilterCreateSearch:gr,_fnEscapeRegex:Fi,_fnFilterData:ki,_fnFeatureHtmlInfo:wr,_fnUpdateInfo:io,_fnInfoMacros:Qt,_fnInitialise:hn,_fnInitComplete:Un,_fnLengthChange:Bn,_fnFeatureHtmlLength:Qn,_fnFeatureHtmlPaginate:bi,_fnPageChange:wi,_fnFeatureHtmlProcessing:Ai,_fnProcessingDisplay:hi,_fnFeatureHtmlTable:Ci,_fnScrollDraw:gi,_fnApplyToChildren:mi,_fnCalculateColumnWidths:Ki,_fnThrottle:ar,_fnConvertToWidth:Fr,_fnGetWidestNode:Sr,_fnGetMaxLenString:Ur,_fnStringToCss:zi,_fnSortFlatten:Xr,_fnSort:ro,_fnSortAria:oo,_fnSortListener:So,_fnSortAttachListener:Ho,_fnSortingClasses:Er,_fnSortData:ra,_fnSaveState:vo,_fnLoadState:Dr,_fnImplementState:yr,_fnSettingsFromNode:Hr,_fnLog:hr,_fnMap:Ji,_fnBindAction:Co,_fnCallbackReg:Qi,_fnCallbackFire:Bi,_fnLengthOverflow:Gr,_fnRenderer:Vr,_fnDataSource:$i,_fnRowAttributes:Wn,_fnExtend:xr,_fnCalculateEnd:function(){}}),((be.fn.dataTable=B).$=be).fn.dataTableSettings=B.settings,be.fn.dataTableExt=B.ext,be.fn.DataTable=function(D){return be(this).dataTable(D).api()},be.each(B,function(D,te){be.fn.DataTable[D]=te}),B}),function(be,Ae){"object"==typeof exports&&typeof module<"u"?Ae(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],Ae):Ae((be=be||self).bootstrap={},be.jQuery,be.Popper)}(this,function(be,Ae,Sn){"use strict";function ve(x,w){for(var v=0;v<w.length;v++){var f=w[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(x,f.key,f)}}function at(x,w,v){return w&&ve(x.prototype,w),v&&ve(x,v),x}function ce(x,w,v){return w in x?Object.defineProperty(x,w,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[w]=v,x}function ge(x){for(var w=1;w<arguments.length;w++){var v=null!=arguments[w]?arguments[w]:{},f=Object.keys(v);"function"==typeof Object.getOwnPropertySymbols&&(f=f.concat(Object.getOwnPropertySymbols(v).filter(function(p){return Object.getOwnPropertyDescriptor(v,p).enumerable}))),f.forEach(function(p){ce(x,p,v[p])})}return x}Ae=Ae&&Ae.hasOwnProperty("default")?Ae.default:Ae,Sn=Sn&&Sn.hasOwnProperty("default")?Sn.default:Sn;var Z="transitionend";function O(x){var w=this,v=!1;return Ae(this).one(K.TRANSITION_END,function(){v=!0}),setTimeout(function(){v||K.triggerTransitionEnd(w)},x),this}var K={TRANSITION_END:"bsTransitionEnd",getUID:function(w){do{w+=~~(1e6*Math.random())}while(document.getElementById(w));return w},getSelectorFromElement:function(w){var v=w.getAttribute("data-target");if(!v||"#"===v){var f=w.getAttribute("href");v=f&&"#"!==f?f.trim():""}try{return document.querySelector(v)?v:null}catch{return null}},getTransitionDurationFromElement:function(w){if(!w)return 0;var v=Ae(w).css("transition-duration"),f=Ae(w).css("transition-delay"),p=parseFloat(v),_=parseFloat(f);return p||_?(v=v.split(",")[0],f=f.split(",")[0],1e3*(parseFloat(v)+parseFloat(f))):0},reflow:function(w){return w.offsetHeight},triggerTransitionEnd:function(w){Ae(w).trigger(Z)},supportsTransitionEnd:function(){return Boolean(Z)},isElement:function(w){return(w[0]||w).nodeType},typeCheckConfig:function(w,v,f){for(var p in f)if(Object.prototype.hasOwnProperty.call(f,p)){var _=f[p],C=v[p],I=C&&K.isElement(C)?"element":{}.toString.call(C).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(_).test(I))throw new Error(w.toUpperCase()+': Option "'+p+'" provided type "'+I+'" but expected type "'+_+'".')}},findShadowRoot:function(w){if(!document.documentElement.attachShadow)return null;if("function"==typeof w.getRootNode){var v=w.getRootNode();return v instanceof ShadowRoot?v:null}return w instanceof ShadowRoot?w:w.parentNode?K.findShadowRoot(w.parentNode):null}};!function B(){Ae.fn.emulateTransitionEnd=O,Ae.event.special[K.TRANSITION_END]=function ee(){return{bindType:Z,delegateType:Z,handle:function(w){if(Ae(w.target).is(this))return w.handleObj.handler.apply(this,arguments)}}}()}();var de="alert",he="bs.alert",De="."+he,Ye=Ae.fn[de],We={CLOSE:"close"+De,CLOSED:"closed"+De,CLICK_DATA_API:"click"+De+".data-api"},ke=function(){function x(v){this._element=v}var w=x.prototype;return w.close=function(f){var p=this._element;f&&(p=this._getRootElement(f)),this._triggerCloseEvent(p).isDefaultPrevented()||this._removeElement(p)},w.dispose=function(){Ae.removeData(this._element,he),this._element=null},w._getRootElement=function(f){var p=K.getSelectorFromElement(f),_=!1;return p&&(_=document.querySelector(p)),_||(_=Ae(f).closest(".alert")[0]),_},w._triggerCloseEvent=function(f){var p=Ae.Event(We.CLOSE);return Ae(f).trigger(p),p},w._removeElement=function(f){var p=this;if(Ae(f).removeClass("show"),Ae(f).hasClass("fade")){var _=K.getTransitionDurationFromElement(f);Ae(f).one(K.TRANSITION_END,function(C){return p._destroyElement(f,C)}).emulateTransitionEnd(_)}else this._destroyElement(f)},w._destroyElement=function(f){Ae(f).detach().trigger(We.CLOSED).remove()},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this),_=p.data(he);_||(_=new x(this),p.data(he,_)),"close"===f&&_[f](this)})},x._handleDismiss=function(f){return function(p){p&&p.preventDefault(),f.close(this)}},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),x}();Ae(document).on(We.CLICK_DATA_API,'[data-dismiss="alert"]',ke._handleDismiss(new ke)),Ae.fn[de]=ke._jQueryInterface,Ae.fn[de].Constructor=ke,Ae.fn[de].noConflict=function(){return Ae.fn[de]=Ye,ke._jQueryInterface};var Ve="button",Re="bs.button",je="."+Re,Je=".data-api",ht=Ae.fn[Ve],bt={CLICK_DATA_API:"click"+je+Je,FOCUS_BLUR_DATA_API:"focus"+je+Je+" blur"+je+Je},on=function(){function x(v){this._element=v}var w=x.prototype;return w.toggle=function(){var f=!0,p=!0,_=Ae(this._element).closest('[data-toggle="buttons"]')[0];if(_){var C=this._element.querySelector('input:not([type="hidden"])');if(C){if("radio"===C.type)if(C.checked&&this._element.classList.contains("active"))f=!1;else{var I=_.querySelector(".active");I&&Ae(I).removeClass("active")}if(f){if(C.hasAttribute("disabled")||_.hasAttribute("disabled")||C.classList.contains("disabled")||_.classList.contains("disabled"))return;C.checked=!this._element.classList.contains("active"),Ae(C).trigger("change")}C.focus(),p=!1}}p&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),f&&Ae(this._element).toggleClass("active")},w.dispose=function(){Ae.removeData(this._element,Re),this._element=null},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this).data(Re);p||(p=new x(this),Ae(this).data(Re,p)),"toggle"===f&&p[f]()})},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),x}();Ae(document).on(bt.CLICK_DATA_API,'[data-toggle^="button"]',function(x){x.preventDefault();var w=x.target;Ae(w).hasClass("btn")||(w=Ae(w).closest(".btn")),on._jQueryInterface.call(Ae(w),"toggle")}).on(bt.FOCUS_BLUR_DATA_API,'[data-toggle^="button"]',function(x){var w=Ae(x.target).closest(".btn")[0];Ae(w).toggleClass("focus",/^focus(in)?$/.test(x.type))}),Ae.fn[Ve]=on._jQueryInterface,Ae.fn[Ve].Constructor=on,Ae.fn[Ve].noConflict=function(){return Ae.fn[Ve]=ht,on._jQueryInterface};var Tt="carousel",un="bs.carousel",vn="."+un,zt=".data-api",cn=Ae.fn[Tt],On={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},yi={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Jn={SLIDE:"slide"+vn,SLID:"slid"+vn,KEYDOWN:"keydown"+vn,MOUSEENTER:"mouseenter"+vn,MOUSELEAVE:"mouseleave"+vn,TOUCHSTART:"touchstart"+vn,TOUCHMOVE:"touchmove"+vn,TOUCHEND:"touchend"+vn,POINTERDOWN:"pointerdown"+vn,POINTERUP:"pointerup"+vn,DRAG_START:"dragstart"+vn,LOAD_DATA_API:"load"+vn+zt,CLICK_DATA_API:"click"+vn+zt},oi={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},Ni={TOUCH:"touch",PEN:"pen"},Jt=function(){function x(v,f){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(f),this._element=v,this._indicatorsElement=this._element.querySelector(oi.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var w=x.prototype;return w.next=function(){this._isSliding||this._slide("next")},w.nextWhenVisible=function(){!document.hidden&&Ae(this._element).is(":visible")&&"hidden"!==Ae(this._element).css("visibility")&&this.next()},w.prev=function(){this._isSliding||this._slide("prev")},w.pause=function(f){f||(this._isPaused=!0),this._element.querySelector(oi.NEXT_PREV)&&(K.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},w.cycle=function(f){f||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},w.to=function(f){var p=this;this._activeElement=this._element.querySelector(oi.ACTIVE_ITEM);var _=this._getItemIndex(this._activeElement);if(!(f>this._items.length-1||f<0)){if(this._isSliding)return void Ae(this._element).one(Jn.SLID,function(){return p.to(f)});if(_===f)return this.pause(),void this.cycle();this._slide(f>_?"next":"prev",this._items[f])}},w.dispose=function(){Ae(this._element).off(vn),Ae.removeData(this._element,un),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},w._getConfig=function(f){return f=ge({},On,f),K.typeCheckConfig(Tt,f,yi),f},w._handleSwipe=function(){var f=Math.abs(this.touchDeltaX);if(!(f<=40)){var p=f/this.touchDeltaX;p>0&&this.prev(),p<0&&this.next()}},w._addEventListeners=function(){var f=this;this._config.keyboard&&Ae(this._element).on(Jn.KEYDOWN,function(p){return f._keydown(p)}),"hover"===this._config.pause&&Ae(this._element).on(Jn.MOUSEENTER,function(p){return f.pause(p)}).on(Jn.MOUSELEAVE,function(p){return f.cycle(p)}),this._config.touch&&this._addTouchEventListeners()},w._addTouchEventListeners=function(){var f=this;if(this._touchSupported){var p=function(N){f._pointerEvent&&Ni[N.originalEvent.pointerType.toUpperCase()]?f.touchStartX=N.originalEvent.clientX:f._pointerEvent||(f.touchStartX=N.originalEvent.touches[0].clientX)},C=function(N){f._pointerEvent&&Ni[N.originalEvent.pointerType.toUpperCase()]&&(f.touchDeltaX=N.originalEvent.clientX-f.touchStartX),f._handleSwipe(),"hover"===f._config.pause&&(f.pause(),f.touchTimeout&&clearTimeout(f.touchTimeout),f.touchTimeout=setTimeout(function(z){return f.cycle(z)},500+f._config.interval))};Ae(this._element.querySelectorAll(oi.ITEM_IMG)).on(Jn.DRAG_START,function(I){return I.preventDefault()}),this._pointerEvent?(Ae(this._element).on(Jn.POINTERDOWN,function(I){return p(I)}),Ae(this._element).on(Jn.POINTERUP,function(I){return C(I)}),this._element.classList.add("pointer-event")):(Ae(this._element).on(Jn.TOUCHSTART,function(I){return p(I)}),Ae(this._element).on(Jn.TOUCHMOVE,function(I){var N;f.touchDeltaX=(N=I).originalEvent.touches&&N.originalEvent.touches.length>1?0:N.originalEvent.touches[0].clientX-f.touchStartX}),Ae(this._element).on(Jn.TOUCHEND,function(I){return C(I)}))}},w._keydown=function(f){if(!/input|textarea/i.test(f.target.tagName))switch(f.which){case 37:f.preventDefault(),this.prev();break;case 39:f.preventDefault(),this.next()}},w._getItemIndex=function(f){return this._items=f&&f.parentNode?[].slice.call(f.parentNode.querySelectorAll(oi.ITEM)):[],this._items.indexOf(f)},w._getItemByDirection=function(f,p){var _="next"===f,C="prev"===f,I=this._getItemIndex(p);if((C&&0===I||_&&I===this._items.length-1)&&!this._config.wrap)return p;var Y=(I+("prev"===f?-1:1))%this._items.length;return-1===Y?this._items[this._items.length-1]:this._items[Y]},w._triggerSlideEvent=function(f,p){var _=this._getItemIndex(f),C=this._getItemIndex(this._element.querySelector(oi.ACTIVE_ITEM)),I=Ae.Event(Jn.SLIDE,{relatedTarget:f,direction:p,from:C,to:_});return Ae(this._element).trigger(I),I},w._setActiveIndicatorElement=function(f){if(this._indicatorsElement){var p=[].slice.call(this._indicatorsElement.querySelectorAll(oi.ACTIVE));Ae(p).removeClass("active");var _=this._indicatorsElement.children[this._getItemIndex(f)];_&&Ae(_).addClass("active")}},w._slide=function(f,p){var Y,U,ne,_=this,C=this._element.querySelector(oi.ACTIVE_ITEM),I=this._getItemIndex(C),N=p||C&&this._getItemByDirection(f,C),z=this._getItemIndex(N),V=Boolean(this._interval);if("next"===f?(Y="carousel-item-left",U="carousel-item-next",ne="left"):(Y="carousel-item-right",U="carousel-item-prev",ne="right"),N&&Ae(N).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(N,ne).isDefaultPrevented()&&C&&N){this._isSliding=!0,V&&this.pause(),this._setActiveIndicatorElement(N);var le=Ae.Event(Jn.SLID,{relatedTarget:N,direction:ne,from:I,to:z});if(Ae(this._element).hasClass("slide")){Ae(N).addClass(U),K.reflow(N),Ae(C).addClass(Y),Ae(N).addClass(Y);var G=parseInt(N.getAttribute("data-interval"),10);G?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=G):this._config.interval=this._config.defaultInterval||this._config.interval;var W=K.getTransitionDurationFromElement(C);Ae(C).one(K.TRANSITION_END,function(){Ae(N).removeClass(Y+" "+U).addClass("active"),Ae(C).removeClass("active "+U+" "+Y),_._isSliding=!1,setTimeout(function(){return Ae(_._element).trigger(le)},0)}).emulateTransitionEnd(W)}else Ae(C).removeClass("active"),Ae(N).addClass("active"),this._isSliding=!1,Ae(this._element).trigger(le);V&&this.cycle()}},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this).data(un),_=ge({},On,Ae(this).data());"object"==typeof f&&(_=ge({},_,f));var C="string"==typeof f?f:_.slide;if(p||(p=new x(this,_),Ae(this).data(un,p)),"number"==typeof f)p.to(f);else if("string"==typeof C){if(typeof p[C]>"u")throw new TypeError('No method named "'+C+'"');p[C]()}else _.interval&&_.ride&&(p.pause(),p.cycle())})},x._dataApiClickHandler=function(f){var p=K.getSelectorFromElement(this);if(p){var _=Ae(p)[0];if(_&&Ae(_).hasClass("carousel")){var C=ge({},Ae(_).data(),Ae(this).data()),I=this.getAttribute("data-slide-to");I&&(C.interval=!1),x._jQueryInterface.call(Ae(_),C),I&&Ae(_).data(un).to(I),f.preventDefault()}}},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return On}}]),x}();Ae(document).on(Jn.CLICK_DATA_API,oi.DATA_SLIDE,Jt._dataApiClickHandler),Ae(window).on(Jn.LOAD_DATA_API,function(){for(var x=[].slice.call(document.querySelectorAll(oi.DATA_RIDE)),w=0,v=x.length;w<v;w++){var f=Ae(x[w]);Jt._jQueryInterface.call(f,f.data())}}),Ae.fn[Tt]=Jt._jQueryInterface,Ae.fn[Tt].Constructor=Jt,Ae.fn[Tt].noConflict=function(){return Ae.fn[Tt]=cn,Jt._jQueryInterface};var qt="collapse",Ln="bs.collapse",dn="."+Ln,Wn=Ae.fn[qt],ui={toggle:!0,parent:""},Ii={toggle:"boolean",parent:"(string|element)"},ri={SHOW:"show"+dn,SHOWN:"shown"+dn,HIDE:"hide"+dn,HIDDEN:"hidden"+dn,CLICK_DATA_API:"click"+dn+".data-api"},Tn={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},jn=function(){function x(v,f){this._isTransitioning=!1,this._element=v,this._config=this._getConfig(f),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+v.id+'"],[data-toggle="collapse"][data-target="#'+v.id+'"]'));for(var p=[].slice.call(document.querySelectorAll(Tn.DATA_TOGGLE)),_=0,C=p.length;_<C;_++){var I=p[_],N=K.getSelectorFromElement(I),z=[].slice.call(document.querySelectorAll(N)).filter(function(V){return V===v});null!==N&&z.length>0&&(this._selector=N,this._triggerArray.push(I))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var w=x.prototype;return w.toggle=function(){Ae(this._element).hasClass("show")?this.hide():this.show()},w.show=function(){var p,_,f=this;if(!(this._isTransitioning||Ae(this._element).hasClass("show")||(this._parent&&0===(p=[].slice.call(this._parent.querySelectorAll(Tn.ACTIVES)).filter(function(U){return"string"==typeof f._config.parent?U.getAttribute("data-parent")===f._config.parent:U.classList.contains("collapse")})).length&&(p=null),p&&(_=Ae(p).not(this._selector).data(Ln),_&&_._isTransitioning)))){var C=Ae.Event(ri.SHOW);if(Ae(this._element).trigger(C),!C.isDefaultPrevented()){p&&(x._jQueryInterface.call(Ae(p).not(this._selector),"hide"),_||Ae(p).data(Ln,null));var I=this._getDimension();Ae(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[I]=0,this._triggerArray.length&&Ae(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var V="scroll"+(I[0].toUpperCase()+I.slice(1)),Y=K.getTransitionDurationFromElement(this._element);Ae(this._element).one(K.TRANSITION_END,function(){Ae(f._element).removeClass("collapsing").addClass("collapse").addClass("show"),f._element.style[I]="",f.setTransitioning(!1),Ae(f._element).trigger(ri.SHOWN)}).emulateTransitionEnd(Y),this._element.style[I]=this._element[V]+"px"}}},w.hide=function(){var f=this;if(!this._isTransitioning&&Ae(this._element).hasClass("show")){var p=Ae.Event(ri.HIDE);if(Ae(this._element).trigger(p),!p.isDefaultPrevented()){var _=this._getDimension();this._element.style[_]=this._element.getBoundingClientRect()[_]+"px",K.reflow(this._element),Ae(this._element).addClass("collapsing").removeClass("collapse").removeClass("show");var C=this._triggerArray.length;if(C>0)for(var I=0;I<C;I++){var N=this._triggerArray[I],z=K.getSelectorFromElement(N);null!==z&&(Ae([].slice.call(document.querySelectorAll(z))).hasClass("show")||Ae(N).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[_]="";var U=K.getTransitionDurationFromElement(this._element);Ae(this._element).one(K.TRANSITION_END,function(){f.setTransitioning(!1),Ae(f._element).removeClass("collapsing").addClass("collapse").trigger(ri.HIDDEN)}).emulateTransitionEnd(U)}}},w.setTransitioning=function(f){this._isTransitioning=f},w.dispose=function(){Ae.removeData(this._element,Ln),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},w._getConfig=function(f){return(f=ge({},ui,f)).toggle=Boolean(f.toggle),K.typeCheckConfig(qt,f,Ii),f},w._getDimension=function(){return Ae(this._element).hasClass("width")?"width":"height"},w._getParent=function(){var p,f=this;K.isElement(this._config.parent)?(p=this._config.parent,typeof this._config.parent.jquery<"u"&&(p=this._config.parent[0])):p=document.querySelector(this._config.parent);var C=[].slice.call(p.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return Ae(C).each(function(I,N){f._addAriaAndCollapsedClass(x._getTargetFromElement(N),[N])}),p},w._addAriaAndCollapsedClass=function(f,p){var _=Ae(f).hasClass("show");p.length&&Ae(p).toggleClass("collapsed",!_).attr("aria-expanded",_)},x._getTargetFromElement=function(f){var p=K.getSelectorFromElement(f);return p?document.querySelector(p):null},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this),_=p.data(Ln),C=ge({},ui,p.data(),"object"==typeof f&&f?f:{});if(!_&&C.toggle&&/show|hide/.test(f)&&(C.toggle=!1),_||(_=new x(this,C),p.data(Ln,_)),"string"==typeof f){if(typeof _[f]>"u")throw new TypeError('No method named "'+f+'"');_[f]()}})},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ui}}]),x}();Ae(document).on(ri.CLICK_DATA_API,Tn.DATA_TOGGLE,function(x){"A"===x.currentTarget.tagName&&x.preventDefault();var w=Ae(this),v=K.getSelectorFromElement(this),f=[].slice.call(document.querySelectorAll(v));Ae(f).each(function(){var p=Ae(this),C=p.data(Ln)?"toggle":w.data();jn._jQueryInterface.call(p,C)})}),Ae.fn[qt]=jn._jQueryInterface,Ae.fn[qt].Constructor=jn,Ae.fn[qt].noConflict=function(){return Ae.fn[qt]=Wn,jn._jQueryInterface};var Pn="dropdown",qn="bs.dropdown",$n="."+qn,ai=".data-api",di=Ae.fn[Pn],Ui=new RegExp("38|40|27"),Vi={HIDE:"hide"+$n,HIDDEN:"hidden"+$n,SHOW:"show"+$n,SHOWN:"shown"+$n,CLICK:"click"+$n,CLICK_DATA_API:"click"+$n+ai,KEYDOWN_DATA_API:"keydown"+$n+ai,KEYUP_DATA_API:"keyup"+$n+ai},pr_DATA_TOGGLE='[data-toggle="dropdown"]',pr_MENU=".dropdown-menu",wr={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},io={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Qt=function(){function x(v,f){this._element=v,this._popper=null,this._config=this._getConfig(f),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var w=x.prototype;return w.toggle=function(){if(!this._element.disabled&&!Ae(this._element).hasClass("disabled")){var f=x._getParentFromElement(this._element),p=Ae(this._menu).hasClass("show");if(x._clearMenus(),!p){var _={relatedTarget:this._element},C=Ae.Event(Vi.SHOW,_);if(Ae(f).trigger(C),!C.isDefaultPrevented()){if(!this._inNavbar){if(typeof Sn>"u")throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var I=this._element;"parent"===this._config.reference?I=f:K.isElement(this._config.reference)&&(I=this._config.reference,typeof this._config.reference.jquery<"u"&&(I=this._config.reference[0])),"scrollParent"!==this._config.boundary&&Ae(f).addClass("position-static"),this._popper=new Sn(I,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===Ae(f).closest(".navbar-nav").length&&Ae(document.body).children().on("mouseover",null,Ae.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),Ae(this._menu).toggleClass("show"),Ae(f).toggleClass("show").trigger(Ae.Event(Vi.SHOWN,_))}}}},w.show=function(){if(!(this._element.disabled||Ae(this._element).hasClass("disabled")||Ae(this._menu).hasClass("show"))){var f={relatedTarget:this._element},p=Ae.Event(Vi.SHOW,f),_=x._getParentFromElement(this._element);Ae(_).trigger(p),!p.isDefaultPrevented()&&(Ae(this._menu).toggleClass("show"),Ae(_).toggleClass("show").trigger(Ae.Event(Vi.SHOWN,f)))}},w.hide=function(){if(!this._element.disabled&&!Ae(this._element).hasClass("disabled")&&Ae(this._menu).hasClass("show")){var f={relatedTarget:this._element},p=Ae.Event(Vi.HIDE,f),_=x._getParentFromElement(this._element);Ae(_).trigger(p),!p.isDefaultPrevented()&&(Ae(this._menu).toggleClass("show"),Ae(_).toggleClass("show").trigger(Ae.Event(Vi.HIDDEN,f)))}},w.dispose=function(){Ae.removeData(this._element,qn),Ae(this._element).off($n),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},w.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},w._addEventListeners=function(){var f=this;Ae(this._element).on(Vi.CLICK,function(p){p.preventDefault(),p.stopPropagation(),f.toggle()})},w._getConfig=function(f){return f=ge({},this.constructor.Default,Ae(this._element).data(),f),K.typeCheckConfig(Pn,f,this.constructor.DefaultType),f},w._getMenuElement=function(){if(!this._menu){var f=x._getParentFromElement(this._element);f&&(this._menu=f.querySelector(pr_MENU))}return this._menu},w._getPlacement=function(){var f=Ae(this._element.parentNode),p="bottom-start";return f.hasClass("dropup")?(p="top-start",Ae(this._menu).hasClass("dropdown-menu-right")&&(p="top-end")):f.hasClass("dropright")?p="right-start":f.hasClass("dropleft")?p="left-start":Ae(this._menu).hasClass("dropdown-menu-right")&&(p="bottom-end"),p},w._detectNavbar=function(){return Ae(this._element).closest(".navbar").length>0},w._getOffset=function(){var f=this,p={};return"function"==typeof this._config.offset?p.fn=function(_){return _.offsets=ge({},_.offsets,f._config.offset(_.offsets,f._element)||{}),_}:p.offset=this._config.offset,p},w._getPopperConfig=function(){var f={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(f.modifiers.applyStyle={enabled:!1}),f},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this).data(qn);if(p||(p=new x(this,"object"==typeof f?f:null),Ae(this).data(qn,p)),"string"==typeof f){if(typeof p[f]>"u")throw new TypeError('No method named "'+f+'"');p[f]()}})},x._clearMenus=function(f){if(!f||3!==f.which&&("keyup"!==f.type||9===f.which))for(var p=[].slice.call(document.querySelectorAll(pr_DATA_TOGGLE)),_=0,C=p.length;_<C;_++){var I=x._getParentFromElement(p[_]),N=Ae(p[_]).data(qn),z={relatedTarget:p[_]};if(f&&"click"===f.type&&(z.clickEvent=f),N){var V=N._menu;if(Ae(I).hasClass("show")&&!(f&&("click"===f.type&&/input|textarea/i.test(f.target.tagName)||"keyup"===f.type&&9===f.which)&&Ae.contains(I,f.target))){var Y=Ae.Event(Vi.HIDE,z);Ae(I).trigger(Y),!Y.isDefaultPrevented()&&("ontouchstart"in document.documentElement&&Ae(document.body).children().off("mouseover",null,Ae.noop),p[_].setAttribute("aria-expanded","false"),Ae(V).removeClass("show"),Ae(I).removeClass("show").trigger(Ae.Event(Vi.HIDDEN,z)))}}}},x._getParentFromElement=function(f){var p,_=K.getSelectorFromElement(f);return _&&(p=document.querySelector(_)),p||f.parentNode},x._dataApiKeydownHandler=function(f){if(!(/input|textarea/i.test(f.target.tagName)?32===f.which||27!==f.which&&(40!==f.which&&38!==f.which||Ae(f.target).closest(pr_MENU).length):!Ui.test(f.which))&&(f.preventDefault(),f.stopPropagation(),!this.disabled&&!Ae(this).hasClass("disabled"))){var p=x._getParentFromElement(this),_=Ae(p).hasClass("show");if(!_||_&&(27===f.which||32===f.which)){if(27===f.which){var C=p.querySelector(pr_DATA_TOGGLE);Ae(C).trigger("focus")}return void Ae(this).trigger("click")}var I=[].slice.call(p.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"));if(0!==I.length){var N=I.indexOf(f.target);38===f.which&&N>0&&N--,40===f.which&&N<I.length-1&&N++,N<0&&(N=0),I[N].focus()}}},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return wr}},{key:"DefaultType",get:function(){return io}}]),x}();Ae(document).on(Vi.KEYDOWN_DATA_API,pr_DATA_TOGGLE,Qt._dataApiKeydownHandler).on(Vi.KEYDOWN_DATA_API,pr_MENU,Qt._dataApiKeydownHandler).on(Vi.CLICK_DATA_API+" "+Vi.KEYUP_DATA_API,Qt._clearMenus).on(Vi.CLICK_DATA_API,pr_DATA_TOGGLE,function(x){x.preventDefault(),x.stopPropagation(),Qt._jQueryInterface.call(Ae(this),"toggle")}).on(Vi.CLICK_DATA_API,".dropdown form",function(x){x.stopPropagation()}),Ae.fn[Pn]=Qt._jQueryInterface,Ae.fn[Pn].Constructor=Qt,Ae.fn[Pn].noConflict=function(){return Ae.fn[Pn]=di,Qt._jQueryInterface};var hn="modal",Bn="bs.modal",Qn="."+Bn,wi=Ae.fn[hn],hi={backdrop:!0,keyboard:!0,focus:!0,show:!0},Ci={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},gi={HIDE:"hide"+Qn,HIDDEN:"hidden"+Qn,SHOW:"show"+Qn,SHOWN:"shown"+Qn,FOCUSIN:"focusin"+Qn,RESIZE:"resize"+Qn,CLICK_DISMISS:"click.dismiss"+Qn,KEYDOWN_DISMISS:"keydown.dismiss"+Qn,MOUSEUP_DISMISS:"mouseup.dismiss"+Qn,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Qn,CLICK_DATA_API:"click"+Qn+".data-api"},Li={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},Ki=function(){function x(v,f){this._config=this._getConfig(f),this._element=v,this._dialog=v.querySelector(Li.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var w=x.prototype;return w.toggle=function(f){return this._isShown?this.hide():this.show(f)},w.show=function(f){var p=this;if(!this._isShown&&!this._isTransitioning){Ae(this._element).hasClass("fade")&&(this._isTransitioning=!0);var _=Ae.Event(gi.SHOW,{relatedTarget:f});Ae(this._element).trigger(_),!this._isShown&&!_.isDefaultPrevented()&&(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Ae(this._element).on(gi.CLICK_DISMISS,Li.DATA_DISMISS,function(C){return p.hide(C)}),Ae(this._dialog).on(gi.MOUSEDOWN_DISMISS,function(){Ae(p._element).one(gi.MOUSEUP_DISMISS,function(C){Ae(C.target).is(p._element)&&(p._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return p._showElement(f)}))}},w.hide=function(f){var p=this;if(f&&f.preventDefault(),this._isShown&&!this._isTransitioning){var _=Ae.Event(gi.HIDE);if(Ae(this._element).trigger(_),this._isShown&&!_.isDefaultPrevented()){this._isShown=!1;var C=Ae(this._element).hasClass("fade");if(C&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),Ae(document).off(gi.FOCUSIN),Ae(this._element).removeClass("show"),Ae(this._element).off(gi.CLICK_DISMISS),Ae(this._dialog).off(gi.MOUSEDOWN_DISMISS),C){var I=K.getTransitionDurationFromElement(this._element);Ae(this._element).one(K.TRANSITION_END,function(N){return p._hideModal(N)}).emulateTransitionEnd(I)}else this._hideModal()}}},w.dispose=function(){[window,this._element,this._dialog].forEach(function(f){return Ae(f).off(Qn)}),Ae(document).off(gi.FOCUSIN),Ae.removeData(this._element,Bn),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},w.handleUpdate=function(){this._adjustDialog()},w._getConfig=function(f){return f=ge({},hi,f),K.typeCheckConfig(hn,f,Ci),f},w._showElement=function(f){var p=this,_=Ae(this._element).hasClass("fade");(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),Ae(this._dialog).hasClass("modal-dialog-scrollable")?this._dialog.querySelector(Li.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,_&&K.reflow(this._element),Ae(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var C=Ae.Event(gi.SHOWN,{relatedTarget:f}),I=function(){p._config.focus&&p._element.focus(),p._isTransitioning=!1,Ae(p._element).trigger(C)};if(_){var N=K.getTransitionDurationFromElement(this._dialog);Ae(this._dialog).one(K.TRANSITION_END,I).emulateTransitionEnd(N)}else I()},w._enforceFocus=function(){var f=this;Ae(document).off(gi.FOCUSIN).on(gi.FOCUSIN,function(p){document!==p.target&&f._element!==p.target&&0===Ae(f._element).has(p.target).length&&f._element.focus()})},w._setEscapeEvent=function(){var f=this;this._isShown&&this._config.keyboard?Ae(this._element).on(gi.KEYDOWN_DISMISS,function(p){27===p.which&&(p.preventDefault(),f.hide())}):this._isShown||Ae(this._element).off(gi.KEYDOWN_DISMISS)},w._setResizeEvent=function(){var f=this;this._isShown?Ae(window).on(gi.RESIZE,function(p){return f.handleUpdate(p)}):Ae(window).off(gi.RESIZE)},w._hideModal=function(){var f=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){Ae(document.body).removeClass("modal-open"),f._resetAdjustments(),f._resetScrollbar(),Ae(f._element).trigger(gi.HIDDEN)})},w._removeBackdrop=function(){this._backdrop&&(Ae(this._backdrop).remove(),this._backdrop=null)},w._showBackdrop=function(f){var p=this,_=Ae(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",_&&this._backdrop.classList.add(_),Ae(this._backdrop).appendTo(document.body),Ae(this._element).on(gi.CLICK_DISMISS,function(z){p._ignoreBackdropClick?p._ignoreBackdropClick=!1:z.target===z.currentTarget&&("static"===p._config.backdrop?p._element.focus():p.hide())}),_&&K.reflow(this._backdrop),Ae(this._backdrop).addClass("show"),!f)return;if(!_)return void f();var C=K.getTransitionDurationFromElement(this._backdrop);Ae(this._backdrop).one(K.TRANSITION_END,f).emulateTransitionEnd(C)}else if(!this._isShown&&this._backdrop){Ae(this._backdrop).removeClass("show");var I=function(){p._removeBackdrop(),f&&f()};if(Ae(this._element).hasClass("fade")){var N=K.getTransitionDurationFromElement(this._backdrop);Ae(this._backdrop).one(K.TRANSITION_END,I).emulateTransitionEnd(N)}else I()}else f&&f()},w._adjustDialog=function(){var f=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&f&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!f&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},w._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},w._checkScrollbar=function(){var f=document.body.getBoundingClientRect();this._isBodyOverflowing=f.left+f.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},w._setScrollbar=function(){var f=this;if(this._isBodyOverflowing){var p=[].slice.call(document.querySelectorAll(Li.FIXED_CONTENT)),_=[].slice.call(document.querySelectorAll(Li.STICKY_CONTENT));Ae(p).each(function(N,z){var V=z.style.paddingRight,Y=Ae(z).css("padding-right");Ae(z).data("padding-right",V).css("padding-right",parseFloat(Y)+f._scrollbarWidth+"px")}),Ae(_).each(function(N,z){var V=z.style.marginRight,Y=Ae(z).css("margin-right");Ae(z).data("margin-right",V).css("margin-right",parseFloat(Y)-f._scrollbarWidth+"px")});var C=document.body.style.paddingRight,I=Ae(document.body).css("padding-right");Ae(document.body).data("padding-right",C).css("padding-right",parseFloat(I)+this._scrollbarWidth+"px")}Ae(document.body).addClass("modal-open")},w._resetScrollbar=function(){var f=[].slice.call(document.querySelectorAll(Li.FIXED_CONTENT));Ae(f).each(function(C,I){var N=Ae(I).data("padding-right");Ae(I).removeData("padding-right"),I.style.paddingRight=N||""});var p=[].slice.call(document.querySelectorAll(""+Li.STICKY_CONTENT));Ae(p).each(function(C,I){var N=Ae(I).data("margin-right");typeof N<"u"&&Ae(I).css("margin-right",N).removeData("margin-right")});var _=Ae(document.body).data("padding-right");Ae(document.body).removeData("padding-right"),document.body.style.paddingRight=_||""},w._getScrollbarWidth=function(){var f=document.createElement("div");f.className="modal-scrollbar-measure",document.body.appendChild(f);var p=f.getBoundingClientRect().width-f.clientWidth;return document.body.removeChild(f),p},x._jQueryInterface=function(f,p){return this.each(function(){var _=Ae(this).data(Bn),C=ge({},hi,Ae(this).data(),"object"==typeof f&&f?f:{});if(_||(_=new x(this,C),Ae(this).data(Bn,_)),"string"==typeof f){if(typeof _[f]>"u")throw new TypeError('No method named "'+f+'"');_[f](p)}else C.show&&_.show(p)})},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return hi}}]),x}();Ae(document).on(gi.CLICK_DATA_API,Li.DATA_TOGGLE,function(x){var v,w=this,f=K.getSelectorFromElement(this);f&&(v=document.querySelector(f));var p=Ae(v).data(Bn)?"toggle":ge({},Ae(v).data(),Ae(this).data());("A"===this.tagName||"AREA"===this.tagName)&&x.preventDefault();var _=Ae(v).one(gi.SHOW,function(C){C.isDefaultPrevented()||_.one(gi.HIDDEN,function(){Ae(w).is(":visible")&&w.focus()})});Ki._jQueryInterface.call(Ae(v),p,this)}),Ae.fn[hn]=Ki._jQueryInterface,Ae.fn[hn].Constructor=Ki,Ae.fn[hn].noConflict=function(){return Ae.fn[hn]=wi,Ki._jQueryInterface};var ar=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ur=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function ro(x,w,v){if(0===x.length)return x;if(v&&"function"==typeof v)return v(x);for(var p=(new window.DOMParser).parseFromString(x,"text/html"),_=Object.keys(w),C=[].slice.call(p.body.querySelectorAll("*")),I=function(U,ne){var X=C[U],le=X.nodeName.toLowerCase();if(-1===_.indexOf(X.nodeName.toLowerCase()))return X.parentNode.removeChild(X),"continue";var G=[].slice.call(X.attributes),W=[].concat(w["*"]||[],w[le]||[]);G.forEach(function(F){(function Xr(x,w){var v=x.nodeName.toLowerCase();if(-1!==w.indexOf(v))return-1===ar.indexOf(v)||Boolean(x.nodeValue.match(Ur)||x.nodeValue.match(zi));for(var f=w.filter(function(C){return C instanceof RegExp}),p=0,_=f.length;p<_;p++)if(v.match(f[p]))return!0;return!1})(F,W)||X.removeAttribute(F.nodeName)})},N=0,z=C.length;N<z;N++)I(N);return p.body.innerHTML}var oo="tooltip",Ho="bs.tooltip",Er="."+Ho,ra=Ae.fn[oo],vo="bs-tooltip",Dr=new RegExp("(^|\\s)"+vo+"\\S+","g"),yr=["sanitize","whiteList","sanitizeFn"],Hr={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},hr={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Ji={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},Co={HIDE:"hide"+Er,HIDDEN:"hidden"+Er,SHOW:"show"+Er,SHOWN:"shown"+Er,INSERTED:"inserted"+Er,CLICK:"click"+Er,FOCUSIN:"focusin"+Er,FOCUSOUT:"focusout"+Er,MOUSEENTER:"mouseenter"+Er,MOUSELEAVE:"mouseleave"+Er},Vr=function(){function x(v,f){if(typeof Sn>"u")throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=v,this.config=this._getConfig(f),this.tip=null,this._setListeners()}var w=x.prototype;return w.enable=function(){this._isEnabled=!0},w.disable=function(){this._isEnabled=!1},w.toggleEnabled=function(){this._isEnabled=!this._isEnabled},w.toggle=function(f){if(this._isEnabled)if(f){var p=this.constructor.DATA_KEY,_=Ae(f.currentTarget).data(p);_||(_=new this.constructor(f.currentTarget,this._getDelegateConfig()),Ae(f.currentTarget).data(p,_)),_._activeTrigger.click=!_._activeTrigger.click,_._isWithActiveTrigger()?_._enter(null,_):_._leave(null,_)}else{if(Ae(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},w.dispose=function(){clearTimeout(this._timeout),Ae.removeData(this.element,this.constructor.DATA_KEY),Ae(this.element).off(this.constructor.EVENT_KEY),Ae(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&Ae(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},w.show=function(){var f=this;if("none"===Ae(this.element).css("display"))throw new Error("Please use show on visible elements");var p=Ae.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){Ae(this.element).trigger(p);var _=K.findShadowRoot(this.element),C=Ae.contains(null!==_?_:this.element.ownerDocument.documentElement,this.element);if(p.isDefaultPrevented()||!C)return;var I=this.getTipElement(),N=K.getUID(this.constructor.NAME);I.setAttribute("id",N),this.element.setAttribute("aria-describedby",N),this.setContent(),this.config.animation&&Ae(I).addClass("fade");var z="function"==typeof this.config.placement?this.config.placement.call(this,I,this.element):this.config.placement,V=this._getAttachment(z);this.addAttachmentClass(V);var Y=this._getContainer();Ae(I).data(this.constructor.DATA_KEY,this),Ae.contains(this.element.ownerDocument.documentElement,this.tip)||Ae(I).appendTo(Y),Ae(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Sn(this.element,I,{placement:V,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(le){le.originalPlacement!==le.placement&&f._handlePopperPlacementChange(le)},onUpdate:function(le){return f._handlePopperPlacementChange(le)}}),Ae(I).addClass("show"),"ontouchstart"in document.documentElement&&Ae(document.body).children().on("mouseover",null,Ae.noop);var U=function(){f.config.animation&&f._fixTransition();var le=f._hoverState;f._hoverState=null,Ae(f.element).trigger(f.constructor.Event.SHOWN),"out"===le&&f._leave(null,f)};if(Ae(this.tip).hasClass("fade")){var ne=K.getTransitionDurationFromElement(this.tip);Ae(this.tip).one(K.TRANSITION_END,U).emulateTransitionEnd(ne)}else U()}},w.hide=function(f){var p=this,_=this.getTipElement(),C=Ae.Event(this.constructor.Event.HIDE),I=function(){"show"!==p._hoverState&&_.parentNode&&_.parentNode.removeChild(_),p._cleanTipClass(),p.element.removeAttribute("aria-describedby"),Ae(p.element).trigger(p.constructor.Event.HIDDEN),null!==p._popper&&p._popper.destroy(),f&&f()};if(Ae(this.element).trigger(C),!C.isDefaultPrevented()){if(Ae(_).removeClass("show"),"ontouchstart"in document.documentElement&&Ae(document.body).children().off("mouseover",null,Ae.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,Ae(this.tip).hasClass("fade")){var N=K.getTransitionDurationFromElement(_);Ae(_).one(K.TRANSITION_END,I).emulateTransitionEnd(N)}else I();this._hoverState=""}},w.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},w.isWithContent=function(){return Boolean(this.getTitle())},w.addAttachmentClass=function(f){Ae(this.getTipElement()).addClass(vo+"-"+f)},w.getTipElement=function(){return this.tip=this.tip||Ae(this.config.template)[0],this.tip},w.setContent=function(){var f=this.getTipElement();this.setElementContent(Ae(f.querySelectorAll(".tooltip-inner")),this.getTitle()),Ae(f).removeClass("fade show")},w.setElementContent=function(f,p){"object"!=typeof p||!p.nodeType&&!p.jquery?this.config.html?(this.config.sanitize&&(p=ro(p,this.config.whiteList,this.config.sanitizeFn)),f.html(p)):f.text(p):this.config.html?Ae(p).parent().is(f)||f.empty().append(p):f.text(Ae(p).text())},w.getTitle=function(){var f=this.element.getAttribute("data-original-title");return f||(f="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),f},w._getOffset=function(){var f=this,p={};return"function"==typeof this.config.offset?p.fn=function(_){return _.offsets=ge({},_.offsets,f.config.offset(_.offsets,f.element)||{}),_}:p.offset=this.config.offset,p},w._getContainer=function(){return!1===this.config.container?document.body:K.isElement(this.config.container)?Ae(this.config.container):Ae(document).find(this.config.container)},w._getAttachment=function(f){return hr[f.toUpperCase()]},w._setListeners=function(){var f=this;this.config.trigger.split(" ").forEach(function(_){if("click"===_)Ae(f.element).on(f.constructor.Event.CLICK,f.config.selector,function(N){return f.toggle(N)});else if("manual"!==_){var C="hover"===_?f.constructor.Event.MOUSEENTER:f.constructor.Event.FOCUSIN,I="hover"===_?f.constructor.Event.MOUSELEAVE:f.constructor.Event.FOCUSOUT;Ae(f.element).on(C,f.config.selector,function(N){return f._enter(N)}).on(I,f.config.selector,function(N){return f._leave(N)})}}),Ae(this.element).closest(".modal").on("hide.bs.modal",function(){f.element&&f.hide()}),this.config.selector?this.config=ge({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},w._fixTitle=function(){var f=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==f)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},w._enter=function(f,p){var _=this.constructor.DATA_KEY;(p=p||Ae(f.currentTarget).data(_))||(p=new this.constructor(f.currentTarget,this._getDelegateConfig()),Ae(f.currentTarget).data(_,p)),f&&(p._activeTrigger["focusin"===f.type?"focus":"hover"]=!0),Ae(p.getTipElement()).hasClass("show")||"show"===p._hoverState?p._hoverState="show":(clearTimeout(p._timeout),p._hoverState="show",p.config.delay&&p.config.delay.show?p._timeout=setTimeout(function(){"show"===p._hoverState&&p.show()},p.config.delay.show):p.show())},w._leave=function(f,p){var _=this.constructor.DATA_KEY;if((p=p||Ae(f.currentTarget).data(_))||(p=new this.constructor(f.currentTarget,this._getDelegateConfig()),Ae(f.currentTarget).data(_,p)),f&&(p._activeTrigger["focusout"===f.type?"focus":"hover"]=!1),!p._isWithActiveTrigger()){if(clearTimeout(p._timeout),p._hoverState="out",!p.config.delay||!p.config.delay.hide)return void p.hide();p._timeout=setTimeout(function(){"out"===p._hoverState&&p.hide()},p.config.delay.hide)}},w._isWithActiveTrigger=function(){for(var f in this._activeTrigger)if(this._activeTrigger[f])return!0;return!1},w._getConfig=function(f){var p=Ae(this.element).data();return Object.keys(p).forEach(function(_){-1!==yr.indexOf(_)&&delete p[_]}),"number"==typeof(f=ge({},this.constructor.Default,p,"object"==typeof f&&f?f:{})).delay&&(f.delay={show:f.delay,hide:f.delay}),"number"==typeof f.title&&(f.title=f.title.toString()),"number"==typeof f.content&&(f.content=f.content.toString()),K.typeCheckConfig(oo,f,this.constructor.DefaultType),f.sanitize&&(f.template=ro(f.template,f.whiteList,f.sanitizeFn)),f},w._getDelegateConfig=function(){var f={};if(this.config)for(var p in this.config)this.constructor.Default[p]!==this.config[p]&&(f[p]=this.config[p]);return f},w._cleanTipClass=function(){var f=Ae(this.getTipElement()),p=f.attr("class").match(Dr);null!==p&&p.length&&f.removeClass(p.join(""))},w._handlePopperPlacementChange=function(f){this.tip=f.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(f.placement))},w._fixTransition=function(){var f=this.getTipElement(),p=this.config.animation;null===f.getAttribute("x-placement")&&(Ae(f).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=p)},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this).data(Ho),_="object"==typeof f&&f;if((p||!/dispose|hide/.test(f))&&(p||(p=new x(this,_),Ae(this).data(Ho,p)),"string"==typeof f)){if(typeof p[f]>"u")throw new TypeError('No method named "'+f+'"');p[f]()}})},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ji}},{key:"NAME",get:function(){return oo}},{key:"DATA_KEY",get:function(){return Ho}},{key:"Event",get:function(){return Co}},{key:"EVENT_KEY",get:function(){return Er}},{key:"DefaultType",get:function(){return Hr}}]),x}();Ae.fn[oo]=Vr._jQueryInterface,Ae.fn[oo].Constructor=Vr,Ae.fn[oo].noConflict=function(){return Ae.fn[oo]=ra,Vr._jQueryInterface};var $i="popover",br="bs.popover",or="."+br,To=Ae.fn[$i],Eo="bs-popover",Zr=new RegExp("(^|\\s)"+Eo+"\\S+","g"),lo=ge({},Vr.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Vo=ge({},Vr.DefaultType,{content:"(string|element|function)"}),Oi={HIDE:"hide"+or,HIDDEN:"hidden"+or,SHOW:"show"+or,SHOWN:"shown"+or,INSERTED:"inserted"+or,CLICK:"click"+or,FOCUSIN:"focusin"+or,FOCUSOUT:"focusout"+or,MOUSEENTER:"mouseenter"+or,MOUSELEAVE:"mouseleave"+or},Kr=function(x){function w(){return x.apply(this,arguments)||this}!function Q(x,w){x.prototype=Object.create(w.prototype),x.prototype.constructor=x,x.__proto__=w}(w,x);var v=w.prototype;return v.isWithContent=function(){return this.getTitle()||this._getContent()},v.addAttachmentClass=function(p){Ae(this.getTipElement()).addClass(Eo+"-"+p)},v.getTipElement=function(){return this.tip=this.tip||Ae(this.config.template)[0],this.tip},v.setContent=function(){var p=Ae(this.getTipElement());this.setElementContent(p.find(".popover-header"),this.getTitle());var _=this._getContent();"function"==typeof _&&(_=_.call(this.element)),this.setElementContent(p.find(".popover-body"),_),p.removeClass("fade show")},v._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},v._cleanTipClass=function(){var p=Ae(this.getTipElement()),_=p.attr("class").match(Zr);null!==_&&_.length>0&&p.removeClass(_.join(""))},w._jQueryInterface=function(p){return this.each(function(){var _=Ae(this).data(br),C="object"==typeof p?p:null;if((_||!/dispose|hide/.test(p))&&(_||(_=new w(this,C),Ae(this).data(br,_)),"string"==typeof p)){if(typeof _[p]>"u")throw new TypeError('No method named "'+p+'"');_[p]()}})},at(w,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return lo}},{key:"NAME",get:function(){return $i}},{key:"DATA_KEY",get:function(){return br}},{key:"Event",get:function(){return Oi}},{key:"EVENT_KEY",get:function(){return or}},{key:"DefaultType",get:function(){return Vo}}]),w}(Vr);Ae.fn[$i]=Kr._jQueryInterface,Ae.fn[$i].Constructor=Kr,Ae.fn[$i].noConflict=function(){return Ae.fn[$i]=To,Kr._jQueryInterface};var uo="scrollspy",qr="bs.scrollspy",co="."+qr,oa=Ae.fn[uo],Lr={offset:10,method:"auto",target:""},Wr={offset:"number",method:"string",target:"(string|element)"},Do={ACTIVATE:"activate"+co,SCROLL:"scroll"+co,LOAD_DATA_API:"load"+co+".data-api"},Ar={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},mr=function(){function x(v,f){var p=this;this._element=v,this._scrollElement="BODY"===v.tagName?window:v,this._config=this._getConfig(f),this._selector=this._config.target+" "+Ar.NAV_LINKS+","+this._config.target+" "+Ar.LIST_ITEMS+","+this._config.target+" "+Ar.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Ae(this._scrollElement).on(Do.SCROLL,function(_){return p._process(_)}),this.refresh(),this._process()}var w=x.prototype;return w.refresh=function(){var f=this,_="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,C="position"===_?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(N){var z,V=K.getSelectorFromElement(N);if(V&&(z=document.querySelector(V)),z){var Y=z.getBoundingClientRect();if(Y.width||Y.height)return[Ae(z)[_]().top+C,V]}return null}).filter(function(N){return N}).sort(function(N,z){return N[0]-z[0]}).forEach(function(N){f._offsets.push(N[0]),f._targets.push(N[1])})},w.dispose=function(){Ae.removeData(this._element,qr),Ae(this._scrollElement).off(co),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},w._getConfig=function(f){if("string"!=typeof(f=ge({},Lr,"object"==typeof f&&f?f:{})).target){var p=Ae(f.target).attr("id");p||(p=K.getUID(uo),Ae(f.target).attr("id",p)),f.target="#"+p}return K.typeCheckConfig(uo,f,Wr),f},w._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},w._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},w._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},w._process=function(){var f=this._getScrollTop()+this._config.offset,p=this._getScrollHeight(),_=this._config.offset+p-this._getOffsetHeight();if(this._scrollHeight!==p&&this.refresh(),f>=_){var C=this._targets[this._targets.length-1];this._activeTarget!==C&&this._activate(C)}else{if(this._activeTarget&&f<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var N=this._offsets.length;N--;)this._activeTarget!==this._targets[N]&&f>=this._offsets[N]&&(typeof this._offsets[N+1]>"u"||f<this._offsets[N+1])&&this._activate(this._targets[N])}},w._activate=function(f){this._activeTarget=f,this._clear();var p=this._selector.split(",").map(function(C){return C+'[data-target="'+f+'"],'+C+'[href="'+f+'"]'}),_=Ae([].slice.call(document.querySelectorAll(p.join(","))));_.hasClass("dropdown-item")?(_.closest(Ar.DROPDOWN).find(Ar.DROPDOWN_TOGGLE).addClass("active"),_.addClass("active")):(_.addClass("active"),_.parents(Ar.NAV_LIST_GROUP).prev(Ar.NAV_LINKS+", "+Ar.LIST_ITEMS).addClass("active"),_.parents(Ar.NAV_LIST_GROUP).prev(Ar.NAV_ITEMS).children(Ar.NAV_LINKS).addClass("active")),Ae(this._scrollElement).trigger(Do.ACTIVATE,{relatedTarget:f})},w._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(f){return f.classList.contains("active")}).forEach(function(f){return f.classList.remove("active")})},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this).data(qr);if(p||(p=new x(this,"object"==typeof f&&f),Ae(this).data(qr,p)),"string"==typeof f){if(typeof p[f]>"u")throw new TypeError('No method named "'+f+'"');p[f]()}})},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Lr}}]),x}();Ae(window).on(Do.LOAD_DATA_API,function(){for(var x=[].slice.call(document.querySelectorAll(Ar.DATA_SPY)),v=x.length;v--;){var f=Ae(x[v]);mr._jQueryInterface.call(f,f.data())}}),Ae.fn[uo]=mr._jQueryInterface,Ae.fn[uo].Constructor=mr,Ae.fn[uo].noConflict=function(){return Ae.fn[uo]=oa,mr._jQueryInterface};var ho="tab",bo="bs.tab",Mr="."+bo,Yo=Ae.fn[ho],D={HIDE:"hide"+Mr,HIDDEN:"hidden"+Mr,SHOW:"show"+Mr,SHOWN:"shown"+Mr,CLICK_DATA_API:"click"+Mr+".data-api"},_e=function(){function x(v){this._element=v}var w=x.prototype;return w.show=function(){var f=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&Ae(this._element).hasClass("active")||Ae(this._element).hasClass("disabled"))){var p,_,C=Ae(this._element).closest(".nav, .list-group")[0],I=K.getSelectorFromElement(this._element);if(C){var N="UL"===C.nodeName||"OL"===C.nodeName?"> li > .active":".active";_=(_=Ae.makeArray(Ae(C).find(N)))[_.length-1]}var z=Ae.Event(D.HIDE,{relatedTarget:this._element}),V=Ae.Event(D.SHOW,{relatedTarget:_});if(_&&Ae(_).trigger(z),Ae(this._element).trigger(V),!V.isDefaultPrevented()&&!z.isDefaultPrevented()){I&&(p=document.querySelector(I)),this._activate(this._element,C);var Y=function(){var ne=Ae.Event(D.HIDDEN,{relatedTarget:f._element}),X=Ae.Event(D.SHOWN,{relatedTarget:_});Ae(_).trigger(ne),Ae(f._element).trigger(X)};p?this._activate(p,p.parentNode,Y):Y()}}},w.dispose=function(){Ae.removeData(this._element,bo),this._element=null},w._activate=function(f,p,_){var C=this,N=(!p||"UL"!==p.nodeName&&"OL"!==p.nodeName?Ae(p).children(".active"):Ae(p).find("> li > .active"))[0],z=_&&N&&Ae(N).hasClass("fade"),V=function(){return C._transitionComplete(f,N,_)};if(N&&z){var Y=K.getTransitionDurationFromElement(N);Ae(N).removeClass("show").one(K.TRANSITION_END,V).emulateTransitionEnd(Y)}else V()},w._transitionComplete=function(f,p,_){if(p){Ae(p).removeClass("active");var C=Ae(p.parentNode).find("> .dropdown-menu .active")[0];C&&Ae(C).removeClass("active"),"tab"===p.getAttribute("role")&&p.setAttribute("aria-selected",!1)}if(Ae(f).addClass("active"),"tab"===f.getAttribute("role")&&f.setAttribute("aria-selected",!0),K.reflow(f),f.classList.contains("fade")&&f.classList.add("show"),f.parentNode&&Ae(f.parentNode).hasClass("dropdown-menu")){var I=Ae(f).closest(".dropdown")[0];if(I){var N=[].slice.call(I.querySelectorAll(".dropdown-toggle"));Ae(N).addClass("active")}f.setAttribute("aria-expanded",!0)}_&&_()},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this),_=p.data(bo);if(_||(_=new x(this),p.data(bo,_)),"string"==typeof f){if(typeof _[f]>"u")throw new TypeError('No method named "'+f+'"');_[f]()}})},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),x}();Ae(document).on(D.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(x){x.preventDefault(),_e._jQueryInterface.call(Ae(this),"show")}),Ae.fn[ho]=_e._jQueryInterface,Ae.fn[ho].Constructor=_e,Ae.fn[ho].noConflict=function(){return Ae.fn[ho]=Yo,_e._jQueryInterface};var Ee="toast",He="bs.toast",Ge="."+He,ft=Ae.fn[Ee],S={CLICK_DISMISS:"click.dismiss"+Ge,HIDE:"hide"+Ge,HIDDEN:"hidden"+Ge,SHOW:"show"+Ge,SHOWN:"shown"+Ge},re={animation:"boolean",autohide:"boolean",delay:"number"},fe={animation:!0,autohide:!0,delay:500},M=function(){function x(v,f){this._element=v,this._config=this._getConfig(f),this._timeout=null,this._setListeners()}var w=x.prototype;return w.show=function(){var f=this;Ae(this._element).trigger(S.SHOW),this._config.animation&&this._element.classList.add("fade");var p=function(){f._element.classList.remove("showing"),f._element.classList.add("show"),Ae(f._element).trigger(S.SHOWN),f._config.autohide&&f.hide()};if(this._element.classList.remove("hide"),this._element.classList.add("showing"),this._config.animation){var _=K.getTransitionDurationFromElement(this._element);Ae(this._element).one(K.TRANSITION_END,p).emulateTransitionEnd(_)}else p()},w.hide=function(f){var p=this;this._element.classList.contains("show")&&(Ae(this._element).trigger(S.HIDE),f?this._close():this._timeout=setTimeout(function(){p._close()},this._config.delay))},w.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains("show")&&this._element.classList.remove("show"),Ae(this._element).off(S.CLICK_DISMISS),Ae.removeData(this._element,He),this._element=null,this._config=null},w._getConfig=function(f){return f=ge({},fe,Ae(this._element).data(),"object"==typeof f&&f?f:{}),K.typeCheckConfig(Ee,f,this.constructor.DefaultType),f},w._setListeners=function(){var f=this;Ae(this._element).on(S.CLICK_DISMISS,'[data-dismiss="toast"]',function(){return f.hide(!0)})},w._close=function(){var f=this,p=function(){f._element.classList.add("hide"),Ae(f._element).trigger(S.HIDDEN)};if(this._element.classList.remove("show"),this._config.animation){var _=K.getTransitionDurationFromElement(this._element);Ae(this._element).one(K.TRANSITION_END,p).emulateTransitionEnd(_)}else p()},x._jQueryInterface=function(f){return this.each(function(){var p=Ae(this),_=p.data(He);if(_||(_=new x(this,"object"==typeof f&&f),p.data(He,_)),"string"==typeof f){if(typeof _[f]>"u")throw new TypeError('No method named "'+f+'"');_[f](this)}})},at(x,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return re}},{key:"Default",get:function(){return fe}}]),x}();Ae.fn[Ee]=M._jQueryInterface,Ae.fn[Ee].Constructor=M,Ae.fn[Ee].noConflict=function(){return Ae.fn[Ee]=ft,M._jQueryInterface},function(){if(typeof Ae>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var x=Ae.fn.jquery.split(" ")[0].split(".");if(x[0]<2&&x[1]<9||1===x[0]&&9===x[1]&&x[2]<1||x[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),be.Util=K,be.Alert=ke,be.Button=on,be.Carousel=Jt,be.Collapse=jn,be.Dropdown=Qt,be.Modal=Ki,be.Popover=Kr,be.Scrollspy=mr,be.Tab=_e,be.Toast=M,be.Tooltip=Vr,Object.defineProperty(be,"__esModule",{value:!0})});